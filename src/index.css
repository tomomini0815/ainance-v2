@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Ainance Design System - トンマナ統一
   ============================================ */

:root {
  /* ============== カラーパレット ============== */

  /* 背景 */
  --background: #f8fafc;
  --surface: #ffffff;
  --surface-highlight: #f1f5f9;

  /* プライマリ - インディゴ (信頼感・プロフェッショナル) */
  --primary: #6366f1;
  --primary-hover: #4f46e5;
  --primary-light: #eef2ff;
  --primary-dark: #4338ca;

  /* セカンダリ - エメラルド (成長・収益) */
  --secondary: #10b981;
  --secondary-hover: #059669;
  --secondary-light: #ecfdf5;
  --secondary-dark: #047857;

  /* アクセント - アンバー (注目・アクション) */
  --accent: #f59e0b;
  --accent-hover: #d97706;
  --accent-light: #fffbeb;
  --accent-dark: #b45309;

  /* テキスト */
  --text-main: #0f172a;
  --text-secondary: #475569;
  --text-muted: #94a3b8;
  --text-disabled: #cbd5e1;

  /* ボーダー */
  --border: #e2e8f0;
  --border-strong: #cbd5e1;

  /* ステータスカラー */
  --success: #22c55e;
  --success-light: #f0fdf4;
  --success-dark: #16a34a;

  --warning: #f59e0b;
  --warning-light: #fffbeb;
  --warning-dark: #d97706;

  --error: #ef4444;
  --error-light: #fef2f2;
  --error-dark: #dc2626;

  --info: #3b82f6;
  --info-light: #eff6ff;
  --info-dark: #2563eb;

  /* シャドウ */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

  /* グロー効果 */
  --glow-primary: 0 0 20px rgba(99, 102, 241, 0.3);
  --glow-success: 0 0 20px rgba(34, 197, 94, 0.3);
  --glow-error: 0 0 20px rgba(239, 68, 68, 0.3);

  /* 角丸 */
  --radius-sm: 0.375rem;
  --radius: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;

  /* トランジション */
  --transition-fast: 150ms ease;
  --transition: 200ms ease;
  --transition-slow: 300ms ease;
}

/* ============== ダークモード ============== */
.dark {
  --background: #0f172a;
  --surface: #1e293b;
  --surface-highlight: #334155;

  --primary: #818cf8;
  --primary-hover: #6366f1;
  --primary-light: #312e81;
  --primary-dark: #a5b4fc;

  --secondary: #34d399;
  --secondary-hover: #10b981;
  --secondary-light: #064e3b;
  --secondary-dark: #6ee7b7;

  --accent: #fbbf24;
  --accent-hover: #f59e0b;
  --accent-light: #78350f;
  --accent-dark: #fcd34d;

  --text-main: #f1f5f9;
  --text-secondary: #cbd5e1;
  --text-muted: #64748b;
  --text-disabled: #475569;

  --border: #334155;
  --border-strong: #475569;

  --success: #4ade80;
  --success-light: #14532d;
  --success-dark: #86efac;

  --warning: #fbbf24;
  --warning-light: #713f12;
  --warning-dark: #fcd34d;

  --error: #f87171;
  --error-light: #7f1d1d;
  --error-dark: #fca5a5;

  --info: #60a5fa;
  --info-light: #1e3a5f;
  --info-dark: #93c5fd;

  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.4);

  color-scheme: dark;
}

/* ============== ベーススタイル ============== */
html {
  font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background-color: var(--background);
  color: var(--text-main);
  /* モバイル端末のノッチ対応 */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* ============== ボタンスタイル ============== */
.btn {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-sm {
  @apply px-3 py-1.5 text-sm;
}

.btn-md {
  @apply px-4 py-2 text-sm;
}

.btn-lg {
  @apply px-6 py-3 text-base;
}

.btn-primary {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg bg-primary text-white hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 active:scale-[0.98];
}

.btn-secondary {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg bg-secondary text-white hover:bg-secondary-hover focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 active:scale-[0.98];
}

.btn-accent {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg bg-accent text-white hover:bg-accent-hover focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 active:scale-[0.98];
}

.btn-outline {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg border-2 border-primary text-primary bg-transparent hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 active:scale-[0.98];
}

.btn-ghost {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg text-text-secondary bg-surface-highlight hover:bg-border focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 active:scale-[0.98];
}

.btn-danger {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg bg-error text-white hover:bg-error-dark focus:outline-none focus:ring-2 focus:ring-error focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 active:scale-[0.98];
}

.btn-success {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium rounded-lg bg-success text-white hover:bg-success-dark focus:outline-none focus:ring-2 focus:ring-success focus:ring-offset-2 shadow-sm hover:shadow-md transition-all duration-200 active:scale-[0.98];
}

/* ============== インプットスタイル ============== */
.input-base {
  @apply w-full px-4 py-2.5 bg-surface border border-border rounded-lg text-text-main placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all;
}

.input-error {
  @apply border-error focus:ring-error;
}

.input-success {
  @apply border-success focus:ring-success;
}

/* ============== カードスタイル ============== */
.card {
  @apply bg-surface rounded-xl border border-border shadow-sm transition-all duration-200;
}

.card-hover {
  @apply hover:shadow-md hover:-translate-y-0.5;
}

.card-interactive {
  @apply cursor-pointer hover:shadow-md hover:-translate-y-1;
}

.card-metric {
  @apply p-5 border-l-4;
}

.card-metric-primary {
  @apply border-l-primary bg-primary-light;
}

.card-metric-success {
  @apply border-l-success bg-success-light;
}

.card-metric-error {
  @apply border-l-error bg-error-light;
}

.card-metric-warning {
  @apply border-l-warning bg-warning-light;
}

/* ============== バッジスタイル ============== */
.badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.badge-primary {
  @apply bg-primary-light text-primary;
}

.badge-success {
  @apply bg-success-light text-success;
}

.badge-warning {
  @apply bg-warning-light text-warning;
}

.badge-error {
  @apply bg-error-light text-error;
}

.badge-info {
  @apply bg-info-light text-info;
}

/* ============== ステータスドット ============== */
.status-dot {
  @apply w-2 h-2 rounded-full;
}

.status-dot-success {
  @apply bg-success animate-pulse;
}

.status-dot-warning {
  @apply bg-warning animate-pulse;
}

.status-dot-error {
  @apply bg-error animate-pulse;
}

/* ============== テーブルスタイル ============== */
.table-container {
  @apply overflow-x-auto rounded-lg border border-border;
}

.table {
  @apply w-full;
}

.table th {
  @apply px-4 py-3 text-left text-xs font-semibold text-text-muted uppercase tracking-wider bg-surface-highlight;
}

.table td {
  @apply px-4 py-3 text-sm text-text-main border-t border-border;
}

.table tbody tr {
  @apply hover:bg-surface-highlight transition-colors;
}

/* ============== モーダルスタイル ============== */
.modal-overlay {
  @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4;
}

.modal-content {
  @apply bg-surface rounded-xl shadow-xl w-full max-w-md animate-modal-in;
}

@keyframes modal-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.animate-modal-in {
  animation: modal-in 0.2s ease-out;
}

/* ============== セクションスタイル ============== */
.section-title {
  @apply text-lg font-semibold text-text-main mb-4;
}

.section-subtitle {
  @apply text-sm text-text-muted mb-6;
}

/* ============== ページヘッダー ============== */
.page-header {
  @apply flex items-center justify-between mb-6;
}

.page-title {
  @apply text-2xl font-bold text-text-main;
}

/* ============== メトリクスカード ============== */
.metric-card {
  @apply flex items-center gap-4 p-5 rounded-xl border transition-all duration-200;
}

.metric-icon {
  @apply p-3 rounded-xl;
}

.metric-value {
  @apply text-2xl font-bold text-text-main;
}

.metric-label {
  @apply text-sm text-text-muted;
}

.metric-change {
  @apply text-xs font-medium flex items-center gap-1 mt-1;
}

.metric-change-positive {
  @apply text-success;
}

.metric-change-negative {
  @apply text-error;
}

/* ============== 区切り線 ============== */
.divider {
  @apply border-t border-border my-4;
}

.divider-vertical {
  @apply border-l border-border mx-4 h-full;
}

/* ============== グロー効果 ============== */
.glow-primary {
  box-shadow: var(--glow-primary);
}

.glow-success {
  box-shadow: var(--glow-success);
}

/* ============== グラデーション ============== */
.gradient-primary {
  @apply bg-gradient-to-r from-primary to-secondary;
}

.gradient-text {
  @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
}

/* ============== スケルトンローダー ============== */
.skeleton {
  @apply bg-surface-highlight rounded animate-pulse;
}

/* ============== 自動入力スタイル修正 ============== */
.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover,
.dark input:-webkit-autofill:focus,
.dark input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px var(--surface) inset !important;
  -webkit-text-fill-color: var(--text-main) !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* ============== スクロールバー ============== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--surface-highlight);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--border-strong);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* ============== セレクション ============== */
::selection {
  background: var(--primary);
  color: white;
}

/* ============== フォーカスリング ============== */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

/* ============== トランジション ============== */
.transition-base {
  transition: all var(--transition);
}

.transition-fast {
  transition: all var(--transition-fast);
}

/* ============== レスポンシブコンテナ ============== */
.container-app {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* ============== グラスモーフィズム ============== */
.glass {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ============== ホバーエフェクト ============== */
.hover-lift {
  @apply hover:-translate-y-0.5 hover:shadow-md transition-all duration-200;
}

.hover-glow {
  transition: box-shadow 200ms ease;
}

.hover-glow:hover {
  box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
}
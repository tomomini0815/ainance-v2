import{c as he,W as b,Y as C,Z as Y,A as fe,a as ve,e as ge,l as xe,r as U,n as pe,j as i,d as V,H as be,S as z,b as J,q as we,X as K}from"./index-Ca_aGh3E.js";import{T as Z}from"./TransactionIcon-DyLEqldN.js";import{T as ye}from"./TransactionForm-Cm2hbit9.js";import{f as Ne}from"./duplicateCheckUtils-CWXwhWaG.js";import{A as je}from"./arrow-left-w2g22jH0.js";import{I as ke}from"./inbox-CgndaUso.js";import{I as G}from"./info-j7UXcPNd.js";import{F as Te}from"./funnel-CHcTmUiH.js";import{M as ee}from"./mic-CzwslMMe.js";import{C as Ce}from"./circle-check-big-CBJwaKe3.js";import"./keywordCategoryService-uRvC8p6c.js";import"./wallet-_9nVq2xb.js";import"./clock-Cd1rbSlJ.js";import"./star-BJzXCY4P.js";import"./zap-C64lNVfj.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],A=he("pen",Pe);function Me(r,t){b(2,arguments);var e=C(r).getTime(),a=Y(t);return new Date(e+a)}var De={};function B(){return De}function We(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function Oe(r){return b(1,arguments),r instanceof Date||fe(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Se(r){if(b(1,arguments),!Oe(r)&&typeof r!="number")return!1;var t=C(r);return!isNaN(Number(t))}function Ee(r,t){b(2,arguments);var e=Y(t);return Me(r,-e)}var _e=864e5;function Ye(r){b(1,arguments);var t=C(r),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),n=e-a;return Math.floor(n/_e)+1}function X(r){b(1,arguments);var t=1,e=C(r),a=e.getUTCDay(),n=(a<t?7:0)+a-t;return e.setUTCDate(e.getUTCDate()-n),e.setUTCHours(0,0,0,0),e}function se(r){b(1,arguments);var t=C(r),e=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(e+1,0,4),a.setUTCHours(0,0,0,0);var n=X(a),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var s=X(o);return t.getTime()>=n.getTime()?e+1:t.getTime()>=s.getTime()?e:e-1}function Ue(r){b(1,arguments);var t=se(r),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var a=X(e);return a}var $e=6048e5;function Fe(r){b(1,arguments);var t=C(r),e=X(t).getTime()-Ue(t).getTime();return Math.round(e/$e)+1}function Q(r,t){var e,a,n,o,s,l,m,c;b(1,arguments);var g=B(),f=Y((e=(a=(n=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:g.weekStartsOn)!==null&&a!==void 0?a:(m=g.locale)===null||m===void 0||(c=m.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=C(r),x=p.getUTCDay(),v=(x<f?7:0)+x-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function de(r,t){var e,a,n,o,s,l,m,c;b(1,arguments);var g=C(r),f=g.getUTCFullYear(),p=B(),x=Y((e=(a=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&a!==void 0?a:(m=p.locale)===null||m===void 0||(c=m.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,x),v.setUTCHours(0,0,0,0);var P=Q(v,t),j=new Date(0);j.setUTCFullYear(f,0,x),j.setUTCHours(0,0,0,0);var D=Q(j,t);return g.getTime()>=P.getTime()?f+1:g.getTime()>=D.getTime()?f:f-1}function qe(r,t){var e,a,n,o,s,l,m,c;b(1,arguments);var g=B(),f=Y((e=(a=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:g.firstWeekContainsDate)!==null&&a!==void 0?a:(m=g.locale)===null||m===void 0||(c=m.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),p=de(r,t),x=new Date(0);x.setUTCFullYear(p,0,f),x.setUTCHours(0,0,0,0);var v=Q(x,t);return v}var Le=6048e5;function Ae(r,t){b(1,arguments);var e=C(r),a=Q(e,t).getTime()-qe(e,t).getTime();return Math.round(a/Le)+1}function u(r,t){for(var e=r<0?"-":"",a=Math.abs(r).toString();a.length<t;)a="0"+a;return e+a}var S={y:function(t,e){var a=t.getUTCFullYear(),n=a>0?a:1-a;return u(e==="yy"?n%100:n,e.length)},M:function(t,e){var a=t.getUTCMonth();return e==="M"?String(a+1):u(a+1,2)},d:function(t,e){return u(t.getUTCDate(),e.length)},a:function(t,e){var a=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,e){return u(t.getUTCHours()%12||12,e.length)},H:function(t,e){return u(t.getUTCHours(),e.length)},m:function(t,e){return u(t.getUTCMinutes(),e.length)},s:function(t,e){return u(t.getUTCSeconds(),e.length)},S:function(t,e){var a=e.length,n=t.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,a-3));return u(o,e.length)}},$={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ie={G:function(t,e,a){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,e,a){if(e==="yo"){var n=t.getUTCFullYear(),o=n>0?n:1-n;return a.ordinalNumber(o,{unit:"year"})}return S.y(t,e)},Y:function(t,e,a,n){var o=de(t,n),s=o>0?o:1-o;if(e==="YY"){var l=s%100;return u(l,2)}return e==="Yo"?a.ordinalNumber(s,{unit:"year"}):u(s,e.length)},R:function(t,e){var a=se(t);return u(a,e.length)},u:function(t,e){var a=t.getUTCFullYear();return u(a,e.length)},Q:function(t,e,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return u(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return u(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,a){var n=t.getUTCMonth();switch(e){case"M":case"MM":return S.M(t,e);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,a){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return u(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,a,n){var o=Ae(t,n);return e==="wo"?a.ordinalNumber(o,{unit:"week"}):u(o,e.length)},I:function(t,e,a){var n=Fe(t);return e==="Io"?a.ordinalNumber(n,{unit:"week"}):u(n,e.length)},d:function(t,e,a){return e==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):S.d(t,e)},D:function(t,e,a){var n=Ye(t);return e==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):u(n,e.length)},E:function(t,e,a){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,a,n){var o=t.getUTCDay(),s=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return u(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,a,n){var o=t.getUTCDay(),s=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return u(s,e.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,a){var n=t.getUTCDay(),o=n===0?7:n;switch(e){case"i":return String(o);case"ii":return u(o,e.length);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,a){var n=t.getUTCHours(),o=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,a){var n=t.getUTCHours(),o;switch(n===12?o=$.noon:n===0?o=$.midnight:o=n/12>=1?"pm":"am",e){case"b":case"bb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,a){var n=t.getUTCHours(),o;switch(n>=17?o=$.evening:n>=12?o=$.afternoon:n>=4?o=$.morning:o=$.night,e){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,a){if(e==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return S.h(t,e)},H:function(t,e,a){return e==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):S.H(t,e)},K:function(t,e,a){var n=t.getUTCHours()%12;return e==="Ko"?a.ordinalNumber(n,{unit:"hour"}):u(n,e.length)},k:function(t,e,a){var n=t.getUTCHours();return n===0&&(n=24),e==="ko"?a.ordinalNumber(n,{unit:"hour"}):u(n,e.length)},m:function(t,e,a){return e==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):S.m(t,e)},s:function(t,e,a){return e==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):S.s(t,e)},S:function(t,e){return S.S(t,e)},X:function(t,e,a,n){var o=n._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return ae(s);case"XXXX":case"XX":return _(s);case"XXXXX":case"XXX":default:return _(s,":")}},x:function(t,e,a,n){var o=n._originalDate||t,s=o.getTimezoneOffset();switch(e){case"x":return ae(s);case"xxxx":case"xx":return _(s);case"xxxxx":case"xxx":default:return _(s,":")}},O:function(t,e,a,n){var o=n._originalDate||t,s=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+te(s,":");case"OOOO":default:return"GMT"+_(s,":")}},z:function(t,e,a,n){var o=n._originalDate||t,s=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+te(s,":");case"zzzz":default:return"GMT"+_(s,":")}},t:function(t,e,a,n){var o=n._originalDate||t,s=Math.floor(o.getTime()/1e3);return u(s,e.length)},T:function(t,e,a,n){var o=n._originalDate||t,s=o.getTime();return u(s,e.length)}};function te(r,t){var e=r>0?"-":"+",a=Math.abs(r),n=Math.floor(a/60),o=a%60;if(o===0)return e+String(n);var s=t;return e+String(n)+s+u(o,2)}function ae(r,t){if(r%60===0){var e=r>0?"-":"+";return e+u(Math.abs(r)/60,2)}return _(r,t)}function _(r,t){var e=t||"",a=r>0?"-":"+",n=Math.abs(r),o=u(Math.floor(n/60),2),s=u(n%60,2);return a+o+e+s}var re=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},le=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Re=function(t,e){var a=t.match(/(P+)(p+)?/)||[],n=a[1],o=a[2];if(!o)return re(t,e);var s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",re(n,e)).replace("{{time}}",le(o,e))},He={p:le,P:Re},Xe=["D","DD"],Qe=["YY","YYYY"];function Be(r){return Xe.indexOf(r)!==-1}function Ve(r){return Qe.indexOf(r)!==-1}function ne(r,t,e){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ze=function(t,e,a){var n,o=Ge[t];return typeof o=="string"?n=o:e===1?n=o.one:n=o.other.replace("{{count}}",e.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function F(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):r.defaultWidth,a=r.formats[e]||r.formats[r.defaultWidth];return a}}var Je={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},et={date:F({formats:Je,defaultWidth:"full"}),time:F({formats:Ke,defaultWidth:"full"}),dateTime:F({formats:Ze,defaultWidth:"full"})},tt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},at=function(t,e,a,n){return tt[t]};function k(r){return function(t,e){var a=e!=null&&e.context?String(e.context):"standalone",n;if(a==="formatting"&&r.formattingValues){var o=r.defaultFormattingWidth||r.defaultWidth,s=e!=null&&e.width?String(e.width):o;n=r.formattingValues[s]||r.formattingValues[o]}else{var l=r.defaultWidth,m=e!=null&&e.width?String(e.width):r.defaultWidth;n=r.values[m]||r.values[l]}var c=r.argumentCallback?r.argumentCallback(t):t;return n[c]}}var rt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},it={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ot={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},st={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lt=function(t,e){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},ut={ordinalNumber:lt,era:k({values:rt,defaultWidth:"wide"}),quarter:k({values:nt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:k({values:it,defaultWidth:"wide"}),day:k({values:ot,defaultWidth:"wide"}),dayPeriod:k({values:st,defaultWidth:"wide",formattingValues:dt,defaultFormattingWidth:"wide"})};function T(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.width,n=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],o=t.match(n);if(!o)return null;var s=o[0],l=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(l)?mt(l,function(f){return f.test(s)}):ct(l,function(f){return f.test(s)}),c;c=r.valueCallback?r.valueCallback(m):m,c=e.valueCallback?e.valueCallback(c):c;var g=t.slice(s.length);return{value:c,rest:g}}}function ct(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e]))return e}function mt(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return e}function ue(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(r.matchPattern);if(!a)return null;var n=a[0],o=t.match(r.parsePattern);if(!o)return null;var s=r.valueCallback?r.valueCallback(o[0]):o[0];s=e.valueCallback?e.valueCallback(s):s;var l=t.slice(n.length);return{value:s,rest:l}}}var ht=/^(\d+)(th|st|nd|rd)?/i,ft=/\d+/i,vt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gt={any:[/^b/i,/^(a|c)/i]},xt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pt={any:[/1/i,/2/i,/3/i,/4/i]},bt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tt={ordinalNumber:ue({matchPattern:ht,parsePattern:ft,valueCallback:function(t){return parseInt(t,10)}}),era:T({matchPatterns:vt,defaultMatchWidth:"wide",parsePatterns:gt,defaultParseWidth:"any"}),quarter:T({matchPatterns:xt,defaultMatchWidth:"wide",parsePatterns:pt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:T({matchPatterns:bt,defaultMatchWidth:"wide",parsePatterns:wt,defaultParseWidth:"any"}),day:T({matchPatterns:yt,defaultMatchWidth:"wide",parsePatterns:Nt,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:jt,defaultMatchWidth:"any",parsePatterns:kt,defaultParseWidth:"any"})},Ct={code:"en-US",formatDistance:ze,formatLong:et,formatRelative:at,localize:ut,match:Tt,options:{weekStartsOn:0,firstWeekContainsDate:1}},Pt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dt=/^'([^]*?)'?$/,Wt=/''/g,Ot=/[a-zA-Z]/;function ie(r,t,e){var a,n,o,s,l,m,c,g,f,p,x,v,P,j,D,q,E,L;b(2,arguments);var I=String(t),W=B(),d=(a=(n=e==null?void 0:e.locale)!==null&&n!==void 0?n:W.locale)!==null&&a!==void 0?a:Ct,h=Y((o=(s=(l=(m=e==null?void 0:e.firstWeekContainsDate)!==null&&m!==void 0?m:e==null||(c=e.locale)===null||c===void 0||(g=c.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:W.firstWeekContainsDate)!==null&&s!==void 0?s:(f=W.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=Y((x=(v=(P=(j=e==null?void 0:e.weekStartsOn)!==null&&j!==void 0?j:e==null||(D=e.locale)===null||D===void 0||(q=D.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&P!==void 0?P:W.weekStartsOn)!==null&&v!==void 0?v:(E=W.locale)===null||E===void 0||(L=E.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&x!==void 0?x:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var N=C(r);if(!Se(N))throw new RangeError("Invalid time value");var M=We(N),R=Ee(N,M),ce={firstWeekContainsDate:h,weekStartsOn:w,locale:d,_originalDate:N},me=I.match(Mt).map(function(y){var O=y[0];if(O==="p"||O==="P"){var H=He[O];return H(y,d.formatLong)}return y}).join("").match(Pt).map(function(y){if(y==="''")return"'";var O=y[0];if(O==="'")return St(y);var H=Ie[O];if(H)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Ve(y)&&ne(y,t,String(r)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Be(y)&&ne(y,t,String(r)),H(R,y,d.localize,ce);if(O.match(Ot))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return y}).join("");return me}function St(r){var t=r.match(Dt);return t?t[1].replace(Wt,"'"):r}var Et={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},_t=function(t,e,a){a=a||{};var n,o=Et[t];return typeof o=="string"?n=o:e===1?a.addSuffix&&o.oneWithSuffix?n=o.oneWithSuffix:n=o.one:a.addSuffix&&o.otherWithSuffix?n=o.otherWithSuffix.replace("{{count}}",String(e)):n=o.other.replace("{{count}}",String(e)),a.addSuffix?a.comparison&&a.comparison>0?n+"後":n+"前":n},Yt={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},Ut={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},$t={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ft={date:F({formats:Yt,defaultWidth:"full"}),time:F({formats:Ut,defaultWidth:"full"}),dateTime:F({formats:$t,defaultWidth:"full"})},qt={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},Lt=function(t,e,a,n){return qt[t]},At={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},It={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},Rt={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},Ht={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},Xt={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},Qt={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},Bt=function(t,e){var a=Number(t),n=String(e==null?void 0:e.unit);switch(n){case"year":return"".concat(a,"年");case"quarter":return"第".concat(a,"四半期");case"month":return"".concat(a,"月");case"week":return"第".concat(a,"週");case"date":return"".concat(a,"日");case"hour":return"".concat(a,"時");case"minute":return"".concat(a,"分");case"second":return"".concat(a,"秒");default:return"".concat(a)}},Vt={ordinalNumber:Bt,era:k({values:At,defaultWidth:"wide"}),quarter:k({values:It,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:k({values:Rt,defaultWidth:"wide"}),day:k({values:Ht,defaultWidth:"wide"}),dayPeriod:k({values:Xt,defaultWidth:"wide",formattingValues:Qt,defaultFormattingWidth:"wide"})},Gt=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,zt=/\d+/i,Jt={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},Kt={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},Zt={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},ea={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},ta={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},aa={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},ra={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},na={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},ia={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},oa={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},sa={ordinalNumber:ue({matchPattern:Gt,parsePattern:zt,valueCallback:function(t){return parseInt(t,10)}}),era:T({matchPatterns:Jt,defaultMatchWidth:"wide",parsePatterns:Kt,defaultParseWidth:"any"}),quarter:T({matchPatterns:Zt,defaultMatchWidth:"wide",parsePatterns:ea,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:T({matchPatterns:ta,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),day:T({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:ia,defaultMatchWidth:"any",parsePatterns:oa,defaultParseWidth:"any"})},oe={code:"ja",formatDistance:_t,formatLong:Ft,formatRelative:Lt,localize:Vt,match:sa,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ja=()=>{const{user:r}=ve(),{currentBusinessType:t}=ge(),{transactions:e,loading:a,approveTransaction:n,deleteTransaction:o,updateTransaction:s,fetchTransactions:l}=xe(r==null?void 0:r.id,t==null?void 0:t.business_type),[m,c]=U.useState(null),[g,f]=U.useState(null),[p,x]=U.useState(!1),v=U.useMemo(()=>e.filter(d=>d.approval_status==="pending"),[e]),P=U.useMemo(()=>{const d={};return v.forEach(h=>{const w=Ne(h,e);w.length>0&&(d[h.id]=w)}),d},[v,e]),j=async d=>{c(d);try{const h=await n(d);if(h.error)throw h.error}catch(h){console.error("取引の承認に失敗しました:",h)}finally{c(null)}},D=async d=>{if(window.confirm("この取引を削除しますか？")){c(d);try{const h=await o(d);if(h.error)throw h.error}catch(h){console.error("Rejection failed:",h),alert("削除に失敗しました。")}finally{c(null)}}},q=async()=>{if(window.confirm(`${v.length}件の取引をすべて承認しますか？`)){W(!0);try{for(const d of v)await n(d.id)}finally{W(!1)}}},E=d=>{f(d),x(!0)},L=async d=>{if(g)try{const{id:h,created_at:w,updated_at:N,...M}=d,R=await s(g.id,M);if(R.error)throw R.error;x(!1),f(null),l()}catch(h){console.error("更新エラー:",h)}},[I,W]=U.useState(!1);return pe.useEffect(()=>{const d=()=>{console.log("TransactionInbox - 取引登録イベントを検知、再取得します"),l()};return window.addEventListener("transactionRecorded",d),()=>window.removeEventListener("transactionRecorded",d)},[l]),a&&e.length===0?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-1.5 hover:bg-surface-highlight rounded-full transition-colors","aria-label":"戻る",children:i.jsx(je,{className:"w-5 h-5 text-text-muted"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-bold text-text-main flex items-center gap-2",children:[i.jsx(ke,{className:"w-5 h-5 text-primary"}),"インボックス"]}),i.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:"AIチャット・レシートスキャンで入力された内容を確認し、承認ボタンで記帳してください。"})]})]})}),v.length===0?i.jsxs("div",{className:"bg-surface border border-border rounded-2xl p-12 text-center flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-surface-highlight rounded-full flex items-center justify-center mb-4",children:i.jsx(V,{className:"w-8 h-8 text-text-muted"})}),i.jsx("h2",{className:"text-lg font-semibold text-text-main",children:"確認待ちの取引はありません"}),i.jsx("p",{className:"text-text-muted mt-2",children:"すべての取引が承認済みです。清々しいですね！"}),i.jsx("button",{onClick:()=>window.history.back(),className:"mt-6 px-6 py-2 bg-surface border border-border rounded-lg text-text-main hover:bg-surface-highlight transition-colors",children:"ダッシュボードに戻る"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium text-primary bg-primary/10 px-3 py-1.5 rounded-full border border-primary/20",children:[i.jsx(G,{className:"w-4 h-4 text-primary"}),v.length,"件の未完了取引"]})}),v.length>0&&i.jsxs("button",{onClick:q,disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[I?i.jsx(Te,{className:"w-4 h-4 animate-spin"}):i.jsx(V,{className:"w-4 h-4"}),"すべてを承認"]})]}),i.jsx("div",{className:"md:hidden space-y-3",children:v.map(d=>{var h,w,N;return i.jsxs("div",{onClick:()=>E(d),className:"bg-surface border border-border rounded-xl p-4 shadow-sm relative cursor-pointer hover:bg-surface-highlight/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:[i.jsx(be,{className:"w-2.5 h-2.5 opacity-40"}),i.jsx("span",{children:ie(new Date(d.date),"yyyy年M月d日",{locale:oe})})]}),i.jsx("div",{className:"flex justify-end",children:d.receipt_url||(h=d.tags)!=null&&h.includes("receipt_created")?i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-purple-100 dark:bg-purple-900/30 rounded text-purple-600 dark:text-purple-400 scale-90 origin-right",children:[i.jsx(z,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] font-medium",children:"AI読取"})]}):(w=d.tags)!=null&&w.includes("ai-chat")?i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-indigo-100 dark:bg-indigo-900/30 rounded text-indigo-600 dark:text-indigo-100 scale-90 origin-right",children:[i.jsx(J,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] font-medium text-white",children:"AIチャット"})]}):(N=d.tags)!=null&&N.includes("voice")?i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-blue-100 dark:bg-blue-900/30 rounded text-blue-600 dark:text-blue-400 scale-90 origin-right",children:[i.jsx(ee,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] font-medium",children:"音声入力"})]}):i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded text-gray-600 dark:text-gray-400 scale-90 origin-right",children:[i.jsx(A,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] font-medium",children:"手入力"})]})})]}),i.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[i.jsx(Z,{item:d.item,category:d.category}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"font-bold text-text-main truncate text-base",children:d.item}),i.jsxs("div",{className:`text-xl font-bold leading-none ${d.type==="expense"?"text-text-main":"text-green-500"} ml-2`,children:[d.type==="expense"?"-":"+","¥",Math.abs(d.amount).toLocaleString()]})]}),P[d.id]&&i.jsxs("div",{className:"mt-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2 flex items-start gap-2",children:[i.jsx(G,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-[10px] text-amber-800 dark:text-amber-200 leading-tight",children:[i.jsx("span",{className:"font-bold",children:"重複の可能性:"})," ",P[d.id].length,"件の類似した取引が見つかりました（金額が一致、±3日以内）"]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2.5 gap-2",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-surface-highlight text-text-secondary border border-border whitespace-nowrap",children:d.category}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:M=>{M.stopPropagation(),j(d.id)},disabled:!!m,className:"w-11 h-11 rounded-full flex items-center justify-center bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white transition-all shadow-md active:scale-95",title:"承認",children:i.jsx(Ce,{className:"w-6 h-6"})}),i.jsx("button",{onClick:M=>{M.stopPropagation(),E(d)},disabled:!!m,className:"w-11 h-11 rounded-full flex items-center justify-center bg-primary/10 text-primary hover:bg-primary hover:text-white transition-all shadow-md active:scale-95",title:"編集",children:i.jsx(A,{className:"w-5 h-5"})}),i.jsx("button",{onClick:M=>{M.stopPropagation(),D(d.id)},disabled:!!m,className:"w-11 h-11 rounded-full flex items-center justify-center bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white transition-all shadow-md active:scale-95",title:"削除",children:i.jsx(we,{className:"w-6 h-6"})})]})]})]},d.id)})}),i.jsx("div",{className:"hidden md:block bg-surface border border-border rounded-2xl overflow-hidden shadow-sm",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-surface-highlight/30 border-b border-border",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider whitespace-nowrap",children:"日付"}),i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider whitespace-nowrap",children:"入力元"}),i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider whitespace-nowrap",children:"説明・項目"}),i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider whitespace-nowrap",children:"カテゴリ"}),i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider text-right whitespace-nowrap",children:"金額"}),i.jsx("th",{className:"px-4 py-3 text-[10px] font-semibold text-text-muted uppercase tracking-wider text-center whitespace-nowrap",children:"操作"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:v.map(d=>{var h,w,N;return i.jsxs("tr",{className:"hover:bg-surface-highlight/20 transition-colors group",children:[i.jsx("td",{className:"px-4 py-2.5 text-xs text-text-main whitespace-nowrap",children:ie(new Date(d.date),"yyyy/MM/dd",{locale:oe})}),i.jsx("td",{className:"px-4 py-2.5 text-xs text-text-main whitespace-nowrap",children:i.jsx("div",{className:"flex items-center gap-2",children:d.receipt_url||(h=d.tags)!=null&&h.includes("receipt_created")?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-1 bg-purple-100 dark:bg-purple-900/30 rounded-md text-purple-600 dark:text-purple-400",children:i.jsx(z,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-[10px] font-medium",children:"AI読取"})]}):(w=d.tags)!=null&&w.includes("ai-chat")?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-1 bg-indigo-100 dark:bg-indigo-900/30 rounded-md text-indigo-600 dark:text-indigo-400",children:i.jsx(J,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-[10px] font-medium",children:"AIチャット"})]}):(N=d.tags)!=null&&N.includes("voice")?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-1 bg-blue-100 dark:bg-blue-900/30 rounded-md text-blue-600 dark:text-blue-400",children:i.jsx(ee,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-[10px] font-medium",children:"音声入力"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-1 bg-gray-100 dark:bg-gray-800 rounded-md text-gray-600 dark:text-gray-400",children:i.jsx(A,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-[10px] font-medium",children:"手入力"})]})})}),i.jsx("td",{className:"px-4 py-2.5",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{item:d.item,category:d.category,size:"xs"}),i.jsxs("div",{className:"flex flex-col overflow-hidden",children:[d.description&&d.description!==d.item?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-text-main text-sm truncate max-w-[200px]",title:d.description,children:d.description}),i.jsx("div",{className:"text-xs text-text-muted truncate max-w-[200px]",title:d.item,children:d.item})]}):i.jsx("div",{className:"font-medium text-text-main whitespace-nowrap",children:d.item}),i.jsx("div",{className:"text-[10px] text-text-muted mt-0.5 truncate max-w-[200px] font-medium",children:d.category}),P[d.id]&&i.jsx("div",{className:"flex items-center gap-1.5 mt-0.5",children:i.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] text-amber-600 dark:text-amber-400 font-bold bg-amber-50 dark:bg-amber-900/20 px-1.5 py-0.5 rounded border border-amber-200 dark:border-amber-800",children:[i.jsx(G,{className:"w-3 h-3"}),"重複の可能性"]})})]})]})}),i.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:i.jsx("span",{className:"px-2 py-1 bg-surface-highlight rounded text-text-secondary border border-border whitespace-nowrap",children:d.category})}),i.jsx("td",{className:"px-4 py-2.5 text-lg text-right font-bold whitespace-nowrap",children:i.jsxs("span",{className:d.type==="expense"?"text-text-main":"text-green-500",children:[d.type==="expense"?"-":"+","¥",Math.abs(d.amount).toLocaleString()]})}),i.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsxs("button",{onClick:()=>j(d.id),disabled:!!m,className:"px-3 py-2 bg-emerald-500/10 text-emerald-500 rounded-lg hover:bg-emerald-500 hover:text-white transition-all shadow-sm flex items-center gap-1.5 text-xs font-bold whitespace-nowrap",title:"承認する",children:[i.jsx(V,{className:"w-4 h-4"}),"承認"]}),i.jsxs("button",{onClick:()=>E(d),disabled:!!m,className:"px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary hover:text-white transition-all shadow-sm flex items-center gap-1.5 text-xs font-bold whitespace-nowrap",title:"編集する",children:[i.jsx(A,{className:"w-4 h-4"}),"編集"]}),i.jsxs("button",{onClick:()=>D(d.id),disabled:!!m,className:"px-3 py-2 bg-rose-500/10 text-rose-500 rounded-lg hover:bg-rose-500 hover:text-white transition-all shadow-sm flex items-center gap-1.5 text-xs font-bold whitespace-nowrap",title:"削除する",children:[i.jsx(K,{className:"w-4 h-4"}),"削除"]})]})})]},d.id)})})]})})})]}),p&&g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-surface border border-border rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center sticky top-0 bg-surface/95 backdrop-blur z-10",children:[i.jsxs("h3",{className:"text-xl font-bold text-text-main flex items-center gap-2",children:[i.jsx(A,{className:"w-5 h-5 text-primary"}),"取引情報の編集"]}),i.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-surface-highlight rounded-full transition-colors",children:i.jsx(K,{className:"w-5 h-5 text-text-muted"})})]}),i.jsx("div",{className:"p-4",children:i.jsx(ye,{transaction:g,onSubmit:L,onCancel:()=>x(!1)})})]})})]})};export{ja as default};

import{a as x,e as m,l as d,r as p,j as e,S as u,X as f,G as h}from"./index-0N2qkU5h.js";import{T as b}from"./TransactionForm-CSvPI6Ag.js";import"./keywordCategoryService-CeSB7JfV.js";import"./wallet-CPyD2Yee.js";import"./clock-QHNYFbw-.js";import"./star-Bxpldbl-.js";import"./zap-soyB5S57.js";const E=({onClose:r,onSuccess:s})=>{const{user:a}=x(),{currentBusinessType:o}=m(),{createTransaction:n}=d(a==null?void 0:a.id,o==null?void 0:o.business_type),[j,i]=p.useState(!1),c=async l=>{i(!0);try{const t=await n({...l,tags:[...l.tags||[],"manual_created"],approval_status:"approved"});if(t.error)throw t.error;s==null||s(),r()}catch(t){console.error("Failed to create transaction:",t),h.error("取引の作成に失敗しました。")}finally{i(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-surface border border-white/10 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-text-main flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-primary"}),"取引を記録する"]}),e.jsx("p",{className:"text-sm text-text-muted mt-1",children:"取引内容を入力してください"})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-surface-highlight transition-colors",children:e.jsx(f,{className:"w-5 h-5 text-text-muted"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-4 custom-scrollbar",children:e.jsx(b,{onSubmit:c,onCancel:r})})]})})};export{E as default};

import{c as je,a as fe,e as Ne,r,j as e,x as f,L as ye,h as ve,P as G,d as b,B as H,U as Q,F as W,G as c}from"./index-DswpKyhs.js";import{y as we,a as ke,P as Se,s as _e}from"./PreviousYearImportModal-uGBoXcVP.js";import{B as Ce}from"./BalanceSheetImportModal-CJte7AqH.js";import{A as Ae}from"./arrow-left-gdWbSuNE.js";import{R as X}from"./refresh-cw-DcsUKi_h.js";import{E as Z}from"./eye-dK2iOgcs.js";import{C as K}from"./copy-DJ5pnRzK.js";import{B as ee}from"./building-2-DeF_sFt7.js";import{E as te}from"./external-link-CtHKrGC0.js";import{L as se}from"./loader-circle-BsarH5Un.js";import{S as ae}from"./save-D1Udpi50.js";import"./geminiAIService-DQoIspWT.js";import"./arrow-right-CuDj3Lko.js";import"./scale-KomrMU3Q.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],re=je("eye-off",Pe),Ye=()=>{const{user:x}=fe(),{currentBusinessType:s,businessTypes:N,switchBusinessType:y,updateBusinessType:ie}=Ne(),[l,m]=r.useState("setup"),[o,le]=r.useState({}),[de,v]=r.useState(!1),[ne,w]=r.useState(!1),[g,h]=r.useState(""),[k,S]=r.useState(""),[_,C]=r.useState(""),[A,P]=r.useState(""),[I,z]=r.useState(""),[E,$]=r.useState(""),[L,U]=r.useState(""),[F,M]=r.useState(4),[D,O]=r.useState(0),[u,J]=r.useState(!1),[d,ce]=r.useState(null),[n,xe]=r.useState(null),p=r.useCallback(async()=>{if(!(!x||!s))try{const t=await we.getAllByBusinessType(x.id,s.business_type),a=await ke.getAllByBusinessType(x.id,s.business_type);t.length>0&&ce(t[0]),a.length>0&&xe(a[0])}catch(t){console.error("Fetch Financial Data Error:",t)}},[x,s]);r.useEffect(()=>{p()},[p]);const R=async t=>{if(!t)return;const a=c.loading("æ›¸é¡ã‚’é–‹ã„ã¦ã„ã¾ã™...");try{const i=await _e.getSignedUrl(t);i?(window.open(i,"_blank"),c.success("æ›¸é¡ã‚’é–‹ãã¾ã—ãŸ",{id:a})):c.error("æ›¸é¡ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ",{id:a})}catch(i){console.error("View Document Error:",i),c.error("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",{id:a})}};r.useEffect(()=>{s&&(h(s.tax_number||""),S(s.company_name||""),C(s.address||""),P(s.phone||""),z(s.email||""),$(s.representative_name||""),U(s.established_date||""),M(s.fiscal_year_start_month||(s.business_type==="individual"?1:4)),O(s.capital_amount||0))},[s]);const T=async()=>{if(s){J(!0);try{await ie(s.id,{tax_number:g,company_name:k,address:_,phone:A,email:I,representative_name:E,established_date:L||null,fiscal_year_start_month:F,capital_amount:D}),c.success("è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ")}catch(t){console.error("Save Settings Error:",t),c.error("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{J(!1)}}},[me]=r.useState([{id:"1",name:"ä¸‰è±UFJéŠ€è¡Œ",type:"bank",status:"connected",lastSync:"2024-01-15 09:30",description:"æ™®é€šé é‡‘å£åº§ã®å–å¼•å±¥æ­´ã‚’è‡ªå‹•å–å¾—",logo:"ğŸ¦",features:["æ®‹é«˜ç…§ä¼š","å–å¼•å±¥æ­´","è‡ªå‹•ä»•è¨³"]},{id:"2",name:"æ¥½å¤©ã‚«ãƒ¼ãƒ‰",type:"credit",status:"connected",lastSync:"2024-01-15 08:45",description:"ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰åˆ©ç”¨æ˜ç´°ã‚’è‡ªå‹•å–å¾—",logo:"ğŸ’³",features:["åˆ©ç”¨æ˜ç´°","è‡ªå‹•åˆ†é¡","ãƒ¬ã‚·ãƒ¼ãƒˆé€£æº"]},{id:"3",name:"Amazon",type:"ecommerce",status:"error",lastSync:"2024-01-14 15:20",description:"Amazonè²©å£²ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ“¦",features:["å£²ä¸Šãƒ‡ãƒ¼ã‚¿","æ‰‹æ•°æ–™è¨ˆç®—","åœ¨åº«ç®¡ç†"]},{id:"4",name:"Square POS",type:"pos",status:"disconnected",lastSync:"æœªæ¥ç¶š",description:"POSå£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ›’",features:["å£²ä¸Šãƒ‡ãƒ¼ã‚¿","å•†å“ç®¡ç†","ãƒ¬ã‚·ãƒ¼ãƒˆç™ºè¡Œ"]},{id:"5",name:"PayPal",type:"payment",status:"connected",lastSync:"2024-01-15 10:15",description:"PayPalæ±ºæ¸ˆãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ’°",features:["æ±ºæ¸ˆå±¥æ­´","æ‰‹æ•°æ–™è¨ˆç®—","è¿”é‡‘å‡¦ç†"]},{id:"6",name:"freee",type:"accounting",status:"pending",lastSync:"è¨­å®šä¸­",description:"ä¼šè¨ˆã‚½ãƒ•ãƒˆã¨ã®ãƒ‡ãƒ¼ã‚¿é€£æº",logo:"ğŸ“Š",features:["ä»•è¨³åŒæœŸ","ãƒ¬ãƒãƒ¼ãƒˆ","ç¨å‹™ç”³å‘Š"]}]),[V]=r.useState([{id:"1",name:"ãƒ¡ã‚¤ãƒ³API",key:"ak_live_1234567890abcdef...",permissions:["read","write","admin"],created:"2024-01-01",lastUsed:"2024-01-15 09:30",status:"active"},{id:"2",name:"ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª",key:"ak_test_abcdef1234567890...",permissions:["read"],created:"2024-01-10",lastUsed:"2024-01-14 16:45",status:"active"},{id:"3",name:"é–‹ç™ºç”¨",key:"ak_dev_fedcba0987654321...",permissions:["read","write"],created:"2024-01-05",lastUsed:"2024-01-12 11:20",status:"inactive"}]),oe=[{name:"ã¿ãšã»éŠ€è¡Œ",type:"bank",logo:"ğŸ¦"},{name:"ã‚ŠããªéŠ€è¡Œ",type:"bank",logo:"ğŸ¦"},{name:"ã‚¤ã‚ªãƒ³ã‚«ãƒ¼ãƒ‰",type:"credit",logo:"ğŸ’³"},{name:"JCBã‚«ãƒ¼ãƒ‰",type:"credit",logo:"ğŸ’³"},{name:"Shopify",type:"ecommerce",logo:"ğŸ›ï¸"},{name:"BASE",type:"ecommerce",logo:"ğŸ›ï¸"},{name:"Airãƒ¬ã‚¸",type:"pos",logo:"ğŸ“±"},{name:"Stripe",type:"payment",logo:"ğŸ’³"},{name:"ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰",type:"accounting",logo:"ğŸ“ˆ"}],Y=[{time:"2024-01-15 10:15",source:"PayPal",type:"æ±ºæ¸ˆãƒ‡ãƒ¼ã‚¿",count:15,status:"success"},{time:"2024-01-15 09:30",source:"ä¸‰è±UFJéŠ€è¡Œ",type:"å–å¼•å±¥æ­´",count:8,status:"success"},{time:"2024-01-15 08:45",source:"æ¥½å¤©ã‚«ãƒ¼ãƒ‰",type:"åˆ©ç”¨æ˜ç´°",count:23,status:"success"},{time:"2024-01-14 15:20",source:"Amazon",type:"å£²ä¸Šãƒ‡ãƒ¼ã‚¿",count:0,status:"error"},{time:"2024-01-14 14:30",source:"ä¸‰è±UFJéŠ€è¡Œ",type:"å–å¼•å±¥æ­´",count:12,status:"success"}],he=t=>{switch(t){case"connected":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"disconnected":return"text-text-muted bg-surface-highlight";case"error":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";case"pending":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";default:return"text-text-muted bg-surface-highlight"}},ue=t=>{switch(t){case"connected":return"æ¥ç¶šæ¸ˆã¿";case"disconnected":return"æœªæ¥ç¶š";case"error":return"ã‚¨ãƒ©ãƒ¼";case"pending":return"è¨­å®šä¸­";default:return"ä¸æ˜"}},q=t=>{le(a=>({...a,[t]:!a[t]}))},B=t=>{navigator.clipboard.writeText(t)},pe=t=>{console.log("Connecting to:",t)},be=t=>{console.log("Disconnecting from:",t)},ge=t=>{console.log("Syncing:",t)};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"bg-surface border border-border rounded-lg p-4 mb-6 flex items-start gap-4 shadow-sm",children:[e.jsx(f,{className:"w-5 h-5 text-amber-500/80 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("h3",{className:"text-base font-semibold text-text-main mb-1",children:"ã‚µãƒ¼ãƒ“ã‚¹é€£æºã¯ç¾åœ¨é–‹ç™ºä¸­ã§ã™"}),e.jsxs("p",{className:"text-text-muted leading-relaxed",children:["ã“ã®ãƒšãƒ¼ã‚¸ã®æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã®ãƒ‡ãƒ¢è¡¨ç¤ºã§ã™ã€‚å®Ÿéš›ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã¯ã¾ã è¡Œã‚ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",e.jsx("br",{}),"ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§é †æ¬¡å¯¾å¿œäºˆå®šã§ã™ã€‚"]})]})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(ye,{to:"/dashboard",className:"mr-4",children:e.jsx(Ae,{className:"w-6 h-6 text-text-muted hover:text-text-main"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-text-main",children:"é€£æºè¨­å®š"}),e.jsx("p",{className:"text-text-muted",children:"å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚’ç®¡ç†ã—ã¾ã™"})]})]}),e.jsx("div",{className:"bg-surface rounded-xl shadow-sm border border-border mb-6 overflow-hidden",children:e.jsx("div",{children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>m("setup"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l==="setup"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"åˆæœŸè¨­å®š"}),e.jsx("button",{onClick:()=>m("invoice"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l==="invoice"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"ã‚¤ãƒ³ãƒœã‚¤ã‚¹è¨­å®š"}),e.jsx("button",{onClick:()=>m("integrations"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l==="integrations"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"ã‚µãƒ¼ãƒ“ã‚¹é€£æº"}),e.jsx("button",{onClick:()=>m("api"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l==="api"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"APIç®¡ç†"}),e.jsx("button",{onClick:()=>m("sync"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${l==="sync"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"åŒæœŸå±¥æ­´"})]})})}),l==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"æ¥ç¶šæ¸ˆã¿ã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:me.map(t=>e.jsxs("div",{className:"border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-text-main",children:t.name}),e.jsx("p",{className:"text-sm text-text-muted",children:t.description})]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(t.status)}`,children:ue(t.status)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs text-text-muted",children:["æœ€çµ‚åŒæœŸ: ",t.lastSync]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.features.map((a,i)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},i))})]}),e.jsxs("div",{className:"flex space-x-2",children:[t.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>ge(t.id),className:"flex-1 bg-primary text-white text-xs py-2 px-3 rounded hover:bg-primary/90",children:[e.jsx(X,{className:"w-3 h-3 inline mr-1"}),"åŒæœŸ"]}),e.jsx("button",{onClick:()=>be(t.id),className:"flex-1 bg-surface-highlight text-text-main text-xs py-2 px-3 rounded hover:bg-border",children:"åˆ‡æ–­"})]}):e.jsx("button",{onClick:()=>pe(t.id),className:"w-full bg-green-600 text-white text-xs py-2 px-3 rounded hover:bg-green-700",children:"æ¥ç¶š"}),e.jsx("button",{className:"p-2 text-text-muted hover:text-text-main",children:e.jsx(ve,{className:"w-4 h-4"})})]})]},t.id))})]}),e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"åˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:oe.map((t,a)=>e.jsx("div",{className:"border border-border rounded-lg p-4 hover:border-primary transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-text-main",children:t.name}),e.jsx("p",{className:"text-sm text-text-muted capitalize",children:t.type})]})]}),e.jsxs("button",{className:"bg-primary text-white text-xs py-2 px-3 rounded hover:bg-primary/90",children:[e.jsx(G,{className:"w-3 h-3 inline mr-1"}),"è¿½åŠ "]})]})},a))})]})]}),l==="api"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-main",children:"APIã‚­ãƒ¼ç®¡ç†"}),e.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90",children:[e.jsx(G,{className:"w-4 h-4 inline mr-2"}),"æ–°ã—ã„APIã‚­ãƒ¼"]})]}),e.jsx("div",{className:"block md:hidden space-y-4",children:V.map(t=>e.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow-sm border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"font-medium text-text-main",children:t.name}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-surface-highlight text-text-muted"}`,children:t.status==="active"?"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–":"ç„¡åŠ¹"})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"APIã‚­ãƒ¼:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"bg-surface-highlight px-2 py-1 rounded text-xs",children:o[t.id]?t.key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{onClick:()=>q(t.id),className:"text-text-muted hover:text-text-main",children:o[t.id]?e.jsx(re,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(t.key),className:"text-text-muted hover:text-text-main",children:e.jsx(K,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"æ¨©é™:"}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:t.permissions.map((a,i)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},i))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"æœ€çµ‚ä½¿ç”¨:"}),e.jsx("span",{className:"text-text-main",children:t.lastUsed})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2 border-t border-border",children:[e.jsx("button",{className:"text-sm text-primary hover:text-primary/80 px-2 py-1",children:"ç·¨é›†"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 px-2 py-1",children:"å‰Šé™¤"})]})]},t.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-highlight",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"åå‰"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"APIã‚­ãƒ¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ¨©é™"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æœ€çµ‚ä½¿ç”¨"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ“ä½œ"})]})}),e.jsx("tbody",{className:"bg-surface divide-y divide-border",children:V.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-main",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"bg-surface-highlight px-2 py-1 rounded text-xs",children:o[t.id]?t.key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{onClick:()=>q(t.id),className:"text-text-muted hover:text-text-main",children:o[t.id]?e.jsx(re,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(t.key),className:"text-text-muted hover:text-text-main",children:e.jsx(K,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.permissions.map((a,i)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},i))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.lastUsed}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-surface-highlight text-text-muted"}`,children:t.status==="active"?"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–":"ç„¡åŠ¹"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-primary hover:text-primary/80",children:"ç·¨é›†"}),e.jsx("button",{className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"å‰Šé™¤"})]})})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"APIä½¿ç”¨çŠ¶æ³"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-300",children:"ä»Šæœˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:"12,547"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"ä¸Šé™: 50,000"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-900 dark:text-green-300",children:"æˆåŠŸç‡"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:"99.2%"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"12,447 / 12,547"})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-yellow-900 dark:text-yellow-300",children:"å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:"245ms"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"éå»24æ™‚é–“"})]})]})]})]}),l==="sync"&&e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-main",children:"åŒæœŸå±¥æ­´"}),e.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90",children:[e.jsx(X,{className:"w-4 h-4 inline mr-2"}),"å…¨ã¦åŒæœŸ"]})]}),e.jsx("div",{className:"block md:hidden space-y-4",children:Y.map((t,a)=>e.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow-sm border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"font-medium text-text-main",children:t.source}),e.jsxs("div",{className:"flex items-center",children:[t.status==="success"?e.jsx(b,{className:"w-4 h-4 text-green-500 mr-1"}):e.jsx(f,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:`text-sm ${t.status==="success"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:t.status==="success"?"æˆåŠŸ":"ã‚¨ãƒ©ãƒ¼"})]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥:"}),e.jsx("span",{className:"text-text-main",children:t.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"ä»¶æ•°:"}),e.jsxs("span",{className:"text-text-main",children:[t.count,"ä»¶"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"æ™‚åˆ»:"}),e.jsx("span",{className:"text-text-main",children:t.time})]})]})]},a))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-highlight",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ™‚åˆ»"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ä»¶æ•°"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"})]})}),e.jsx("tbody",{className:"bg-surface divide-y divide-border",children:Y.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-main",children:t.source}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.type}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:[t.count,"ä»¶"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t.status==="success"?e.jsx(b,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx(f,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("span",{className:`text-sm ${t.status==="success"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:t.status==="success"?"æˆåŠŸ":"ã‚¨ãƒ©ãƒ¼"})]})})]},a))})]})})]}),l==="setup"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-6 text-text-main",children:["åˆæœŸè¨­å®š (",(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº",")"]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"äº‹æ¥­å½¢æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["individual","corporation"].map(t=>{const a=N.find(j=>j.business_type===t),i=(s==null?void 0:s.business_type)===t;return e.jsxs("button",{onClick:()=>a&&y(a.id),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg font-medium transition-all ${i?"border-primary bg-primary/5 text-primary shadow-sm":"border-border text-text-muted hover:border-primary/30 hover:text-text-main"}`,children:[t==="individual"?e.jsx(H,{size:18}):e.jsx(ee,{size:18}),t==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº"]},t)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"åŸºæœ¬æƒ…å ±"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"å±‹å·ãƒ»ä¼šç¤¾å"}),e.jsx("input",{type:"text",value:k,onChange:t=>S(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"ä»£è¡¨è€…å"}),e.jsx("input",{type:"text",value:E,onChange:t=>$(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"æ‰€åœ¨åœ°"}),e.jsx("input",{type:"text",value:_,onChange:t=>C(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"é›»è©±ç•ªå·"}),e.jsx("input",{type:"text",value:A,onChange:t=>P(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"}),e.jsx("input",{type:"email",value:I,onChange:t=>z(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"è¨­ç«‹æ—¥ãƒ»äº‹æ¥­é–‹å§‹æ—¥"}),e.jsx("input",{type:"date",value:L,onChange:t=>U(t.target.value),className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:(s==null?void 0:s.business_type)==="corporation"?"æ³•äººç•ªå·":"ç™»éŒ²ç•ªå· (ã‚¤ãƒ³ãƒœã‚¤ã‚¹ç•ªå·)"}),e.jsxs("div",{className:"relative",children:[(s==null?void 0:s.business_type)==="individual"&&e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted font-medium text-sm",children:"T"}),e.jsx("input",{type:"text",placeholder:"13æ¡ã®æ•°å­—",value:g.replace(/^T/,""),onChange:t=>{const a=t.target.value.replace(/\D/g,"").slice(0,13);(s==null?void 0:s.business_type)==="individual"?h("T"+a):h(a)},className:`w-full bg-surface-highlight border border-border rounded-lg ${(s==null?void 0:s.business_type)==="individual"?"pl-7":"px-4"} pr-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"æ±ºç®—é–‹å§‹æœˆï¼ˆä¼šè¨ˆåˆæœˆï¼‰"}),e.jsx("select",{className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all",value:F,onChange:t=>M(parseInt(t.target.value)),children:[...Array(12)].map((t,a)=>e.jsxs("option",{value:a+1,children:[a+1,"æœˆ"]},a+1))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"è³‡æœ¬é‡‘"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted font-medium text-sm",children:"Â¥"}),e.jsx("input",{type:"number",placeholder:"0",value:D,onChange:t=>O(Number(t.target.value)),className:"w-full bg-surface-highlight border border-border rounded-lg pl-7 pr-4 py-2 text-text-main focus:ring-2 focus:ring-primary/50 outline-none"})]})]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("h3",{className:"text-md font-medium text-text-main mb-4",children:"å‰æœŸãƒ‡ãƒ¼ã‚¿ã®å¼•ãç¶™ã"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-dashed border-border flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"å‰æœŸæç›Šè¨ˆç®—æ›¸ (P&L)"}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:d?`${d.year}å¹´åº¦ãƒ‡ãƒ¼ã‚¿å–è¾¼æ¸ˆ`:"å‰æœŸã®å®Ÿç¸¾ã‚’å–ã‚Šè¾¼ã¿ã¾ã™"})]}),d&&e.jsx(b,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex gap-2 mt-auto",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex-1 bg-primary hover:bg-primary/90 text-white px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{size:14})," ",d?"å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ":"P&Lã‚¤ãƒ³ãƒãƒ¼ãƒˆ"]}),(d==null?void 0:d.document_path)&&e.jsxs("button",{onClick:()=>R(d.document_path),className:"bg-surface hover:bg-surface-highlight border border-border text-text-main px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center",title:"æ›¸é¡ã‚’è¡¨ç¤º",children:[e.jsx(W,{size:14,className:"mr-1"}),e.jsx(te,{size:12})]})]})]}),e.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-dashed border-border flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"å‰æœŸè²¸å€Ÿå¯¾ç…§è¡¨ (B/S)"}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:n?`${n.year}å¹´åº¦ãƒ‡ãƒ¼ã‚¿å–è¾¼æ¸ˆ`:"æœŸé¦–æ®‹é«˜ã‚’è¨­å®šã—ã¾ã™"})]}),n&&e.jsx(b,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex gap-2 mt-auto",children:[e.jsxs("button",{onClick:()=>w(!0),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{size:14})," ",n?"å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ":"B/Sã‚¤ãƒ³ãƒãƒ¼ãƒˆ"]}),(n==null?void 0:n.document_path)&&e.jsxs("button",{onClick:()=>R(n.document_path),className:"bg-surface hover:bg-surface-highlight border border-border text-text-main px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center",title:"æ›¸é¡ã‚’è¡¨ç¤º",children:[e.jsx(W,{size:14,className:"mr-1"}),e.jsx(te,{size:12})]})]})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:T,disabled:u,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[u?e.jsx(se,{size:18,className:"animate-spin"}):e.jsx(ae,{size:18}),(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº","ã®è¨­å®šã‚’ä¿å­˜"]})})]})}),l==="invoice"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-6 text-text-main",children:["ã‚¤ãƒ³ãƒœã‚¤ã‚¹åˆ¶åº¦ã®è¨­å®š (",(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº",")"]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"äº‹æ¥­å½¢æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:["individual","corporation"].map(t=>{const a=N.find(j=>j.business_type===t),i=(s==null?void 0:s.business_type)===t;return e.jsxs("button",{onClick:()=>a&&y(a.id),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg font-medium transition-all ${i?"border-primary bg-primary/5 text-primary shadow-sm":"border-border text-text-muted hover:border-primary/30 hover:text-text-main"}`,children:[t==="individual"?e.jsx(H,{size:18}):e.jsx(ee,{size:18}),t==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº"]},t)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"é©æ ¼è«‹æ±‚æ›¸ç™ºè¡Œäº‹æ¥­è€…ã®ç™»éŒ²çŠ¶æ…‹"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{className:"flex items-center p-4 border border-primary bg-primary/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"invoice_status",className:"w-4 h-4 text-primary",defaultChecked:!0}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-text-main",children:"ç™»éŒ²æ¸ˆã¿"}),e.jsx("span",{className:"block text-xs text-text-muted",children:"é©æ ¼è«‹æ±‚æ›¸ç™ºè¡Œäº‹æ¥­è€…ã¨ã—ã¦ç™»éŒ²ã—ã¦ã„ã¾ã™"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border border-border rounded-lg cursor-pointer hover:bg-surface-highlight",children:[e.jsx("input",{type:"radio",name:"invoice_status",className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-text-main",children:"æœªç™»éŒ² / å…ç¨äº‹æ¥­è€…"}),e.jsx("span",{className:"block text-xs text-text-muted",children:"ç¾åœ¨ã¯ç™»éŒ²ã—ã¦ã„ã¾ã›ã‚“"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ç™»éŒ²ç•ªå·"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-muted font-medium",children:"T"}),e.jsx("input",{type:"text",placeholder:"13æ¡ã®æ•°å­—ã‚’å…¥åŠ›",value:g.replace(/^T/,""),onChange:t=>h("T"+t.target.value.replace(/\D/g,"").slice(0,13)),className:"w-full bg-surface-highlight border border-border rounded-lg pl-8 pr-4 py-2.5 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all"})]}),e.jsx("p",{className:"mt-2 text-xs text-text-muted",children:"Tã‹ã‚‰å§‹ã¾ã‚‹13æ¡ã®ç™»éŒ²ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ¶ˆè²»ç¨è¨­å®š"}),e.jsxs("select",{className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2.5 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all",children:[e.jsx("option",{value:"10",children:"æ¨™æº–ç¨ç‡ (10%)"}),e.jsx("option",{value:"8",children:"è»½æ¸›ç¨ç‡ (8%)"}),e.jsx("option",{value:"0",children:"éèª²ç¨ / å…ç¨"})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:T,disabled:u,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[u?e.jsx(se,{size:18,className:"animate-spin"}):e.jsx(ae,{size:18}),(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº","ã®ã‚¤ãƒ³ãƒœã‚¤ã‚¹è¨­å®šã‚’ä¿å­˜"]})})]})]})}),x&&s&&e.jsxs(e.Fragment,{children:[e.jsx(Se,{isOpen:de,onClose:()=>v(!1),userId:x.id,businessType:s.business_type,onImportSuccess:()=>{c.success("P&Lã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ"),p()}}),e.jsx(Ce,{isOpen:ne,onClose:()=>w(!1),userId:x.id,businessType:s.business_type,onImportSuccess:()=>{c.success("B/Sã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ"),p()}})]})]})})};export{Ye as default};

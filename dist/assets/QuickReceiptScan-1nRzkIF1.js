import{_ as C,r as p,j as e}from"./index-Y298rBAR.js";import{T as E}from"./index-CHsK9wE7.js";import{R as M,b as U}from"./ReceiptResultModal-ChRF7OvC.js";import{C as w}from"./camera-CDnca7H9.js";import{Z as O}from"./zap-DsKMj2j8.js";import{S as I}from"./sparkles-CFnDGBUv.js";import{C as R}from"./circle-check-big-CrIPLrmM.js";import"./circle-check-CwfLxRHp.js";const m={FOOD:"é£Ÿè²»",TRANSPORT:"äº¤é€šè²»",SUPPLIES:"æ¶ˆè€—å“è²»",ENTERTAINMENT:"æ¥å¾…äº¤éš›è²»",UTILITIES:"æ°´é“å…‰ç†±è²»",COMMUNICATION:"é€šä¿¡è²»",INSURANCE:"ä¿é™ºæ–™",RENT:"å®¶è³ƒ",LOAN:"ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ",TAX:"ç¨é‡‘",SALARY:"çµ¦ä¸",BONUS:"è³ä¸",OTHER:"ãã®ä»–"},v={[m.FOOD]:["ã‚¹ãƒ¼ãƒ‘ãƒ¼","é£Ÿå“","å¼å½“","æƒ£èœ","é‡èœ","è‚‰","é­š","ç±³","ãƒ‘ãƒ³","ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³","ãƒ­ãƒ¼ã‚½ãƒ³","ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒãƒ¼ãƒˆ","ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰","ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹","ã™ãå®¶","å‰é‡å®¶","æ¾å±‹","ã‚µã‚¤ã‚¼ãƒªãƒ¤","ã‚¬ã‚¹ãƒˆ","ãã‚‰å¯¿å¸","ã‚¹ã‚·ãƒ­ãƒ¼","ã‚¤ã‚ªãƒ³","ã‚¤ãƒˆãƒ¼ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ãƒ©ã‚¤ãƒ•","ã‚µãƒŸãƒƒãƒˆ","è¥¿å‹","ãƒãƒƒã‚¯ã‚¹ãƒãƒªãƒ¥","æˆåŸçŸ³äº•","ã‚«ãƒ«ãƒ‡ã‚£","æ¥­å‹™ã‚¹ãƒ¼ãƒ‘ãƒ¼","é£²é£Ÿåº—","ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³","ã‚«ãƒ•ã‚§","å±…é…’å±‹","ãƒãƒ¼","é£Ÿå ‚","ãƒ•ãƒ¼ãƒ‰","ãƒ‰ãƒªãƒ³ã‚¯","ãŠèŒ¶","ã‚³ãƒ¼ãƒ’ãƒ¼","ã‚³ãƒ³ãƒ“ãƒ‹","ç‰›ä¸¼","å®šé£Ÿ","ãƒ©ãƒ¼ãƒ¡ãƒ³","ã†ã©ã‚“","ãã°","ãƒ‘ã‚¹ã‚¿","ãƒ”ã‚¶","ãƒãƒ³ãƒãƒ¼ã‚°","ã‚ªãƒ ãƒ©ã‚¤ã‚¹","ã‚«ãƒ¬ãƒ¼","ä¸¼ç‰©","æƒ£èœ"],[m.TRANSPORT]:["ã‚¿ã‚¯ã‚·ãƒ¼","äº¤é€š","é‰„é“","ãƒã‚¹","é§…","åˆ‡ç¬¦","å®šæœŸåˆ¸","Suica","PASMO","JR","åœ°ä¸‹é‰„","ãƒ¡ãƒˆãƒ­","èˆªç©º","é£›è¡Œæ©Ÿ","ç©ºæ¸¯","ã‚¬ã‚½ãƒªãƒ³","çµ¦æ²¹","é§è»Šå ´","ãƒ‘ãƒ¼ã‚­ãƒ³ã‚°","é«˜é€Ÿé“è·¯","ETC","å‡ºå¼µ","æ—…è²»","é›»è»Š","æ–°å¹¹ç·š","ç‰¹æ€¥","æ€¥è¡Œ","å¿«é€Ÿ","æ™®é€š","å„é§…åœè»Š","ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«","ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼","è·¯é¢é›»è»Š"," tram"," ferry","èˆ¹","ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼","ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°","Uber","Lyft"],[m.SUPPLIES]:["ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢","è–¬å±€","ãƒãƒ„ãƒ¢ãƒˆã‚­ãƒ¨ã‚·","ã‚¦ã‚¨ãƒ«ã‚·ã‚¢","ãƒ„ãƒ«ãƒ","ãƒ¦ãƒ‹ã‚¯ãƒ­","GU","ç„¡å°è‰¯å“","ãƒ‹ãƒˆãƒª","ãƒ€ã‚¤ã‚½ãƒ¼","ã‚»ãƒªã‚¢","ã‚­ãƒ£ãƒ³ãƒ‰ã‚¥","ãƒ‰ãƒ³ãƒ»ã‚­ãƒ›ãƒ¼ãƒ†","ãƒ›ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼","ã‚«ã‚¤ãƒ³ã‚º","ã‚³ãƒ¼ãƒŠãƒ³","æ–‡å…·","äº‹å‹™ç”¨å“","æ—¥ç”¨å“","é›‘è²¨","æ´—å‰¤","ãƒˆã‚¤ãƒ¬ãƒƒãƒˆãƒšãƒ¼ãƒ‘ãƒ¼","ãƒ†ã‚£ãƒƒã‚·ãƒ¥","ã‚³ãƒ”ãƒ¼","å°åˆ·","ã‚ªãƒ•ã‚£ã‚¹ç”¨å“","æ¶ˆè€—å“","ã‚¤ãƒ³ã‚¯","ãƒˆãƒŠãƒ¼","ç´™","ãƒ•ã‚¡ã‚¤ãƒ«","ãƒãƒ¼ãƒˆ","ãƒœãƒ¼ãƒ«ãƒšãƒ³","ã‚·ãƒ£ãƒ¼ãƒ—ãƒšãƒ³ã‚·ãƒ«","æ¶ˆã—ã‚´ãƒ ","å®šè¦","ã¯ã•ã¿","ã®ã‚Š","ãƒ›ãƒƒãƒã‚­ã‚¹","ã‚¹ãƒ†ãƒ¼ãƒ—ãƒ©ãƒ¼","ãƒ†ãƒ¼ãƒ—","é¤Šç”Ÿãƒ†ãƒ¼ãƒ—","ãƒ“ãƒ‹ãƒ¼ãƒ«è¢‹"],[m.ENTERTAINMENT]:["å±…é…’å±‹","ã‚«ãƒ©ã‚ªã‚±","ã‚´ãƒ«ãƒ•","ãƒã‚±ãƒƒãƒˆ","æ˜ ç”»","ã‚³ãƒ³ã‚µãƒ¼ãƒˆ","ã‚¤ãƒ™ãƒ³ãƒˆ","ã‚®ãƒ•ãƒˆ","è´ˆç­”","ãŠåœŸç”£","æ¥å¾…","ä¼šé£Ÿ","ãƒ‘ãƒ¼ãƒ†ã‚£","éŠåœ’åœ°","ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯","æ°´æ—é¤¨","å‹•ç‰©åœ’","ç¾è¡“é¤¨","åšç‰©é¤¨","ã‚²ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼","ãƒ‘ãƒãƒ³ã‚³","ç«¶é¦¬","ç«¶è‰‡","ã‚ªãƒ¼ãƒˆãƒ¬ãƒ¼ã‚¹","æ—…è¡Œ","è¦³å…‰","å®¿æ³Š","ãƒ›ãƒ†ãƒ«","æ—…é¤¨","æ°‘å®¿"],[m.COMMUNICATION]:["æºå¸¯","ã‚¹ãƒãƒ›","é›»è©±","ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ","Wi-Fi","ãƒ—ãƒ­ãƒã‚¤ãƒ€","ãƒ‰ã‚³ãƒ¢","au","ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯","æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«","åˆ‡æ‰‹","éƒµä¾¿","å®…é…","é€æ–™","Skype","Zoom","Teams","Slack","LINE","WhatsApp","Telegram","Netflix","Amazon Prime","Disney+","Spotify","Apple Music","Yahoo! BB","NURO","So-net","BIGLOBE","OCN","ã·ã‚‰ã‚‰"],[m.UTILITIES]:["é›»æ°—","ã‚¬ã‚¹","æ°´é“","æ±äº¬é›»åŠ›","é–¢è¥¿é›»åŠ›","æ±äº¬ã‚¬ã‚¹","å¤§é˜ªã‚¬ã‚¹","æ°´é“å±€","ã‚¨ãƒã‚ªã‚¹","å‡ºå…‰","ã‚³ã‚¹ãƒ¢","ã‚·ã‚§ãƒ«","ã‚¨ãƒã‚ªã‚¹","JOMO","åƒè‘‰çŸ³æ²¹","ç¯æ²¹","ãƒ—ãƒ­ãƒ‘ãƒ³","éƒ½å¸‚ã‚¬ã‚¹","å¤©ç„¶ã‚¬ã‚¹","æ°´é“æ–™é‡‘","ä¸‹æ°´é“","é›»åŠ›é‡","ã‚¬ã‚¹ä½¿ç”¨é‡","æ°´ä½¿ç”¨é‡","åŸºæœ¬æ–™é‡‘","å¾“é‡æ–™é‡‘"],[m.INSURANCE]:["ä¿é™º","ç”Ÿå‘½ä¿é™º","æå®³ä¿é™º","åŒ»ç™‚ä¿é™º","ç”Ÿå‘½","æå®³","åŒ»ç™‚","å¹´é‡‘","å…±æ¸ˆ","JAå…±æ¸ˆ","ã‚ã‚“ã—ã‚“","æå®³","ç”Ÿå‘½ä¿é™ºæ–™","æå®³ä¿é™ºæ–™"],[m.RENT]:["å®¶è³ƒ","è³ƒæ–™","è³ƒè²¸","ãƒãƒ³ã‚·ãƒ§ãƒ³","ã‚¢ãƒ‘ãƒ¼ãƒˆ","ç‰©ä»¶","ä¸å‹•ç”£","æ•·é‡‘","ç¤¼é‡‘","ä¿è¨¼é‡‘","å…±ç›Šè²»","ç®¡ç†è²»"],[m.LOAN]:["ãƒ­ãƒ¼ãƒ³","è¿”æ¸ˆ","å€Ÿå…¥","ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³","ä½å®…ãƒ­ãƒ¼ãƒ³","æ•™è‚²ãƒ­ãƒ¼ãƒ³","è»Šä¸¡ãƒ­ãƒ¼ãƒ³","ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","ä½å®…ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","æ•™è‚²ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","è»Šä¸¡ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ"],[m.TAX]:["ç¨","ç¨é‡‘","æ‰€å¾—ç¨","ä½æ°‘ç¨","å›ºå®šè³‡ç”£ç¨","è‡ªå‹•è»Šç¨","è»½è‡ªå‹•è»Šç¨","å›½æ°‘å¥åº·ä¿é™ºç¨","å¾ŒæœŸé«˜é½¢è€…åŒ»ç™‚ä¿é™º","å›½æ°‘å¹´é‡‘ä¿é™ºæ–™"],[m.SALARY]:["çµ¦ä¸","çµ¦æ–™","æœˆçµ¦","æ™‚çµ¦","æ—¥çµ¦","ãƒœãƒ¼ãƒŠã‚¹","è³ä¸","æ‰‹å½“","æ®‹æ¥­ä»£","å‰²å¢—è³ƒé‡‘","é€€è·é‡‘"],[m.BONUS]:["ãƒœãƒ¼ãƒŠã‚¹","è³ä¸","ç‰¹åˆ¥æ‰‹å½“","ä¸€æ™‚é‡‘","ã‚¤ãƒ³ã‚»ãƒ³ãƒ†ã‚£ãƒ–","æ­©åˆ"]};class D{parseReceipt(i){console.log("ğŸ“„ ãƒ¬ã‚·ãƒ¼ãƒˆè§£æã‚’é–‹å§‹ã€‚OCRãƒ†ã‚­ã‚¹ãƒˆ:",i);const a=this.normalizeText(i);console.log("ğŸ”¤ æ­£è¦åŒ–å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆ:",a);const t=this.extractStoreName(a),n=this.extractItems(a),s=this.categorizeReceipt(t,n,a),c={store_name:t,date:this.extractDate(a),total_amount:this.extractTotal(a),tax_rate:this.extractTaxRate(a),raw_text:i,confidence:{store_name:this.calculateConfidence("store_name",a),date:this.calculateConfidence("date",a),total_amount:this.calculateConfidence("total_amount",a),tax_rate:this.calculateConfidence("tax_rate",a)},items:n,items_count:n.length,category:s,expenseType:"expense",aiConfidence:.8};return console.log("ğŸ“Š ãƒ¬ã‚·ãƒ¼ãƒˆè§£æçµæœ:",c),c}normalizeText(i){return i.replace(/[ï¼-ï¼™]/g,a=>String.fromCharCode(a.charCodeAt(0)-65248)).replace(/[ï¼¡-ï¼ºï½-ï½š]/g,a=>String.fromCharCode(a.charCodeAt(0)-65248))}categorizeReceipt(i,a,t){let n={};Object.values(m).forEach(r=>n[r]=0);for(const[r,o]of Object.entries(v))for(const l of o)i.includes(l)&&(n[r]+=15);for(const r of a)for(const[o,l]of Object.entries(v))for(const d of l)r.name.includes(d)&&(n[o]+=5);for(const[r,o]of Object.entries(v))for(const l of o){const d=i.includes(l),x=a.some(u=>u.name.includes(l));t.includes(l)&&(d||x?n[r]+=1:n[r]+=2)}(t.includes("çµ¦ä¸")||t.includes("çµ¦æ–™")||t.includes("æœˆçµ¦")||t.includes("æ™‚çµ¦")||t.includes("æ—¥çµ¦")||t.includes("æ‰‹å½“"))&&(n[m.SALARY]+=20),(t.includes("ãƒœãƒ¼ãƒŠã‚¹")||t.includes("è³ä¸")||t.includes("ç‰¹åˆ¥æ‰‹å½“"))&&(n[m.BONUS]+=20),t.includes("ä¿é™º")&&(t.includes("æ–™")||t.includes("é‡‘"))&&(n[m.INSURANCE]+=15),(t.includes("å®¶è³ƒ")||t.includes("è³ƒæ–™")||t.includes("è³ƒè²¸"))&&(n[m.RENT]+=15),t.includes("ãƒ­ãƒ¼ãƒ³")&&t.includes("è¿”æ¸ˆ")&&(n[m.LOAN]+=15),t.includes("ç¨")&&(t.includes("é‡‘")||t.includes("æ–™"))&&(n[m.TAX]+=10);let s=0,c=m.OTHER;for(const[r,o]of Object.entries(n))o>s&&(s=o,c=r);return c}extractTotal(i){console.log("ğŸ’° åˆè¨ˆé‡‘é¡æŠ½å‡ºã‚’é–‹å§‹");const a=[/(?:åˆ\s*è¨ˆ|ç·\s*è¨ˆ|ãŠè²·ä¸Šè¨ˆ|ãŠè²·ã„ä¸Šã’è¨ˆ|é ˜åé‡‘é¡|æ”¯æ‰•é‡‘é¡|è«‹æ±‚é‡‘é¡|ãŠæ”¯æ‰•ã„|ãŠä¼šè¨ˆ)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/åˆ\s*è¨ˆ[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/å°\s*è¨ˆ[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ç¾\s*é‡‘|ç¾é‡‘)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ã‚¯ãƒ¬(?:ã‚¸ãƒƒãƒˆ)?|ã‚¯ãƒ¬ã‚«|ã‚«ãƒ¼ãƒ‰)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/PayPay[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:dæ‰•ã„|ï½„æ‰•ã„)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:au\s*PAY|auPAY|auãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:LINE\s*Pay|LINEãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:æ¥½å¤©ãƒšã‚¤|æ¥½å¤©Pay)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ãƒ¡ãƒ«ãƒšã‚¤|Merpay)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:Suica|ã‚¹ã‚¤ã‚«)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:PASMO|ãƒ‘ã‚¹ãƒ¢)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:nanaco|ãƒŠãƒŠã‚³)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:WAON|ãƒ¯ã‚ªãƒ³)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:Edy|ã‚¨ãƒ‡ã‚£)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:iD|ã‚¢ã‚¤ãƒ‡ã‚£ãƒ¼)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:QUICPay|ã‚¯ã‚¤ãƒƒã‚¯ãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/[Tt]otal[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Ss]ubtotal[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Aa]mount[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Â¥ï¿¥]\s*([0-9,ï¼Œ]+)(?!\s*[\-\+Ã—Ã·])/,/([0-9,ï¼Œ]+)\s*å††(?!\s*[\-\+Ã—Ã·])/,/^\s*([0-9,ï¼Œ]{4,})\s*$/m];let t=0,n=0,s=0;for(let r=0;r<7;r++){const o=i.match(a[r]);if(o){const l=o[1].replace(/[,ï¼Œ]/g,""),d=parseFloat(l);if(!isNaN(d)&&d>0&&d<1e6){console.log(`âœ… é«˜ä¿¡é ¼åº¦é‡‘é¡æŠ½å‡ºæˆåŠŸ (ãƒ‘ã‚¿ãƒ¼ãƒ³${r}):`,d),t=d;break}}}if(t===0)for(let r=7;r<a.length-3;r++){const o=i.match(a[r]);if(o){const l=o[1].replace(/[,ï¼Œ]/g,""),d=parseFloat(l);if(!isNaN(d)&&d>0&&d<1e6){console.log(`âœ… ä¸­ä¿¡é ¼åº¦é‡‘é¡æŠ½å‡ºæˆåŠŸ (ãƒ‘ã‚¿ãƒ¼ãƒ³${r}):`,d),n=d;break}}}if(t===0&&n===0){const r=i.match(/[0-9,ï¼Œ]+/g);if(r){const o=r.map(l=>parseInt(l.replace(/[,ï¼Œ]/g,""))).filter(l=>!isNaN(l)&&l>0&&l<1e6).filter(l=>{const d=l.toString();return!(d.length===8&&d.startsWith("20")||d.length===6&&parseInt(d.substring(0,2))<=25)});if(o.length>0){const l={};for(const x of o)l[x]=(l[x]||0)+1;const d=Object.entries(l).filter(([x,u])=>u>=2).map(([x,u])=>parseInt(x)).sort((x,u)=>u-x);d.length>0?(s=d[0],console.log("âœ… é »å‡ºé‡‘é¡ã‚’åˆè¨ˆã¨ã—ã¦æ¡ç”¨:",s)):(s=Math.max(...o),console.log("âœ… æœ€å¤§å€¤ã‚’åˆè¨ˆé‡‘é¡ã¨ã—ã¦æ¡ç”¨:",s))}}}const c=t||n||s;return c===0?(console.warn("âš ï¸ é‡‘é¡ãŒæŠ½å‡ºã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚"),1e3):(console.log("ğŸ’° æœ€çµ‚çš„ãªåˆè¨ˆé‡‘é¡:",c),Math.round(c))}extractDate(i){console.log("æ—¥ä»˜æŠ½å‡ºã‚’é–‹å§‹");const a=[/(\d{4})[å¹´\/\-](\d{1,2})[æœˆ\/\-](\d{1,2})[æ—¥]?/,/(\d{2,4})[\/\-](\d{1,2})[\/\-](\d{1,2})/,/(\d{4})\.(\d{2})\.(\d{2})/,/(?:ä»¤å’Œ|R)(\d{1,2})[å¹´\/\-](\d{1,2})[æœˆ\/\-](\d{1,2})[æ—¥]?/];for(const t of a){const n=i.match(t);if(n){let s=n[1];const c=n[2].padStart(2,"0"),r=n[3].padStart(2,"0");t.toString().includes("ä»¤å’Œ")||t.toString().includes("R")?s=(parseInt(s)+2018).toString():s.length===2&&(s="20"+s);const o=new Date(`${s}-${c}-${r}`);if(!isNaN(o.getTime())&&o.getFullYear()>2e3&&o.getFullYear()<2030){const l=`${s}-${c}-${r}`;return console.log("æ—¥ä»˜æŠ½å‡ºæˆåŠŸ:",l),l}}}return new Date().toISOString().split("T")[0]}extractTaxRate(i){if(console.log("ç¨ç‡æŠ½å‡ºã‚’é–‹å§‹"),i.match(/8%|è»½æ¸›ç¨ç‡/))return 8;if(i.match(/10%|æ¨™æº–ç¨ç‡/))return 10;const a=[/ç¨ç‡?\s*(\d+(?:\.\d+)?)%/,/æ¶ˆè²»ç¨\s*(\d+(?:\.\d+)?)%/,/\(?(10|8)%\)?/];for(const t of a){const n=i.match(t);if(n){const s=parseFloat(n[1]);if(!isNaN(s))return s}}return 10}extractStoreName(i){console.log("ğŸª åº—èˆ—åæŠ½å‡ºã‚’é–‹å§‹ï¼ˆé«˜ç²¾åº¦ãƒ¢ãƒ¼ãƒ‰ï¼‰"),C(async()=>{const{StoreNameMatcher:s}=await import("./storeNameMatcher-DZES8GXv.js");return{StoreNameMatcher:s}},[]).then(({StoreNameMatcher:s})=>{console.log("StoreNameMatcherèª­ã¿è¾¼ã¿å®Œäº†")}).catch(()=>{console.log("StoreNameMatcherã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯")});const a=i.split(`
`).map(s=>s.trim()).filter(s=>s.length>0),t=["ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³","ã‚»ãƒ–ãƒ³-ã‚¤ãƒ¬ãƒ–ãƒ³","ã‚»ãƒ–ãƒ³","7-ELEVEN","7-11","7ELEVEN","ãƒ­ãƒ¼ã‚½ãƒ³","LAWSON","ãƒŠãƒãƒ¥ãƒ©ãƒ«ãƒ­ãƒ¼ã‚½ãƒ³","ãƒ­ãƒ¼ã‚½ãƒ³ã‚¹ãƒˆã‚¢100","ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒãƒ¼ãƒˆ","ãƒ•ã‚¡ãƒŸãƒ","FamilyMart","FAMILY MART","ãƒŸãƒ‹ã‚¹ãƒˆãƒƒãƒ—","MINISTOP","ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¤ãƒã‚¶ã‚­","ãƒ¤ãƒã‚¶ã‚­ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ãƒˆã‚¢","ãƒ‹ãƒ¥ãƒ¼ãƒ‡ã‚¤ã‚º","NewDays","ãƒãƒ—ãƒ©","ãã‚‰ã—ãƒã‚¦ã‚¹","ã‚¤ã‚ªãƒ³","AEON","ãƒãƒƒã‚¯ã‚¹ãƒãƒªãƒ¥","MaxValu","ã‚¶ãƒ»ãƒ“ãƒƒã‚°","ã¾ã„ã°ã™ã‘ã£ã¨","ã‚¤ãƒˆãƒ¼ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ItoYokado","ãƒ©ã‚¤ãƒ•","LIFE","ã‚µãƒŸãƒƒãƒˆ","Summit","è¥¿å‹","SEIYU","ãƒãƒ«ã‚¨ãƒ„","Maruetsu","ãƒ€ã‚¤ã‚¨ãƒ¼","DAIEI","æˆåŸçŸ³äº•","æˆåŸ","ã‚«ãƒ«ãƒ‡ã‚£","KALDI","ã‚«ãƒ«ãƒ‡ã‚£ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ•ã‚¡ãƒ¼ãƒ ","æ¥­å‹™ã‚¹ãƒ¼ãƒ‘ãƒ¼","ã‚ªãƒ¼ã‚±ãƒ¼","OK","ã‚ªãƒ¼ã‚±ãƒ¼ã‚¹ãƒˆã‚¢","ã‚³ãƒ¼ãƒ—","COOP","ç”Ÿå”","ãƒ¤ã‚ªã‚³ãƒ¼","ãƒ™ãƒ«ã‚¯","ãƒ™ã‚¤ã‚·ã‚¢","ãƒˆãƒ©ã‚¤ã‚¢ãƒ«","ãƒ‰ãƒ³ãƒ»ã‚­ãƒ›ãƒ¼ãƒ†","ãƒ‰ãƒ³ã‚­","ãƒ‰ãƒ³ã‚­ãƒ›ãƒ¼ãƒ†","MEGAãƒ‰ãƒ³ã‚­","ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰","McDonald's","ãƒãƒƒã‚¯","McDonalds","ãƒ¢ã‚¹ãƒãƒ¼ã‚¬ãƒ¼","ãƒ¢ã‚¹","MOS BURGER","ãƒ­ãƒƒãƒ†ãƒªã‚¢","LOTTERIA","ã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼","KFC","ã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼ãƒ•ãƒ©ã‚¤ãƒ‰ãƒã‚­ãƒ³","ãƒãƒ¼ã‚¬ãƒ¼ã‚­ãƒ³ã‚°","BURGER KING","ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒã‚¹ãƒãƒ¼ã‚¬ãƒ¼","ã‚µãƒ–ã‚¦ã‚§ã‚¤","SUBWAY","ãƒŸã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ¼ãƒŠãƒ„","ãƒŸã‚¹ãƒ‰","Mister Donut","ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹","ã‚¹ã‚¿ãƒ","Starbucks","STARBUCKS","ãƒ‰ãƒˆãƒ¼ãƒ«","DOUTOR","ã‚¿ãƒªãƒ¼ã‚º","TULLY'S","ã‚¿ãƒªãƒ¼ã‚ºã‚³ãƒ¼ãƒ’ãƒ¼","ã‚³ãƒ¡ãƒ€çˆç²","ã‚³ãƒ¡ãƒ€","KOMEDA","ã‚µãƒ³ãƒãƒ«ã‚¯ã‚«ãƒ•ã‚§","ã‚µãƒ³ãƒãƒ«ã‚¯","ãƒ—ãƒ­ãƒ³ãƒˆ","PRONTO","ä¸Šå³¶çˆç²","ã‚«ãƒ•ã‚§ãƒ»ãƒ‰ãƒ»ã‚¯ãƒªã‚¨","ãƒ™ãƒ­ãƒ¼ãƒã‚§","ã™ãå®¶","ã™ãã‚„","SUKIYA","å‰é‡å®¶","YOSHINOYA","æ¾å±‹","MATSUYA","ãªã‹å¯","NAKAU","ã¦ã‚“ã‚„","å¤§æˆ¸å±‹","OOTOYA","ã‚„ã‚ˆã„è»’","ã‚¬ã‚¹ãƒˆ","GUSTO","ã‚µã‚¤ã‚¼ãƒªãƒ¤","Saizeriya","ã‚¸ãƒ§ãƒŠã‚µãƒ³","Jonathan's","ãƒãƒ¼ãƒŸãƒ¤ãƒ³","ãƒ­ã‚¤ãƒ¤ãƒ«ãƒ›ã‚¹ãƒˆ","ãƒ‡ãƒ‹ãƒ¼ã‚º","Denny's","ã‚³ã‚³ã‚¹","COCO'S","ãƒ“ãƒƒã‚°ãƒœãƒ¼ã‚¤","ãã‚‰å¯¿å¸","ãã‚‰ãšã—","ç„¡æ·»ãã‚‰å¯¿å¸","ã‚¹ã‚·ãƒ­ãƒ¼","SUSHIRO","ã¯ã¾å¯¿å¸","ã¯ã¾ãšã—","ã‹ã£ã±å¯¿å¸","ã‹ã£ã±ãšã—","é­šã¹ã„","ã‚µã‚¤ã‚¼ãƒªã‚¢","ãƒªãƒ³ã‚¬ãƒ¼ãƒãƒƒãƒˆ","ä¸¸äº€è£½éºº","ã¯ãªã¾ã‚‹ã†ã©ã‚“","å¤©ä¸‹ä¸€å“","ä¸€é¢¨å ‚","æ—¥é«˜å±‹","ç‹å°†","é¤ƒå­ã®ç‹å°†","ãƒšãƒƒãƒ‘ãƒ¼ãƒ©ãƒ³ãƒ","ãƒãƒ„ãƒ¢ãƒˆã‚­ãƒ¨ã‚·","ãƒãƒ„ã‚­ãƒ¨","matsukiyo","ã‚¦ã‚¨ãƒ«ã‚·ã‚¢","Welcia","ãƒ„ãƒ«ãƒãƒ‰ãƒ©ãƒƒã‚°","ãƒ„ãƒ«ãƒ","ã‚µãƒ³ãƒ‰ãƒ©ãƒƒã‚°","SUNDRUG","ã‚¹ã‚®è–¬å±€","ã‚¹ã‚®ãƒ¤ãƒ","ã‚³ã‚³ã‚«ãƒ©ãƒ•ã‚¡ã‚¤ãƒ³","ã‚¯ãƒªã‚¨ã‚¤ãƒˆ","ã‚³ã‚¹ãƒ¢ã‚¹","ã‚»ã‚¤ãƒ ã‚¹","ãƒ€ã‚¤ã‚³ã‚¯ãƒ‰ãƒ©ãƒƒã‚°","ãƒˆãƒ¢ã‚º","ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©","ãƒ“ãƒƒã‚°ã‚«ãƒ¡ãƒ©","BIC CAMERA","ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©","ãƒ¨ãƒ‰ãƒã‚·","Yodobashi","ãƒ¤ãƒãƒ€é›»æ©Ÿ","ãƒ¤ãƒãƒ€ãƒ‡ãƒ³ã‚­","YAMADA","ã‚¨ãƒ‡ã‚£ã‚ªãƒ³","EDION","ã‚±ãƒ¼ã‚ºãƒ‡ãƒ³ã‚­","K's","ã‚¸ãƒ§ãƒ¼ã‚·ãƒ³","Joshin","ãƒã‚¸ãƒ","ã‚³ã‚¸ãƒ","ã‚½ãƒ•ãƒãƒƒãƒ—","ãƒ™ã‚¹ãƒˆé›»å™¨","ãƒ¦ãƒ‹ã‚¯ãƒ­","UNIQLO","GU","ã‚¸ãƒ¼ãƒ¦ãƒ¼","ã—ã¾ã‚€ã‚‰","ãƒ©ã‚¤ãƒˆã‚ªãƒ³","ãƒãƒ‹ãƒ¼ã‚º","ZARA","ã‚¶ãƒ©","H&M","GAP","ã‚®ãƒ£ãƒƒãƒ—","ãƒ¦ãƒŠã‚¤ãƒ†ãƒƒãƒ‰ã‚¢ãƒ­ãƒ¼ã‚º","ãƒ“ãƒ¼ãƒ ã‚¹","BEAMS","ã‚¢ãƒ¼ãƒãƒ³ãƒªã‚µãƒ¼ãƒ","ãƒ‹ãƒˆãƒª","NITORI","ç„¡å°è‰¯å“","MUJI","ãƒ€ã‚¤ã‚½ãƒ¼","DAISO","100å††ã‚·ãƒ§ãƒƒãƒ—","ã‚»ãƒªã‚¢","Seria","ã‚­ãƒ£ãƒ³ãƒ‰ã‚¥","Can Do","ãƒ•ãƒ©ãƒ³ãƒ•ãƒ©ãƒ³","æ±æ€¥ãƒãƒ³ã‚º","ãƒãƒ³ã‚º","HANDS","ãƒ­ãƒ•ãƒˆ","LOFT","ã‚«ã‚¤ãƒ³ã‚º","CAINZ","ã‚³ãƒ¼ãƒŠãƒ³","KOHNAN","ã‚³ãƒ¡ãƒª","ãƒ“ãƒãƒ›ãƒ¼ãƒ ","ã‚¸ãƒ§ã‚¤ãƒ•ãƒ«æœ¬ç”°","ã‚±ãƒ¼ãƒ¨ãƒ¼ãƒ‡ã‚¤ãƒ„ãƒ¼","D2","é«˜å³¶å±‹","ã‚¿ã‚«ã‚·ãƒãƒ¤","ä¼Šå‹¢ä¸¹","ISETAN","ä¸‰è¶Š","MITSUKOSHI","å¤§ä¸¸","DAIMARU","æ¾å‚å±‹","é˜ªæ€¥ç™¾è²¨åº—","é˜ªæ€¥","é˜ªç¥ç™¾è²¨åº—","é˜ªç¥","è¥¿æ­¦","è¥¿æ­¦ç™¾è²¨åº—","æ±æ­¦","æ±æ­¦ç™¾è²¨åº—","å°ç”°æ€¥ç™¾è²¨åº—","äº¬ç‹ç™¾è²¨åº—","è¿‘é‰„ç™¾è²¨åº—","ç´€ä¼Šåœ‹å±‹æ›¸åº—","ç´€ä¼Šå›½å±‹","ã‚¸ãƒ¥ãƒ³ã‚¯å ‚","ä¸¸å–„","TSUTAYA","ãƒ„ã‚¿ãƒ¤","ãƒ–ãƒƒã‚¯ã‚ªãƒ•","BOOKOFF","æœ‰éš£å ‚","ä¸‰çœå ‚æ›¸åº—","ãƒ¤ãƒãƒ€é›»æ©Ÿ","ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©","ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©","ãƒˆã‚¤ã‚¶ã‚‰ã‚¹","ãƒ™ãƒ“ãƒ¼ã‚¶ã‚‰ã‚¹","ABCãƒãƒ¼ãƒˆ","ã‚¢ã‚¹ãƒ“ãƒ¼","çœ¼é¡å¸‚å ´","JINS","ã‚¸ãƒ³ã‚º","Zoff","ã‚¾ãƒ•","ENEOS","ã‚¨ãƒã‚ªã‚¹","å‡ºå…‰","Idemitsu","ã‚³ã‚¹ãƒ¢çŸ³æ²¹","COSMO","ã‚·ã‚§ãƒ«","Shell","ã‚¨ãƒƒã‚½","Esso","ãƒ¢ãƒ¼ãƒ“ãƒ«","Mobil","Amazon","ã‚¢ãƒã‚¾ãƒ³","æ¥½å¤©","Rakuten","ãƒ¡ãƒ«ã‚«ãƒª","ãƒ¤ãƒ•ã‚ªã‚¯","Yahoo!","PayPay"];for(const s of t)if(i.includes(s))return console.log("âœ… åº—èˆ—åã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°æˆåŠŸ:",s),s;const n=i.match(/(?:TEL|é›»è©±|Tel|tel)[:ï¼š\s]*(\d{2,4}[-\s]\d{2,4}[-\s]\d{3,4})/);if(n){const s=a.findIndex(c=>c.includes(n[1])||c.includes(n[0]));if(s>0)for(let c=Math.max(0,s-3);c<s;c++){const r=a[c];if(r.length>2&&r.length<20&&!r.match(/[\d\/\-\.\:\s]+$/))return console.log("ğŸ“ é›»è©±ç•ªå·è¿‘ãã®åº—èˆ—åæ¨æ¸¬:",r),r}}if(a.length>0){const c=a[0].replace(/[|O.]/g,"").trim();if(c.length>1&&!/^[\d\s\-\/\.\:Â¥ï¿¥]+$/.test(c))return console.log("ğŸ”¤ æœ€åˆã®è¡Œã‚’åº—èˆ—åã¨ã—ã¦ä½¿ç”¨ï¼ˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å¾Œï¼‰:",c),c;if(a.length>1){const o=a[1].replace(/[|O.]/g,"").trim();if(o.length>1&&!/^[\d\s\-\/\.\:Â¥ï¿¥]+$/.test(o))return console.log("ğŸ”¤ 2è¡Œç›®ã‚’åº—èˆ—åã¨ã—ã¦ä½¿ç”¨ï¼ˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å¾Œï¼‰:",o),o}}return console.log("âŒ åº—èˆ—åãŒç‰¹å®šã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚"),"ä¸æ˜"}calculateConfidence(i,a){return .9}extractItems(i){console.log("å•†å“ã‚¢ã‚¤ãƒ†ãƒ æŠ½å‡ºã‚’é–‹å§‹");const a=[],t=i.split(`
`),n=[/(.+?)\s+([0-9,]+)å††/,/(.+?)\s+Â¥([0-9,]+)/,/(.+?)\s+ï¿¥([0-9,]+)/,/(.+?)\s+([0-9,]+)\s*å††/];for(const s of t)if(!(s.includes("åˆè¨ˆ")||s.includes("å°è¨ˆ")||s.includes("ç¨")||s.includes("/")||s.includes("-")||s.includes(":")||s.includes("ãŠé‡£ã‚Š")))for(const c of n){const r=s.match(c);if(r){const o=r[1].trim(),l=parseInt(r[2].replace(/[,ï¼Œ]/g,""));if(o.length>1&&o.length<50&&l>0&&l<1e5){a.push({name:o,price:l,quantity:1});break}}}return a}extractItemsCount(i){return this.extractItems(i).length}}const z=()=>{const[S,i]=p.useState(!1),[a,t]=p.useState(!1),[n,s]=p.useState(null),[c,r]=p.useState(!1),[o,l]=p.useState("å‡¦ç†ä¸­..."),d=async h=>{console.log("ğŸ“¸ handleCapture called with imageBlob:",h),i(!1),r(!0),l("ç”»åƒã‚’è§£æä¸­...");try{const f=URL.createObjectURL(h);console.log("ğŸ–¼ï¸ ç”»åƒURLç”Ÿæˆ:",f);const b=E.recognize(f,"jpn+eng",{logger:g=>{if(g.status==="recognizing text"){const y=Math.round(g.progress*100);console.log(`ğŸ” OCRé€²æ—: ${y}%`),l(`æ–‡å­—ã‚’èª­ã¿å–ã£ã¦ã„ã¾ã™... ${y}%`)}}}),T=new Promise((g,y)=>setTimeout(()=>y(new Error("OCRå‡¦ç†ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ")),3e4));let j="";try{j=(await Promise.race([b,T])).data.text,console.log("âœ… OCRå®Œäº†:",j.substring(0,100)+"...")}catch(g){console.warn("âš ï¸ OCRå‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸãŒã€æ‰‹å‹•å…¥åŠ›ã‚’ç¶šè¡Œã—ã¾ã™:",g)}URL.revokeObjectURL(f),l("ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºä¸­...");const N=new D().parseReceipt(j||"");console.log("ğŸ“Š ãƒ‘ãƒ¼ã‚¹çµæœ:",N);const A={merchant:N.store_name||"",date:N.date||new Date().toISOString().split("T")[0],amount:N.total_amount||0,category:"é›‘è²»",taxRate:N.tax_rate||0,confidence:j?80:0};console.log("ğŸ“¦ è¨­å®šã™ã‚‹extractedData:",A),s(A),console.log("ğŸš€ setShowResultModalã‚’trueã«è¨­å®š"),t(!0)}catch(f){console.error("ğŸ’¥ å‡¦ç†ã‚¨ãƒ©ãƒ¼:",f);const b={merchant:"",date:new Date().toISOString().split("T")[0],amount:0,category:"é›‘è²»",taxRate:10,confidence:0};console.log("âŒ ã‚¨ãƒ©ãƒ¼æ™‚ã®extractedData:",b),s(b),t(!0)}finally{console.log("ğŸ handleCapture finallyãƒ–ãƒ­ãƒƒã‚¯"),r(!1),l("å‡¦ç†ä¸­...")}},x=()=>{t(!1),i(!0)},u=()=>{console.log("ğŸšª ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹"),t(!1),s(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(w,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚­ãƒ£ãƒ³"}),e.jsx("p",{className:"text-xs text-gray-600",children:"ãƒ¬ã‚·ãƒ¼ãƒˆè‡ªå‹•èª­ã¿å–ã‚Š"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"px-3 py-1.5 bg-gradient-to-r from-green-100 to-emerald-100 rounded-full",children:e.jsx("span",{className:"text-xs font-semibold text-green-700",children:"AIæ­è¼‰"})})})]})})}),e.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-7xl",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6 order-last lg:order-first",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:"ğŸ“–"}),"ä½¿ã„æ–¹"]}),e.jsx("div",{className:"space-y-4",children:[{step:1,title:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±",icon:"ğŸ“¸"},{step:2,title:"AI ãŒè‡ªå‹•èªè­˜",icon:"ğŸ¤–"},{step:3,title:"ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠ",icon:"ğŸ·ï¸"},{step:4,title:"ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²",icon:"ğŸ’¾"}].map(h=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-md",children:h.step}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:h.title}),e.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:[h.step===1&&"ã‚«ãƒ¡ãƒ©ã§æ’®å½±ã™ã‚‹ã ã‘",h.step===2&&"æ•°ç§’ã§å®Œäº†",h.step===3&&"8ç¨®é¡ã‹ã‚‰é¸æŠ",h.step===4&&"å³åº§ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸"]})]})]},h.step))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl shadow-lg p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"âœ¨ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"è¶…é«˜é€Ÿå‡¦ç†ï¼ˆ5-10ç§’ï¼‰"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"AIç²¾åº¦95%ä»¥ä¸Š"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"è‡ªå‹•ã‚«ãƒ†ã‚´ãƒªåˆ¤å®š"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:"ğŸ’¡"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"æ’®å½±ã®ã‚³ãƒ„"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:"â€¢ æ˜ã‚‹ã„å ´æ‰€ã§æ’®å½±"}),e.jsx("li",{children:"â€¢ ãƒ¬ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’æ å†…ã«"}),e.jsx("li",{children:"â€¢ å¹³ã‚‰ã«ã—ã¦æ’®å½±"})]})]})]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700 mb-3",children:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±ã—ã¦è¨˜éŒ²"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl",children:"ã‚¹ãƒãƒ›ã§æ’®å½±ã™ã‚‹ã ã‘ã§ã€AIãŒè‡ªå‹•çš„ã«ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã¦è¨˜éŒ²ã—ã¾ã™"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100",children:[!S&&!c&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-3xl shadow-2xl mb-6 transform hover:scale-110 transition-transform duration-300",children:e.jsx(w,{className:"w-12 h-12 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³"}),e.jsx("p",{className:"text-gray-600",children:"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã—ã¦ãã ã•ã„"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"group relative px-10 py-5 bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white rounded-2xl shadow-2xl hover:shadow-blue-500/50 transform hover:scale-105 transition-all duration-300 font-bold text-lg inline-flex items-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 opacity-0 group-hover:opacity-20 transition-opacity rounded-2xl"}),e.jsx(w,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform"}),e.jsx("span",{children:"ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•"}),e.jsx("div",{className:"ml-3 px-3 py-1 bg-white/20 rounded-full text-sm font-medium",children:"START"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"95%"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"èªè­˜ç²¾åº¦"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"5ç§’"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"å¹³å‡å‡¦ç†æ™‚é–“"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"âˆ"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"åˆ©ç”¨å›æ•°"})]})]})]}),c&&e.jsxs("div",{className:"p-12 text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(I,{className:"w-10 h-10 text-blue-600 animate-pulse"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"AI ãŒèª­ã¿å–ã‚Šä¸­..."}),e.jsx("p",{className:"text-gray-600 mb-8",children:o}),e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"å‡¦ç†é€²æ—"}),e.jsx("span",{className:"font-bold text-blue-600",children:"å‡¦ç†ä¸­..."})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 h-3 rounded-full animate-pulse",style:{width:"66%"}})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"å¯¾å¿œãƒ¬ã‚·ãƒ¼ãƒˆ"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ã‚³ãƒ³ãƒ“ãƒ‹ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã€é£²é£Ÿåº—ãªã©200åº—èˆ—ä»¥ä¸Šã«å¯¾å¿œ"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"é«˜é€Ÿå‡¦ç†"}),e.jsx("p",{className:"text-sm text-gray-600",children:"æœ€æ–°AIæŠ€è¡“ã«ã‚ˆã‚Šã€ã‚ãšã‹æ•°ç§’ã§å®Œäº†"})]})]})})]})]})]}),S&&e.jsx(M,{onCapture:d,onClose:()=>i(!1)}),(console.log("ğŸ” ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒã‚§ãƒƒã‚¯:",{showResultModal:a,extractedData:n}),a&&e.jsx(U,{receiptData:n||{merchant:"",date:new Date().toISOString().split("T")[0],amount:0,category:"é›‘è²»",taxRate:10,confidence:0},onClose:u,onRetake:x}))]})]})};export{z as default};

import{y as tt,_ as rt,j as e,S as te,r as z}from"./index-C8W6MraP.js";import{R as st}from"./ReceiptCamera-DsYRQ5cD.js";import{R as nt}from"./ReceiptResultModal-Bjz3FLHF.js";import{getAIStatus as at,isAIEnabled as ot,analyzeReceiptWithAI as it}from"./geminiAIService-D07nacbf.js";import{C as Ae}from"./circle-check-big-CIiSfE0f.js";import{Z as X}from"./zap-CAiuoqOX.js";import{C as ne}from"./camera-ByVgYD4h.js";import"./triangle-alert-D7YA-Qgh.js";import"./rotate-ccw-C1Uiy30L.js";import"./loader-circle-BS0qzjv_.js";import"./circle-check-sRgN7Fti.js";import"./keywordCategoryService-9yZ-pShI.js";var ae={exports:{}},Ie;function lt(){return Ie||(Ie=1,(function(f){var s=(function(t){var i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(n,r,l){n[r]=l.value},d,c=typeof Symbol=="function"?Symbol:{},g=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",v=c.toStringTag||"@@toStringTag";function w(n,r,l){return Object.defineProperty(n,r,{value:l,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{w({},"")}catch{w=function(r,l,m){return r[l]=m}}function L(n,r,l,m){var u=r&&r.prototype instanceof S?r:S,N=Object.create(u.prototype),C=new Z(m||[]);return a(N,"_invoke",{value:re(n,l,C)}),N}t.wrap=L;function $(n,r,l){try{return{type:"normal",arg:n.call(r,l)}}catch(m){return{type:"throw",arg:m}}}var W="suspendedStart",y="suspendedYield",I="executing",B="completed",O={};function S(){}function T(){}function A(){}var P={};w(P,g,function(){return this});var b=Object.getPrototypeOf,R=b&&b(b(V([])));R&&R!==i&&o.call(R,g)&&(P=R);var _=A.prototype=S.prototype=Object.create(P);T.prototype=A,a(_,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:T,configurable:!0}),T.displayName=w(A,v,"GeneratorFunction");function H(n){["next","throw","return"].forEach(function(r){w(n,r,function(l){return this._invoke(r,l)})})}t.isGeneratorFunction=function(n){var r=typeof n=="function"&&n.constructor;return r?r===T||(r.displayName||r.name)==="GeneratorFunction":!1},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,A):(n.__proto__=A,w(n,v,"GeneratorFunction")),n.prototype=Object.create(_),n},t.awrap=function(n){return{__await:n}};function K(n,r){function l(N,C,k,D){var M=$(n[N],n,C);if(M.type==="throw")D(M.arg);else{var p=M.arg,x=p.value;return x&&typeof x=="object"&&o.call(x,"__await")?r.resolve(x.__await).then(function(j){l("next",j,k,D)},function(j){l("throw",j,k,D)}):r.resolve(x).then(function(j){p.value=j,k(p)},function(j){return l("throw",j,k,D)})}}var m;function u(N,C){function k(){return new r(function(D,M){l(N,C,D,M)})}return m=m?m.then(k,k):k()}a(this,"_invoke",{value:u})}H(K.prototype),w(K.prototype,h,function(){return this}),t.AsyncIterator=K,t.async=function(n,r,l,m,u){u===void 0&&(u=Promise);var N=new K(L(n,r,l,m),u);return t.isGeneratorFunction(r)?N:N.next().then(function(C){return C.done?C.value:N.next()})};function re(n,r,l){var m=W;return function(N,C){if(m===I)throw new Error("Generator is already running");if(m===B){if(N==="throw")throw C;return ee()}for(l.method=N,l.arg=C;;){var k=l.delegate;if(k){var D=Y(k,l);if(D){if(D===O)continue;return D}}if(l.method==="next")l.sent=l._sent=l.arg;else if(l.method==="throw"){if(m===W)throw m=B,l.arg;l.dispatchException(l.arg)}else l.method==="return"&&l.abrupt("return",l.arg);m=I;var M=$(n,r,l);if(M.type==="normal"){if(m=l.done?B:y,M.arg===O)continue;return{value:M.arg,done:l.done}}else M.type==="throw"&&(m=B,l.method="throw",l.arg=M.arg)}}}function Y(n,r){var l=r.method,m=n.iterator[l];if(m===d)return r.delegate=null,l==="throw"&&n.iterator.return&&(r.method="return",r.arg=d,Y(n,r),r.method==="throw")||l!=="return"&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+l+"' method")),O;var u=$(m,n.iterator,r.arg);if(u.type==="throw")return r.method="throw",r.arg=u.arg,r.delegate=null,O;var N=u.arg;if(!N)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,O;if(N.done)r[n.resultName]=N.value,r.next=n.nextLoc,r.method!=="return"&&(r.method="next",r.arg=d);else return N;return r.delegate=null,O}H(_),w(_,v,"Generator"),w(_,g,function(){return this}),w(_,"toString",function(){return"[object Generator]"});function U(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function J(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function Z(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(U,this),this.reset(!0)}t.keys=function(n){var r=Object(n),l=[];for(var m in r)l.push(m);return l.reverse(),function u(){for(;l.length;){var N=l.pop();if(N in r)return u.value=N,u.done=!1,u}return u.done=!0,u}};function V(n){if(n){var r=n[g];if(r)return r.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var l=-1,m=function u(){for(;++l<n.length;)if(o.call(n,l))return u.value=n[l],u.done=!1,u;return u.value=d,u.done=!0,u};return m.next=m}}return{next:ee}}t.values=V;function ee(){return{value:d,done:!0}}return Z.prototype={constructor:Z,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(J),!n)for(var r in this)r.charAt(0)==="t"&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=d)},stop:function(){this.done=!0;var n=this.tryEntries[0],r=n.completion;if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function l(D,M){return N.type="throw",N.arg=n,r.next=D,M&&(r.method="next",r.arg=d),!!M}for(var m=this.tryEntries.length-1;m>=0;--m){var u=this.tryEntries[m],N=u.completion;if(u.tryLoc==="root")return l("end");if(u.tryLoc<=this.prev){var C=o.call(u,"catchLoc"),k=o.call(u,"finallyLoc");if(C&&k){if(this.prev<u.catchLoc)return l(u.catchLoc,!0);if(this.prev<u.finallyLoc)return l(u.finallyLoc)}else if(C){if(this.prev<u.catchLoc)return l(u.catchLoc,!0)}else if(k){if(this.prev<u.finallyLoc)return l(u.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(n,r){for(var l=this.tryEntries.length-1;l>=0;--l){var m=this.tryEntries[l];if(m.tryLoc<=this.prev&&o.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var u=m;break}}u&&(n==="break"||n==="continue")&&u.tryLoc<=r&&r<=u.finallyLoc&&(u=null);var N=u?u.completion:{};return N.type=n,N.arg=r,u?(this.method="next",this.next=u.finallyLoc,O):this.complete(N)},complete:function(n,r){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&r&&(this.next=r),O},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r];if(l.finallyLoc===n)return this.complete(l.completion,l.afterLoc),J(l),O}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r];if(l.tryLoc===n){var m=l.completion;if(m.type==="throw"){var u=m.arg;J(l)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(n,r,l){return this.delegate={iterator:V(n),resultName:r,nextLoc:l},this.method==="next"&&(this.arg=d),O}},t})(f.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})(ae)),ae.exports}var oe,Le;function Re(){return Le||(Le=1,oe=(f,s)=>`${f}-${s}-${Math.random().toString(16).slice(3,8)}`),oe}var ie,Te;function Ve(){if(Te)return ie;Te=1;const f=Re();let s=0;return ie=({id:t,action:i,payload:o={}})=>{let a=t;return typeof a>"u"&&(a=f("Job",s),s+=1),{id:a,action:i,payload:o}},ie}var Q={},Ce;function Ee(){if(Ce)return Q;Ce=1;let f=!1;return Q.logging=f,Q.setLogging=s=>{f=s},Q.log=(...s)=>f?console.log.apply(this,s):null,Q}var le,ke;function ct(){if(ke)return le;ke=1;const f=Ve(),{log:s}=Ee(),t=Re();let i=0;return le=()=>{const o=t("Scheduler",i),a={},d={};let c=[];i+=1;const g=()=>c.length,h=()=>Object.keys(a).length,v=()=>{if(c.length!==0){const y=Object.keys(a);for(let I=0;I<y.length;I+=1)if(typeof d[y[I]]>"u"){c[0](a[y[I]]);break}}},w=(y,I)=>new Promise((B,O)=>{const S=f({action:y,payload:I});c.push(async T=>{c.shift(),d[T.id]=S;try{B(await T[y].apply(this,[...I,S.id]))}catch(A){O(A)}finally{delete d[T.id],v()}}),s(`[${o}]: Add ${S.id} to JobQueue`),s(`[${o}]: JobQueue length=${c.length}`),v()});return{addWorker:y=>(a[y.id]=y,s(`[${o}]: Add ${y.id}`),s(`[${o}]: Number of workers=${h()}`),v(),y.id),addJob:async(y,...I)=>{if(h()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return w(y,I)},terminate:async()=>{Object.keys(a).forEach(async y=>{await a[y].terminate()}),c=[]},getQueueLen:g,getNumWorkers:h}},le}function dt(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ce,Me;function ut(){return Me||(Me=1,ce=f=>{const s={};return typeof WorkerGlobalScope<"u"?s.type="webworker":typeof document=="object"?s.type="browser":typeof process=="object"&&typeof dt=="function"&&(s.type="node"),typeof f>"u"?s:s[f]}),ce}var de,_e;function ft(){if(_e)return de;_e=1;const s=ut()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return de=t=>{const i={...t};return["corePath","workerPath","langPath"].forEach(o=>{t[o]&&(i[o]=s(i[o]))}),i},de}var ue,Pe;function Qe(){return Pe||(Pe=1,ue={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),ue}const ht="6.0.1",mt={version:ht};var fe,De;function gt(){return De||(De=1,fe={workerBlobURL:!0,logger:()=>{}}),fe}var he,Ue;function pt(){if(Ue)return he;Ue=1;const f=mt.version;return he={...gt(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${f}/dist/worker.min.js`},he}var me,qe;function xt(){return qe||(qe=1,me=({workerPath:f,workerBlobURL:s})=>{let t;if(Blob&&URL&&s){const i=new Blob([`importScripts("${f}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(i))}else t=new Worker(f);return t}),me}var ge,Ge;function vt(){return Ge||(Ge=1,ge=f=>{f.terminate()}),ge}var pe,Be;function yt(){return Be||(Be=1,pe=(f,s)=>{f.onmessage=({data:t})=>{s(t)}}),pe}var xe,$e;function Nt(){return $e||($e=1,xe=async(f,s)=>{f.postMessage(s)}),xe}var ve,Ye;function wt(){if(Ye)return ve;Ye=1;const f=t=>new Promise((i,o)=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.onerror=({target:{error:{code:d}}})=>{o(Error(`File could not be read! Code=${d}`))},a.readAsArrayBuffer(t)}),s=async t=>{let i=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?i=atob(t.split(",")[1]).split("").map(o=>o.charCodeAt(0)):i=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(i=await s(t.src)),t.tagName==="VIDEO"&&(i=await s(t.poster)),t.tagName==="CANVAS"&&await new Promise(o=>{t.toBlob(async a=>{i=await f(a),o()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const o=await t.convertToBlob();i=await f(o)}else(t instanceof File||t instanceof Blob)&&(i=await f(t));return new Uint8Array(i)};return ve=s,ve}var ye,Fe;function bt(){if(Fe)return ye;Fe=1;const f=pt(),s=xt(),t=vt(),i=yt(),o=Nt(),a=wt();return ye={defaultOptions:f,spawnWorker:s,terminateWorker:t,onMessage:i,send:o,loadImage:a},ye}var Ne,We;function Xe(){if(We)return Ne;We=1;const f=ft(),s=Ve(),{log:t}=Ee(),i=Re(),o=Qe(),{defaultOptions:a,spawnWorker:d,terminateWorker:c,onMessage:g,loadImage:h,send:v}=bt();let w=0;return Ne=async(L="eng",$=o.LSTM_ONLY,W={},y={})=>{const I=i("Worker",w),{logger:B,errorHandler:O,...S}=f({...a,...W}),T={},A=typeof L=="string"?L.split("+"):L;let P=$,b=y;const R=[o.DEFAULT,o.LSTM_ONLY].includes($)&&!S.legacyCore;let _,H;const K=new Promise((p,x)=>{H=p,_=x}),re=p=>{_(p.message)};let Y=d(S);Y.onerror=re,w+=1;const U=({id:p,action:x,payload:j})=>new Promise((q,G)=>{t(`[${I}]: Start ${p}, action=${x}`);const F=`${x}-${p}`;T[F]={resolve:q,reject:G},v(Y,{workerId:I,jobId:p,action:x,payload:j})}),J=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Z=p=>U(s({id:p,action:"load",payload:{options:{lstmOnly:R,corePath:S.corePath,logging:S.logging}}})),V=(p,x,j)=>U(s({id:j,action:"FS",payload:{method:"writeFile",args:[p,x]}})),ee=(p,x)=>U(s({id:x,action:"FS",payload:{method:"readFile",args:[p,{encoding:"utf8"}]}})),n=(p,x)=>U(s({id:x,action:"FS",payload:{method:"unlink",args:[p]}})),r=(p,x,j)=>U(s({id:j,action:"FS",payload:{method:p,args:x}})),l=(p,x)=>U(s({id:x,action:"loadLanguage",payload:{langs:p,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[o.DEFAULT,o.LSTM_ONLY].includes(P)&&!S.legacyLang}}})),m=(p,x,j,q)=>U(s({id:q,action:"initialize",payload:{langs:p,oem:x,config:j}})),u=(p="eng",x,j,q)=>{if(R&&[o.TESSERACT_ONLY,o.TESSERACT_LSTM_COMBINED].includes(x))throw Error("Legacy model requested but code missing.");const G=x||P;P=G;const F=j||b;b=F;const se=(typeof p=="string"?p.split("+"):p).filter(et=>!A.includes(et));return A.push(...se),se.length>0?l(se,q).then(()=>m(p,G,F,q)):m(p,G,F,q)},N=(p={},x)=>U(s({id:x,action:"setParameters",payload:{params:p}})),C=async(p,x={},j={text:!0},q)=>U(s({id:q,action:"recognize",payload:{image:await h(p),options:x,output:j}})),k=async(p,x)=>{if(R)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return U(s({id:x,action:"detect",payload:{image:await h(p)}}))},D=async()=>(Y!==null&&(c(Y),Y=null),Promise.resolve());g(Y,({workerId:p,jobId:x,status:j,action:q,data:G})=>{const F=`${q}-${x}`;if(j==="resolve")t(`[${p}]: Complete ${x}`),T[F].resolve({jobId:x,data:G}),delete T[F];else if(j==="reject")if(T[F].reject(G),delete T[F],q==="load"&&_(G),O)O(G);else throw Error(G);else j==="progress"&&B({...G,userJobId:x})});const M={id:I,worker:Y,load:J,writeText:V,readText:ee,removeFile:n,FS:r,reinitialize:u,setParameters:N,recognize:C,detect:k,terminate:D};return Z().then(()=>l(L)).then(()=>m(L,$,y)).then(()=>H(M)).catch(()=>{}),K},Ne}var we,Ke;function St(){if(Ke)return we;Ke=1;const f=Xe();return we={recognize:async(i,o,a)=>{const d=await f(o,1,a);return d.recognize(i).finally(async()=>{await d.terminate()})},detect:async(i,o)=>{const a=await f("osd",0,o);return a.detect(i).finally(async()=>{await a.terminate()})}},we}var be,ze;function jt(){return ze||(ze=1,be={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),be}var Se,He;function Ot(){return He||(He=1,Se={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Se}var je,Je;function At(){if(Je)return je;Je=1,lt();const f=ct(),s=Xe(),t=St(),i=jt(),o=Qe(),a=Ot(),{setLogging:d}=Ee();return je={languages:i,OEM:o,PSM:a,createScheduler:f,createWorker:s,setLogging:d,...t},je}var Rt=At();const Et=tt(Rt),E={FOOD:"é£Ÿè²»",TRANSPORT:"äº¤é€šè²»",SUPPLIES:"æ¶ˆè€—å“è²»",ENTERTAINMENT:"æ¥å¾…äº¤éš›è²»",UTILITIES:"æ°´é“å…‰ç†±è²»",COMMUNICATION:"é€šä¿¡è²»",INSURANCE:"ä¿é™ºæ–™",RENT:"å®¶è³ƒ",LOAN:"ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ",TAX:"ç¨é‡‘",SALARY:"çµ¦ä¸",BONUS:"è³ä¸",OTHER:"ãã®ä»–"},Oe={[E.FOOD]:["ã‚¹ãƒ¼ãƒ‘ãƒ¼","é£Ÿå“","å¼å½“","æƒ£èœ","é‡èœ","è‚‰","é­š","ç±³","ãƒ‘ãƒ³","ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³","ãƒ­ãƒ¼ã‚½ãƒ³","ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒãƒ¼ãƒˆ","ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰","ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹","ã™ãå®¶","å‰é‡å®¶","æ¾å±‹","ã‚µã‚¤ã‚¼ãƒªãƒ¤","ã‚¬ã‚¹ãƒˆ","ãã‚‰å¯¿å¸","ã‚¹ã‚·ãƒ­ãƒ¼","ã‚¤ã‚ªãƒ³","ã‚¤ãƒˆãƒ¼ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ãƒ©ã‚¤ãƒ•","ã‚µãƒŸãƒƒãƒˆ","è¥¿å‹","ãƒãƒƒã‚¯ã‚¹ãƒãƒªãƒ¥","æˆåŸçŸ³äº•","ã‚«ãƒ«ãƒ‡ã‚£","æ¥­å‹™ã‚¹ãƒ¼ãƒ‘ãƒ¼","é£²é£Ÿåº—","ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³","ã‚«ãƒ•ã‚§","å±…é…’å±‹","ãƒãƒ¼","é£Ÿå ‚","ãƒ•ãƒ¼ãƒ‰","ãƒ‰ãƒªãƒ³ã‚¯","ãŠèŒ¶","ã‚³ãƒ¼ãƒ’ãƒ¼","ã‚³ãƒ³ãƒ“ãƒ‹","ç‰›ä¸¼","å®šé£Ÿ","ãƒ©ãƒ¼ãƒ¡ãƒ³","ã†ã©ã‚“","ãã°","ãƒ‘ã‚¹ã‚¿","ãƒ”ã‚¶","ãƒãƒ³ãƒãƒ¼ã‚°","ã‚ªãƒ ãƒ©ã‚¤ã‚¹","ã‚«ãƒ¬ãƒ¼","ä¸¼ç‰©","æƒ£èœ"],[E.TRANSPORT]:["ã‚¿ã‚¯ã‚·ãƒ¼","äº¤é€š","é‰„é“","ãƒã‚¹","é§…","åˆ‡ç¬¦","å®šæœŸåˆ¸","Suica","PASMO","JR","åœ°ä¸‹é‰„","ãƒ¡ãƒˆãƒ­","èˆªç©º","é£›è¡Œæ©Ÿ","ç©ºæ¸¯","ã‚¬ã‚½ãƒªãƒ³","çµ¦æ²¹","é§è»Šå ´","ãƒ‘ãƒ¼ã‚­ãƒ³ã‚°","é«˜é€Ÿé“è·¯","ETC","å‡ºå¼µ","æ—…è²»","é›»è»Š","æ–°å¹¹ç·š","ç‰¹æ€¥","æ€¥è¡Œ","å¿«é€Ÿ","æ™®é€š","å„é§…åœè»Š","ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«","ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼","è·¯é¢é›»è»Š"," tram"," ferry","èˆ¹","ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼","ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°","Uber","Lyft"],[E.SUPPLIES]:["ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢","è–¬å±€","ãƒãƒ„ãƒ¢ãƒˆã‚­ãƒ¨ã‚·","ã‚¦ã‚¨ãƒ«ã‚·ã‚¢","ãƒ„ãƒ«ãƒ","ãƒ¦ãƒ‹ã‚¯ãƒ­","GU","ç„¡å°è‰¯å“","ãƒ‹ãƒˆãƒª","ãƒ€ã‚¤ã‚½ãƒ¼","ã‚»ãƒªã‚¢","ã‚­ãƒ£ãƒ³ãƒ‰ã‚¥","ãƒ‰ãƒ³ãƒ»ã‚­ãƒ›ãƒ¼ãƒ†","ãƒ›ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼","ã‚«ã‚¤ãƒ³ã‚º","ã‚³ãƒ¼ãƒŠãƒ³","æ–‡å…·","äº‹å‹™ç”¨å“","æ—¥ç”¨å“","é›‘è²¨","æ´—å‰¤","ãƒˆã‚¤ãƒ¬ãƒƒãƒˆãƒšãƒ¼ãƒ‘ãƒ¼","ãƒ†ã‚£ãƒƒã‚·ãƒ¥","ã‚³ãƒ”ãƒ¼","å°åˆ·","ã‚ªãƒ•ã‚£ã‚¹ç”¨å“","æ¶ˆè€—å“","ã‚¤ãƒ³ã‚¯","ãƒˆãƒŠãƒ¼","ç´™","ãƒ•ã‚¡ã‚¤ãƒ«","ãƒãƒ¼ãƒˆ","ãƒœãƒ¼ãƒ«ãƒšãƒ³","ã‚·ãƒ£ãƒ¼ãƒ—ãƒšãƒ³ã‚·ãƒ«","æ¶ˆã—ã‚´ãƒ ","å®šè¦","ã¯ã•ã¿","ã®ã‚Š","ãƒ›ãƒƒãƒã‚­ã‚¹","ã‚¹ãƒ†ãƒ¼ãƒ—ãƒ©ãƒ¼","ãƒ†ãƒ¼ãƒ—","é¤Šç”Ÿãƒ†ãƒ¼ãƒ—","ãƒ“ãƒ‹ãƒ¼ãƒ«è¢‹"],[E.ENTERTAINMENT]:["å±…é…’å±‹","ã‚«ãƒ©ã‚ªã‚±","ã‚´ãƒ«ãƒ•","ãƒã‚±ãƒƒãƒˆ","æ˜ ç”»","ã‚³ãƒ³ã‚µãƒ¼ãƒˆ","ã‚¤ãƒ™ãƒ³ãƒˆ","ã‚®ãƒ•ãƒˆ","è´ˆç­”","ãŠåœŸç”£","æ¥å¾…","ä¼šé£Ÿ","ãƒ‘ãƒ¼ãƒ†ã‚£","éŠåœ’åœ°","ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯","æ°´æ—é¤¨","å‹•ç‰©åœ’","ç¾è¡“é¤¨","åšç‰©é¤¨","ã‚²ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼","ãƒ‘ãƒãƒ³ã‚³","ç«¶é¦¬","ç«¶è‰‡","ã‚ªãƒ¼ãƒˆãƒ¬ãƒ¼ã‚¹","æ—…è¡Œ","è¦³å…‰","å®¿æ³Š","ãƒ›ãƒ†ãƒ«","æ—…é¤¨","æ°‘å®¿"],[E.COMMUNICATION]:["æºå¸¯","ã‚¹ãƒãƒ›","é›»è©±","ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ","Wi-Fi","ãƒ—ãƒ­ãƒã‚¤ãƒ€","ãƒ‰ã‚³ãƒ¢","au","ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯","æ¥½å¤©ãƒ¢ãƒã‚¤ãƒ«","åˆ‡æ‰‹","éƒµä¾¿","å®…é…","é€æ–™","Skype","Zoom","Teams","Slack","LINE","WhatsApp","Telegram","Netflix","Amazon Prime","Disney+","Spotify","Apple Music","Yahoo! BB","NURO","So-net","BIGLOBE","OCN","ã·ã‚‰ã‚‰"],[E.UTILITIES]:["é›»æ°—","ã‚¬ã‚¹","æ°´é“","æ±äº¬é›»åŠ›","é–¢è¥¿é›»åŠ›","æ±äº¬ã‚¬ã‚¹","å¤§é˜ªã‚¬ã‚¹","æ°´é“å±€","ã‚¨ãƒã‚ªã‚¹","å‡ºå…‰","ã‚³ã‚¹ãƒ¢","ã‚·ã‚§ãƒ«","ã‚¨ãƒã‚ªã‚¹","JOMO","åƒè‘‰çŸ³æ²¹","ç¯æ²¹","ãƒ—ãƒ­ãƒ‘ãƒ³","éƒ½å¸‚ã‚¬ã‚¹","å¤©ç„¶ã‚¬ã‚¹","æ°´é“æ–™é‡‘","ä¸‹æ°´é“","é›»åŠ›é‡","ã‚¬ã‚¹ä½¿ç”¨é‡","æ°´ä½¿ç”¨é‡","åŸºæœ¬æ–™é‡‘","å¾“é‡æ–™é‡‘"],[E.INSURANCE]:["ä¿é™º","ç”Ÿå‘½ä¿é™º","æå®³ä¿é™º","åŒ»ç™‚ä¿é™º","ç”Ÿå‘½","æå®³","åŒ»ç™‚","å¹´é‡‘","å…±æ¸ˆ","JAå…±æ¸ˆ","ã‚ã‚“ã—ã‚“","æå®³","ç”Ÿå‘½ä¿é™ºæ–™","æå®³ä¿é™ºæ–™"],[E.RENT]:["å®¶è³ƒ","è³ƒæ–™","è³ƒè²¸","ãƒãƒ³ã‚·ãƒ§ãƒ³","ã‚¢ãƒ‘ãƒ¼ãƒˆ","ç‰©ä»¶","ä¸å‹•ç”£","æ•·é‡‘","ç¤¼é‡‘","ä¿è¨¼é‡‘","å…±ç›Šè²»","ç®¡ç†è²»"],[E.LOAN]:["ãƒ­ãƒ¼ãƒ³","è¿”æ¸ˆ","å€Ÿå…¥","ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³","ä½å®…ãƒ­ãƒ¼ãƒ³","æ•™è‚²ãƒ­ãƒ¼ãƒ³","è»Šä¸¡ãƒ­ãƒ¼ãƒ³","ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","ä½å®…ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","æ•™è‚²ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ","è»Šä¸¡ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ"],[E.TAX]:["ç¨","ç¨é‡‘","æ‰€å¾—ç¨","ä½æ°‘ç¨","å›ºå®šè³‡ç”£ç¨","è‡ªå‹•è»Šç¨","è»½è‡ªå‹•è»Šç¨","å›½æ°‘å¥åº·ä¿é™ºç¨","å¾ŒæœŸé«˜é½¢è€…åŒ»ç™‚ä¿é™º","å›½æ°‘å¹´é‡‘ä¿é™ºæ–™"],[E.SALARY]:["çµ¦ä¸","çµ¦æ–™","æœˆçµ¦","æ™‚çµ¦","æ—¥çµ¦","ãƒœãƒ¼ãƒŠã‚¹","è³ä¸","æ‰‹å½“","æ®‹æ¥­ä»£","å‰²å¢—è³ƒé‡‘","é€€è·é‡‘"],[E.BONUS]:["ãƒœãƒ¼ãƒŠã‚¹","è³ä¸","ç‰¹åˆ¥æ‰‹å½“","ä¸€æ™‚é‡‘","ã‚¤ãƒ³ã‚»ãƒ³ãƒ†ã‚£ãƒ–","æ­©åˆ"]};class Ze{parseReceipt(s){console.log("ğŸ“„ ãƒ¬ã‚·ãƒ¼ãƒˆè§£æã‚’é–‹å§‹ã€‚OCRãƒ†ã‚­ã‚¹ãƒˆ:",s);const t=this.normalizeText(s);console.log("ğŸ”¤ æ­£è¦åŒ–å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆ:",t);const i=this.extractStoreName(t),o=this.extractItems(t),a=this.categorizeReceipt(i,o,t),d={store_name:i,date:this.extractDate(t),total_amount:this.extractTotal(t),tax_rate:this.extractTaxRate(t),raw_text:s,confidence:(this.calculateConfidence("store_name",t)+this.calculateConfidence("date",t)+this.calculateConfidence("total_amount",t))/3,items:o,items_count:o.length,category:a,tax_classification:"ä¸æ˜",expenseType:"expense",aiConfidence:.8};return console.log("ğŸ“Š ãƒ¬ã‚·ãƒ¼ãƒˆè§£æçµæœ:",d),d}normalizeText(s){return s.replace(/[ï¼-ï¼™]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248)).replace(/[ï¼¡-ï¼ºï½-ï½š]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}categorizeReceipt(s,t,i){let o={};Object.values(E).forEach(c=>o[c]=0);for(const[c,g]of Object.entries(Oe))for(const h of g)s.includes(h)&&(o[c]+=15);for(const c of t)for(const[g,h]of Object.entries(Oe))for(const v of h)c.name.includes(v)&&(o[g]+=5);for(const[c,g]of Object.entries(Oe))for(const h of g){const v=s.includes(h),w=t.some(L=>L.name.includes(h));i.includes(h)&&(v||w?o[c]+=1:o[c]+=2)}(i.includes("çµ¦ä¸")||i.includes("çµ¦æ–™")||i.includes("æœˆçµ¦")||i.includes("æ™‚çµ¦")||i.includes("æ—¥çµ¦")||i.includes("æ‰‹å½“"))&&(o[E.SALARY]+=20),(i.includes("ãƒœãƒ¼ãƒŠã‚¹")||i.includes("è³ä¸")||i.includes("ç‰¹åˆ¥æ‰‹å½“"))&&(o[E.BONUS]+=20),i.includes("ä¿é™º")&&(i.includes("æ–™")||i.includes("é‡‘"))&&(o[E.INSURANCE]+=15),(i.includes("å®¶è³ƒ")||i.includes("è³ƒæ–™")||i.includes("è³ƒè²¸"))&&(o[E.RENT]+=15),i.includes("ãƒ­ãƒ¼ãƒ³")&&i.includes("è¿”æ¸ˆ")&&(o[E.LOAN]+=15),i.includes("ç¨")&&(i.includes("é‡‘")||i.includes("æ–™"))&&(o[E.TAX]+=10);let a=0,d=E.OTHER;for(const[c,g]of Object.entries(o))g>a&&(a=g,d=c);return d}extractTotal(s){console.log("ğŸ’° åˆè¨ˆé‡‘é¡æŠ½å‡ºã‚’é–‹å§‹");const t=[/(?:åˆ\s*è¨ˆ|ç·\s*è¨ˆ|ãŠè²·ä¸Šè¨ˆ|ãŠè²·ã„ä¸Šã’è¨ˆ|é ˜åé‡‘é¡|æ”¯æ‰•é‡‘é¡|è«‹æ±‚é‡‘é¡|ãŠæ”¯æ‰•ã„|ãŠä¼šè¨ˆ)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/åˆ\s*è¨ˆ[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/å°\s*è¨ˆ[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ç¾\s*é‡‘|ç¾é‡‘)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ã‚¯ãƒ¬(?:ã‚¸ãƒƒãƒˆ)?|ã‚¯ãƒ¬ã‚«|ã‚«ãƒ¼ãƒ‰)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/PayPay[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:dæ‰•ã„|ï½„æ‰•ã„)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:au\s*PAY|auPAY|auãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:LINE\s*Pay|LINEãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:æ¥½å¤©ãƒšã‚¤|æ¥½å¤©Pay)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:ãƒ¡ãƒ«ãƒšã‚¤|Merpay)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:Suica|ã‚¹ã‚¤ã‚«)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:PASMO|ãƒ‘ã‚¹ãƒ¢)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:nanaco|ãƒŠãƒŠã‚³)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:WAON|ãƒ¯ã‚ªãƒ³)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:Edy|ã‚¨ãƒ‡ã‚£)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:iD|ã‚¢ã‚¤ãƒ‡ã‚£ãƒ¼)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/(?:QUICPay|ã‚¯ã‚¤ãƒƒã‚¯ãƒšã‚¤)[\s:ï¼š]*[Â¥ï¿¥]*\s*([0-9,ï¼Œ]+)/i,/[Tt]otal[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Ss]ubtotal[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Aa]mount[\s:ï¼š]*(?:Â¥|ï¿¥)?\s*([0-9,ï¼Œ]+)/,/[Â¥ï¿¥]\s*([0-9,ï¼Œ]+)(?!\s*[\-\+Ã—Ã·])/,/([0-9,ï¼Œ]+)\s*å††(?!\s*[\-\+Ã—Ã·])/,/^\s*([0-9,ï¼Œ]{4,})\s*$/m];let i=0,o=0,a=0;for(let c=0;c<7;c++){const g=s.match(t[c]);if(g){const h=g[1].replace(/[,ï¼Œ]/g,""),v=parseFloat(h);if(!isNaN(v)&&v>0&&v<1e6){console.log(`âœ… é«˜ä¿¡é ¼åº¦é‡‘é¡æŠ½å‡ºæˆåŠŸ (ãƒ‘ã‚¿ãƒ¼ãƒ³${c}):`,v),i=v;break}}}if(i===0)for(let c=7;c<t.length-3;c++){const g=s.match(t[c]);if(g){const h=g[1].replace(/[,ï¼Œ]/g,""),v=parseFloat(h);if(!isNaN(v)&&v>0&&v<1e6){console.log(`âœ… ä¸­ä¿¡é ¼åº¦é‡‘é¡æŠ½å‡ºæˆåŠŸ (ãƒ‘ã‚¿ãƒ¼ãƒ³${c}):`,v),o=v;break}}}if(i===0&&o===0){const c=s.match(/[0-9,ï¼Œ]+/g);if(c){const g=c.map(h=>parseInt(h.replace(/[,ï¼Œ]/g,""))).filter(h=>!isNaN(h)&&h>0&&h<1e6).filter(h=>{const v=h.toString();return!(v.length===8&&v.startsWith("20")||v.length===6&&parseInt(v.substring(0,2))<=25)});if(g.length>0){const h={};for(const w of g)h[w]=(h[w]||0)+1;const v=Object.entries(h).filter(([w,L])=>L>=2).map(([w,L])=>parseInt(w)).sort((w,L)=>L-w);v.length>0?(a=v[0],console.log("âœ… é »å‡ºé‡‘é¡ã‚’åˆè¨ˆã¨ã—ã¦æ¡ç”¨:",a)):(a=Math.max(...g),console.log("âœ… æœ€å¤§å€¤ã‚’åˆè¨ˆé‡‘é¡ã¨ã—ã¦æ¡ç”¨:",a))}}}const d=i||o||a;return d===0?(console.warn("âš ï¸ é‡‘é¡ãŒæŠ½å‡ºã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚"),1e3):(console.log("ğŸ’° æœ€çµ‚çš„ãªåˆè¨ˆé‡‘é¡:",d),Math.round(d))}extractDate(s){console.log("æ—¥ä»˜æŠ½å‡ºã‚’é–‹å§‹");const t=[/(\d{4})\s*å¹´\s*(\d{1,2})\s*æœˆ\s*(\d{1,2})\s*æ—¥/,/(\d{2,4})\s*\/\s*(\d{1,2})\s*\/\s*(\d{1,2})/,/(\d{2,4})\s*-\s*(\d{1,2})\s*-\s*(\d{1,2})/,/(\d{4})\.(\d{1,2})\.(\d{1,2})/,/(?:ä»¤å’Œ|R)(\d{1,2})[å¹´\.\/\-](\d{1,2})[æœˆ\.\/\-](\d{1,2})[æ—¥]?/];for(const i of t){const o=s.match(i);if(o){let a=o[1];const d=o[2].padStart(2,"0"),c=o[3].padStart(2,"0");i.toString().includes("ä»¤å’Œ")||i.toString().includes("R")?a=(parseInt(a)+2018).toString():a.length===2&&(a="20"+a);const g=new Date(`${a}-${d}-${c}`);if(!isNaN(g.getTime())&&g.getFullYear()>2e3&&g.getFullYear()<2030){const h=`${a}-${d}-${c}`;return console.log("æ—¥ä»˜æŠ½å‡ºæˆåŠŸ:",h),h}}}return console.log("æ—¥ä»˜æŠ½å‡ºå¤±æ•—"),""}extractTaxRate(s){if(console.log("ç¨ç‡æŠ½å‡ºã‚’é–‹å§‹"),s.match(/8%|è»½æ¸›ç¨ç‡/))return 8;if(s.match(/10%|æ¨™æº–ç¨ç‡/))return 10;const t=[/ç¨ç‡?\s*(\d+(?:\.\d+)?)%/,/æ¶ˆè²»ç¨\s*(\d+(?:\.\d+)?)%/,/\(?(10|8)%\)?/];for(const i of t){const o=s.match(i);if(o){const a=parseFloat(o[1]);if(!isNaN(a))return a}}return 10}extractStoreName(s){console.log("ğŸª åº—èˆ—åæŠ½å‡ºã‚’é–‹å§‹ï¼ˆé«˜ç²¾åº¦ãƒ¢ãƒ¼ãƒ‰ï¼‰"),rt(async()=>{const{StoreNameMatcher:a}=await import("./storeNameMatcher-DZES8GXv.js");return{StoreNameMatcher:a}},[]).then(({StoreNameMatcher:a})=>{console.log("StoreNameMatcherèª­ã¿è¾¼ã¿å®Œäº†")}).catch(()=>{console.log("StoreNameMatcherã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯")});const t=s.split(`
`).map(a=>a.trim()).filter(a=>a.length>0),i=["ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³","ã‚»ãƒ–ãƒ³-ã‚¤ãƒ¬ãƒ–ãƒ³","ã‚»ãƒ–ãƒ³","7-ELEVEN","7-11","7ELEVEN","ãƒ­ãƒ¼ã‚½ãƒ³","LAWSON","ãƒŠãƒãƒ¥ãƒ©ãƒ«ãƒ­ãƒ¼ã‚½ãƒ³","ãƒ­ãƒ¼ã‚½ãƒ³ã‚¹ãƒˆã‚¢100","ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒãƒ¼ãƒˆ","ãƒ•ã‚¡ãƒŸãƒ","FamilyMart","FAMILY MART","ãƒŸãƒ‹ã‚¹ãƒˆãƒƒãƒ—","MINISTOP","ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¤ãƒã‚¶ã‚­","ãƒ¤ãƒã‚¶ã‚­ãƒ‡ã‚¤ãƒªãƒ¼ã‚¹ãƒˆã‚¢","ãƒ‹ãƒ¥ãƒ¼ãƒ‡ã‚¤ã‚º","NewDays","ãƒãƒ—ãƒ©","ãã‚‰ã—ãƒã‚¦ã‚¹","ã‚¤ã‚ªãƒ³","AEON","ãƒãƒƒã‚¯ã‚¹ãƒãƒªãƒ¥","MaxValu","ã‚¶ãƒ»ãƒ“ãƒƒã‚°","ã¾ã„ã°ã™ã‘ã£ã¨","ã‚¤ãƒˆãƒ¼ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ãƒ¨ãƒ¼ã‚«ãƒ‰ãƒ¼","ItoYokado","ãƒ©ã‚¤ãƒ•","LIFE","ã‚µãƒŸãƒƒãƒˆ","Summit","è¥¿å‹","SEIYU","ãƒãƒ«ã‚¨ãƒ„","Maruetsu","ãƒ€ã‚¤ã‚¨ãƒ¼","DAIEI","æˆåŸçŸ³äº•","æˆåŸ","ã‚«ãƒ«ãƒ‡ã‚£","KALDI","ã‚«ãƒ«ãƒ‡ã‚£ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ•ã‚¡ãƒ¼ãƒ ","æ¥­å‹™ã‚¹ãƒ¼ãƒ‘ãƒ¼","ã‚ªãƒ¼ã‚±ãƒ¼","OK","ã‚ªãƒ¼ã‚±ãƒ¼ã‚¹ãƒˆã‚¢","ã‚³ãƒ¼ãƒ—","COOP","ç”Ÿå”","ãƒ¤ã‚ªã‚³ãƒ¼","ãƒ™ãƒ«ã‚¯","ãƒ™ã‚¤ã‚·ã‚¢","ãƒˆãƒ©ã‚¤ã‚¢ãƒ«","ãƒ‰ãƒ³ãƒ»ã‚­ãƒ›ãƒ¼ãƒ†","ãƒ‰ãƒ³ã‚­","ãƒ‰ãƒ³ã‚­ãƒ›ãƒ¼ãƒ†","MEGAãƒ‰ãƒ³ã‚­","ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰","McDonald's","ãƒãƒƒã‚¯","McDonalds","ãƒ¢ã‚¹ãƒãƒ¼ã‚¬ãƒ¼","ãƒ¢ã‚¹","MOS BURGER","ãƒ­ãƒƒãƒ†ãƒªã‚¢","LOTTERIA","ã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼","KFC","ã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼ãƒ•ãƒ©ã‚¤ãƒ‰ãƒã‚­ãƒ³","ãƒãƒ¼ã‚¬ãƒ¼ã‚­ãƒ³ã‚°","BURGER KING","ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒã‚¹ãƒãƒ¼ã‚¬ãƒ¼","ã‚µãƒ–ã‚¦ã‚§ã‚¤","SUBWAY","ãƒŸã‚¹ã‚¿ãƒ¼ãƒ‰ãƒ¼ãƒŠãƒ„","ãƒŸã‚¹ãƒ‰","Mister Donut","ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹","ã‚¹ã‚¿ãƒ","Starbucks","STARBUCKS","ãƒ‰ãƒˆãƒ¼ãƒ«","DOUTOR","ã‚¿ãƒªãƒ¼ã‚º","TULLY'S","ã‚¿ãƒªãƒ¼ã‚ºã‚³ãƒ¼ãƒ’ãƒ¼","ã‚³ãƒ¡ãƒ€çˆç²","ã‚³ãƒ¡ãƒ€","KOMEDA","ã‚µãƒ³ãƒãƒ«ã‚¯ã‚«ãƒ•ã‚§","ã‚µãƒ³ãƒãƒ«ã‚¯","ãƒ—ãƒ­ãƒ³ãƒˆ","PRONTO","ä¸Šå³¶çˆç²","ã‚«ãƒ•ã‚§ãƒ»ãƒ‰ãƒ»ã‚¯ãƒªã‚¨","ãƒ™ãƒ­ãƒ¼ãƒã‚§","ã™ãå®¶","ã™ãã‚„","SUKIYA","å‰é‡å®¶","YOSHINOYA","æ¾å±‹","MATSUYA","ãªã‹å¯","NAKAU","ã¦ã‚“ã‚„","å¤§æˆ¸å±‹","OOTOYA","ã‚„ã‚ˆã„è»’","ã‚¬ã‚¹ãƒˆ","GUSTO","ã‚µã‚¤ã‚¼ãƒªãƒ¤","Saizeriya","ã‚¸ãƒ§ãƒŠã‚µãƒ³","Jonathan's","ãƒãƒ¼ãƒŸãƒ¤ãƒ³","ãƒ­ã‚¤ãƒ¤ãƒ«ãƒ›ã‚¹ãƒˆ","ãƒ‡ãƒ‹ãƒ¼ã‚º","Denny's","ã‚³ã‚³ã‚¹","COCO'S","ãƒ“ãƒƒã‚°ãƒœãƒ¼ã‚¤","ãã‚‰å¯¿å¸","ãã‚‰ãšã—","ç„¡æ·»ãã‚‰å¯¿å¸","ã‚¹ã‚·ãƒ­ãƒ¼","SUSHIRO","ã¯ã¾å¯¿å¸","ã¯ã¾ãšã—","ã‹ã£ã±å¯¿å¸","ã‹ã£ã±ãšã—","é­šã¹ã„","ã‚µã‚¤ã‚¼ãƒªã‚¢","ãƒªãƒ³ã‚¬ãƒ¼ãƒãƒƒãƒˆ","ä¸¸äº€è£½éºº","ã¯ãªã¾ã‚‹ã†ã©ã‚“","å¤©ä¸‹ä¸€å“","ä¸€é¢¨å ‚","æ—¥é«˜å±‹","ç‹å°†","é¤ƒå­ã®ç‹å°†","ãƒšãƒƒãƒ‘ãƒ¼ãƒ©ãƒ³ãƒ","ãƒãƒ„ãƒ¢ãƒˆã‚­ãƒ¨ã‚·","ãƒãƒ„ã‚­ãƒ¨","matsukiyo","ã‚¦ã‚¨ãƒ«ã‚·ã‚¢","Welcia","ãƒ„ãƒ«ãƒãƒ‰ãƒ©ãƒƒã‚°","ãƒ„ãƒ«ãƒ","ã‚µãƒ³ãƒ‰ãƒ©ãƒƒã‚°","SUNDRUG","ã‚¹ã‚®è–¬å±€","ã‚¹ã‚®ãƒ¤ãƒ","ã‚³ã‚³ã‚«ãƒ©ãƒ•ã‚¡ã‚¤ãƒ³","ã‚¯ãƒªã‚¨ã‚¤ãƒˆ","ã‚³ã‚¹ãƒ¢ã‚¹","ã‚»ã‚¤ãƒ ã‚¹","ãƒ€ã‚¤ã‚³ã‚¯ãƒ‰ãƒ©ãƒƒã‚°","ãƒˆãƒ¢ã‚º","ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©","ãƒ“ãƒƒã‚°ã‚«ãƒ¡ãƒ©","BIC CAMERA","ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©","ãƒ¨ãƒ‰ãƒã‚·","Yodobashi","ãƒ¤ãƒãƒ€é›»æ©Ÿ","ãƒ¤ãƒãƒ€ãƒ‡ãƒ³ã‚­","YAMADA","ã‚¨ãƒ‡ã‚£ã‚ªãƒ³","EDION","ã‚±ãƒ¼ã‚ºãƒ‡ãƒ³ã‚­","K's","ã‚¸ãƒ§ãƒ¼ã‚·ãƒ³","Joshin","ãƒã‚¸ãƒ","ã‚³ã‚¸ãƒ","ã‚½ãƒ•ãƒãƒƒãƒ—","ãƒ™ã‚¹ãƒˆé›»å™¨","ãƒ¦ãƒ‹ã‚¯ãƒ­","UNIQLO","GU","ã‚¸ãƒ¼ãƒ¦ãƒ¼","ã—ã¾ã‚€ã‚‰","ãƒ©ã‚¤ãƒˆã‚ªãƒ³","ãƒãƒ‹ãƒ¼ã‚º","ZARA","ã‚¶ãƒ©","H&M","GAP","ã‚®ãƒ£ãƒƒãƒ—","ãƒ¦ãƒŠã‚¤ãƒ†ãƒƒãƒ‰ã‚¢ãƒ­ãƒ¼ã‚º","ãƒ“ãƒ¼ãƒ ã‚¹","BEAMS","ã‚¢ãƒ¼ãƒãƒ³ãƒªã‚µãƒ¼ãƒ","ãƒ‹ãƒˆãƒª","NITORI","ç„¡å°è‰¯å“","MUJI","ãƒ€ã‚¤ã‚½ãƒ¼","DAISO","100å††ã‚·ãƒ§ãƒƒãƒ—","ã‚»ãƒªã‚¢","Seria","ã‚­ãƒ£ãƒ³ãƒ‰ã‚¥","Can Do","ãƒ•ãƒ©ãƒ³ãƒ•ãƒ©ãƒ³","æ±æ€¥ãƒãƒ³ã‚º","ãƒãƒ³ã‚º","HANDS","ãƒ­ãƒ•ãƒˆ","LOFT","ã‚«ã‚¤ãƒ³ã‚º","CAINZ","ã‚³ãƒ¼ãƒŠãƒ³","KOHNAN","ã‚³ãƒ¡ãƒª","ãƒ“ãƒãƒ›ãƒ¼ãƒ ","ã‚¸ãƒ§ã‚¤ãƒ•ãƒ«æœ¬ç”°","ã‚±ãƒ¼ãƒ¨ãƒ¼ãƒ‡ã‚¤ãƒ„ãƒ¼","D2","é«˜å³¶å±‹","ã‚¿ã‚«ã‚·ãƒãƒ¤","ä¼Šå‹¢ä¸¹","ISETAN","ä¸‰è¶Š","MITSUKOSHI","å¤§ä¸¸","DAIMARU","æ¾å‚å±‹","é˜ªæ€¥ç™¾è²¨åº—","é˜ªæ€¥","é˜ªç¥ç™¾è²¨åº—","é˜ªç¥","è¥¿æ­¦","è¥¿æ­¦ç™¾è²¨åº—","æ±æ­¦","æ±æ­¦ç™¾è²¨åº—","å°ç”°æ€¥ç™¾è²¨åº—","äº¬ç‹ç™¾è²¨åº—","è¿‘é‰„ç™¾è²¨åº—","ç´€ä¼Šåœ‹å±‹æ›¸åº—","ç´€ä¼Šå›½å±‹","ã‚¸ãƒ¥ãƒ³ã‚¯å ‚","ä¸¸å–„","TSUTAYA","ãƒ„ã‚¿ãƒ¤","ãƒ–ãƒƒã‚¯ã‚ªãƒ•","BOOKOFF","æœ‰éš£å ‚","ä¸‰çœå ‚æ›¸åº—","ãƒ¤ãƒãƒ€é›»æ©Ÿ","ãƒ“ãƒƒã‚¯ã‚«ãƒ¡ãƒ©","ãƒ¨ãƒ‰ãƒã‚·ã‚«ãƒ¡ãƒ©","ãƒˆã‚¤ã‚¶ã‚‰ã‚¹","ãƒ™ãƒ“ãƒ¼ã‚¶ã‚‰ã‚¹","ABCãƒãƒ¼ãƒˆ","ã‚¢ã‚¹ãƒ“ãƒ¼","çœ¼é¡å¸‚å ´","JINS","ã‚¸ãƒ³ã‚º","Zoff","ã‚¾ãƒ•","ENEOS","ã‚¨ãƒã‚ªã‚¹","å‡ºå…‰","Idemitsu","ã‚³ã‚¹ãƒ¢çŸ³æ²¹","COSMO","ã‚·ã‚§ãƒ«","Shell","ã‚¨ãƒƒã‚½","Esso","ãƒ¢ãƒ¼ãƒ“ãƒ«","Mobil","Amazon","ã‚¢ãƒã‚¾ãƒ³","æ¥½å¤©","Rakuten","ãƒ¡ãƒ«ã‚«ãƒª","ãƒ¤ãƒ•ã‚ªã‚¯","Yahoo!","PayPay"];for(const a of i)if(s.includes(a))return console.log("âœ… åº—èˆ—åã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°æˆåŠŸ:",a),a;const o=s.match(/(?:TEL|é›»è©±|Tel|tel)[:ï¼š\s]*(\d{2,4}[-\s]\d{2,4}[-\s]\d{3,4})/);if(o){const a=t.findIndex(d=>d.includes(o[1])||d.includes(o[0]));if(a>0)for(let d=Math.max(0,a-3);d<a;d++){const c=t[d];if(c.length>2&&c.length<20&&!c.match(/[\d\/\-\.\:\s]+$/))return console.log("ğŸ“ é›»è©±ç•ªå·è¿‘ãã®åº—èˆ—åæ¨æ¸¬:",c),c}}if(t.length>0){const d=t[0].replace(/[|O.]/g,"").trim();if(d.length>1&&!/^[\d\s\-\/\.\:Â¥ï¿¥]+$/.test(d))return console.log("ğŸ”¤ æœ€åˆã®è¡Œã‚’åº—èˆ—åã¨ã—ã¦ä½¿ç”¨ï¼ˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å¾Œï¼‰:",d),d;if(t.length>1){const g=t[1].replace(/[|O.]/g,"").trim();if(g.length>1&&!/^[\d\s\-\/\.\:Â¥ï¿¥]+$/.test(g))return console.log("ğŸ”¤ 2è¡Œç›®ã‚’åº—èˆ—åã¨ã—ã¦ä½¿ç”¨ï¼ˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å¾Œï¼‰:",g),g}}return console.log("âŒ åº—èˆ—åãŒç‰¹å®šã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚"),"ä¸æ˜"}calculateConfidence(s,t){return .9}extractItems(s){console.log("å•†å“ã‚¢ã‚¤ãƒ†ãƒ æŠ½å‡ºã‚’é–‹å§‹");const t=[],i=s.split(`
`),o=[/(.+?)\s+([0-9,]+)å††/,/(.+?)\s+Â¥([0-9,]+)/,/(.+?)\s+ï¿¥([0-9,]+)/,/(.+?)\s+([0-9,]+)\s*å††/];for(const a of i)if(!(a.includes("åˆè¨ˆ")||a.includes("å°è¨ˆ")||a.includes("ç¨")||a.includes("/")||a.includes("-")||a.includes(":")||a.includes("ãŠé‡£ã‚Š")))for(const d of o){const c=a.match(d);if(c){const g=c[1].trim(),h=parseInt(c[2].replace(/[,ï¼Œ]/g,""));if(g.length>1&&g.length<50&&h>0&&h<1e5){t.push({name:g,price:h,quantity:1,qty:1,line_total:h,category:"ä¸æ˜"});break}}}return t}extractItemsCount(s){return this.extractItems(s).length}}const It=({showDetails:f=!1,className:s=""})=>{const t=at();return f?e.jsxs("div",{className:`p-4 rounded-xl border bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/30 ${s}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:e.jsx(te,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"AIåˆ†æ æœ‰åŠ¹"}),e.jsx("p",{className:"text-xs text-gray-400",children:`${t.provider} (${t.model})`})]}),e.jsx(Ae,{className:"w-5 h-5 text-green-400 ml-auto"})]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(X,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{children:"é«˜ç²¾åº¦ãƒ¬ã‚·ãƒ¼ãƒˆåˆ†æ"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(X,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{children:"è‡ªå‹•å‹˜å®šç§‘ç›®åˆ†é¡"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(X,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{children:"ç•°å¸¸æ¤œçŸ¥ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¹"})]})]}),!1]}):e.jsx("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-purple-500/20 to-blue-500/20 text-purple-400 border border-purple-500/30 ${s}`,children:e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-3 h-3"}),e.jsx("span",{children:"AIæœ‰åŠ¹"})]})})},Yt=()=>{const[f,s]=z.useState(!1),[t,i]=z.useState(!1),[o,a]=z.useState(null),[d,c]=z.useState(!1),[g,h]=z.useState("å‡¦ç†ä¸­..."),[v,w]=z.useState(!1),L=async y=>{var I,B;console.log("ğŸ“¸ handleCapture called with imageBlob:",y),s(!1),c(!0),h("ç”»åƒã‚’è§£æä¸­..."),w(!1);try{const O=URL.createObjectURL(y);console.log("ğŸ–¼ï¸ ç”»åƒURLç”Ÿæˆ:",O);const S=Et.recognize(O,"jpn+eng",{logger:b=>{if(b.status==="recognizing text"){const R=Math.round(b.progress*100);console.log(`ğŸ” OCRé€²æ—: ${R}%`),h(`æ–‡å­—ã‚’èª­ã¿å–ã£ã¦ã„ã¾ã™... ${R}%`)}}}),T=new Promise((b,R)=>setTimeout(()=>R(new Error("OCRå‡¦ç†ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ")),3e4));let A="";try{A=(await Promise.race([S,T])).data.text,console.log("âœ… OCRå®Œäº†:",A.substring(0,100)+"...")}catch(b){console.warn("âš ï¸ OCRå‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸãŒã€æ‰‹å‹•å…¥åŠ›ã‚’ç¶šè¡Œã—ã¾ã™:",b)}URL.revokeObjectURL(O);let P;if(A&&ot()){h("ğŸ¤– AIåˆ†æä¸­..."),console.log("ğŸ¤– Gemini AIã§åˆ†æã‚’é–‹å§‹...");try{const b=await it(A);if(b)console.log("ğŸ¤– AIåˆ†ææˆåŠŸ:",b),w(!0),P={merchant:b.storeName||"",date:b.date||new Date().toISOString().split("T")[0],amount:b.totalAmount||0,category:((I=b.classification)==null?void 0:I.accountTitle)||b.storeCategory||"é›‘è²»",taxRate:10,confidence:Math.round((((B=b.classification)==null?void 0:B.confidence)||.8)*100)},console.log("ğŸ¤– AIæŠ½å‡ºãƒ‡ãƒ¼ã‚¿:",P);else throw new Error("AIåˆ†æçµæœãŒç©ºã§ã™")}catch(b){console.warn("âš ï¸ AIåˆ†æã«å¤±æ•—ã€ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯:",b),h("ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºä¸­...");const _=new Ze().parseReceipt(A);P={merchant:_.store_name||"",date:_.date||new Date().toISOString().split("T")[0],amount:_.total_amount||0,category:"é›‘è²»",taxRate:_.tax_rate||10,confidence:70}}}else{h("ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºä¸­...");const R=new Ze().parseReceipt(A||"");console.log("ğŸ“Š ãƒ‘ãƒ¼ã‚¹çµæœ:",R),P={merchant:R.store_name||"",date:R.date||new Date().toISOString().split("T")[0],amount:R.total_amount||0,category:"é›‘è²»",taxRate:R.tax_rate||10,confidence:A?70:0}}console.log("ğŸ“¦ è¨­å®šã™ã‚‹extractedData:",P),a(P),console.log("ğŸš€ setShowResultModalã‚’trueã«è¨­å®š"),i(!0)}catch(O){console.error("ğŸ’¥ å‡¦ç†ã‚¨ãƒ©ãƒ¼:",O);const S={merchant:"",date:new Date().toISOString().split("T")[0],amount:0,category:"é›‘è²»",taxRate:10,confidence:0};console.log("âŒ ã‚¨ãƒ©ãƒ¼æ™‚ã®extractedData:",S),a(S),i(!0)}finally{console.log("ğŸ handleCapture finallyãƒ–ãƒ­ãƒƒã‚¯"),c(!1),h("å‡¦ç†ä¸­...")}},$=()=>{i(!1),s(!0)},W=()=>{console.log("ğŸšª ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹"),i(!1),a(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(ne,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚­ãƒ£ãƒ³"}),e.jsx("p",{className:"text-xs text-gray-600",children:"ãƒ¬ã‚·ãƒ¼ãƒˆè‡ªå‹•èª­ã¿å–ã‚Š"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(It,{})})]})})}),e.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-7xl",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6 order-last lg:order-first",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:"ğŸ“–"}),"ä½¿ã„æ–¹"]}),e.jsx("div",{className:"space-y-4",children:[{step:1,title:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±",icon:"ğŸ“¸"},{step:2,title:"AI ãŒè‡ªå‹•èªè­˜",icon:"ğŸ¤–"},{step:3,title:"ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠ",icon:"ğŸ·ï¸"},{step:4,title:"ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²",icon:"ğŸ’¾"}].map(y=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-md",children:y.step}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:y.title}),e.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:[y.step===1&&"ã‚«ãƒ¡ãƒ©ã§æ’®å½±ã™ã‚‹ã ã‘",y.step===2&&"æ•°ç§’ã§å®Œäº†",y.step===3&&"8ç¨®é¡ã‹ã‚‰é¸æŠ",y.step===4&&"å³åº§ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸"]})]})]},y.step))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl shadow-lg p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"âœ¨ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"è¶…é«˜é€Ÿå‡¦ç†ï¼ˆ5-10ç§’ï¼‰"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"AIç²¾åº¦95%ä»¥ä¸Š"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm",children:"è‡ªå‹•ã‚«ãƒ†ã‚´ãƒªåˆ¤å®š"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:"ğŸ’¡"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"æ’®å½±ã®ã‚³ãƒ„"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:"â€¢ æ˜ã‚‹ã„å ´æ‰€ã§æ’®å½±"}),e.jsx("li",{children:"â€¢ ãƒ¬ã‚·ãƒ¼ãƒˆå…¨ä½“ã‚’æ å†…ã«"}),e.jsx("li",{children:"â€¢ å¹³ã‚‰ã«ã—ã¦æ’®å½±"})]})]})]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700 mb-3",children:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±ã—ã¦è¨˜éŒ²"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl",children:"ã‚¹ãƒãƒ›ã§æ’®å½±ã™ã‚‹ã ã‘ã§ã€AIãŒè‡ªå‹•çš„ã«ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ã¦è¨˜éŒ²ã—ã¾ã™"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100",children:[!f&&!d&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-3xl shadow-2xl mb-6 transform hover:scale-110 transition-transform duration-300",children:e.jsx(ne,{className:"w-12 h-12 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ãƒ¬ã‚·ãƒ¼ãƒˆã‚’ã‚¹ã‚­ãƒ£ãƒ³"}),e.jsx("p",{className:"text-gray-600",children:"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã—ã¦ãã ã•ã„"})]}),e.jsxs("button",{onClick:()=>s(!0),className:"group relative px-10 py-5 bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white rounded-2xl shadow-2xl hover:shadow-blue-500/50 transform hover:scale-105 transition-all duration-300 font-bold text-lg inline-flex items-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 opacity-0 group-hover:opacity-20 transition-opacity rounded-2xl"}),e.jsx(ne,{className:"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform"}),e.jsx("span",{children:"ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•"}),e.jsx("div",{className:"ml-3 px-3 py-1 bg-white/20 rounded-full text-sm font-medium",children:"START"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"95%"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"èªè­˜ç²¾åº¦"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"5ç§’"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"å¹³å‡å‡¦ç†æ™‚é–“"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"âˆ"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"åˆ©ç”¨å›æ•°"})]})]})]}),d&&e.jsxs("div",{className:"p-12 text-center bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-4 border-blue-200 border-t-blue-600 mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(te,{className:"w-10 h-10 text-blue-600 animate-pulse"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"AI ãŒèª­ã¿å–ã‚Šä¸­..."}),e.jsx("p",{className:"text-gray-600 mb-8",children:g}),e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"å‡¦ç†é€²æ—"}),e.jsx("span",{className:"font-bold text-blue-600",children:"å‡¦ç†ä¸­..."})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 h-3 rounded-full animate-pulse",style:{width:"66%"}})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"å¯¾å¿œãƒ¬ã‚·ãƒ¼ãƒˆ"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ã‚³ãƒ³ãƒ“ãƒ‹ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã€é£²é£Ÿåº—ãªã©200åº—èˆ—ä»¥ä¸Šã«å¯¾å¿œ"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"é«˜é€Ÿå‡¦ç†"}),e.jsx("p",{className:"text-sm text-gray-600",children:"æœ€æ–°AIæŠ€è¡“ã«ã‚ˆã‚Šã€ã‚ãšã‹æ•°ç§’ã§å®Œäº†"})]})]})})]})]})]}),f&&e.jsx(st,{onCapture:L,onClose:()=>s(!1)}),(console.log("ğŸ” ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒã‚§ãƒƒã‚¯:",{showResultModal:t,extractedData:o}),t&&e.jsx(nt,{receiptData:o||{merchant:"",date:new Date().toISOString().split("T")[0],amount:0,category:"é›‘è²»",taxRate:10,confidence:0},onClose:W,onRetake:$}))]})]})};export{Yt as default};

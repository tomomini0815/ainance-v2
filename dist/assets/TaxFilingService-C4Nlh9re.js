import{c as h}from"./index-Bk0qIUw9.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],E=h("external-link",x),g=[{min:0,max:195e4,rate:.05,deduction:0},{min:195e4,max:33e5,rate:.1,deduction:97500},{min:33e5,max:695e4,rate:.2,deduction:427500},{min:695e4,max:9e6,rate:.23,deduction:636e3},{min:9e6,max:18e6,rate:.33,deduction:1536e3},{min:18e6,max:4e7,rate:.4,deduction:2796e3},{min:4e7,max:1/0,rate:.45,deduction:4796e3}],_=65e4,I=48e4,C=[{type:"basic",name:"基礎控除",description:"全ての納税者が受けられる控除（48万円）",documents:[]},{type:"blue_return",name:"青色申告特別控除",description:"青色申告者が受けられる控除（最大65万円）",documents:["青色申告承認申請書"]},{type:"medical",name:"医療費控除",description:"年間10万円を超える医療費の控除",documents:["医療費の領収書","医療費控除の明細書"]},{type:"social_insurance",name:"社会保険料控除",description:"国民健康保険、国民年金などの控除",documents:["社会保険料控除証明書"]},{type:"small_business_mutual",name:"小規模企業共済等掛金控除",description:"小規模企業共済やiDeCoの掛金控除",documents:["掛金払込証明書"]},{type:"life_insurance",name:"生命保険料控除",description:"生命保険料の控除（最大12万円）",documents:["生命保険料控除証明書"]},{type:"earthquake_insurance",name:"地震保険料控除",description:"地震保険料の控除（最大5万円）",documents:["地震保険料控除証明書"]},{type:"spouse",name:"配偶者控除",description:"配偶者の所得に応じた控除",documents:[]},{type:"dependent",name:"扶養控除",description:"扶養親族に応じた控除",documents:[]},{type:"furusato",name:"ふるさと納税（寄附金控除）",description:"ふるさと納税による寄附金控除",documents:["寄附金受領証明書"]},{type:"housing_loan",name:"住宅ローン控除",description:"住宅ローンの年末残高に応じた控除",documents:["住宅借入金等特別控除証明書","年末残高証明書"]}],D=(t,s,a="individual",o=[])=>{const c=t.filter(e=>new Date(e.date).getFullYear()===s),y=c.filter(e=>e.type==="income"),r=c.filter(e=>e.type==="expense"),u=y.reduce((e,n)=>e+Math.abs(Number(n.amount)||0),0),i=r.reduce((e,n)=>e+Math.abs(Number(n.amount)||0),0),m=u-i,b=Object.entries(r.reduce((e,n)=>{const l=n.category||"未分類";return e[l]=(e[l]||0)+Math.abs(Number(n.amount)||0),e},{})).map(([e,n])=>({category:e,amount:n,percentage:i>0?n/i*100:0})).sort((e,n)=>n.amount-e.amount),d=o.filter(e=>e.isApplicable).reduce((e,n)=>e+n.amount,0),p=Math.max(0,m-d),f=T(p);return{fiscalYear:s,businessType:a,totalRevenue:u,totalExpenses:i,netIncome:m,expensesByCategory:b,deductions:o,totalDeductions:d,taxableIncome:p,estimatedTax:f,status:"draft"}},T=t=>{for(const s of g)if(t<=s.max)return Math.floor(t*s.rate-s.deduction);return 0},M=(t=!0)=>{const s=[{id:"basic",type:"basic",name:"基礎控除",amount:I,description:"全ての納税者が受けられる控除",isApplicable:!0}];return t&&s.push({id:"blue_return",type:"blue_return",name:"青色申告特別控除",amount:_,description:"電子申告で最大65万円控除",isApplicable:!0}),s},N=async(t,s)=>{const a=[];return t.deductions.find(o=>o.type==="blue_return")||a.push("青色申告特別控除（65万円）の適用をご検討ください"),t.totalRevenue>0&&t.totalExpenses/t.totalRevenue<.3&&a.push("経費率が低めです。経費として計上できる支出がないか確認してみましょう"),t.taxableIncome>33e5&&a.push("小規模企業共済やiDeCoへの加入で節税効果が期待できます"),a.push("ふるさと納税で節税しながら地域貢献ができます"),a.push("経費の領収書は7年間保管が必要です"),{suggestions:a,estimatedSavings:Math.round(t.estimatedTax*.1)}},k=t=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(t),v=t=>`${t.toFixed(1)}%`;export{C as A,E,v as a,N as b,D as c,k as f,M as g};

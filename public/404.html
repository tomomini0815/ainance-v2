<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ainance</title>
    <script>
      // GitHub PagesでSPAを正しく動作させるためのリダイレクトスクリプト
      (function() {
        // 現在のホストとパスを取得
        var host = location.host;
        var path = location.pathname;
        var hash = location.hash;
        var search = location.search;
        
        // カスタムドメインを使用している場合
        if (host === 'tomomini0815.github.io') {
          // /dashboard にアクセスしている場合、ハッシュルーティングを使用してリダイレクト
          if (path === '/dashboard' || path.startsWith('/dashboard/')) {
            var redirectUrl = '/#/dashboard' + search + hash;
            location.replace(redirectUrl);
          } else {
            // その他のパスもハッシュルーティングを使用してリダイレクト
            var redirectUrl = '/#' + path + search + hash;
            location.replace(redirectUrl);
          }
        } else {
          // デフォルトのGitHub Pages URLを使用している場合
          var basePath = '/ainance-v2';
          var redirectPath = path.replace(new RegExp('^' + basePath), '') || '/';
          // セッションストレージに現在のパスを保存
          sessionStorage.setItem('redirect', redirectPath + search + hash);
          // ルートパスにリダイレクト
          location.replace(basePath + '/');
        }
      })();
    </script>
  </head>
  <body>
  </body>
</html>
var IS=Object.defineProperty;var OS=(t,e,n)=>e in t?IS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>OS(t,typeof e!="symbol"?e+"":e,n);function RS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var T4={exports:{}},mp={},I4={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.element"),MS=Symbol.for("react.portal"),DS=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),BS=Symbol.for("react.profiler"),$S=Symbol.for("react.provider"),US=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),WS=Symbol.for("react.lazy"),K2=Symbol.iterator;function VS(t){return t===null||typeof t!="object"?null:(t=K2&&t[K2]||t["@@iterator"],typeof t=="function"?t:null)}var O4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R4=Object.assign,M4={};function Gc(t,e,n){this.props=t,this.context=e,this.refs=M4,this.updater=n||O4}Gc.prototype.isReactComponent={};Gc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D4(){}D4.prototype=Gc.prototype;function Ix(t,e,n){this.props=t,this.context=e,this.refs=M4,this.updater=n||O4}var Ox=Ix.prototype=new D4;Ox.constructor=Ix;R4(Ox,Gc.prototype);Ox.isPureReactComponent=!0;var G2=Array.isArray,F4=Object.prototype.hasOwnProperty,Rx={current:null},B4={key:!0,ref:!0,__self:!0,__source:!0};function $4(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)F4.call(e,r)&&!B4.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:dh,type:t,key:i,ref:a,props:s,_owner:Rx.current}}function KS(t,e){return{$$typeof:dh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mx(t){return typeof t=="object"&&t!==null&&t.$$typeof===dh}function GS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y2=/\/+/g;function Nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GS(""+t.key):e.toString(36)}function Xf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case dh:case MS:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Nm(a,0):r,G2(s)?(n="",t!=null&&(n=t.replace(Y2,"$&/")+"/"),Xf(s,e,n,"",function(u){return u})):s!=null&&(Mx(s)&&(s=KS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Y2,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",G2(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Nm(i,l);a+=Xf(i,e,n,c,s)}else if(c=VS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Nm(i,l++),a+=Xf(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function af(t,e,n){if(t==null)return t;var r=[],s=0;return Xf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},Qf={transition:null},JS={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:Rx};function U4(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:af,forEach:function(t,e,n){af(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return af(t,function(){e++}),e},toArray:function(t){return af(t,function(e){return e})||[]},only:function(t){if(!Mx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};wt.Component=Gc;wt.Fragment=DS;wt.Profiler=BS;wt.PureComponent=Ix;wt.StrictMode=FS;wt.Suspense=qS;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;wt.act=U4;wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R4({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Rx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)F4.call(e,c)&&!B4.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:dh,type:t.type,key:s,ref:i,props:r,_owner:a}};wt.createContext=function(t){return t={$$typeof:US,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$S,_context:t},t.Consumer=t};wt.createElement=$4;wt.createFactory=function(t){var e=$4.bind(null,t);return e.type=t,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(t){return{$$typeof:zS,render:t}};wt.isValidElement=Mx;wt.lazy=function(t){return{$$typeof:WS,_payload:{_status:-1,_result:t},_init:YS}};wt.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};wt.startTransition=function(t){var e=Qf.transition;Qf.transition={};try{t()}finally{Qf.transition=e}};wt.unstable_act=U4;wt.useCallback=function(t,e){return Lr.current.useCallback(t,e)};wt.useContext=function(t){return Lr.current.useContext(t)};wt.useDebugValue=function(){};wt.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};wt.useEffect=function(t,e){return Lr.current.useEffect(t,e)};wt.useId=function(){return Lr.current.useId()};wt.useImperativeHandle=function(t,e,n){return Lr.current.useImperativeHandle(t,e,n)};wt.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};wt.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};wt.useMemo=function(t,e){return Lr.current.useMemo(t,e)};wt.useReducer=function(t,e,n){return Lr.current.useReducer(t,e,n)};wt.useRef=function(t){return Lr.current.useRef(t)};wt.useState=function(t){return Lr.current.useState(t)};wt.useSyncExternalStore=function(t,e,n){return Lr.current.useSyncExternalStore(t,e,n)};wt.useTransition=function(){return Lr.current.useTransition()};wt.version="18.3.1";I4.exports=wt;var ae=I4.exports;const gp=Kc(ae),XS=RS({__proto__:null,default:gp},[ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=ae,ZS=Symbol.for("react.element"),ek=Symbol.for("react.fragment"),tk=Object.prototype.hasOwnProperty,nk=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rk={key:!0,ref:!0,__self:!0,__source:!0};function z4(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)tk.call(e,r)&&!rk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZS,type:t,key:i,ref:a,props:s,_owner:nk.current}}mp.Fragment=ek;mp.jsx=z4;mp.jsxs=z4;T4.exports=mp;var o=T4.exports,q4={exports:{}},us={},H4={exports:{}},W4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ue){var pe=te.length;te.push(ue);e:for(;0<pe;){var xe=pe-1>>>1,U=te[xe];if(0<s(U,ue))te[xe]=ue,te[pe]=U,pe=xe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],pe=te.pop();if(pe!==ue){te[0]=pe;e:for(var xe=0,U=te.length,ee=U>>>1;xe<ee;){var O=2*(xe+1)-1,Z=te[O],B=O+1,se=te[B];if(0>s(Z,pe))B<U&&0>s(se,Z)?(te[xe]=se,te[B]=pe,xe=B):(te[xe]=Z,te[O]=pe,xe=O);else if(B<U&&0>s(se,pe))te[xe]=se,te[B]=pe,xe=B;else break e}}return ue}function s(te,ue){var pe=te.sortIndex-ue.sortIndex;return pe!==0?pe:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(te){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=te)r(u),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(u)}}function k(te){if(x=!1,_(te),!v)if(n(c)!==null)v=!0,H(R);else{var ue=n(u);ue!==null&&ce(k,ue.startTime-te)}}function R(te,ue){v=!1,x&&(x=!1,y(A),A=-1),f=!0;var pe=m;try{for(_(ue),h=n(c);h!==null&&(!(h.expirationTime>ue)||te&&!C());){var xe=h.callback;if(typeof xe=="function"){h.callback=null,m=h.priorityLevel;var U=xe(h.expirationTime<=ue);ue=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(c)&&r(c),_(ue)}else r(c);h=n(c)}if(h!==null)var ee=!0;else{var O=n(u);O!==null&&ce(k,O.startTime-ue),ee=!1}return ee}finally{h=null,m=pe,f=!1}}var I=!1,D=null,A=-1,j=5,T=-1;function C(){return!(t.unstable_now()-T<j)}function L(){if(D!==null){var te=t.unstable_now();T=te;var ue=!0;try{ue=D(!0,te)}finally{ue?F():(I=!1,D=null)}}else I=!1}var F;if(typeof w=="function")F=function(){w(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=L,F=function(){oe.postMessage(null)}}else F=function(){b(L,0)};function H(te){D=te,I||(I=!0,F())}function ce(te,ue){A=b(function(){te(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,H(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(te){switch(m){case 1:case 2:case 3:var ue=3;break;default:ue=m}var pe=m;m=ue;try{return te()}finally{m=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=m;m=te;try{return ue()}finally{m=pe}},t.unstable_scheduleCallback=function(te,ue,pe){var xe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,te){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,te={id:d++,callback:ue,priorityLevel:te,startTime:pe,expirationTime:U,sortIndex:-1},pe>xe?(te.sortIndex=pe,e(u,te),n(c)===null&&te===n(u)&&(x?(y(A),A=-1):x=!0,ce(k,pe-xe))):(te.sortIndex=U,e(c,te),v||f||(v=!0,H(R))),te},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(te){var ue=m;return function(){var pe=m;m=ue;try{return te.apply(this,arguments)}finally{m=pe}}}})(W4);H4.exports=W4;var sk=H4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=ae,cs=sk;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V4=new Set,Id={};function wl(t,e){Oc(t,e),Oc(t+"Capture",e)}function Oc(t,e){for(Id[t]=e,t=0;t<e.length;t++)V4.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=Object.prototype.hasOwnProperty,ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J2={},X2={};function ok(t){return Wg.call(X2,t)?!0:Wg.call(J2,t)?!1:ak.test(t)?X2[t]=!0:(J2[t]=!0,!1)}function lk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ck(t,e,n,r){if(e===null||typeof e>"u"||lk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dx=/[\-:]([a-z])/g;function Fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dx,Fx);dr[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dx,Fx);dr[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dx,Fx);dr[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bx(t,e,n,r){var s=dr.hasOwnProperty(e)?dr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ck(e,n,s,r)&&(n=null),r||s===null?ok(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ca=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),nc=Symbol.for("react.portal"),rc=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),K4=Symbol.for("react.provider"),G4=Symbol.for("react.context"),Ux=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),zx=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),Y4=Symbol.for("react.offscreen"),Q2=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=Q2&&t[Q2]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,jm;function Yu(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||""}return`
`+jm+t}var Sm=!1;function km(t,e){if(!t||Sm)return"";Sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yu(t):""}function uk(t){switch(t.tag){case 5:return Yu(t.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function Yg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rc:return"Fragment";case nc:return"Portal";case Vg:return"Profiler";case $x:return"StrictMode";case Kg:return"Suspense";case Gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G4:return(t.displayName||"Context")+".Consumer";case K4:return(t._context.displayName||"Context")+".Provider";case Ux:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zx:return e=t.displayName||null,e!==null?e:Yg(t.type)||"Memo";case Oa:e=t._payload,t=t._init;try{return Yg(t(e))}catch{}}return null}function dk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yg(e);case 8:return e===$x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hk(t){var e=J4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lf(t){t._valueTracker||(t._valueTracker=hk(t))}function X4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function b0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jg(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=so(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q4(t,e){e=e.checked,e!=null&&Bx(t,"checked",e,!1)}function Xg(t,e){Q4(t,e);var n=so(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,so(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ev(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qg(t,e,n){(e!=="number"||b0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ju=Array.isArray;function yc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+so(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(Ju(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:so(n)}}function Z4(t,e){var n=so(e.value),r=so(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cf,t_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Od(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fk=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(t){fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cd[e]=cd[t]})});function n_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cd.hasOwnProperty(t)&&cd[t]?(""+e).trim():e+"px"}function r_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=n_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pk=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t1(t,e){if(e){if(pk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function n1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=null;function qx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s1=null,vc=null,bc=null;function rv(t){if(t=ph(t)){if(typeof s1!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=wp(e),s1(t.stateNode,t.type,e))}}function s_(t){vc?bc?bc.push(t):bc=[t]:vc=t}function i_(){if(vc){var t=vc,e=bc;if(bc=vc=null,rv(t),e)for(t=0;t<e.length;t++)rv(e[t])}}function a_(t,e){return t(e)}function o_(){}var Am=!1;function l_(t,e,n){if(Am)return t(e,n);Am=!0;try{return a_(t,e,n)}finally{Am=!1,(vc!==null||bc!==null)&&(o_(),i_())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var i1=!1;if(ra)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){i1=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{i1=!1}function mk(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ud=!1,w0=null,_0=!1,a1=null,gk={onError:function(t){ud=!0,w0=t}};function xk(t,e,n,r,s,i,a,l,c){ud=!1,w0=null,mk.apply(gk,arguments)}function yk(t,e,n,r,s,i,a,l,c){if(xk.apply(this,arguments),ud){if(ud){var u=w0;ud=!1,w0=null}else throw Error(Te(198));_0||(_0=!0,a1=u)}}function _l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sv(t){if(_l(t)!==t)throw Error(Te(188))}function vk(t){var e=t.alternate;if(!e){if(e=_l(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sv(s),t;if(i===r)return sv(s),e;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function u_(t){return t=vk(t),t!==null?d_(t):null}function d_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d_(t);if(e!==null)return e;t=t.sibling}return null}var h_=cs.unstable_scheduleCallback,iv=cs.unstable_cancelCallback,bk=cs.unstable_shouldYield,wk=cs.unstable_requestPaint,An=cs.unstable_now,_k=cs.unstable_getCurrentPriorityLevel,Hx=cs.unstable_ImmediatePriority,f_=cs.unstable_UserBlockingPriority,N0=cs.unstable_NormalPriority,Nk=cs.unstable_LowPriority,p_=cs.unstable_IdlePriority,xp=null,ji=null;function jk(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(xp,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:Ak,Sk=Math.log,kk=Math.LN2;function Ak(t){return t>>>=0,t===0?32:31-(Sk(t)/kk|0)|0}var uf=64,df=4194304;function Xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Xu(l):(i&=a,i!==0&&(r=Xu(i)))}else a=n&~s,a!==0?r=Xu(a):i!==0&&(r=Xu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zs(e),s=1<<n,r|=t[n],e&=~s;return r}function Ck(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ek(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Zs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Ck(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function o1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function m_(){var t=uf;return uf<<=1,!(uf&4194240)&&(uf=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=n}function Lk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Wx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var zt=0;function g_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x_,Vx,y_,v_,b_,l1=!1,hf=[],Va=null,Ka=null,Ga=null,Md=new Map,Dd=new Map,Ma=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function av(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(e.pointerId)}}function Ru(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ph(e),e!==null&&Vx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tk(t,e,n,r,s){switch(e){case"focusin":return Va=Ru(Va,t,e,n,r,s),!0;case"dragenter":return Ka=Ru(Ka,t,e,n,r,s),!0;case"mouseover":return Ga=Ru(Ga,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Md.set(i,Ru(Md.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dd.set(i,Ru(Dd.get(i)||null,t,e,n,r,s)),!0}return!1}function w_(t){var e=tl(t.target);if(e!==null){var n=_l(e);if(n!==null){if(e=n.tag,e===13){if(e=c_(n),e!==null){t.blockedOn=e,b_(t.priority,function(){y_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r1=r,n.target.dispatchEvent(r),r1=null}else return e=ph(n),e!==null&&Vx(e),t.blockedOn=n,!1;e.shift()}return!0}function ov(t,e,n){Zf(t)&&n.delete(e)}function Ik(){l1=!1,Va!==null&&Zf(Va)&&(Va=null),Ka!==null&&Zf(Ka)&&(Ka=null),Ga!==null&&Zf(Ga)&&(Ga=null),Md.forEach(ov),Dd.forEach(ov)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,l1||(l1=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,Ik)))}function Fd(t){function e(s){return Mu(s,t)}if(0<hf.length){Mu(hf[0],t);for(var n=1;n<hf.length;n++){var r=hf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Va!==null&&Mu(Va,t),Ka!==null&&Mu(Ka,t),Ga!==null&&Mu(Ga,t),Md.forEach(e),Dd.forEach(e),n=0;n<Ma.length;n++)r=Ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)w_(n),n.blockedOn===null&&Ma.shift()}var wc=ca.ReactCurrentBatchConfig,S0=!0;function Ok(t,e,n,r){var s=zt,i=wc.transition;wc.transition=null;try{zt=1,Kx(t,e,n,r)}finally{zt=s,wc.transition=i}}function Rk(t,e,n,r){var s=zt,i=wc.transition;wc.transition=null;try{zt=4,Kx(t,e,n,r)}finally{zt=s,wc.transition=i}}function Kx(t,e,n,r){if(S0){var s=c1(t,e,n,r);if(s===null)Fm(t,e,r,k0,n),av(t,r);else if(Tk(s,t,e,n,r))r.stopPropagation();else if(av(t,r),e&4&&-1<Pk.indexOf(t)){for(;s!==null;){var i=ph(s);if(i!==null&&x_(i),i=c1(t,e,n,r),i===null&&Fm(t,e,r,k0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fm(t,e,r,null,n)}}var k0=null;function c1(t,e,n,r){if(k0=null,t=qx(r),t=tl(t),t!==null)if(e=_l(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return k0=t,null}function __(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case Hx:return 1;case f_:return 4;case N0:case Nk:return 16;case p_:return 536870912;default:return 16}default:return 16}}var $a=null,Gx=null,e0=null;function N_(){if(e0)return e0;var t,e=Gx,n=e.length,r,s="value"in $a?$a.value:$a.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return e0=s.slice(t,1<r?1-r:void 0)}function t0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ff(){return!0}function lv(){return!1}function ds(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ff:lv,this.isPropagationStopped=lv,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),e}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yx=ds(Yc),fh=hn({},Yc,{view:0,detail:0}),Mk=ds(fh),Em,Lm,Du,yp=hn({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Du&&(Du&&t.type==="mousemove"?(Em=t.screenX-Du.screenX,Lm=t.screenY-Du.screenY):Lm=Em=0,Du=t),Em)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),cv=ds(yp),Dk=hn({},yp,{dataTransfer:0}),Fk=ds(Dk),Bk=hn({},fh,{relatedTarget:0}),Pm=ds(Bk),$k=hn({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),Uk=ds($k),zk=hn({},Yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qk=ds(zk),Hk=hn({},Yc,{data:0}),uv=ds(Hk),Wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kk[t])?!!e[t]:!1}function Jx(){return Gk}var Yk=hn({},fh,{key:function(t){if(t.key){var e=Wk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(t){return t.type==="keypress"?t0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jk=ds(Yk),Xk=hn({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dv=ds(Xk),Qk=hn({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),Zk=ds(Qk),e8=hn({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),t8=ds(e8),n8=hn({},yp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r8=ds(n8),s8=[9,13,27,32],Xx=ra&&"CompositionEvent"in window,dd=null;ra&&"documentMode"in document&&(dd=document.documentMode);var i8=ra&&"TextEvent"in window&&!dd,j_=ra&&(!Xx||dd&&8<dd&&11>=dd),hv=" ",fv=!1;function S_(t,e){switch(t){case"keyup":return s8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function a8(t,e){switch(t){case"compositionend":return k_(e);case"keypress":return e.which!==32?null:(fv=!0,hv);case"textInput":return t=e.data,t===hv&&fv?null:t;default:return null}}function o8(t,e){if(sc)return t==="compositionend"||!Xx&&S_(t,e)?(t=N_(),e0=Gx=$a=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var l8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l8[t.type]:e==="textarea"}function A_(t,e,n,r){s_(r),e=A0(e,"onChange"),0<e.length&&(n=new Yx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hd=null,Bd=null;function c8(t){F_(t,0)}function vp(t){var e=oc(t);if(X4(e))return t}function u8(t,e){if(t==="change")return e}var C_=!1;if(ra){var Tm;if(ra){var Im="oninput"in document;if(!Im){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Im=typeof mv.oninput=="function"}Tm=Im}else Tm=!1;C_=Tm&&(!document.documentMode||9<document.documentMode)}function gv(){hd&&(hd.detachEvent("onpropertychange",E_),Bd=hd=null)}function E_(t){if(t.propertyName==="value"&&vp(Bd)){var e=[];A_(e,Bd,t,qx(t)),l_(c8,e)}}function d8(t,e,n){t==="focusin"?(gv(),hd=e,Bd=n,hd.attachEvent("onpropertychange",E_)):t==="focusout"&&gv()}function h8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vp(Bd)}function f8(t,e){if(t==="click")return vp(e)}function p8(t,e){if(t==="input"||t==="change")return vp(e)}function m8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:m8;function $d(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wg.call(e,s)||!ni(t[s],e[s]))return!1}return!0}function xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yv(t,e){var n=xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xv(n)}}function L_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P_(){for(var t=window,e=b0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=b0(t.document)}return e}function Qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g8(t){var e=P_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L_(n.ownerDocument.documentElement,n)){if(r!==null&&Qx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yv(n,i);var a=yv(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x8=ra&&"documentMode"in document&&11>=document.documentMode,ic=null,u1=null,fd=null,d1=!1;function vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d1||ic==null||ic!==b0(r)||(r=ic,"selectionStart"in r&&Qx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fd&&$d(fd,r)||(fd=r,r=A0(u1,"onSelect"),0<r.length&&(e=new Yx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ic)))}function pf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ac={animationend:pf("Animation","AnimationEnd"),animationiteration:pf("Animation","AnimationIteration"),animationstart:pf("Animation","AnimationStart"),transitionend:pf("Transition","TransitionEnd")},Om={},T_={};ra&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function bp(t){if(Om[t])return Om[t];if(!ac[t])return t;var e=ac[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return Om[t]=e[n];return t}var I_=bp("animationend"),O_=bp("animationiteration"),R_=bp("animationstart"),M_=bp("transitionend"),D_=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){D_.set(t,e),wl(e,[t])}for(var Rm=0;Rm<bv.length;Rm++){var Mm=bv[Rm],y8=Mm.toLowerCase(),v8=Mm[0].toUpperCase()+Mm.slice(1);lo(y8,"on"+v8)}lo(I_,"onAnimationEnd");lo(O_,"onAnimationIteration");lo(R_,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(M_,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yk(r,e,void 0,t),t.currentTarget=null}function F_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;wv(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;wv(s,l,u),i=c}}}if(_0)throw t=a1,_0=!1,a1=null,t}function en(t,e){var n=e[g1];n===void 0&&(n=e[g1]=new Set);var r=t+"__bubble";n.has(r)||(B_(e,t,2,!1),n.add(r))}function Dm(t,e,n){var r=0;e&&(r|=4),B_(n,t,r,e)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[mf]){t[mf]=!0,V4.forEach(function(n){n!=="selectionchange"&&(b8.has(n)||Dm(n,!1,t),Dm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mf]||(e[mf]=!0,Dm("selectionchange",!1,e))}}function B_(t,e,n,r){switch(__(e)){case 1:var s=Ok;break;case 4:s=Rk;break;default:s=Kx}n=s.bind(null,e,n,t),s=void 0,!i1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=tl(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}l_(function(){var u=i,d=qx(n),h=[];e:{var m=D_.get(t);if(m!==void 0){var f=Yx,v=t;switch(t){case"keypress":if(t0(n)===0)break e;case"keydown":case"keyup":f=Jk;break;case"focusin":v="focus",f=Pm;break;case"focusout":v="blur",f=Pm;break;case"beforeblur":case"afterblur":f=Pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Zk;break;case I_:case O_:case R_:f=Uk;break;case M_:f=t8;break;case"scroll":f=Mk;break;case"wheel":f=r8;break;case"copy":case"cut":case"paste":f=qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=dv}var x=(e&4)!==0,b=!x&&t==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,_;w!==null;){_=w;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,y!==null&&(k=Rd(w,y),k!=null&&x.push(zd(w,k,_)))),b)break;w=w.return}0<x.length&&(m=new f(m,v,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==r1&&(v=n.relatedTarget||n.fromElement)&&(tl(v)||v[sa]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?tl(v):null,v!==null&&(b=_l(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(x=cv,k="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=dv,k="onPointerLeave",y="onPointerEnter",w="pointer"),b=f==null?m:oc(f),_=v==null?m:oc(v),m=new x(k,w+"leave",f,n,d),m.target=b,m.relatedTarget=_,k=null,tl(d)===u&&(x=new x(y,w+"enter",v,n,d),x.target=_,x.relatedTarget=b,k=x),b=k,f&&v)t:{for(x=f,y=v,w=0,_=x;_;_=$l(_))w++;for(_=0,k=y;k;k=$l(k))_++;for(;0<w-_;)x=$l(x),w--;for(;0<_-w;)y=$l(y),_--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=$l(x),y=$l(y)}x=null}else x=null;f!==null&&_v(h,m,f,x,!1),v!==null&&b!==null&&_v(h,b,v,x,!0)}}e:{if(m=u?oc(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var R=u8;else if(pv(m))if(C_)R=p8;else{R=h8;var I=d8}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=f8);if(R&&(R=R(t,u))){A_(h,R,n,d);break e}I&&I(t,m,u),t==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&Qg(m,"number",m.value)}switch(I=u?oc(u):window,t){case"focusin":(pv(I)||I.contentEditable==="true")&&(ic=I,u1=u,fd=null);break;case"focusout":fd=u1=ic=null;break;case"mousedown":d1=!0;break;case"contextmenu":case"mouseup":case"dragend":d1=!1,vv(h,n,d);break;case"selectionchange":if(x8)break;case"keydown":case"keyup":vv(h,n,d)}var D;if(Xx)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else sc?S_(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(j_&&n.locale!=="ko"&&(sc||A!=="onCompositionStart"?A==="onCompositionEnd"&&sc&&(D=N_()):($a=d,Gx="value"in $a?$a.value:$a.textContent,sc=!0)),I=A0(u,A),0<I.length&&(A=new uv(A,t,null,n,d),h.push({event:A,listeners:I}),D?A.data=D:(D=k_(n),D!==null&&(A.data=D)))),(D=i8?a8(t,n):o8(t,n))&&(u=A0(u,"onBeforeInput"),0<u.length&&(d=new uv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=D))}F_(h,e)})}function zd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function A0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rd(t,n),i!=null&&r.unshift(zd(t,i,s)),i=Rd(t,e),i!=null&&r.push(zd(t,i,s))),t=t.return}return r}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _v(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Rd(n,i),c!=null&&a.unshift(zd(n,c,l))):s||(c=Rd(n,i),c!=null&&a.push(zd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var w8=/\r\n?/g,_8=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(w8,`
`).replace(_8,"")}function gf(t,e,n){if(e=Nv(e),Nv(t)!==e&&n)throw Error(Te(425))}function C0(){}var h1=null,f1=null;function p1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m1=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,j8=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(S8)}:m1;function S8(t){setTimeout(function(){throw t})}function Bm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fd(e)}function Ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),wi="__reactFiber$"+Jc,qd="__reactProps$"+Jc,sa="__reactContainer$"+Jc,g1="__reactEvents$"+Jc,k8="__reactListeners$"+Jc,A8="__reactHandles$"+Jc;function tl(t){var e=t[wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sa]||n[wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sv(t);t!==null;){if(n=t[wi])return n;t=Sv(t)}return e}t=n,n=t.parentNode}return null}function ph(t){return t=t[wi]||t[sa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function wp(t){return t[qd]||null}var x1=[],lc=-1;function co(t){return{current:t}}function rn(t){0>lc||(t.current=x1[lc],x1[lc]=null,lc--)}function Xt(t,e){lc++,x1[lc]=t.current,t.current=e}var io={},Nr=co(io),Hr=co(!1),dl=io;function Rc(t,e){var n=t.type.contextTypes;if(!n)return io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wr(t){return t=t.childContextTypes,t!=null}function E0(){rn(Hr),rn(Nr)}function kv(t,e,n){if(Nr.current!==io)throw Error(Te(168));Xt(Nr,e),Xt(Hr,n)}function $_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Te(108,dk(t)||"Unknown",s));return hn({},n,r)}function L0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,dl=Nr.current,Xt(Nr,t),Xt(Hr,Hr.current),!0}function Av(t,e,n){var r=t.stateNode;if(!r)throw Error(Te(169));n?(t=$_(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,rn(Hr),rn(Nr),Xt(Nr,t)):rn(Hr),Xt(Hr,n)}var Yi=null,_p=!1,$m=!1;function U_(t){Yi===null?Yi=[t]:Yi.push(t)}function C8(t){_p=!0,U_(t)}function uo(){if(!$m&&Yi!==null){$m=!0;var t=0,e=zt;try{var n=Yi;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yi=null,_p=!1}catch(s){throw Yi!==null&&(Yi=Yi.slice(t+1)),h_(Hx,uo),s}finally{zt=e,$m=!1}}return null}var cc=[],uc=0,P0=null,T0=0,Ss=[],ks=0,hl=null,Qi=1,Zi="";function Wo(t,e){cc[uc++]=T0,cc[uc++]=P0,P0=t,T0=e}function z_(t,e,n){Ss[ks++]=Qi,Ss[ks++]=Zi,Ss[ks++]=hl,hl=t;var r=Qi;t=Zi;var s=32-Zs(r)-1;r&=~(1<<s),n+=1;var i=32-Zs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Qi=1<<32-Zs(e)+s|n<<s|r,Zi=i+t}else Qi=1<<i|n<<s|r,Zi=t}function Zx(t){t.return!==null&&(Wo(t,1),z_(t,1,0))}function ey(t){for(;t===P0;)P0=cc[--uc],cc[uc]=null,T0=cc[--uc],cc[uc]=null;for(;t===hl;)hl=Ss[--ks],Ss[ks]=null,Zi=Ss[--ks],Ss[ks]=null,Qi=Ss[--ks],Ss[ks]=null}var ls=null,as=null,on=!1,Qs=null;function q_(t,e){var n=As(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,as=Ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Qi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=As(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ls=t,as=null,!0):!1;default:return!1}}function y1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function v1(t){if(on){var e=as;if(e){var n=e;if(!Cv(t,e)){if(y1(t))throw Error(Te(418));e=Ya(n.nextSibling);var r=ls;e&&Cv(t,e)?q_(r,n):(t.flags=t.flags&-4097|2,on=!1,ls=t)}}else{if(y1(t))throw Error(Te(418));t.flags=t.flags&-4097|2,on=!1,ls=t}}}function Ev(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function xf(t){if(t!==ls)return!1;if(!on)return Ev(t),on=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p1(t.type,t.memoizedProps)),e&&(e=as)){if(y1(t))throw H_(),Error(Te(418));for(;e;)q_(t,e),e=Ya(e.nextSibling)}if(Ev(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){as=Ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}as=null}}else as=ls?Ya(t.stateNode.nextSibling):null;return!0}function H_(){for(var t=as;t;)t=Ya(t.nextSibling)}function Mc(){as=ls=null,on=!1}function ty(t){Qs===null?Qs=[t]:Qs.push(t)}var E8=ca.ReactCurrentBatchConfig;function Fu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function yf(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lv(t){var e=t._init;return e(t._payload)}function W_(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Za(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,w,_,k){return w===null||w.tag!==6?(w=Km(_,y.mode,k),w.return=y,w):(w=s(w,_),w.return=y,w)}function c(y,w,_,k){var R=_.type;return R===rc?d(y,w,_.props.children,k,_.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Oa&&Lv(R)===w.type)?(k=s(w,_.props),k.ref=Fu(y,w,_),k.return=y,k):(k=l0(_.type,_.key,_.props,null,y.mode,k),k.ref=Fu(y,w,_),k.return=y,k)}function u(y,w,_,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Gm(_,y.mode,k),w.return=y,w):(w=s(w,_.children||[]),w.return=y,w)}function d(y,w,_,k,R){return w===null||w.tag!==7?(w=ll(_,y.mode,k,R),w.return=y,w):(w=s(w,_),w.return=y,w)}function h(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Km(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case of:return _=l0(w.type,w.key,w.props,null,y.mode,_),_.ref=Fu(y,null,w),_.return=y,_;case nc:return w=Gm(w,y.mode,_),w.return=y,w;case Oa:var k=w._init;return h(y,k(w._payload),_)}if(Ju(w)||Iu(w))return w=ll(w,y.mode,_,null),w.return=y,w;yf(y,w)}return null}function m(y,w,_,k){var R=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:l(y,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case of:return _.key===R?c(y,w,_,k):null;case nc:return _.key===R?u(y,w,_,k):null;case Oa:return R=_._init,m(y,w,R(_._payload),k)}if(Ju(_)||Iu(_))return R!==null?null:d(y,w,_,k,null);yf(y,_)}return null}function f(y,w,_,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(_)||null,l(w,y,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case of:return y=y.get(k.key===null?_:k.key)||null,c(w,y,k,R);case nc:return y=y.get(k.key===null?_:k.key)||null,u(w,y,k,R);case Oa:var I=k._init;return f(y,w,_,I(k._payload),R)}if(Ju(k)||Iu(k))return y=y.get(_)||null,d(w,y,k,R,null);yf(w,k)}return null}function v(y,w,_,k){for(var R=null,I=null,D=w,A=w=0,j=null;D!==null&&A<_.length;A++){D.index>A?(j=D,D=null):j=D.sibling;var T=m(y,D,_[A],k);if(T===null){D===null&&(D=j);break}t&&D&&T.alternate===null&&e(y,D),w=i(T,w,A),I===null?R=T:I.sibling=T,I=T,D=j}if(A===_.length)return n(y,D),on&&Wo(y,A),R;if(D===null){for(;A<_.length;A++)D=h(y,_[A],k),D!==null&&(w=i(D,w,A),I===null?R=D:I.sibling=D,I=D);return on&&Wo(y,A),R}for(D=r(y,D);A<_.length;A++)j=f(D,y,A,_[A],k),j!==null&&(t&&j.alternate!==null&&D.delete(j.key===null?A:j.key),w=i(j,w,A),I===null?R=j:I.sibling=j,I=j);return t&&D.forEach(function(C){return e(y,C)}),on&&Wo(y,A),R}function x(y,w,_,k){var R=Iu(_);if(typeof R!="function")throw Error(Te(150));if(_=R.call(_),_==null)throw Error(Te(151));for(var I=R=null,D=w,A=w=0,j=null,T=_.next();D!==null&&!T.done;A++,T=_.next()){D.index>A?(j=D,D=null):j=D.sibling;var C=m(y,D,T.value,k);if(C===null){D===null&&(D=j);break}t&&D&&C.alternate===null&&e(y,D),w=i(C,w,A),I===null?R=C:I.sibling=C,I=C,D=j}if(T.done)return n(y,D),on&&Wo(y,A),R;if(D===null){for(;!T.done;A++,T=_.next())T=h(y,T.value,k),T!==null&&(w=i(T,w,A),I===null?R=T:I.sibling=T,I=T);return on&&Wo(y,A),R}for(D=r(y,D);!T.done;A++,T=_.next())T=f(D,y,A,T.value,k),T!==null&&(t&&T.alternate!==null&&D.delete(T.key===null?A:T.key),w=i(T,w,A),I===null?R=T:I.sibling=T,I=T);return t&&D.forEach(function(L){return e(y,L)}),on&&Wo(y,A),R}function b(y,w,_,k){if(typeof _=="object"&&_!==null&&_.type===rc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case of:e:{for(var R=_.key,I=w;I!==null;){if(I.key===R){if(R=_.type,R===rc){if(I.tag===7){n(y,I.sibling),w=s(I,_.props.children),w.return=y,y=w;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Oa&&Lv(R)===I.type){n(y,I.sibling),w=s(I,_.props),w.ref=Fu(y,I,_),w.return=y,y=w;break e}n(y,I);break}else e(y,I);I=I.sibling}_.type===rc?(w=ll(_.props.children,y.mode,k,_.key),w.return=y,y=w):(k=l0(_.type,_.key,_.props,null,y.mode,k),k.ref=Fu(y,w,_),k.return=y,y=k)}return a(y);case nc:e:{for(I=_.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=s(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Gm(_,y.mode,k),w.return=y,y=w}return a(y);case Oa:return I=_._init,b(y,w,I(_._payload),k)}if(Ju(_))return v(y,w,_,k);if(Iu(_))return x(y,w,_,k);yf(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,_),w.return=y,y=w):(n(y,w),w=Km(_,y.mode,k),w.return=y,y=w),a(y)):n(y,w)}return b}var Dc=W_(!0),V_=W_(!1),I0=co(null),O0=null,dc=null,ny=null;function ry(){ny=dc=O0=null}function sy(t){var e=I0.current;rn(I0),t._currentValue=e}function b1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _c(t,e){O0=t,ny=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qr=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(ny!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(O0===null)throw Error(Te(308));dc=t,O0.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var nl=null;function iy(t){nl===null?nl=[t]:nl.push(t)}function K_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,iy(e)):(n.next=s.next,s.next=n),e.interleaved=n,ia(t,r)}function ia(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ra=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function na(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ia(t,n)}return s=r.interleaved,s===null?(e.next=e,iy(r)):(e.next=s.next,s.next=e),r.interleaved=e,ia(t,n)}function n0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wx(t,n)}}function Pv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function R0(t,e,n,r){var s=t.updateQueue;Ra=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(m=e,f=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(f,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(f,h,m):v,m==null)break e;h=hn({},h,m);break e;case 2:Ra=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pl|=a,t.lanes=a,t.memoizedState=h}}function Tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Te(191,s));s.call(r)}}}var mh={},Si=co(mh),Hd=co(mh),Wd=co(mh);function rl(t){if(t===mh)throw Error(Te(174));return t}function oy(t,e){switch(Xt(Wd,e),Xt(Hd,t),Xt(Si,mh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e1(e,t)}rn(Si),Xt(Si,e)}function Fc(){rn(Si),rn(Hd),rn(Wd)}function Y_(t){rl(Wd.current);var e=rl(Si.current),n=e1(e,t.type);e!==n&&(Xt(Hd,t),Xt(Si,n))}function ly(t){Hd.current===t&&(rn(Si),rn(Hd))}var un=co(0);function M0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function cy(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var r0=ca.ReactCurrentDispatcher,zm=ca.ReactCurrentBatchConfig,fl=0,dn=null,Kn=null,Xn=null,D0=!1,pd=!1,Vd=0,L8=0;function pr(){throw Error(Te(321))}function uy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function dy(t,e,n,r,s,i){if(fl=i,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r0.current=t===null||t.memoizedState===null?O8:R8,t=n(r,s),pd){i=0;do{if(pd=!1,Vd=0,25<=i)throw Error(Te(301));i+=1,Xn=Kn=null,e.updateQueue=null,r0.current=M8,t=n(r,s)}while(pd)}if(r0.current=F0,e=Kn!==null&&Kn.next!==null,fl=0,Xn=Kn=dn=null,D0=!1,e)throw Error(Te(300));return t}function hy(){var t=Vd!==0;return Vd=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?dn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function Is(){if(Kn===null){var t=dn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=Xn===null?dn.memoizedState:Xn.next;if(e!==null)Xn=e,Kn=t;else{if(t===null)throw Error(Te(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},Xn===null?dn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function Kd(t,e){return typeof e=="function"?e(t):e}function qm(t){var e=Is(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=Kn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((fl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,dn.lanes|=d,pl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ni(r,e.memoizedState)||(qr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,dn.lanes|=i,pl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hm(t){var e=Is(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ni(i,e.memoizedState)||(qr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function J_(){}function X_(t,e){var n=dn,r=Is(),s=e(),i=!ni(r.memoizedState,s);if(i&&(r.memoizedState=s,qr=!0),r=r.queue,fy(eN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Gd(9,Z_.bind(null,n,r,s,e),void 0,null),er===null)throw Error(Te(349));fl&30||Q_(n,e,s)}return s}function Q_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z_(t,e,n,r){e.value=n,e.getSnapshot=r,tN(e)&&nN(t)}function eN(t,e,n){return n(function(){tN(e)&&nN(t)})}function tN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function nN(t){var e=ia(t,1);e!==null&&ei(e,t,1,-1)}function Iv(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:t},e.queue=t,t=t.dispatch=I8.bind(null,dn,t),[e.memoizedState,t]}function Gd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rN(){return Is().memoizedState}function s0(t,e,n,r){var s=yi();dn.flags|=t,s.memoizedState=Gd(1|e,n,void 0,r===void 0?null:r)}function Np(t,e,n,r){var s=Is();r=r===void 0?null:r;var i=void 0;if(Kn!==null){var a=Kn.memoizedState;if(i=a.destroy,r!==null&&uy(r,a.deps)){s.memoizedState=Gd(e,n,i,r);return}}dn.flags|=t,s.memoizedState=Gd(1|e,n,i,r)}function Ov(t,e){return s0(8390656,8,t,e)}function fy(t,e){return Np(2048,8,t,e)}function sN(t,e){return Np(4,2,t,e)}function iN(t,e){return Np(4,4,t,e)}function aN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oN(t,e,n){return n=n!=null?n.concat([t]):null,Np(4,4,aN.bind(null,e,t),n)}function py(){}function lN(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cN(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uN(t,e,n){return fl&21?(ni(n,e)||(n=m_(),dn.lanes|=n,pl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qr=!0),t.memoizedState=n)}function P8(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=zm.transition;zm.transition={};try{t(!1),e()}finally{zt=n,zm.transition=r}}function dN(){return Is().memoizedState}function T8(t,e,n){var r=Qa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hN(t))fN(e,n);else if(n=K_(t,e,n,r),n!==null){var s=Er();ei(n,t,r,s),pN(n,e,r)}}function I8(t,e,n){var r=Qa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hN(t))fN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ni(l,a)){var c=e.interleaved;c===null?(s.next=s,iy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=K_(t,e,s,r),n!==null&&(s=Er(),ei(n,t,r,s),pN(n,e,r))}}function hN(t){var e=t.alternate;return t===dn||e!==null&&e===dn}function fN(t,e){pd=D0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wx(t,n)}}var F0={readContext:Ts,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},O8={readContext:Ts,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:Ts,useEffect:Ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,s0(4194308,4,aN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return s0(4194308,4,t,e)},useInsertionEffect:function(t,e){return s0(4,2,t,e)},useMemo:function(t,e){var n=yi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T8.bind(null,dn,t),[r.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:Iv,useDebugValue:py,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=Iv(!1),e=t[0];return t=P8.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dn,s=yi();if(on){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),er===null)throw Error(Te(349));fl&30||Q_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ov(eN.bind(null,r,i,t),[t]),r.flags|=2048,Gd(9,Z_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yi(),e=er.identifierPrefix;if(on){var n=Zi,r=Qi;n=(r&~(1<<32-Zs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=L8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R8={readContext:Ts,useCallback:lN,useContext:Ts,useEffect:fy,useImperativeHandle:oN,useInsertionEffect:sN,useLayoutEffect:iN,useMemo:cN,useReducer:qm,useRef:rN,useState:function(){return qm(Kd)},useDebugValue:py,useDeferredValue:function(t){var e=Is();return uN(e,Kn.memoizedState,t)},useTransition:function(){var t=qm(Kd)[0],e=Is().memoizedState;return[t,e]},useMutableSource:J_,useSyncExternalStore:X_,useId:dN,unstable_isNewReconciler:!1},M8={readContext:Ts,useCallback:lN,useContext:Ts,useEffect:fy,useImperativeHandle:oN,useInsertionEffect:sN,useLayoutEffect:iN,useMemo:cN,useReducer:Hm,useRef:rN,useState:function(){return Hm(Kd)},useDebugValue:py,useDeferredValue:function(t){var e=Is();return Kn===null?e.memoizedState=t:uN(e,Kn.memoizedState,t)},useTransition:function(){var t=Hm(Kd)[0],e=Is().memoizedState;return[t,e]},useMutableSource:J_,useSyncExternalStore:X_,useId:dN,unstable_isNewReconciler:!1};function Ks(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jp={isMounted:function(t){return(t=t._reactInternals)?_l(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Er(),s=Qa(t),i=na(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ja(t,i,s),e!==null&&(ei(e,t,s,r),n0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Er(),s=Qa(t),i=na(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ja(t,i,s),e!==null&&(ei(e,t,s,r),n0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Er(),r=Qa(t),s=na(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ja(t,s,r),e!==null&&(ei(e,t,r,n),n0(e,t,r))}};function Rv(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!$d(n,r)||!$d(s,i):!0}function mN(t,e,n){var r=!1,s=io,i=e.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(s=Wr(e)?dl:Nr.current,r=e.contextTypes,i=(r=r!=null)?Rc(t,s):io),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jp.enqueueReplaceState(e,e.state,null)}function _1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ts(i):(i=Wr(e)?dl:Nr.current,s.context=Rc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(w1(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&jp.enqueueReplaceState(s,s.state,null),R0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bc(t,e){try{var n="",r=e;do n+=uk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function N1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function gN(t,e,n){n=na(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$0||($0=!0,I1=r),N1(t,e)},n}function xN(t,e,n){n=na(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){N1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){N1(t,e),typeof r!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D8;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=X8.bind(null,t,e,n),e.then(t,t))}function Fv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=na(-1,1),e.tag=2,Ja(n,e,1))),n.lanes|=1),t)}var F8=ca.ReactCurrentOwner,qr=!1;function Ar(t,e,n,r){e.child=t===null?V_(e,null,n,r):Dc(e,t.child,n,r)}function $v(t,e,n,r,s){n=n.render;var i=e.ref;return _c(e,s),r=dy(t,e,n,r,i,s),n=hy(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aa(t,e,s)):(on&&n&&Zx(e),e.flags|=1,Ar(t,e,r,s),e.child)}function Uv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_y(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yN(t,e,i,r,s)):(t=l0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:$d,n(a,r)&&t.ref===e.ref)return aa(t,e,s)}return e.flags|=1,t=Za(i,r),t.ref=e.ref,t.return=e,e.child=t}function yN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if($d(i,r)&&t.ref===e.ref)if(qr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qr=!0);else return e.lanes=t.lanes,aa(t,e,s)}return j1(t,e,n,r,s)}function vN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(fc,is),is|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(fc,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xt(fc,is),is|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Xt(fc,is),is|=r;return Ar(t,e,s,n),e.child}function bN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j1(t,e,n,r,s){var i=Wr(n)?dl:Nr.current;return i=Rc(e,i),_c(e,s),n=dy(t,e,n,r,i,s),r=hy(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aa(t,e,s)):(on&&r&&Zx(e),e.flags|=1,Ar(t,e,n,s),e.child)}function zv(t,e,n,r,s){if(Wr(n)){var i=!0;L0(e)}else i=!1;if(_c(e,s),e.stateNode===null)i0(t,e),mN(e,n,r),_1(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=Wr(n)?dl:Nr.current,u=Rc(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Mv(e,a,r,u),Ra=!1;var m=e.memoizedState;a.state=m,R0(e,r,a,s),c=e.memoizedState,l!==r||m!==c||Hr.current||Ra?(typeof d=="function"&&(w1(e,n,d,r),c=e.memoizedState),(l=Ra||Rv(e,n,l,r,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,G_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ks(e.type,l),a.props=u,h=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ts(c):(c=Wr(n)?dl:Nr.current,c=Rc(e,c));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Mv(e,a,r,c),Ra=!1,m=e.memoizedState,a.state=m,R0(e,r,a,s);var v=e.memoizedState;l!==h||m!==v||Hr.current||Ra?(typeof f=="function"&&(w1(e,n,f,r),v=e.memoizedState),(u=Ra||Rv(e,n,u,r,m,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return S1(t,e,n,r,i,s)}function S1(t,e,n,r,s,i){bN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Av(e,n,!1),aa(t,e,i);r=e.stateNode,F8.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Dc(e,t.child,null,i),e.child=Dc(e,null,l,i)):Ar(t,e,l,i),e.memoizedState=r.state,s&&Av(e,n,!0),e.child}function wN(t){var e=t.stateNode;e.pendingContext?kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kv(t,e.context,!1),oy(t,e.containerInfo)}function qv(t,e,n,r,s){return Mc(),ty(s),e.flags|=256,Ar(t,e,n,r),e.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function A1(t){return{baseLanes:t,cachePool:null,transitions:null}}function _N(t,e,n){var r=e.pendingProps,s=un.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Xt(un,s&1),t===null)return v1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ap(a,r,0,null),t=ll(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=A1(n),e.memoizedState=k1,t):my(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return B8(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Za(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Za(l,i):(i=ll(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?A1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=k1,r}return i=t.child,t=i.sibling,r=Za(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function my(t,e){return e=Ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vf(t,e,n,r){return r!==null&&ty(r),Dc(e,t.child,null,n),t=my(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B8(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Wm(Error(Te(422))),vf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ap({mode:"visible",children:r.children},s,0,null),i=ll(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dc(e,t.child,null,a),e.child.memoizedState=A1(a),e.memoizedState=k1,i);if(!(e.mode&1))return vf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Te(419)),r=Wm(i,r,void 0),vf(t,e,a,r)}if(l=(a&t.childLanes)!==0,qr||l){if(r=er,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ia(t,s),ei(r,t,s,-1))}return wy(),r=Wm(Error(Te(421))),vf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Q8.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,as=Ya(s.nextSibling),ls=e,on=!0,Qs=null,t!==null&&(Ss[ks++]=Qi,Ss[ks++]=Zi,Ss[ks++]=hl,Qi=t.id,Zi=t.overflow,hl=e),e=my(e,r.children),e.flags|=4096,e)}function Hv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),b1(t.return,e,n)}function Vm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ar(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hv(t,n,e);else if(t.tag===19)Hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xt(un,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&M0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&M0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vm(e,!0,n,null,i);break;case"together":Vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=Za(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Za(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $8(t,e,n){switch(e.tag){case 3:wN(e),Mc();break;case 5:Y_(e);break;case 1:Wr(e.type)&&L0(e);break;case 4:oy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Xt(I0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?_N(t,e,n):(Xt(un,un.current&1),t=aa(t,e,n),t!==null?t.sibling:null);Xt(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,vN(t,e,n)}return aa(t,e,n)}var jN,C1,SN,kN;jN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C1=function(){};SN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rl(Si.current);var i=null;switch(n){case"input":s=Jg(t,s),r=Jg(t,r),i=[];break;case"select":s=hn({},s,{value:void 0}),r=hn({},r,{value:void 0}),i=[];break;case"textarea":s=Zg(t,s),r=Zg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=C0)}t1(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Id.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Id.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&en("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};kN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bu(t,e){if(!on)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U8(t,e,n){var r=e.pendingProps;switch(ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return Wr(e.type)&&E0(),mr(e),null;case 3:return r=e.stateNode,Fc(),rn(Hr),rn(Nr),cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qs!==null&&(M1(Qs),Qs=null))),C1(t,e),mr(e),null;case 5:ly(e);var s=rl(Wd.current);if(n=e.type,t!==null&&e.stateNode!=null)SN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Te(166));return mr(e),null}if(t=rl(Si.current),xf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wi]=e,r[qd]=i,t=(e.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(s=0;s<Qu.length;s++)en(Qu[s],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":Z2(r,i),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},en("invalid",r);break;case"textarea":tv(r,i),en("invalid",r)}t1(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gf(r.textContent,l,t),s=["children",""+l]):Id.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&en("scroll",r)}switch(n){case"input":lf(r),ev(r,i,!0);break;case"textarea":lf(r),nv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=C0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[wi]=e,t[qd]=r,jN(t,e,!1,!1),e.stateNode=t;e:{switch(a=n1(n,r),n){case"dialog":en("cancel",t),en("close",t),s=r;break;case"iframe":case"object":case"embed":en("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qu.length;s++)en(Qu[s],t);s=r;break;case"source":en("error",t),s=r;break;case"img":case"image":case"link":en("error",t),en("load",t),s=r;break;case"details":en("toggle",t),s=r;break;case"input":Z2(t,r),s=Jg(t,r),en("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=hn({},r,{value:void 0}),en("invalid",t);break;case"textarea":tv(t,r),s=Zg(t,r),en("invalid",t);break;default:s=r}t1(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?r_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Od(t,c):typeof c=="number"&&Od(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Id.hasOwnProperty(i)?c!=null&&i==="onScroll"&&en("scroll",t):c!=null&&Bx(t,i,c,a))}switch(n){case"input":lf(t),ev(t,r,!1);break;case"textarea":lf(t),nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+so(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yc(t,!!r.multiple,i,!1):r.defaultValue!=null&&yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=C0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(t&&e.stateNode!=null)kN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Te(166));if(n=rl(Wd.current),rl(Si.current),xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[wi]=e,(i=r.nodeValue!==n)&&(t=ls,t!==null))switch(t.tag){case 3:gf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wi]=e,e.stateNode=r}return mr(e),null;case 13:if(rn(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(on&&as!==null&&e.mode&1&&!(e.flags&128))H_(),Mc(),e.flags|=98560,i=!1;else if(i=xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[wi]=e}else Mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),i=!1}else Qs!==null&&(M1(Qs),Qs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Gn===0&&(Gn=3):wy())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return Fc(),C1(t,e),t===null&&Ud(e.stateNode.containerInfo),mr(e),null;case 10:return sy(e.type._context),mr(e),null;case 17:return Wr(e.type)&&E0(),mr(e),null;case 19:if(rn(un),i=e.memoizedState,i===null)return mr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Bu(i,!1);else{if(Gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=M0(t),a!==null){for(e.flags|=128,Bu(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xt(un,un.current&1|2),e.child}t=t.sibling}i.tail!==null&&An()>$c&&(e.flags|=128,r=!0,Bu(i,!1),e.lanes=4194304)}else{if(!r)if(t=M0(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!on)return mr(e),null}else 2*An()-i.renderingStartTime>$c&&n!==1073741824&&(e.flags|=128,r=!0,Bu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=An(),e.sibling=null,n=un.current,Xt(un,r?n&1|2:n&1),e):(mr(e),null);case 22:case 23:return by(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?is&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function z8(t,e){switch(ey(e),e.tag){case 1:return Wr(e.type)&&E0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fc(),rn(Hr),rn(Nr),cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ly(e),null;case 13:if(rn(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Mc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(un),null;case 4:return Fc(),null;case 10:return sy(e.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var bf=!1,wr=!1,q8=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function E1(t,e,n){try{n()}catch(r){vn(t,e,r)}}var Wv=!1;function H8(t,e){if(h1=S0,t=P_(),Qx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(f1={focusedElem:t,selectionRange:n},S0=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ks(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(k){vn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return v=Wv,Wv=!1,v}function md(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&E1(e,n,i)}s=s.next}while(s!==r)}}function Sp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function L1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AN(t){var e=t.alternate;e!==null&&(t.alternate=null,AN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wi],delete e[qd],delete e[g1],delete e[k8],delete e[A8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CN(t){return t.tag===5||t.tag===3||t.tag===4}function Vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=C0));else if(r!==4&&(t=t.child,t!==null))for(P1(t,e,n),t=t.sibling;t!==null;)P1(t,e,n),t=t.sibling}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}var lr=null,Gs=!1;function Aa(t,e,n){for(n=n.child;n!==null;)EN(t,e,n),n=n.sibling}function EN(t,e,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(xp,n)}catch{}switch(n.tag){case 5:wr||hc(n,e);case 6:var r=lr,s=Gs;lr=null,Aa(t,e,n),lr=r,Gs=s,lr!==null&&(Gs?(t=lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lr.removeChild(n.stateNode));break;case 18:lr!==null&&(Gs?(t=lr,n=n.stateNode,t.nodeType===8?Bm(t.parentNode,n):t.nodeType===1&&Bm(t,n),Fd(t)):Bm(lr,n.stateNode));break;case 4:r=lr,s=Gs,lr=n.stateNode.containerInfo,Gs=!0,Aa(t,e,n),lr=r,Gs=s;break;case 0:case 11:case 14:case 15:if(!wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&E1(n,e,a),s=s.next}while(s!==r)}Aa(t,e,n);break;case 1:if(!wr&&(hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vn(n,e,l)}Aa(t,e,n);break;case 21:Aa(t,e,n);break;case 22:n.mode&1?(wr=(r=wr)||n.memoizedState!==null,Aa(t,e,n),wr=r):Aa(t,e,n);break;default:Aa(t,e,n)}}function Kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q8),e.forEach(function(r){var s=Z8.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:lr=l.stateNode,Gs=!1;break e;case 3:lr=l.stateNode.containerInfo,Gs=!0;break e;case 4:lr=l.stateNode.containerInfo,Gs=!0;break e}l=l.return}if(lr===null)throw Error(Te(160));EN(i,a,s),lr=null,Gs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){vn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LN(e,t),e=e.sibling}function LN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hs(e,t),hi(t),r&4){try{md(3,t,t.return),Sp(3,t)}catch(x){vn(t,t.return,x)}try{md(5,t,t.return)}catch(x){vn(t,t.return,x)}}break;case 1:Hs(e,t),hi(t),r&512&&n!==null&&hc(n,n.return);break;case 5:if(Hs(e,t),hi(t),r&512&&n!==null&&hc(n,n.return),t.flags&32){var s=t.stateNode;try{Od(s,"")}catch(x){vn(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Q4(s,i),n1(l,a);var u=n1(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?r_(s,h):d==="dangerouslySetInnerHTML"?t_(s,h):d==="children"?Od(s,h):Bx(s,d,h,u)}switch(l){case"input":Xg(s,i);break;case"textarea":Z4(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?yc(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?yc(s,!!i.multiple,i.defaultValue,!0):yc(s,!!i.multiple,i.multiple?[]:"",!1))}s[qd]=i}catch(x){vn(t,t.return,x)}}break;case 6:if(Hs(e,t),hi(t),r&4){if(t.stateNode===null)throw Error(Te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){vn(t,t.return,x)}}break;case 3:if(Hs(e,t),hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fd(e.containerInfo)}catch(x){vn(t,t.return,x)}break;case 4:Hs(e,t),hi(t);break;case 13:Hs(e,t),hi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yy=An())),r&4&&Kv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wr=(u=wr)||d,Hs(e,t),wr=u):Hs(e,t),hi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ue=t,d=t.child;d!==null;){for(h=Ue=d;Ue!==null;){switch(m=Ue,f=m.child,m.tag){case 0:case 11:case 14:case 15:md(4,m,m.return);break;case 1:hc(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){vn(r,n,x)}}break;case 5:hc(m,m.return);break;case 22:if(m.memoizedState!==null){Yv(h);continue}}f!==null?(f.return=m,Ue=f):Yv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=n_("display",a))}catch(x){vn(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){vn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hs(e,t),hi(t),r&4&&Kv(t);break;case 21:break;default:Hs(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CN(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Od(s,""),r.flags&=-33);var i=Vv(t);T1(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Vv(t);P1(t,l,a);break;default:throw Error(Te(161))}}catch(c){vn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W8(t,e,n){Ue=t,PN(t)}function PN(t,e,n){for(var r=(t.mode&1)!==0;Ue!==null;){var s=Ue,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||bf;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||wr;l=bf;var u=wr;if(bf=a,(wr=c)&&!u)for(Ue=s;Ue!==null;)a=Ue,c=a.child,a.tag===22&&a.memoizedState!==null?Jv(s):c!==null?(c.return=a,Ue=c):Jv(s);for(;i!==null;)Ue=i,PN(i),i=i.sibling;Ue=s,bf=l,wr=u}Gv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ue=i):Gv(t)}}function Gv(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||Sp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ks(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Tv(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tv(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}wr||e.flags&512&&L1(e)}catch(m){vn(e,e.return,m)}}if(e===t){Ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ue=n;break}Ue=e.return}}function Yv(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ue=n;break}Ue=e.return}}function Jv(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sp(4,e)}catch(c){vn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){vn(e,s,c)}}var i=e.return;try{L1(e)}catch(c){vn(e,i,c)}break;case 5:var a=e.return;try{L1(e)}catch(c){vn(e,a,c)}}}catch(c){vn(e,e.return,c)}if(e===t){Ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ue=l;break}Ue=e.return}}var V8=Math.ceil,B0=ca.ReactCurrentDispatcher,gy=ca.ReactCurrentOwner,Ps=ca.ReactCurrentBatchConfig,Ct=0,er=null,Bn=null,ur=0,is=0,fc=co(0),Gn=0,Yd=null,pl=0,kp=0,xy=0,gd=null,Fr=null,yy=0,$c=1/0,Ki=null,$0=!1,I1=null,Xa=null,wf=!1,Ua=null,U0=0,xd=0,O1=null,a0=-1,o0=0;function Er(){return Ct&6?An():a0!==-1?a0:a0=An()}function Qa(t){return t.mode&1?Ct&2&&ur!==0?ur&-ur:E8.transition!==null?(o0===0&&(o0=m_()),o0):(t=zt,t!==0||(t=window.event,t=t===void 0?16:__(t.type)),t):1}function ei(t,e,n,r){if(50<xd)throw xd=0,O1=null,Error(Te(185));hh(t,n,r),(!(Ct&2)||t!==er)&&(t===er&&(!(Ct&2)&&(kp|=n),Gn===4&&Da(t,ur)),Vr(t,r),n===1&&Ct===0&&!(e.mode&1)&&($c=An()+500,_p&&uo()))}function Vr(t,e){var n=t.callbackNode;Ek(t,e);var r=j0(t,t===er?ur:0);if(r===0)n!==null&&iv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iv(n),e===1)t.tag===0?C8(Xv.bind(null,t)):U_(Xv.bind(null,t)),j8(function(){!(Ct&6)&&uo()}),n=null;else{switch(g_(r)){case 1:n=Hx;break;case 4:n=f_;break;case 16:n=N0;break;case 536870912:n=p_;break;default:n=N0}n=BN(n,TN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TN(t,e){if(a0=-1,o0=0,Ct&6)throw Error(Te(327));var n=t.callbackNode;if(Nc()&&t.callbackNode!==n)return null;var r=j0(t,t===er?ur:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=z0(t,r);else{e=r;var s=Ct;Ct|=2;var i=ON();(er!==t||ur!==e)&&(Ki=null,$c=An()+500,ol(t,e));do try{Y8();break}catch(l){IN(t,l)}while(!0);ry(),B0.current=i,Ct=s,Bn!==null?e=0:(er=null,ur=0,e=Gn)}if(e!==0){if(e===2&&(s=o1(t),s!==0&&(r=s,e=R1(t,s))),e===1)throw n=Yd,ol(t,0),Da(t,r),Vr(t,An()),n;if(e===6)Da(t,r);else{if(s=t.current.alternate,!(r&30)&&!K8(s)&&(e=z0(t,r),e===2&&(i=o1(t),i!==0&&(r=i,e=R1(t,i))),e===1))throw n=Yd,ol(t,0),Da(t,r),Vr(t,An()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Te(345));case 2:Vo(t,Fr,Ki);break;case 3:if(Da(t,r),(r&130023424)===r&&(e=yy+500-An(),10<e)){if(j0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Er(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=m1(Vo.bind(null,t,Fr,Ki),e);break}Vo(t,Fr,Ki);break;case 4:if(Da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Zs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=An()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V8(r/1960))-r,10<r){t.timeoutHandle=m1(Vo.bind(null,t,Fr,Ki),r);break}Vo(t,Fr,Ki);break;case 5:Vo(t,Fr,Ki);break;default:throw Error(Te(329))}}}return Vr(t,An()),t.callbackNode===n?TN.bind(null,t):null}function R1(t,e){var n=gd;return t.current.memoizedState.isDehydrated&&(ol(t,e).flags|=256),t=z0(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&M1(e)),t}function M1(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function K8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~xy,e&=~kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zs(e),r=1<<n;t[n]=-1,e&=~r}}function Xv(t){if(Ct&6)throw Error(Te(327));Nc();var e=j0(t,0);if(!(e&1))return Vr(t,An()),null;var n=z0(t,e);if(t.tag!==0&&n===2){var r=o1(t);r!==0&&(e=r,n=R1(t,r))}if(n===1)throw n=Yd,ol(t,0),Da(t,e),Vr(t,An()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,Fr,Ki),Vr(t,An()),null}function vy(t,e){var n=Ct;Ct|=1;try{return t(e)}finally{Ct=n,Ct===0&&($c=An()+500,_p&&uo())}}function ml(t){Ua!==null&&Ua.tag===0&&!(Ct&6)&&Nc();var e=Ct;Ct|=1;var n=Ps.transition,r=zt;try{if(Ps.transition=null,zt=1,t)return t()}finally{zt=r,Ps.transition=n,Ct=e,!(Ct&6)&&uo()}}function by(){is=fc.current,rn(fc)}function ol(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N8(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&E0();break;case 3:Fc(),rn(Hr),rn(Nr),cy();break;case 5:ly(r);break;case 4:Fc();break;case 13:rn(un);break;case 19:rn(un);break;case 10:sy(r.type._context);break;case 22:case 23:by()}n=n.return}if(er=t,Bn=t=Za(t.current,null),ur=is=e,Gn=0,Yd=null,xy=kp=pl=0,Fr=gd=null,nl!==null){for(e=0;e<nl.length;e++)if(n=nl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}nl=null}return t}function IN(t,e){do{var n=Bn;try{if(ry(),r0.current=F0,D0){for(var r=dn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}D0=!1}if(fl=0,Xn=Kn=dn=null,pd=!1,Vd=0,gy.current=null,n===null||n.return===null){Gn=1,Yd=e,Bn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=ur,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Fv(a);if(f!==null){f.flags&=-257,Bv(f,a,l,i,e),f.mode&1&&Dv(i,u,e),e=f,c=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){Dv(i,u,e),wy();break e}c=Error(Te(426))}}else if(on&&l.mode&1){var b=Fv(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Bv(b,a,l,i,e),ty(Bc(c,l));break e}}i=c=Bc(c,l),Gn!==4&&(Gn=2),gd===null?gd=[i]:gd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=gN(i,c,e);Pv(i,y);break e;case 1:l=c;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xa===null||!Xa.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=xN(i,l,e);Pv(i,k);break e}}i=i.return}while(i!==null)}MN(n)}catch(R){e=R,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function ON(){var t=B0.current;return B0.current=F0,t===null?F0:t}function wy(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),er===null||!(pl&268435455)&&!(kp&268435455)||Da(er,ur)}function z0(t,e){var n=Ct;Ct|=2;var r=ON();(er!==t||ur!==e)&&(Ki=null,ol(t,e));do try{G8();break}catch(s){IN(t,s)}while(!0);if(ry(),Ct=n,B0.current=r,Bn!==null)throw Error(Te(261));return er=null,ur=0,Gn}function G8(){for(;Bn!==null;)RN(Bn)}function Y8(){for(;Bn!==null&&!bk();)RN(Bn)}function RN(t){var e=FN(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?MN(t):Bn=e,gy.current=null}function MN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z8(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gn=6,Bn=null;return}}else if(n=U8(n,e,is),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);Gn===0&&(Gn=5)}function Vo(t,e,n){var r=zt,s=Ps.transition;try{Ps.transition=null,zt=1,J8(t,e,n,r)}finally{Ps.transition=s,zt=r}return null}function J8(t,e,n,r){do Nc();while(Ua!==null);if(Ct&6)throw Error(Te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lk(t,i),t===er&&(Bn=er=null,ur=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wf||(wf=!0,BN(N0,function(){return Nc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ps.transition,Ps.transition=null;var a=zt;zt=1;var l=Ct;Ct|=4,gy.current=null,H8(t,n),LN(n,t),g8(f1),S0=!!h1,f1=h1=null,t.current=n,W8(n),wk(),Ct=l,zt=a,Ps.transition=i}else t.current=n;if(wf&&(wf=!1,Ua=t,U0=s),i=t.pendingLanes,i===0&&(Xa=null),jk(n.stateNode),Vr(t,An()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($0)throw $0=!1,t=I1,I1=null,t;return U0&1&&t.tag!==0&&Nc(),i=t.pendingLanes,i&1?t===O1?xd++:(xd=0,O1=t):xd=0,uo(),null}function Nc(){if(Ua!==null){var t=g_(U0),e=Ps.transition,n=zt;try{if(Ps.transition=null,zt=16>t?16:t,Ua===null)var r=!1;else{if(t=Ua,Ua=null,U0=0,Ct&6)throw Error(Te(331));var s=Ct;for(Ct|=4,Ue=t.current;Ue!==null;){var i=Ue,a=i.child;if(Ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:md(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ue=h;else for(;Ue!==null;){d=Ue;var m=d.sibling,f=d.return;if(AN(d),d===u){Ue=null;break}if(m!==null){m.return=f,Ue=m;break}Ue=f}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Ue=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ue=a;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:md(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ue=y;break e}Ue=i.return}}var w=t.current;for(Ue=w;Ue!==null;){a=Ue;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ue=_;else e:for(a=w;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sp(9,l)}}catch(R){vn(l,l.return,R)}if(l===a){Ue=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Ue=k;break e}Ue=l.return}}if(Ct=s,uo(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(xp,t)}catch{}r=!0}return r}finally{zt=n,Ps.transition=e}}return!1}function Qv(t,e,n){e=Bc(n,e),e=gN(t,e,1),t=Ja(t,e,1),e=Er(),t!==null&&(hh(t,1,e),Vr(t,e))}function vn(t,e,n){if(t.tag===3)Qv(t,t,n);else for(;e!==null;){if(e.tag===3){Qv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){t=Bc(n,t),t=xN(e,t,1),e=Ja(e,t,1),t=Er(),e!==null&&(hh(e,1,t),Vr(e,t));break}}e=e.return}}function X8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Er(),t.pingedLanes|=t.suspendedLanes&n,er===t&&(ur&n)===n&&(Gn===4||Gn===3&&(ur&130023424)===ur&&500>An()-yy?ol(t,0):xy|=n),Vr(t,e)}function DN(t,e){e===0&&(t.mode&1?(e=df,df<<=1,!(df&130023424)&&(df=4194304)):e=1);var n=Er();t=ia(t,e),t!==null&&(hh(t,e,n),Vr(t,n))}function Q8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DN(t,n)}function Z8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(e),DN(t,n)}var FN;FN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)qr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qr=!1,$8(t,e,n);qr=!!(t.flags&131072)}else qr=!1,on&&e.flags&1048576&&z_(e,T0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;i0(t,e),t=e.pendingProps;var s=Rc(e,Nr.current);_c(e,n),s=dy(null,e,r,t,s,n);var i=hy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wr(r)?(i=!0,L0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ay(e),s.updater=jp,e.stateNode=s,s._reactInternals=e,_1(e,r,t,n),e=S1(null,e,r,!0,i,n)):(e.tag=0,on&&i&&Zx(e),Ar(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(i0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tA(r),t=Ks(r,t),s){case 0:e=j1(null,e,r,t,n);break e;case 1:e=zv(null,e,r,t,n);break e;case 11:e=$v(null,e,r,t,n);break e;case 14:e=Uv(null,e,r,Ks(r.type,t),n);break e}throw Error(Te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),j1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),zv(t,e,r,s,n);case 3:e:{if(wN(e),t===null)throw Error(Te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,G_(t,e),R0(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bc(Error(Te(423)),e),e=qv(t,e,r,n,s);break e}else if(r!==s){s=Bc(Error(Te(424)),e),e=qv(t,e,r,n,s);break e}else for(as=Ya(e.stateNode.containerInfo.firstChild),ls=e,on=!0,Qs=null,n=V_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mc(),r===s){e=aa(t,e,n);break e}Ar(t,e,r,n)}e=e.child}return e;case 5:return Y_(e),t===null&&v1(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,p1(r,s)?a=null:i!==null&&p1(r,i)&&(e.flags|=32),bN(t,e),Ar(t,e,a,n),e.child;case 6:return t===null&&v1(e),null;case 13:return _N(t,e,n);case 4:return oy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dc(e,null,r,n):Ar(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),$v(t,e,r,s,n);case 7:return Ar(t,e,e.pendingProps,n),e.child;case 8:return Ar(t,e,e.pendingProps.children,n),e.child;case 12:return Ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Xt(I0,r._currentValue),r._currentValue=a,i!==null)if(ni(i.value,a)){if(i.children===s.children&&!Hr.current){e=aa(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=na(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),b1(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Te(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),b1(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ar(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_c(e,n),s=Ts(s),r=r(s),e.flags|=1,Ar(t,e,r,n),e.child;case 14:return r=e.type,s=Ks(r,e.pendingProps),s=Ks(r.type,s),Uv(t,e,r,s,n);case 15:return yN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),i0(t,e),e.tag=1,Wr(r)?(t=!0,L0(e)):t=!1,_c(e,n),mN(e,r,s),_1(e,r,s,n),S1(null,e,r,!0,t,n);case 19:return NN(t,e,n);case 22:return vN(t,e,n)}throw Error(Te(156,e.tag))};function BN(t,e){return h_(t,e)}function eA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function As(t,e,n,r){return new eA(t,e,n,r)}function _y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tA(t){if(typeof t=="function")return _y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ux)return 11;if(t===zx)return 14}return 2}function Za(t,e){var n=t.alternate;return n===null?(n=As(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function l0(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")_y(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case rc:return ll(n.children,s,i,e);case $x:a=8,s|=8;break;case Vg:return t=As(12,n,e,s|2),t.elementType=Vg,t.lanes=i,t;case Kg:return t=As(13,n,e,s),t.elementType=Kg,t.lanes=i,t;case Gg:return t=As(19,n,e,s),t.elementType=Gg,t.lanes=i,t;case Y4:return Ap(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K4:a=10;break e;case G4:a=9;break e;case Ux:a=11;break e;case zx:a=14;break e;case Oa:a=16,r=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=As(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ll(t,e,n,r){return t=As(7,t,r,e),t.lanes=n,t}function Ap(t,e,n,r){return t=As(22,t,r,e),t.elementType=Y4,t.lanes=n,t.stateNode={isHidden:!1},t}function Km(t,e,n){return t=As(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=As(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(t,e,n,r,s,i,a,l,c){return t=new nA(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=As(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(i),t}function rA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $N(t){if(!t)return io;t=t._reactInternals;e:{if(_l(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(Wr(n))return $_(t,n,e)}return e}function UN(t,e,n,r,s,i,a,l,c){return t=Ny(n,r,!0,t,s,i,a,l,c),t.context=$N(null),n=t.current,r=Er(),s=Qa(n),i=na(r,s),i.callback=e??null,Ja(n,i,s),t.current.lanes=s,hh(t,s,r),Vr(t,r),t}function Cp(t,e,n,r){var s=e.current,i=Er(),a=Qa(s);return n=$N(n),e.context===null?e.context=n:e.pendingContext=n,e=na(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ja(s,e,a),t!==null&&(ei(t,s,a,i),n0(t,s,a)),a}function q0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jy(t,e){Zv(t,e),(t=t.alternate)&&Zv(t,e)}function sA(){return null}var zN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sy(t){this._internalRoot=t}Ep.prototype.render=Sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));Cp(t,e,null,null)};Ep.prototype.unmount=Sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ml(function(){Cp(null,t,null,null)}),e[sa]=null}};function Ep(t){this._internalRoot=t}Ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=v_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ma.length&&e!==0&&e<Ma[n].priority;n++);Ma.splice(n,0,t),n===0&&w_(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eb(){}function iA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=q0(a);i.call(u)}}var a=UN(e,r,t,0,null,!1,!1,"",eb);return t._reactRootContainer=a,t[sa]=a.current,Ud(t.nodeType===8?t.parentNode:t),ml(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=q0(c);l.call(u)}}var c=Ny(t,0,!1,null,null,!1,!1,"",eb);return t._reactRootContainer=c,t[sa]=c.current,Ud(t.nodeType===8?t.parentNode:t),ml(function(){Cp(e,c,n,r)}),c}function Pp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=q0(a);l.call(c)}}Cp(e,a,t,s)}else a=iA(n,e,t,s,r);return q0(a)}x_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xu(e.pendingLanes);n!==0&&(Wx(e,n|1),Vr(e,An()),!(Ct&6)&&($c=An()+500,uo()))}break;case 13:ml(function(){var r=ia(t,1);if(r!==null){var s=Er();ei(r,t,1,s)}}),jy(t,1)}};Vx=function(t){if(t.tag===13){var e=ia(t,134217728);if(e!==null){var n=Er();ei(e,t,134217728,n)}jy(t,134217728)}};y_=function(t){if(t.tag===13){var e=Qa(t),n=ia(t,e);if(n!==null){var r=Er();ei(n,t,e,r)}jy(t,e)}};v_=function(){return zt};b_=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};s1=function(t,e,n){switch(e){case"input":if(Xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wp(r);if(!s)throw Error(Te(90));X4(r),Xg(r,s)}}}break;case"textarea":Z4(t,n);break;case"select":e=n.value,e!=null&&yc(t,!!n.multiple,e,!1)}};a_=vy;o_=ml;var aA={usingClientEntryPoint:!1,Events:[ph,oc,wp,s_,i_,vy]},$u={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oA={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u_(t),t===null?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{xp=_f.inject(oA),ji=_f}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aA;us.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(Te(200));return rA(t,e,null,n)};us.createRoot=function(t,e){if(!ky(t))throw Error(Te(299));var n=!1,r="",s=zN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ny(t,1,!1,null,null,n,!1,r,s),t[sa]=e.current,Ud(t.nodeType===8?t.parentNode:t),new Sy(e)};us.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=u_(e),t=t===null?null:t.stateNode,t};us.flushSync=function(t){return ml(t)};us.hydrate=function(t,e,n){if(!Lp(e))throw Error(Te(200));return Pp(null,t,e,!0,n)};us.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=zN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=UN(e,null,t,1,n??null,s,!1,i,a),t[sa]=e.current,Ud(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ep(e)};us.render=function(t,e,n){if(!Lp(e))throw Error(Te(200));return Pp(null,t,e,!1,n)};us.unmountComponentAtNode=function(t){if(!Lp(t))throw Error(Te(40));return t._reactRootContainer?(ml(function(){Pp(null,null,t,!1,function(){t._reactRootContainer=null,t[sa]=null})}),!0):!1};us.unstable_batchedUpdates=vy;us.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lp(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return Pp(t,e,n,!1,r)};us.version="18.3.1-next-f1338f8080-20240426";function qN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qN)}catch(t){console.error(t)}}qN(),q4.exports=us;var lA=q4.exports,HN,tb=lA;HN=tb.createRoot,tb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}var za;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(za||(za={}));const nb="popstate";function cA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return D1("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:H0(s)}return dA(e,n,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substr(2,8)}function rb(t,e){return{usr:t.state,key:t.key,idx:e}}function D1(t,e,n,r){return n===void 0&&(n=null),Jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xc(e):e,{state:n,key:e&&e.key||r||uA()})}function H0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=za.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Jd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=za.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:y})}function m(b,y){l=za.Push;let w=D1(x.location,b,y);u=d()+1;let _=rb(w,u),k=x.createHref(w);try{a.pushState(_,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&c&&c({action:l,location:x.location,delta:1})}function f(b,y){l=za.Replace;let w=D1(x.location,b,y);u=d();let _=rb(w,u),k=x.createHref(w);a.replaceState(_,"",k),i&&c&&c({action:l,location:x.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:H0(b);return w=w.replace(/ $/,"%20"),In(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let x={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nb,h),c=b,()=>{s.removeEventListener(nb,h),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(b){return a.go(b)}};return x}var sb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sb||(sb={}));function hA(t,e,n){return n===void 0&&(n="/"),fA(t,e,n)}function fA(t,e,n,r){let s=typeof e=="string"?Xc(e):e,i=Ay(s.pathname||"/",n);if(i==null)return null;let a=VN(t);pA(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=kA(i);l=NA(a[c],u)}return l}function VN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(In(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=eo([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(In(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VN(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:wA(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of KN(i.path))s(i,a,c)}),e}function KN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=KN(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function pA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mA=/^:[\w-]+$/,gA=3,xA=2,yA=1,vA=10,bA=-2,ib=t=>t==="*";function wA(t,e){let n=t.split("/"),r=n.length;return n.some(ib)&&(r+=bA),e&&(r+=xA),n.filter(s=>!ib(s)).reduce((s,i)=>s+(mA.test(i)?gA:i===""?yA:vA),r)}function _A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function NA(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=jA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:eo([i,h.pathname]),pathnameBase:LA(eo([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=eo([i,h.pathnameBase]))}return a}function jA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function SA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),WN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ay(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xc(t):t;return{pathname:n?n.startsWith("/")?n:CA(n,e):e,search:PA(r),hash:TA(s)}}function CA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t,e){let n=EA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ey(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xc(t):(s=Jd({},t),In(!s.pathname||!s.pathname.includes("?"),Ym("?","pathname","search",s)),In(!s.pathname||!s.pathname.includes("#"),Ym("#","pathname","hash",s)),In(!s.search||!s.search.includes("#"),Ym("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=AA(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const eo=t=>t.join("/").replace(/\/\/+/g,"/"),LA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GN=["post","put","patch","delete"];new Set(GN);const OA=["get",...GN];new Set(OA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}const Ly=ae.createContext(null),RA=ae.createContext(null),ho=ae.createContext(null),Tp=ae.createContext(null),fo=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),YN=ae.createContext(null);function MA(t,e){let{relative:n}=e===void 0?{}:e;Qc()||In(!1);let{basename:r,navigator:s}=ae.useContext(ho),{hash:i,pathname:a,search:l}=XN(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:eo([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Qc(){return ae.useContext(Tp)!=null}function Zc(){return Qc()||In(!1),ae.useContext(Tp).location}function JN(t){ae.useContext(ho).static||ae.useLayoutEffect(t)}function gh(){let{isDataRoute:t}=ae.useContext(fo);return t?YA():DA()}function DA(){Qc()||In(!1);let t=ae.useContext(Ly),{basename:e,future:n,navigator:r}=ae.useContext(ho),{matches:s}=ae.useContext(fo),{pathname:i}=Zc(),a=JSON.stringify(Cy(s,n.v7_relativeSplatPath)),l=ae.useRef(!1);return JN(()=>{l.current=!0}),ae.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Ey(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:eo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function XN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ae.useContext(ho),{matches:s}=ae.useContext(fo),{pathname:i}=Zc(),a=JSON.stringify(Cy(s,r.v7_relativeSplatPath));return ae.useMemo(()=>Ey(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function FA(t,e){return BA(t,e)}function BA(t,e,n,r){Qc()||In(!1);let{navigator:s}=ae.useContext(ho),{matches:i}=ae.useContext(fo),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Zc(),d;if(e){var h;let b=typeof e=="string"?Xc(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||In(!1),d=b}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=hA(t,{pathname:f}),x=HA(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:eo([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:eo([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&x?ae.createElement(Tp.Provider,{value:{location:Xd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:za.Pop}},x):x}function $A(){let t=GA(),e=IA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:s},n):null,null)}const UA=ae.createElement($A,null);class zA extends ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ae.createElement(fo.Provider,{value:this.props.routeContext},ae.createElement(YN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qA(t){let{routeContext:e,match:n,children:r}=t,s=ae.useContext(Ly);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(fo.Provider,{value:e},r)}function HA(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||In(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let f,v=!1,x=null,b=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||UA,c&&(u<0&&m===0?(JA("route-fallback"),v=!0,b=null):u===m&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,m+1)),w=()=>{let _;return f?_=x:v?_=b:h.route.Component?_=ae.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,ae.createElement(qA,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?ae.createElement(zA,{location:n.location,revalidation:n.revalidation,component:x,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var QN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QN||{}),ZN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ZN||{});function WA(t){let e=ae.useContext(Ly);return e||In(!1),e}function VA(t){let e=ae.useContext(RA);return e||In(!1),e}function KA(t){let e=ae.useContext(fo);return e||In(!1),e}function e3(t){let e=KA(),n=e.matches[e.matches.length-1];return n.route.id||In(!1),n.route.id}function GA(){var t;let e=ae.useContext(YN),n=VA(),r=e3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function YA(){let{router:t}=WA(QN.UseNavigateStable),e=e3(ZN.UseNavigateStable),n=ae.useRef(!1);return JN(()=>{n.current=!0}),ae.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xd({fromRouteId:e},i)))},[t,e])}const ab={};function JA(t,e,n){ab[t]||(ab[t]=!0)}function XA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function t3(t){let{to:e,replace:n,state:r,relative:s}=t;Qc()||In(!1);let{future:i,static:a}=ae.useContext(ho),{matches:l}=ae.useContext(fo),{pathname:c}=Zc(),u=gh(),d=Ey(e,Cy(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return ae.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function rs(t){In(!1)}function QA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=za.Pop,navigator:i,static:a=!1,future:l}=t;Qc()&&In(!1);let c=e.replace(/^\/*/,"/"),u=ae.useMemo(()=>({basename:c,navigator:i,static:a,future:Xd({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Xc(r));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:v="default"}=r,x=ae.useMemo(()=>{let b=Ay(d,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:f,key:v},navigationType:s}},[c,d,h,m,f,v,s]);return x==null?null:ae.createElement(ho.Provider,{value:u},ae.createElement(Tp.Provider,{children:n,value:x}))}function ZA(t){let{children:e,location:n}=t;return FA(F1(e),n)}new Promise(()=>{});function F1(t,e){e===void 0&&(e=[]);let n=[];return ae.Children.forEach(t,(r,s)=>{if(!ae.isValidElement(r))return;let i=[...e,s];if(r.type===ae.Fragment){n.push.apply(n,F1(r.props.children,i));return}r.type!==rs&&In(!1),!r.props.index||!r.props.children||In(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=F1(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function eC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nC(t,e){return t.button===0&&(!e||e==="_self")&&!tC(t)}const rC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sC="6";try{window.__reactRouterVersion=sC}catch{}const iC="startTransition",ob=XS[iC];function aC(t){let{basename:e,children:n,future:r,window:s}=t,i=ae.useRef();i.current==null&&(i.current=cA({window:s,v5Compat:!0}));let a=i.current,[l,c]=ae.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=ae.useCallback(h=>{u&&ob?ob(()=>c(h)):c(h)},[c,u]);return ae.useLayoutEffect(()=>a.listen(d),[a,d]),ae.useEffect(()=>XA(r),[r]),ae.createElement(QA,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=ae.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=eC(e,rC),{basename:f}=ae.useContext(ho),v,x=!1;if(typeof u=="string"&&lC.test(u)&&(v=u,oC))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),R=Ay(k.pathname,f);k.origin===_.origin&&R!=null?u=R+k.search+k.hash:x=!0}catch{}let b=MA(u,{relative:s}),y=cC(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(_){r&&r(_),_.defaultPrevented||y(_)}return ae.createElement("a",B1({},m,{href:v||b,onClick:x||i?r:w,ref:n,target:c}))});var lb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lb||(lb={}));var cb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cb||(cb={}));function cC(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=gh(),u=Zc(),d=XN(t,{relative:a});return ae.useCallback(h=>{if(nC(h,n)){h.preventDefault();let m=r!==void 0?r:H0(u)===H0(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}const ar=[];for(let t=0;t<256;++t)ar.push((t+256).toString(16).slice(1));function uC(t,e=0){return(ar[t[e+0]]+ar[t[e+1]]+ar[t[e+2]]+ar[t[e+3]]+"-"+ar[t[e+4]]+ar[t[e+5]]+"-"+ar[t[e+6]]+ar[t[e+7]]+"-"+ar[t[e+8]]+ar[t[e+9]]+"-"+ar[t[e+10]]+ar[t[e+11]]+ar[t[e+12]]+ar[t[e+13]]+ar[t[e+14]]+ar[t[e+15]]).toLowerCase()}let Jm;const dC=new Uint8Array(16);function hC(){if(!Jm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jm=crypto.getRandomValues.bind(crypto)}return Jm(dC)}const fC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ub={randomUUID:fC};function pC(t,e,n){var s;t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??hC();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uC(r)}function db(t,e,n){return ub.randomUUID&&!t?ub.randomUUID():pC(t)}const n3=()=>{const[t,e]=ae.useState(null),[n,r]=ae.useState(!0),s=ae.useCallback(()=>{const c=localStorage.getItem("user");if(c)try{const u=JSON.parse(c);e(u)}catch(u){console.error("ユーザー情報の解析に失敗しました:",u),localStorage.removeItem("user")}r(!1)},[]);ae.useEffect(()=>{s()},[s]);const i=ae.useCallback(async(c,u)=>{r(!0);try{if(console.log("signIn関数が呼び出されました:",{email:c,password:u}),!c||!u)throw new Error("メールアドレスとパスワードを入力してください");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c))throw new Error("有効なメールアドレスを入力してください");if(u.length<6)throw new Error("パスワードは6文字以上である必要があります");const h={id:db(),email:c,name:c.split("@")[0],createdAt:new Date().toISOString()};return console.log("モックユーザーを作成:",h),localStorage.setItem("user",JSON.stringify(h)),e(h),console.log("ログイン成功"),h}catch(d){throw console.error("ログインエラー:",d),d}finally{r(!1)}},[]),a=ae.useCallback(async(c,u,d)=>{r(!0);try{if(console.log("signUp関数が呼び出されました:",{name:c,email:u,password:d}),!c||!u||!d)throw new Error("すべてのフィールドを入力してください");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u))throw new Error("有効なメールアドレスを入力してください");if(d.length<6)throw new Error("パスワードは6文字以上である必要があります");const m={id:db(),email:u,name:c,createdAt:new Date().toISOString()};return console.log("モックユーザーを作成:",m),localStorage.setItem("user",JSON.stringify(m)),e(m),console.log("サインアップ成功"),m}catch(h){throw console.error("サインアップエラー:",h),h}finally{r(!1)}},[]),l=ae.useCallback(async()=>{r(!0);try{console.log("signOut関数が呼び出されました"),localStorage.removeItem("user"),e(null),console.log("ログアウト成功")}catch(c){throw console.error("ログアウトエラー:",c),c}finally{r(!1)}},[]);return console.log("useMockAuthの状態:",{user:t,loading:n}),{user:t,isAuthenticated:!!t,loading:n,signIn:i,signUp:a,signOut:l}},mC=ae.createContext(void 0),gC=({children:t})=>{const e=n3();console.log("AuthProviderの状態:",e);const n=ae.useMemo(()=>({...e}),[e]);return o.jsx(mC.Provider,{value:n,children:t})},Py=n3,fi=({children:t,fallback:e})=>{const{isAuthenticated:n,loading:r}=Py();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?(console.log("ProtectedRoute: ユーザーが認証されています。子コンポーネントを表示します。"),o.jsx(o.Fragment,{children:t})):(console.log("ProtectedRoute: ユーザーが認証されていません。ログインページにリダイレクトします。"),e||o.jsx(t3,{to:"/",replace:!0}))};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),hb=t=>{const e=yC(t);return e.charAt(0).toUpperCase()+e.slice(1)},r3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),vC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=ae.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>ae.createElement("svg",{ref:c,...bC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r3("lucide",s),...!i&&!vC(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>ae.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=ae.forwardRef(({className:r,...s},i)=>ae.createElement(wC,{ref:i,iconNode:e,className:r3(`lucide-${xC(hb(t))}`,`lucide-${t}`,r),...s}));return n.displayName=hb(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NC=Fe("activity",_C);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],po=Fe("arrow-left",jC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kC=Fe("arrow-right",SC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],CC=Fe("award",AC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Nf=Fe("banknote",EC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PC=Fe("bell",LC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$1=Fe("book-open",TC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],yd=Fe("brain",IC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],vd=Fe("building",OC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Qd=Fe("calculator",RC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ty=Fe("calendar",MC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Iy=Fe("camera",DC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U1=Fe("chart-column",FC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],$C=Fe("chart-no-axes-column",BC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zC=Fe("chart-pie",UC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cs=Fe("check",qC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s3=Fe("chevron-down",HC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fb=Fe("chevron-left",WC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],to=Fe("chevron-right",VC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oy=Fe("circle-alert",KC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bd=Fe("circle-check-big",GC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pb=Fe("circle",YC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i3=Fe("clock",JC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wd=Fe("copy",XC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],mb=Fe("cpu",QC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],e7=Fe("credit-card",ZC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],n7=Fe("database",t7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a3=Fe("dollar-sign",r7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_i=Fe("download",s7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a7=Fe("eye-off",i7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gl=Fe("eye",o7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],c7=Fe("file-image",l7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ti=Fe("file-text",u7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],o3=Fe("funnel",d7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],f7=Fe("gauge",h7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m7=Fe("globe",p7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],x7=Fe("house",g7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],v7=Fe("image",y7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],w7=Fe("lightbulb",b7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gb=Fe("lock",_7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jf=Fe("log-out",N7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],l3=Fe("mail",j7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],k7=Fe("menu",S7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],c3=Fe("message-square",A7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],E7=Fe("mic",C7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],u3=Fe("pen-line",L7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],T7=Fe("phone",P7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Br=Fe("plus",I7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],R7=Fe("printer",O7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],D7=Fe("receipt",M7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W0=Fe("refresh-cw",F7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],$7=Fe("rocket",B7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],z1=Fe("rotate-ccw",U7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jc=Fe("save",z7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uc=Fe("search",q7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pc=Fe("send",H7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zu=Fe("settings",W7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],d3=Fe("share-2",V7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],G7=Fe("shield",K7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],J7=Fe("smartphone",Y7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Q7=Fe("sparkles",X7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xb=Fe("square-check",Z7);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mc=Fe("square-pen",eE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],q1=Fe("square",tE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],V0=Fe("star",nE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sE=Fe("tag",rE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yb=Fe("target",iE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],js=Fe("trash-2",aE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],zc=Fe("trending-down",oE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Es=Fe("trending-up",lE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vb=Fe("triangle-alert",cE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dE=Fe("trophy",uE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ry=Fe("upload",hE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sl=Fe("user",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h3=Fe("users",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],gE=Fe("wallet",mE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ht=Fe("x",xE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],H1=Fe("zap",yE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bE=Fe("zoom-in",vE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],_E=Fe("zoom-out",wE),or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function NE(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let Xm;const jE=new Uint8Array(16);function SE(){if(!Xm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xm=crypto.getRandomValues.bind(crypto)}return Xm(jE)}const kE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bb={randomUUID:kE};function AE(t,e,n){var s;if(bb.randomUUID&&!t)return bb.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??SE();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,NE(r)}var f3={exports:{}};function ed(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qm={exports:{}};const CE={},EE=Object.freeze(Object.defineProperty({__proto__:null,default:CE},Symbol.toStringTag,{value:"Module"})),LE=P4(EE);var wb;function xh(){return wb||(wb=1,function(t,e){(function(n,r){t.exports=r()})(Pn,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Pn<"u"&&Pn.crypto&&(i=Pn.crypto),!i&&typeof ed=="function")try{i=LE}catch{}var a=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function w(){}return function(_){var k;return w.prototype=_,k=new w,w.prototype=null,k}}(),c={},u=c.lib={},d=u.Base=function(){return{extend:function(w){var _=l(this);return w&&_.mixIn(w),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var _ in w)w.hasOwnProperty(_)&&(this[_]=w[_]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=d.extend({init:function(w,_){w=this.words=w||[],_!=s?this.sigBytes=_:this.sigBytes=w.length*4},toString:function(w){return(w||f).stringify(this)},concat:function(w){var _=this.words,k=w.words,R=this.sigBytes,I=w.sigBytes;if(this.clamp(),R%4)for(var D=0;D<I;D++){var A=k[D>>>2]>>>24-D%4*8&255;_[R+D>>>2]|=A<<24-(R+D)%4*8}else for(var j=0;j<I;j+=4)_[R+j>>>2]=k[j>>>2];return this.sigBytes+=I,this},clamp:function(){var w=this.words,_=this.sigBytes;w[_>>>2]&=4294967295<<32-_%4*8,w.length=r.ceil(_/4)},clone:function(){var w=d.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var _=[],k=0;k<w;k+=4)_.push(a());return new h.init(_,w)}}),m=c.enc={},f=m.Hex={stringify:function(w){for(var _=w.words,k=w.sigBytes,R=[],I=0;I<k;I++){var D=_[I>>>2]>>>24-I%4*8&255;R.push((D>>>4).toString(16)),R.push((D&15).toString(16))}return R.join("")},parse:function(w){for(var _=w.length,k=[],R=0;R<_;R+=2)k[R>>>3]|=parseInt(w.substr(R,2),16)<<24-R%8*4;return new h.init(k,_/2)}},v=m.Latin1={stringify:function(w){for(var _=w.words,k=w.sigBytes,R=[],I=0;I<k;I++){var D=_[I>>>2]>>>24-I%4*8&255;R.push(String.fromCharCode(D))}return R.join("")},parse:function(w){for(var _=w.length,k=[],R=0;R<_;R++)k[R>>>2]|=(w.charCodeAt(R)&255)<<24-R%4*8;return new h.init(k,_)}},x=m.Utf8={stringify:function(w){try{return decodeURIComponent(escape(v.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return v.parse(unescape(encodeURIComponent(w)))}},b=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=x.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var _,k=this._data,R=k.words,I=k.sigBytes,D=this.blockSize,A=D*4,j=I/A;w?j=r.ceil(j):j=r.max((j|0)-this._minBufferSize,0);var T=j*D,C=r.min(T*4,I);if(T){for(var L=0;L<T;L+=D)this._doProcessBlock(R,L);_=R.splice(0,T),k.sigBytes-=C}return new h.init(_,C)},clone:function(){var w=d.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=b.extend({cfg:d.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(w){return function(_,k){return new w.init(k).finalize(_)}},_createHmacHelper:function(w){return function(_,k){return new y.HMAC.init(w,k).finalize(_)}}});var y=c.algo={};return c}(Math);return n})}(Qm)),Qm.exports}(function(t,e){(function(n,r){t.exports=r(xh())})(Pn,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,a=r.enc;a.Base64={stringify:function(c){var u=c.words,d=c.sigBytes,h=this._map;c.clamp();for(var m=[],f=0;f<d;f+=3)for(var v=u[f>>>2]>>>24-f%4*8&255,x=u[f+1>>>2]>>>24-(f+1)%4*8&255,b=u[f+2>>>2]>>>24-(f+2)%4*8&255,y=v<<16|x<<8|b,w=0;w<4&&f+w*.75<d;w++)m.push(h.charAt(y>>>6*(3-w)&63));var _=h.charAt(64);if(_)for(;m.length%4;)m.push(_);return m.join("")},parse:function(c){var u=c.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<d.length;m++)h[d.charCodeAt(m)]=m}var f=d.charAt(64);if(f){var v=c.indexOf(f);v!==-1&&(u=v)}return l(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,d){for(var h=[],m=0,f=0;f<u;f++)if(f%4){var v=d[c.charCodeAt(f-1)]<<f%4*2,x=d[c.charCodeAt(f)]>>>6-f%4*2,b=v|x;h[m>>>2]|=b<<24-m%4*8,m++}return i.create(h,m)}}(),n.enc.Base64})})(f3);var PE=f3.exports;const TE=Kc(PE);var p3={exports:{}};(function(t,e){(function(n,r){t.exports=r(xh())})(Pn,function(n){return n.enc.Hex})})(p3);var IE=p3.exports;const OE=Kc(IE);var m3={exports:{}},Zm={exports:{}},_b;function g3(){return _b||(_b=1,function(t,e){(function(n,r){t.exports=r(xh())})(Pn,function(n){return function(r){var s=n,i=s.lib,a=i.WordArray,l=i.Hasher,c=s.algo,u=[],d=[];(function(){function f(y){for(var w=r.sqrt(y),_=2;_<=w;_++)if(!(y%_))return!1;return!0}function v(y){return(y-(y|0))*4294967296|0}for(var x=2,b=0;b<64;)f(x)&&(b<8&&(u[b]=v(r.pow(x,1/2))),d[b]=v(r.pow(x,1/3)),b++),x++})();var h=[],m=c.SHA256=l.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(f,v){for(var x=this._hash.words,b=x[0],y=x[1],w=x[2],_=x[3],k=x[4],R=x[5],I=x[6],D=x[7],A=0;A<64;A++){if(A<16)h[A]=f[v+A]|0;else{var j=h[A-15],T=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,C=h[A-2],L=(C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10;h[A]=T+h[A-7]+L+h[A-16]}var F=k&R^~k&I,W=b&y^b&w^y&w,oe=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),H=(k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25),ce=D+H+F+d[A]+h[A],te=oe+W;D=I,I=R,R=k,k=_+ce|0,_=w,w=y,y=b,b=ce+te|0}x[0]=x[0]+b|0,x[1]=x[1]+y|0,x[2]=x[2]+w|0,x[3]=x[3]+_|0,x[4]=x[4]+k|0,x[5]=x[5]+R|0,x[6]=x[6]+I|0,x[7]=x[7]+D|0},_doFinalize:function(){var f=this._data,v=f.words,x=this._nDataBytes*8,b=f.sigBytes*8;return v[b>>>5]|=128<<24-b%32,v[(b+64>>>9<<4)+14]=r.floor(x/4294967296),v[(b+64>>>9<<4)+15]=x,f.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});s.SHA256=l._createHelper(m),s.HmacSHA256=l._createHmacHelper(m)}(Math),n.SHA256})}(Zm)),Zm.exports}var eg={exports:{}},Nb;function RE(){return Nb||(Nb=1,function(t,e){(function(n,r){t.exports=r(xh())})(Pn,function(n){(function(){var r=n,s=r.lib,i=s.Base,a=r.enc,l=a.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=l.parse(d));var h=u.blockSize,m=h*4;d.sigBytes>m&&(d=u.finalize(d)),d.clamp();for(var f=this._oKey=d.clone(),v=this._iKey=d.clone(),x=f.words,b=v.words,y=0;y<h;y++)x[y]^=1549556828,b[y]^=909522486;f.sigBytes=v.sigBytes=m,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,h=d.finalize(u);d.reset();var m=d.finalize(this._oKey.clone().concat(h));return m}})})()})}(eg)),eg.exports}(function(t,e){(function(n,r,s){t.exports=r(xh(),g3(),RE())})(Pn,function(n){return n.HmacSHA256})})(m3);var ME=m3.exports;const DE=Kc(ME);var FE=g3();const BE=Kc(FE);var x3={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(u,d){if(!s[u]){if(!r[u]){var h=typeof ed=="function"&&ed;if(!d&&h)return h(u,!0);if(l)return l(u,!0);throw new Error("Cannot find module '"+u+"'")}d=s[u]={exports:{}},r[u][0].call(d.exports,function(m){var f=r[u][1][m];return a(f||m)},d,d.exports,n,r,s,i)}return s[u].exports}for(var l=typeof ed=="function"&&ed,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){var v=n("crypto");function x(I,D){D=w(I,D);var A;return(A=D.algorithm!=="passthrough"?v.createHash(D.algorithm):new R).write===void 0&&(A.write=A.update,A.end=A.update),k(D,A).dispatch(I),A.update||A.end(""),A.digest?A.digest(D.encoding==="buffer"?void 0:D.encoding):(I=A.read(),D.encoding!=="buffer"?I.toString(D.encoding):I)}(s=r.exports=x).sha1=function(I){return x(I)},s.keys=function(I){return x(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(I){return x(I,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(I){return x(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=v.getHashes?v.getHashes().slice():["sha1","md5"],y=(b.push("passthrough"),["buffer","hex","binary","base64"]);function w(I,D){var A={};if(A.algorithm=(D=D||{}).algorithm||"sha1",A.encoding=D.encoding||"hex",A.excludeValues=!!D.excludeValues,A.algorithm=A.algorithm.toLowerCase(),A.encoding=A.encoding.toLowerCase(),A.ignoreUnknown=D.ignoreUnknown===!0,A.respectType=D.respectType!==!1,A.respectFunctionNames=D.respectFunctionNames!==!1,A.respectFunctionProperties=D.respectFunctionProperties!==!1,A.unorderedArrays=D.unorderedArrays===!0,A.unorderedSets=D.unorderedSets!==!1,A.unorderedObjects=D.unorderedObjects!==!1,A.replacer=D.replacer||void 0,A.excludeKeys=D.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var j=0;j<b.length;++j)b[j].toLowerCase()===A.algorithm.toLowerCase()&&(A.algorithm=b[j]);if(b.indexOf(A.algorithm)===-1)throw new Error('Algorithm "'+A.algorithm+'"  not supported. supported values: '+b.join(", "));if(y.indexOf(A.encoding)===-1&&A.algorithm!=="passthrough")throw new Error('Encoding "'+A.encoding+'"  not supported. supported values: '+y.join(", "));return A}function _(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function k(I,D,A){A=A||[];function j(T){return D.update?D.update(T,"utf8"):D.write(T,"utf8")}return{dispatch:function(T){return this["_"+((T=I.replacer?I.replacer(T):T)===null?"null":typeof T)](T)},_object:function(T){var C,L=Object.prototype.toString.call(T),F=/\[object (.*)\]/i.exec(L);if(F=(F=F?F[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=A.indexOf(T)))return this.dispatch("[CIRCULAR:"+L+"]");if(A.push(T),l!==void 0&&l.isBuffer&&l.isBuffer(T))return j("buffer:"),j(T);if(F==="object"||F==="function"||F==="asyncfunction")return L=Object.keys(T),I.unorderedObjects&&(L=L.sort()),I.respectType===!1||_(T)||L.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(L=L.filter(function(W){return!I.excludeKeys(W)})),j("object:"+L.length+":"),C=this,L.forEach(function(W){C.dispatch(W),j(":"),I.excludeValues||C.dispatch(T[W]),j(",")});if(!this["_"+F]){if(I.ignoreUnknown)return j("["+F+"]");throw new Error('Unknown object type "'+F+'"')}this["_"+F](T)},_array:function(T,W){W=W!==void 0?W:I.unorderedArrays!==!1;var L=this;if(j("array:"+T.length+":"),!W||T.length<=1)return T.forEach(function(oe){return L.dispatch(oe)});var F=[],W=T.map(function(oe){var H=new R,ce=A.slice();return k(I,H,ce).dispatch(oe),F=F.concat(ce.slice(A.length)),H.read().toString()});return A=A.concat(F),W.sort(),this._array(W,!1)},_date:function(T){return j("date:"+T.toJSON())},_symbol:function(T){return j("symbol:"+T.toString())},_error:function(T){return j("error:"+T.toString())},_boolean:function(T){return j("bool:"+T.toString())},_string:function(T){j("string:"+T.length+":"),j(T.toString())},_function:function(T){j("fn:"),_(T)?this.dispatch("[native]"):this.dispatch(T.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(T.name)),I.respectFunctionProperties&&this._object(T)},_number:function(T){return j("number:"+T.toString())},_xml:function(T){return j("xml:"+T.toString())},_null:function(){return j("Null")},_undefined:function(){return j("Undefined")},_regexp:function(T){return j("regex:"+T.toString())},_uint8array:function(T){return j("uint8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint8clampedarray:function(T){return j("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(T))},_int8array:function(T){return j("int8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint16array:function(T){return j("uint16array:"),this.dispatch(Array.prototype.slice.call(T))},_int16array:function(T){return j("int16array:"),this.dispatch(Array.prototype.slice.call(T))},_uint32array:function(T){return j("uint32array:"),this.dispatch(Array.prototype.slice.call(T))},_int32array:function(T){return j("int32array:"),this.dispatch(Array.prototype.slice.call(T))},_float32array:function(T){return j("float32array:"),this.dispatch(Array.prototype.slice.call(T))},_float64array:function(T){return j("float64array:"),this.dispatch(Array.prototype.slice.call(T))},_arraybuffer:function(T){return j("arraybuffer:"),this.dispatch(new Uint8Array(T))},_url:function(T){return j("url:"+T.toString())},_map:function(T){return j("map:"),T=Array.from(T),this._array(T,I.unorderedSets!==!1)},_set:function(T){return j("set:"),T=Array.from(T),this._array(T,I.unorderedSets!==!1)},_file:function(T){return j("file:"),this.dispatch([T.name,T.size,T.type,T.lastModfied])},_blob:function(){if(I.ignoreUnknown)return j("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return j("domwindow")},_bigint:function(T){return j("bigint:"+T.toString())},_process:function(){return j("process")},_timer:function(){return j("timer")},_pipe:function(){return j("pipe")},_tcp:function(){return j("tcp")},_udp:function(){return j("udp")},_tty:function(){return j("tty")},_statwatcher:function(){return j("statwatcher")},_securecontext:function(){return j("securecontext")},_connection:function(){return j("connection")},_zlib:function(){return j("zlib")},_context:function(){return j("context")},_nodescript:function(){return j("nodescript")},_httpparser:function(){return j("httpparser")},_dataview:function(){return j("dataview")},_signal:function(){return j("signal")},_fsevent:function(){return j("fsevent")},_tlswrap:function(){return j("tlswrap")}}}function R(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}s.writeToStream=function(I,D,A){return A===void 0&&(A=D,D={}),k(D=w(I,D),A).dispatch(I)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){(function(v){var x=typeof Uint8Array<"u"?Uint8Array:Array,b=43,y=47,w=48,_=97,k=65,R=45,I=95;function D(A){return A=A.charCodeAt(0),A===b||A===R?62:A===y||A===I?63:A<w?-1:A<w+10?A-w+26+26:A<k+26?A-k:A<_+26?A-_+26:void 0}v.toByteArray=function(A){var j,T;if(0<A.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=A.length,C=A.charAt(C-2)==="="?2:A.charAt(C-1)==="="?1:0,L=new x(3*A.length/4-C),F=0<C?A.length-4:A.length,W=0;function oe(H){L[W++]=H}for(j=0;j<F;j+=4,0)oe((16711680&(T=D(A.charAt(j))<<18|D(A.charAt(j+1))<<12|D(A.charAt(j+2))<<6|D(A.charAt(j+3))))>>16),oe((65280&T)>>8),oe(255&T);return C==2?oe(255&(T=D(A.charAt(j))<<2|D(A.charAt(j+1))>>4)):C==1&&(oe((T=D(A.charAt(j))<<10|D(A.charAt(j+1))<<4|D(A.charAt(j+2))>>2)>>8&255),oe(255&T)),L},v.fromByteArray=function(A){var j,T,C,L,F=A.length%3,W="";function oe(H){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H)}for(j=0,C=A.length-F;j<C;j+=3)T=(A[j]<<16)+(A[j+1]<<8)+A[j+2],W+=oe((L=T)>>18&63)+oe(L>>12&63)+oe(L>>6&63)+oe(63&L);switch(F){case 1:W=(W+=oe((T=A[A.length-1])>>2))+oe(T<<4&63)+"==";break;case 2:W=(W=(W+=oe((T=(A[A.length-2]<<8)+A[A.length-1])>>10))+oe(T>>4&63))+oe(T<<2&63)+"="}return W}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,s){(function(i,a,b,c,u,d,h,m,f){var v=n("base64-js"),x=n("ieee754");function b(E,M,Y){if(!(this instanceof b))return new b(E,M,Y);var he,me,le,X,Oe=typeof E;if(M==="base64"&&Oe=="string")for(E=(X=E).trim?X.trim():X.replace(/^\s+|\s+$/g,"");E.length%4!=0;)E+="=";if(Oe=="number")he=te(E);else if(Oe=="string")he=b.byteLength(E,M);else{if(Oe!="object")throw new Error("First argument needs to be a number, array or string.");he=te(E.length)}if(b._useTypedArrays?me=b._augment(new Uint8Array(he)):((me=this).length=he,me._isBuffer=!0),b._useTypedArrays&&typeof E.byteLength=="number")me._set(E);else if(ue(X=E)||b.isBuffer(X)||X&&typeof X=="object"&&typeof X.length=="number")for(le=0;le<he;le++)b.isBuffer(E)?me[le]=E.readUInt8(le):me[le]=E[le];else if(Oe=="string")me.write(E,0,M);else if(Oe=="number"&&!b._useTypedArrays&&!Y)for(le=0;le<he;le++)me[le]=0;return me}function y(E,M,Y,he){return b._charsWritten=ee(function(me){for(var le=[],X=0;X<me.length;X++)le.push(255&me.charCodeAt(X));return le}(M),E,Y,he)}function w(E,M,Y,he){return b._charsWritten=ee(function(me){for(var le,X,Oe=[],De=0;De<me.length;De++)X=me.charCodeAt(De),le=X>>8,X=X%256,Oe.push(X),Oe.push(le);return Oe}(M),E,Y,he)}function _(E,M,Y){var he="";Y=Math.min(E.length,Y);for(var me=M;me<Y;me++)he+=String.fromCharCode(E[me]);return he}function k(E,M,Y,le){le||(V(typeof Y=="boolean","missing or invalid endian"),V(M!=null,"missing offset"),V(M+1<E.length,"Trying to read beyond buffer length"));var me,le=E.length;if(!(le<=M))return Y?(me=E[M],M+1<le&&(me|=E[M+1]<<8)):(me=E[M]<<8,M+1<le&&(me|=E[M+1])),me}function R(E,M,Y,le){le||(V(typeof Y=="boolean","missing or invalid endian"),V(M!=null,"missing offset"),V(M+3<E.length,"Trying to read beyond buffer length"));var me,le=E.length;if(!(le<=M))return Y?(M+2<le&&(me=E[M+2]<<16),M+1<le&&(me|=E[M+1]<<8),me|=E[M],M+3<le&&(me+=E[M+3]<<24>>>0)):(M+1<le&&(me=E[M+1]<<16),M+2<le&&(me|=E[M+2]<<8),M+3<le&&(me|=E[M+3]),me+=E[M]<<24>>>0),me}function I(E,M,Y,he){if(he||(V(typeof Y=="boolean","missing or invalid endian"),V(M!=null,"missing offset"),V(M+1<E.length,"Trying to read beyond buffer length")),!(E.length<=M))return he=k(E,M,Y,!0),32768&he?-1*(65535-he+1):he}function D(E,M,Y,he){if(he||(V(typeof Y=="boolean","missing or invalid endian"),V(M!=null,"missing offset"),V(M+3<E.length,"Trying to read beyond buffer length")),!(E.length<=M))return he=R(E,M,Y,!0),2147483648&he?-1*(4294967295-he+1):he}function A(E,M,Y,he){return he||(V(typeof Y=="boolean","missing or invalid endian"),V(M+3<E.length,"Trying to read beyond buffer length")),x.read(E,M,Y,23,4)}function j(E,M,Y,he){return he||(V(typeof Y=="boolean","missing or invalid endian"),V(M+7<E.length,"Trying to read beyond buffer length")),x.read(E,M,Y,52,8)}function T(E,M,Y,he,me){if(me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+1<E.length,"trying to write beyond buffer length"),Z(M,65535)),me=E.length,!(me<=Y))for(var le=0,X=Math.min(me-Y,2);le<X;le++)E[Y+le]=(M&255<<8*(he?le:1-le))>>>8*(he?le:1-le)}function C(E,M,Y,he,me){if(me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+3<E.length,"trying to write beyond buffer length"),Z(M,4294967295)),me=E.length,!(me<=Y))for(var le=0,X=Math.min(me-Y,4);le<X;le++)E[Y+le]=M>>>8*(he?le:3-le)&255}function L(E,M,Y,he,me){me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+1<E.length,"Trying to write beyond buffer length"),B(M,32767,-32768)),E.length<=Y||T(E,0<=M?M:65535+M+1,Y,he,me)}function F(E,M,Y,he,me){me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+3<E.length,"Trying to write beyond buffer length"),B(M,2147483647,-2147483648)),E.length<=Y||C(E,0<=M?M:4294967295+M+1,Y,he,me)}function W(E,M,Y,he,me){me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+3<E.length,"Trying to write beyond buffer length"),se(M,34028234663852886e22,-34028234663852886e22)),E.length<=Y||x.write(E,M,Y,he,23,4)}function oe(E,M,Y,he,me){me||(V(M!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(Y!=null,"missing offset"),V(Y+7<E.length,"Trying to write beyond buffer length"),se(M,17976931348623157e292,-17976931348623157e292)),E.length<=Y||x.write(E,M,Y,he,52,8)}s.Buffer=b,s.SlowBuffer=b,s.INSPECT_MAX_BYTES=50,b.poolSize=8192,b._useTypedArrays=function(){try{var E=new ArrayBuffer(0),M=new Uint8Array(E);return M.foo=function(){return 42},M.foo()===42&&typeof M.subarray=="function"}catch{return!1}}(),b.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.isBuffer=function(E){return!(E==null||!E._isBuffer)},b.byteLength=function(E,M){var Y;switch(E+="",M||"utf8"){case"hex":Y=E.length/2;break;case"utf8":case"utf-8":Y=xe(E).length;break;case"ascii":case"binary":case"raw":Y=E.length;break;case"base64":Y=U(E).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Y=2*E.length;break;default:throw new Error("Unknown encoding")}return Y},b.concat=function(E,M){if(V(ue(E),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),E.length===0)return new b(0);if(E.length===1)return E[0];if(typeof M!="number")for(me=M=0;me<E.length;me++)M+=E[me].length;for(var Y=new b(M),he=0,me=0;me<E.length;me++){var le=E[me];le.copy(Y,he),he+=le.length}return Y},b.prototype.write=function(E,M,Y,he){isFinite(M)?isFinite(Y)||(he=Y,Y=void 0):(De=he,he=M,M=Y,Y=De),M=Number(M)||0;var me,le,X,Oe,De=this.length-M;switch((!Y||De<(Y=Number(Y)))&&(Y=De),he=String(he||"utf8").toLowerCase()){case"hex":me=function(Ie,je,Me,Ee){Me=Number(Me)||0;var $e=Ie.length-Me;(!Ee||$e<(Ee=Number(Ee)))&&(Ee=$e),V(($e=je.length)%2==0,"Invalid hex string"),$e/2<Ee&&(Ee=$e/2);for(var He=0;He<Ee;He++){var bt=parseInt(je.substr(2*He,2),16);V(!isNaN(bt),"Invalid hex string"),Ie[Me+He]=bt}return b._charsWritten=2*He,He}(this,E,M,Y);break;case"utf8":case"utf-8":le=this,X=M,Oe=Y,me=b._charsWritten=ee(xe(E),le,X,Oe);break;case"ascii":case"binary":me=y(this,E,M,Y);break;case"base64":le=this,X=M,Oe=Y,me=b._charsWritten=ee(U(E),le,X,Oe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":me=w(this,E,M,Y);break;default:throw new Error("Unknown encoding")}return me},b.prototype.toString=function(E,M,Y){var he,me,le,X,Oe=this;if(E=String(E||"utf8").toLowerCase(),M=Number(M)||0,(Y=Y!==void 0?Number(Y):Oe.length)===M)return"";switch(E){case"hex":he=function(De,Ie,je){var Me=De.length;(!Ie||Ie<0)&&(Ie=0),(!je||je<0||Me<je)&&(je=Me);for(var Ee="",$e=Ie;$e<je;$e++)Ee+=pe(De[$e]);return Ee}(Oe,M,Y);break;case"utf8":case"utf-8":he=function(De,Ie,je){var Me="",Ee="";je=Math.min(De.length,je);for(var $e=Ie;$e<je;$e++)De[$e]<=127?(Me+=O(Ee)+String.fromCharCode(De[$e]),Ee=""):Ee+="%"+De[$e].toString(16);return Me+O(Ee)}(Oe,M,Y);break;case"ascii":case"binary":he=_(Oe,M,Y);break;case"base64":me=Oe,X=Y,he=(le=M)===0&&X===me.length?v.fromByteArray(me):v.fromByteArray(me.slice(le,X));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":he=function(De,Ie,je){for(var Me=De.slice(Ie,je),Ee="",$e=0;$e<Me.length;$e+=2)Ee+=String.fromCharCode(Me[$e]+256*Me[$e+1]);return Ee}(Oe,M,Y);break;default:throw new Error("Unknown encoding")}return he},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.copy=function(E,M,Y,he){if(M=M||0,(he=he||he===0?he:this.length)!==(Y=Y||0)&&E.length!==0&&this.length!==0){V(Y<=he,"sourceEnd < sourceStart"),V(0<=M&&M<E.length,"targetStart out of bounds"),V(0<=Y&&Y<this.length,"sourceStart out of bounds"),V(0<=he&&he<=this.length,"sourceEnd out of bounds"),he>this.length&&(he=this.length);var me=(he=E.length-M<he-Y?E.length-M+Y:he)-Y;if(me<100||!b._useTypedArrays)for(var le=0;le<me;le++)E[le+M]=this[le+Y];else E._set(this.subarray(Y,Y+me),M)}},b.prototype.slice=function(E,M){var Y=this.length;if(E=ce(E,Y,0),M=ce(M,Y,Y),b._useTypedArrays)return b._augment(this.subarray(E,M));for(var he=M-E,me=new b(he,void 0,!0),le=0;le<he;le++)me[le]=this[le+E];return me},b.prototype.get=function(E){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(E)},b.prototype.set=function(E,M){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(E,M)},b.prototype.readUInt8=function(E,M){if(M||(V(E!=null,"missing offset"),V(E<this.length,"Trying to read beyond buffer length")),!(E>=this.length))return this[E]},b.prototype.readUInt16LE=function(E,M){return k(this,E,!0,M)},b.prototype.readUInt16BE=function(E,M){return k(this,E,!1,M)},b.prototype.readUInt32LE=function(E,M){return R(this,E,!0,M)},b.prototype.readUInt32BE=function(E,M){return R(this,E,!1,M)},b.prototype.readInt8=function(E,M){if(M||(V(E!=null,"missing offset"),V(E<this.length,"Trying to read beyond buffer length")),!(E>=this.length))return 128&this[E]?-1*(255-this[E]+1):this[E]},b.prototype.readInt16LE=function(E,M){return I(this,E,!0,M)},b.prototype.readInt16BE=function(E,M){return I(this,E,!1,M)},b.prototype.readInt32LE=function(E,M){return D(this,E,!0,M)},b.prototype.readInt32BE=function(E,M){return D(this,E,!1,M)},b.prototype.readFloatLE=function(E,M){return A(this,E,!0,M)},b.prototype.readFloatBE=function(E,M){return A(this,E,!1,M)},b.prototype.readDoubleLE=function(E,M){return j(this,E,!0,M)},b.prototype.readDoubleBE=function(E,M){return j(this,E,!1,M)},b.prototype.writeUInt8=function(E,M,Y){Y||(V(E!=null,"missing value"),V(M!=null,"missing offset"),V(M<this.length,"trying to write beyond buffer length"),Z(E,255)),M>=this.length||(this[M]=E)},b.prototype.writeUInt16LE=function(E,M,Y){T(this,E,M,!0,Y)},b.prototype.writeUInt16BE=function(E,M,Y){T(this,E,M,!1,Y)},b.prototype.writeUInt32LE=function(E,M,Y){C(this,E,M,!0,Y)},b.prototype.writeUInt32BE=function(E,M,Y){C(this,E,M,!1,Y)},b.prototype.writeInt8=function(E,M,Y){Y||(V(E!=null,"missing value"),V(M!=null,"missing offset"),V(M<this.length,"Trying to write beyond buffer length"),B(E,127,-128)),M>=this.length||(0<=E?this.writeUInt8(E,M,Y):this.writeUInt8(255+E+1,M,Y))},b.prototype.writeInt16LE=function(E,M,Y){L(this,E,M,!0,Y)},b.prototype.writeInt16BE=function(E,M,Y){L(this,E,M,!1,Y)},b.prototype.writeInt32LE=function(E,M,Y){F(this,E,M,!0,Y)},b.prototype.writeInt32BE=function(E,M,Y){F(this,E,M,!1,Y)},b.prototype.writeFloatLE=function(E,M,Y){W(this,E,M,!0,Y)},b.prototype.writeFloatBE=function(E,M,Y){W(this,E,M,!1,Y)},b.prototype.writeDoubleLE=function(E,M,Y){oe(this,E,M,!0,Y)},b.prototype.writeDoubleBE=function(E,M,Y){oe(this,E,M,!1,Y)},b.prototype.fill=function(E,M,Y){if(M=M||0,Y=Y||this.length,V(typeof(E=typeof(E=E||0)=="string"?E.charCodeAt(0):E)=="number"&&!isNaN(E),"value is not a number"),V(M<=Y,"end < start"),Y!==M&&this.length!==0){V(0<=M&&M<this.length,"start out of bounds"),V(0<=Y&&Y<=this.length,"end out of bounds");for(var he=M;he<Y;he++)this[he]=E}},b.prototype.inspect=function(){for(var E=[],M=this.length,Y=0;Y<M;Y++)if(E[Y]=pe(this[Y]),Y===s.INSPECT_MAX_BYTES){E[Y+1]="...";break}return"<Buffer "+E.join(" ")+">"},b.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(b._useTypedArrays)return new b(this).buffer;for(var E=new Uint8Array(this.length),M=0,Y=E.length;M<Y;M+=1)E[M]=this[M];return E.buffer};var H=b.prototype;function ce(E,M,Y){return typeof E!="number"?Y:M<=(E=~~E)?M:0<=E||0<=(E+=M)?E:0}function te(E){return(E=~~Math.ceil(+E))<0?0:E}function ue(E){return(Array.isArray||function(M){return Object.prototype.toString.call(M)==="[object Array]"})(E)}function pe(E){return E<16?"0"+E.toString(16):E.toString(16)}function xe(E){for(var M=[],Y=0;Y<E.length;Y++){var he=E.charCodeAt(Y);if(he<=127)M.push(E.charCodeAt(Y));else for(var me=Y,le=(55296<=he&&he<=57343&&Y++,encodeURIComponent(E.slice(me,Y+1)).substr(1).split("%")),X=0;X<le.length;X++)M.push(parseInt(le[X],16))}return M}function U(E){return v.toByteArray(E)}function ee(E,M,Y,he){for(var me=0;me<he&&!(me+Y>=M.length||me>=E.length);me++)M[me+Y]=E[me];return me}function O(E){try{return decodeURIComponent(E)}catch{return"�"}}function Z(E,M){V(typeof E=="number","cannot write a non-number as a number"),V(0<=E,"specified a negative value for writing an unsigned value"),V(E<=M,"value is larger than maximum value for type"),V(Math.floor(E)===E,"value has a fractional component")}function B(E,M,Y){V(typeof E=="number","cannot write a non-number as a number"),V(E<=M,"value larger than maximum allowed value"),V(Y<=E,"value smaller than minimum allowed value"),V(Math.floor(E)===E,"value has a fractional component")}function se(E,M,Y){V(typeof E=="number","cannot write a non-number as a number"),V(E<=M,"value larger than maximum allowed value"),V(Y<=E,"value smaller than minimum allowed value")}function V(E,M){if(!E)throw new Error(M||"Failed assertion")}b._augment=function(E){return E._isBuffer=!0,E._get=E.get,E._set=E.set,E.get=H.get,E.set=H.set,E.write=H.write,E.toString=H.toString,E.toLocaleString=H.toString,E.toJSON=H.toJSON,E.copy=H.copy,E.slice=H.slice,E.readUInt8=H.readUInt8,E.readUInt16LE=H.readUInt16LE,E.readUInt16BE=H.readUInt16BE,E.readUInt32LE=H.readUInt32LE,E.readUInt32BE=H.readUInt32BE,E.readInt8=H.readInt8,E.readInt16LE=H.readInt16LE,E.readInt16BE=H.readInt16BE,E.readInt32LE=H.readInt32LE,E.readInt32BE=H.readInt32BE,E.readFloatLE=H.readFloatLE,E.readFloatBE=H.readFloatBE,E.readDoubleLE=H.readDoubleLE,E.readDoubleBE=H.readDoubleBE,E.writeUInt8=H.writeUInt8,E.writeUInt16LE=H.writeUInt16LE,E.writeUInt16BE=H.writeUInt16BE,E.writeUInt32LE=H.writeUInt32LE,E.writeUInt32BE=H.writeUInt32BE,E.writeInt8=H.writeInt8,E.writeInt16LE=H.writeInt16LE,E.writeInt16BE=H.writeInt16BE,E.writeInt32LE=H.writeInt32LE,E.writeInt32BE=H.writeInt32BE,E.writeFloatLE=H.writeFloatLE,E.writeFloatBE=H.writeFloatBE,E.writeDoubleLE=H.writeDoubleLE,E.writeDoubleBE=H.writeDoubleBE,E.fill=H.fill,E.inspect=H.inspect,E.toArrayBuffer=H.toArrayBuffer,E}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,s){(function(i,a,v,c,u,d,h,m,f){var v=n("buffer").Buffer,x=4,b=new v(x);b.fill(0),r.exports={hash:function(y,w,_,k){for(var R=w(function(T,C){T.length%x!=0&&(L=T.length+(x-T.length%x),T=v.concat([T,b],L));for(var L,F=[],W=C?T.readInt32BE:T.readInt32LE,oe=0;oe<T.length;oe+=x)F.push(W.call(T,oe));return F}(y=v.isBuffer(y)?y:new v(y),k),8*y.length),w=k,I=new v(_),D=w?I.writeInt32BE:I.writeInt32LE,A=0;A<R.length;A++)D.call(I,R[A],4*A,!0);return I}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,s){(function(i,a,v,c,u,d,h,m,f){var v=n("buffer").Buffer,x=n("./sha"),b=n("./sha256"),y=n("./rng"),w={sha1:x,sha256:b,md5:n("./md5")},_=64,k=new v(_);function R(T,C){var L=w[T=T||"sha1"],F=[];return L||I("algorithm:",T,"is not yet supported"),{update:function(W){return v.isBuffer(W)||(W=new v(W)),F.push(W),W.length,this},digest:function(W){var oe=v.concat(F),oe=C?function(H,ce,te){v.isBuffer(ce)||(ce=new v(ce)),v.isBuffer(te)||(te=new v(te)),ce.length>_?ce=H(ce):ce.length<_&&(ce=v.concat([ce,k],_));for(var ue=new v(_),pe=new v(_),xe=0;xe<_;xe++)ue[xe]=54^ce[xe],pe[xe]=92^ce[xe];return te=H(v.concat([ue,te])),H(v.concat([pe,te]))}(L,C,oe):L(oe);return F=null,W?oe.toString(W):oe}}}function I(){var T=[].slice.call(arguments).join(" ");throw new Error([T,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}k.fill(0),s.createHash=function(T){return R(T)},s.createHmac=R,s.randomBytes=function(T,C){if(!C||!C.call)return new v(y(T));try{C.call(this,void 0,new v(y(T)))}catch(L){C(L)}};var D,A=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],j=function(T){s[T]=function(){I("sorry,",T,"is not implemented yet")}};for(D in A)j(A[D])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){var v=n("./helpers");function x(I,D){I[D>>5]|=128<<D%32,I[14+(D+64>>>9<<4)]=D;for(var A=1732584193,j=-271733879,T=-1732584194,C=271733878,L=0;L<I.length;L+=16){var F=A,W=j,oe=T,H=C,A=y(A,j,T,C,I[L+0],7,-680876936),C=y(C,A,j,T,I[L+1],12,-389564586),T=y(T,C,A,j,I[L+2],17,606105819),j=y(j,T,C,A,I[L+3],22,-1044525330);A=y(A,j,T,C,I[L+4],7,-176418897),C=y(C,A,j,T,I[L+5],12,1200080426),T=y(T,C,A,j,I[L+6],17,-1473231341),j=y(j,T,C,A,I[L+7],22,-45705983),A=y(A,j,T,C,I[L+8],7,1770035416),C=y(C,A,j,T,I[L+9],12,-1958414417),T=y(T,C,A,j,I[L+10],17,-42063),j=y(j,T,C,A,I[L+11],22,-1990404162),A=y(A,j,T,C,I[L+12],7,1804603682),C=y(C,A,j,T,I[L+13],12,-40341101),T=y(T,C,A,j,I[L+14],17,-1502002290),A=w(A,j=y(j,T,C,A,I[L+15],22,1236535329),T,C,I[L+1],5,-165796510),C=w(C,A,j,T,I[L+6],9,-1069501632),T=w(T,C,A,j,I[L+11],14,643717713),j=w(j,T,C,A,I[L+0],20,-373897302),A=w(A,j,T,C,I[L+5],5,-701558691),C=w(C,A,j,T,I[L+10],9,38016083),T=w(T,C,A,j,I[L+15],14,-660478335),j=w(j,T,C,A,I[L+4],20,-405537848),A=w(A,j,T,C,I[L+9],5,568446438),C=w(C,A,j,T,I[L+14],9,-1019803690),T=w(T,C,A,j,I[L+3],14,-187363961),j=w(j,T,C,A,I[L+8],20,1163531501),A=w(A,j,T,C,I[L+13],5,-1444681467),C=w(C,A,j,T,I[L+2],9,-51403784),T=w(T,C,A,j,I[L+7],14,1735328473),A=_(A,j=w(j,T,C,A,I[L+12],20,-1926607734),T,C,I[L+5],4,-378558),C=_(C,A,j,T,I[L+8],11,-2022574463),T=_(T,C,A,j,I[L+11],16,1839030562),j=_(j,T,C,A,I[L+14],23,-35309556),A=_(A,j,T,C,I[L+1],4,-1530992060),C=_(C,A,j,T,I[L+4],11,1272893353),T=_(T,C,A,j,I[L+7],16,-155497632),j=_(j,T,C,A,I[L+10],23,-1094730640),A=_(A,j,T,C,I[L+13],4,681279174),C=_(C,A,j,T,I[L+0],11,-358537222),T=_(T,C,A,j,I[L+3],16,-722521979),j=_(j,T,C,A,I[L+6],23,76029189),A=_(A,j,T,C,I[L+9],4,-640364487),C=_(C,A,j,T,I[L+12],11,-421815835),T=_(T,C,A,j,I[L+15],16,530742520),A=k(A,j=_(j,T,C,A,I[L+2],23,-995338651),T,C,I[L+0],6,-198630844),C=k(C,A,j,T,I[L+7],10,1126891415),T=k(T,C,A,j,I[L+14],15,-1416354905),j=k(j,T,C,A,I[L+5],21,-57434055),A=k(A,j,T,C,I[L+12],6,1700485571),C=k(C,A,j,T,I[L+3],10,-1894986606),T=k(T,C,A,j,I[L+10],15,-1051523),j=k(j,T,C,A,I[L+1],21,-2054922799),A=k(A,j,T,C,I[L+8],6,1873313359),C=k(C,A,j,T,I[L+15],10,-30611744),T=k(T,C,A,j,I[L+6],15,-1560198380),j=k(j,T,C,A,I[L+13],21,1309151649),A=k(A,j,T,C,I[L+4],6,-145523070),C=k(C,A,j,T,I[L+11],10,-1120210379),T=k(T,C,A,j,I[L+2],15,718787259),j=k(j,T,C,A,I[L+9],21,-343485551),A=R(A,F),j=R(j,W),T=R(T,oe),C=R(C,H)}return Array(A,j,T,C)}function b(I,D,A,j,T,C){return R((D=R(R(D,I),R(j,C)))<<T|D>>>32-T,A)}function y(I,D,A,j,T,C,L){return b(D&A|~D&j,I,D,T,C,L)}function w(I,D,A,j,T,C,L){return b(D&j|A&~j,I,D,T,C,L)}function _(I,D,A,j,T,C,L){return b(D^A^j,I,D,T,C,L)}function k(I,D,A,j,T,C,L){return b(A^(D|~j),I,D,T,C,L)}function R(I,D){var A=(65535&I)+(65535&D);return(I>>16)+(D>>16)+(A>>16)<<16|65535&A}r.exports=function(I){return v.hash(I,x,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){r.exports=function(v){for(var x,b=new Array(v),y=0;y<v;y++)!(3&y)&&(x=4294967296*Math.random()),b[y]=x>>>((3&y)<<3)&255;return b}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){var v=n("./helpers");function x(w,_){w[_>>5]|=128<<24-_%32,w[15+(_+64>>9<<4)]=_;for(var k,R,I,D=Array(80),A=1732584193,j=-271733879,T=-1732584194,C=271733878,L=-1009589776,F=0;F<w.length;F+=16){for(var W=A,oe=j,H=T,ce=C,te=L,ue=0;ue<80;ue++){D[ue]=ue<16?w[F+ue]:y(D[ue-3]^D[ue-8]^D[ue-14]^D[ue-16],1);var pe=b(b(y(A,5),(pe=j,R=T,I=C,(k=ue)<20?pe&R|~pe&I:!(k<40)&&k<60?pe&R|pe&I|R&I:pe^R^I)),b(b(L,D[ue]),(k=ue)<20?1518500249:k<40?1859775393:k<60?-1894007588:-899497514)),L=C,C=T,T=y(j,30),j=A,A=pe}A=b(A,W),j=b(j,oe),T=b(T,H),C=b(C,ce),L=b(L,te)}return Array(A,j,T,C,L)}function b(w,_){var k=(65535&w)+(65535&_);return(w>>16)+(_>>16)+(k>>16)<<16|65535&k}function y(w,_){return w<<_|w>>>32-_}r.exports=function(w){return v.hash(w,x,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){function v(_,k){var R=(65535&_)+(65535&k);return(_>>16)+(k>>16)+(R>>16)<<16|65535&R}function x(_,k){var R,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),D=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),A=new Array(64);_[k>>5]|=128<<24-k%32,_[15+(k+64>>9<<4)]=k;for(var j,T,C=0;C<_.length;C+=16){for(var L=D[0],F=D[1],W=D[2],oe=D[3],H=D[4],ce=D[5],te=D[6],ue=D[7],pe=0;pe<64;pe++)A[pe]=pe<16?_[pe+C]:v(v(v((T=A[pe-2],y(T,17)^y(T,19)^w(T,10)),A[pe-7]),(T=A[pe-15],y(T,7)^y(T,18)^w(T,3))),A[pe-16]),R=v(v(v(v(ue,y(T=H,6)^y(T,11)^y(T,25)),H&ce^~H&te),I[pe]),A[pe]),j=v(y(j=L,2)^y(j,13)^y(j,22),L&F^L&W^F&W),ue=te,te=ce,ce=H,H=v(oe,R),oe=W,W=F,F=L,L=v(R,j);D[0]=v(L,D[0]),D[1]=v(F,D[1]),D[2]=v(W,D[2]),D[3]=v(oe,D[3]),D[4]=v(H,D[4]),D[5]=v(ce,D[5]),D[6]=v(te,D[6]),D[7]=v(ue,D[7])}return D}var b=n("./helpers"),y=function(_,k){return _>>>k|_<<32-k},w=function(_,k){return _>>>k};r.exports=function(_){return b.hash(_,x,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){s.read=function(v,x,b,y,C){var _,k,R=8*C-y-1,I=(1<<R)-1,D=I>>1,A=-7,j=b?C-1:0,T=b?-1:1,C=v[x+j];for(j+=T,_=C&(1<<-A)-1,C>>=-A,A+=R;0<A;_=256*_+v[x+j],j+=T,A-=8);for(k=_&(1<<-A)-1,_>>=-A,A+=y;0<A;k=256*k+v[x+j],j+=T,A-=8);if(_===0)_=1-D;else{if(_===I)return k?NaN:1/0*(C?-1:1);k+=Math.pow(2,y),_-=D}return(C?-1:1)*k*Math.pow(2,_-y)},s.write=function(v,x,b,y,w,L){var k,R,I=8*L-w-1,D=(1<<I)-1,A=D>>1,j=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=y?0:L-1,C=y?1:-1,L=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(R=isNaN(x)?1:0,k=D):(k=Math.floor(Math.log(x)/Math.LN2),x*(y=Math.pow(2,-k))<1&&(k--,y*=2),2<=(x+=1<=k+A?j/y:j*Math.pow(2,1-A))*y&&(k++,y/=2),D<=k+A?(R=0,k=D):1<=k+A?(R=(x*y-1)*Math.pow(2,w),k+=A):(R=x*Math.pow(2,A-1)*Math.pow(2,w),k=0));8<=w;v[b+T]=255&R,T+=C,R/=256,w-=8);for(k=k<<w|R,I+=w;0<I;v[b+T]=255&k,T+=C,k/=256,I-=8);v[b+T-C]|=128*L}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,s){(function(i,a,l,c,u,d,h,m,f){var v,x,b;function y(){}(i=r.exports={}).nextTick=(x=typeof window<"u"&&window.setImmediate,b=typeof window<"u"&&window.postMessage&&window.addEventListener,x?function(w){return window.setImmediate(w)}:b?(v=[],window.addEventListener("message",function(w){var _=w.source;_!==window&&_!==null||w.data!=="process-tick"||(w.stopPropagation(),0<v.length&&v.shift()())},!0),function(w){v.push(w),window.postMessage("process-tick","*")}):function(w){setTimeout(w,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(x3);var $E=x3.exports;const UE=Kc($E),zE=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,qE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,HE=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function WE(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){VE(t);return}return e}function VE(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function KE(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!HE.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(zE.test(t)||qE.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,WE)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const GE=/#/g,YE=/&/g,JE=/\//g,XE=/=/g,My=/\+/g,QE=/%5e/gi,ZE=/%60/gi,eL=/%7c/gi,tL=/%20/gi;function nL(t){return encodeURI(""+t).replace(eL,"|")}function W1(t){return nL(typeof t=="string"?t:JSON.stringify(t)).replace(My,"%2B").replace(tL,"+").replace(GE,"%23").replace(YE,"%26").replace(ZE,"`").replace(QE,"^").replace(JE,"%2F")}function tg(t){return W1(t).replace(XE,"%3D")}function y3(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function rL(t){return y3(t.replace(My," "))}function sL(t){return y3(t.replace(My," "))}function iL(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=rL(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=sL(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function aL(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${tg(t)}=${W1(n)}`).join("&"):`${tg(t)}=${W1(e)}`:tg(t)}function oL(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>aL(e,t[e])).filter(Boolean).join("&")}const lL=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,cL=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,uL=/^([/\\]\s*){2,}[^/\\]/,dL=/^\.?\//;function v3(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?lL.test(t):cL.test(t)||(e.acceptRelative?uL.test(t):!1)}function hL(t="",e){return t.endsWith("/")}function fL(t="",e){return(hL(t)?t.slice(0,-1):t)||"/"}function pL(t="",e){return t.endsWith("/")?t:t+"/"}function mL(t,e){if(xL(e)||v3(t))return t;const n=fL(e);return t.startsWith(n)?t:vL(n,t)}function gL(t,e){const n=bL(t),r={...iL(n.search),...e};return n.search=oL(r),wL(n)}function xL(t){return!t||t==="/"}function yL(t){return t&&t!=="/"}function vL(t,...e){let n=t||"";for(const r of e.filter(s=>yL(s)))if(n){const s=r.replace(dL,"");n=pL(n)+s}else n=r;return n}const b3=Symbol.for("ufo:protocolRelative");function bL(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,m=""]=n;return{protocol:h.toLowerCase(),pathname:m,href:h+m,auth:"",host:"",search:"",hash:""}}if(!v3(t,{acceptRelative:!0}))return jb(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",l=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:d}=jb(l);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:a,pathname:c,search:u,hash:d,[b3]:!r}}function jb(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function wL(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[b3]?(t.protocol||"")+"//":"")+s+i+e+n+r}class _L extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function NL(t){var c,u,d,h,m;const e=((c=t.error)==null?void 0:c.message)||((u=t.error)==null?void 0:u.toString())||"",n=((d=t.request)==null?void 0:d.method)||((h=t.options)==null?void 0:h.method)||"GET",r=((m=t.request)==null?void 0:m.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${s}: ${i}${e?` ${e}`:""}`,l=new _L(a,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(l,f,{get(){return t[f]}});for(const[f,v]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,f,{get(){return t.response&&t.response[v]}});return l}const jL=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Sb(t="GET"){return jL.has(t.toUpperCase())}function SL(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const kL=new Set(["image/svg","application/xml","application/xhtml","application/html"]),AL=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function CL(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return AL.test(e)?"json":kL.has(e)||e.startsWith("text/")?"text":"blob"}function EL(t,e,n,r){const s=LL((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function LL(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Sf(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const PL=new Set([408,409,425,429,500,502,503,504]),TL=new Set([101,204,205,304]);function w3(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(l){const c=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!c){let d;typeof l.options.retry=="number"?d=l.options.retry:d=Sb(l.options.method)?0:1;const h=l.response&&l.response.status||500;if(d>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(h):PL.has(h))){const m=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return m>0&&await new Promise(f=>setTimeout(f,m)),i(l.request,{...l.options,retry:d-1})}}const u=NL(l);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(c,u={}){const d={request:c,options:EL(c,u,t.defaults,n),response:void 0,error:void 0};d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&await Sf(d,d.options.onRequest),typeof d.request=="string"&&(d.options.baseURL&&(d.request=mL(d.request,d.options.baseURL)),d.options.query&&(d.request=gL(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&Sb(d.options.method)&&(SL(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half")));let h;if(!d.options.signal&&d.options.timeout){const f=new r;h=setTimeout(()=>{const v=new Error("[TimeoutError]: The operation was aborted due to timeout");v.name="TimeoutError",v.code=23,f.abort(v)},d.options.timeout),d.options.signal=f.signal}try{d.response=await e(d.request,d.options)}catch(f){return d.error=f,d.options.onRequestError&&await Sf(d,d.options.onRequestError),await s(d)}finally{h&&clearTimeout(h)}if((d.response.body||d.response._bodyInit)&&!TL.has(d.response.status)&&d.options.method!=="HEAD"){const f=(d.options.parseResponse?"json":d.options.responseType)||CL(d.response.headers.get("content-type")||"");switch(f){case"json":{const v=await d.response.text(),x=d.options.parseResponse||KE;d.response._data=x(v);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[f]()}}return d.options.onResponse&&await Sf(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await Sf(d,d.options.onResponseError),await s(d)):d.response},a=async function(c,u){return(await i(c,u))._data};return a.raw=i,a.native=(...l)=>e(...l),a.create=(l={},c={})=>w3({...t,...c,defaults:{...t.defaults,...c.defaults,...l}}),a}const K0=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),IL=K0.fetch?(...t)=>K0.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),OL=K0.Headers,RL=K0.AbortController,ML=w3({fetch:IL,Headers:OL,AbortController:RL});var DL=Object.defineProperty,FL=Object.defineProperties,BL=Object.getOwnPropertyDescriptors,kb=Object.getOwnPropertySymbols,$L=Object.prototype.hasOwnProperty,UL=Object.prototype.propertyIsEnumerable,_3=t=>{throw TypeError(t)},Ab=(t,e,n)=>e in t?DL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G0=(t,e)=>{for(var n in e||(e={}))$L.call(e,n)&&Ab(t,n,e[n]);if(kb)for(var n of kb(e))UL.call(e,n)&&Ab(t,n,e[n]);return t},N3=(t,e)=>FL(t,BL(e)),j3=(t,e,n)=>e.has(t)||_3("Cannot "+n),cn=(t,e,n)=>(j3(t,e,"read from private field"),n?n.call(t):e.get(t)),xl=(t,e,n)=>e.has(t)?_3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),eu=(t,e,n,r)=>(j3(t,e,"write to private field"),e.set(t,n),n),Ys=(t,e,n)=>new Promise((r,s)=>{var i=c=>{try{l(n.next(c))}catch(u){s(u)}},a=c=>{try{l(n.throw(c))}catch(u){s(u)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,a);l((n=n.apply(t,e)).next())}),Y0=class extends Error{constructor(e,n){super(n),this.name="LumiError",this.code=e}},zL="6QrJZ7pFCmBZAeIJF7IArvkCz+EtzA0RVcpHkiQIsQyhs7QtCS9P+CueZdHfB2OtJcgX3BbqY9pfpWeAVTqCwQ==";function Cb(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)}function qL(t){return e=>{let{options:n}=e,r=Math.floor(Date.now()/1e3).toString(),s=Math.random().toString(36).substring(2,15),i=G0({},n.query),a=Object.keys(i).sort().map(v=>`${Cb(v)}=${Cb(String(i[v]))}`).join("&"),l={"x-timestamp":r,"x-nonce":s},c=Object.keys(l).sort().map(v=>`${v}:${l[v]}`).join(`
`),u=n.body&&!(n.body instanceof FormData)?JSON.stringify(n.body):"",d=BE(u).toString(OE),h=[a,c,d].join(`
`);console.warn(`Client-side Canonical Request V3:
`,h);let m=TE.stringify(DE(h,t)),f=new Headers(n.headers);Object.entries(l).forEach(([v,x])=>{f.set(v,x)}),f.set("X-Sign",m),n.headers=f}}var Eb=new Map;function HL(t,e){var n;e.body instanceof FormData&&(e=N3(G0({},e),{body:Array.from(e.body.entries())}));let r=UE([t,e]),s=Date.now(),i=((n=Eb.get(r))==null?void 0:n.filter(a=>s-a<1e3))||[];if(i.length>=4)throw new Y0(429,"Too many requests");i.push(s),Eb.set(r,i)}function Ns(t,e,n={}){return t.auth.accessToken&&(n.headers=G0({Authorization:`Bearer ${t.auth.accessToken}`},n.headers)),HL(e,n),ML(e,N3(G0({baseURL:t.config.apiBaseUrl},n),{onRequest:qL(zL)}))}function WL(){var t,e;return(e=(t=document.querySelector('link[rel="icon"]'))==null?void 0:t.href)!=null?e:null}function VL(){var t;return(t=document.title)!=null?t:null}function Lb(t,e,n=localStorage){let r=n.getItem(t),s=e?JSON.stringify(e):null;s?n.setItem(t,s):n.removeItem(t),window.dispatchEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s,storageArea:n}))}function Pb(t,e=localStorage){let n=e.getItem(t);try{return n?JSON.parse(n):null}catch{return null}}var Hi,V1,KL=class{constructor(e){xl(this,Hi),xl(this,V1,`lumi-auth-${AE()}`),eu(this,Hi,e)}get accessToken(){return Pb("lumi-access-token")}set accessToken(e){Lb("lumi-access-token",e)}get user(){return Pb("lumi-user")}set user(e){Lb("lumi-user",e)}get isAuthenticated(){return!!this.accessToken}signIn(){let e=(window.screen.width-800)/2,n=(window.screen.height-600)/2,r=window.open(cn(this,Hi).config.authOrigin,cn(this,V1),`width=800,height=600,left=${e},top=${n}`),s;return new Promise((i,a)=>{if(!r)return a(new Error("Open auth window failed"));let l=setInterval(()=>{r.closed&&a(new Error("Auth window closed"))},1e3),c=d=>{r.closed||(r.focus(),d.stopPropagation(),d.preventDefault())},u=({data:d,origin:h,source:m})=>{if(!(h!==cn(this,Hi).config.authOrigin||m!==r))switch(d==null?void 0:d.type){case"lumi-ready":{r.postMessage({type:"lumi-init",data:{projectId:cn(this,Hi).config.projectId,icon:WL(),title:VL()}},cn(this,Hi).config.authOrigin);break}case"lumi-sign-in":{if(d.data.projectId!==cn(this,Hi).config.projectId)break;r.close(),window.focus(),this.accessToken=d.data.accessToken,this.user=d.data.user,i(d.data);break}}};window.addEventListener("message",u),document.addEventListener("click",c,!0),s=()=>{clearInterval(l),window.removeEventListener("message",u),document.removeEventListener("click",c,!0)}}).finally(()=>s==null?void 0:s())}signOut(){this.accessToken=null,this.user=null}refreshUser(){return Ys(this,null,function*(){let e=yield Ns(cn(this,Hi),"/lm/user/info",{method:"POST"});if(e.code!==200)throw new Error(e.message);return this.user=e.data,e.data})}onAuthChange(e){let n=r=>{(r.key==="lumi-access-token"||r.key==="lumi-user"||r.key===null)&&e({isAuthenticated:this.isAuthenticated,user:this.user})};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}};Hi=new WeakMap,V1=new WeakMap;var _s,GL=class{constructor(e,n){xl(this,_s),eu(this,_s,e),this.entityName=n}list(){return Ys(this,arguments,function*({filter:e,sort:n,limit:r,skip:s}={}){if(r){let i=yield Ns(cn(this,_s),this.uri("/find"),{method:"POST",body:{filter:e,sort:n,limit:r,skip:s}});if(i.code!==200)throw new Error(i.message);return i.data}else{let i=yield Ns(cn(this,_s),this.uri("/list"),{method:"POST",body:{filter:e,sort:n}});if(i.code!==200)throw new Error(i.message);return{total:i.data.length,list:i.data}}})}get(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,_s),this.uri(`/${e}`),{method:"GET"});if(n.code!==200)throw new Error(n.message);return n.data})}create(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,_s),this.uri(),{method:"POST",body:e});if(n.code!==200)throw new Error(n.message);return n.data})}createMany(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,_s),this.uri("/batch"),{method:"POST",body:e});if(n.code!==200)throw new Error(n.message);return n.data})}update(e,n){return Ys(this,null,function*(){let r=yield Ns(cn(this,_s),this.uri(),{method:"PUT",body:{filter:{_id:e},update:n}});if(r.code!==200)throw new Error(r.message);return r.data})}delete(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,_s),this.uri(`/${e}`),{method:"DELETE"});if(n.code!==200)throw new Error(n.message)})}deleteMany(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,_s),this.uri("/batch-by-ids"),{method:"DELETE",params:{ids:e}});if(n.code!==200)throw new Error(n.message)})}uri(e=""){return`/lm/${cn(this,_s).config.projectId}/${this.entityName}/documents${e}`}};_s=new WeakMap;var c0,YL=class{constructor(e){return xl(this,c0),eu(this,c0,e),new Proxy(this,{get(n,r){return r in n||(n[r]=new GL(cn(n,c0),r)),n[r]}})}};c0=new WeakMap;var td,JL=class{constructor(e){xl(this,td),eu(this,td,e)}send(e){return Ys(this,arguments,function*({to:n,subject:r,fromName:s,html:i,text:a="",replyTo:l,scheduledAt:c}){if(!n||!r||!i&&!a)throw new Error("Failed to send email: Missing required parameters.");typeof n=="string"&&(n=[n]),typeof l=="string"&&(l=[l]);let u=yield Ns(cn(this,td),`/lm/${cn(this,td).config.projectId}/email/send`,{method:"POST",body:{to:n,subject:r,fromName:s,html:i,text:a,replyTo:l,scheduledAt:c}});if(u.code!==200)throw new Y0(u.code,u.message)})}};td=new WeakMap;var Ko,XL=class{constructor(e){xl(this,Ko),eu(this,Ko,e)}upload(e){return Ys(this,null,function*(){let n=new FormData;e.forEach(s=>{n.append("files",s)});let r=yield Ns(cn(this,Ko),`/lm/${cn(this,Ko).config.projectId}/file/batch`,{method:"POST",body:n});if(r.code!==200)throw new Y0(r.code,r.message);return r.data})}delete(e){return Ys(this,null,function*(){let n=yield Ns(cn(this,Ko),`/lm/${cn(this,Ko).config.projectId}/file/batch`,{method:"DELETE",body:{fileUrls:e}});if(n.code!==200)throw new Y0(n.code,n.message)})}};Ko=new WeakMap;var K1,QL=class{constructor(e){xl(this,K1),eu(this,K1,e),this.email=new JL(e),this.file=new XL(e)}};K1=new WeakMap;var ZL=class{constructor(e){this.config=e,this.auth=new KL(this),this.entities=new YL(this),this.tools=new QL(this)}};function eP(t){return new ZL(t)}const Ca=eP({projectId:"p364423076073435136",apiBaseUrl:"https://api.lumi.new",authOrigin:"https://auth.lumi.new",debug:!0});let tP={data:""},nP=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||tP},rP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sP=/\/\*[^]*?\*\/|  +/g,Tb=/\n+/g,Fa=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Fa(a,i):i+"{"+Fa(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Fa(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Fa.p?Fa.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},$i={},S3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+S3(t[n]);return e}return t},iP=(t,e,n,r,s)=>{let i=S3(t),a=$i[i]||($i[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!$i[a]){let c=i!==t?t:(u=>{let d,h,m=[{}];for(;d=rP.exec(u.replace(sP,""));)d[4]?m.shift():d[3]?(h=d[3].replace(Tb," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(Tb," ").trim();return m[0]})(t);$i[a]=Fa(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&$i.g?$i.g:null;return n&&($i.g=$i[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})($i[a],e,r,l),a},aP=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Fa(l,""):l===!1?"":l}return r+s+(a??"")},"");function Ip(t){let e=this||{},n=t.call?t(e.p):t;return iP(n.unshift?n.raw?aP(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,nP(e.target),e.g,e.o,e.k)}let k3,G1,Y1;Ip.bind({g:1});let oa=Ip.bind({k:1});function oP(t,e,n,r){Fa.p=e,k3=t,G1=n,Y1=r}function mo(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:G1&&G1()},l),n.o=/ *go\d+/.test(c),l.className=Ip.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Y1&&u[0]&&Y1(l),k3(u,l)}return s}}var lP=t=>typeof t=="function",J1=(t,e)=>lP(t)?t(e):t,cP=(()=>{let t=0;return()=>(++t).toString()})(),uP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dP=20,A3="default",C3=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return C3(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},hP=[],fP={toasts:[],pausedAt:void 0,settings:{toastLimit:dP}},Sc={},E3=(t,e=A3)=>{Sc[e]=C3(Sc[e]||fP,t),hP.forEach(([n,r])=>{n===e&&r(Sc[e])})},L3=t=>Object.keys(Sc).forEach(e=>E3(t,e)),pP=t=>Object.keys(Sc).find(e=>Sc[e].toasts.some(n=>n.id===t)),Dy=(t=A3)=>e=>{E3(e,t)},mP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||cP()}),yh=t=>(e,n)=>{let r=mP(e,t,n);return Dy(r.toasterId||pP(r.id))({type:2,toast:r}),r.id},cr=(t,e)=>yh("blank")(t,e);cr.error=yh("error");cr.success=yh("success");cr.loading=yh("loading");cr.custom=yh("custom");cr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Dy(e)(n):L3(n)};cr.dismissAll=t=>cr.dismiss(void 0,t);cr.remove=(t,e)=>{let n={type:4,toastId:t};e?Dy(e)(n):L3(n)};cr.removeAll=t=>cr.remove(void 0,t);cr.promise=(t,e,n)=>{let r=cr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?J1(e.success,s):void 0;return i?cr.success(i,{id:r,...n,...n==null?void 0:n.success}):cr.dismiss(r),s}).catch(s=>{let i=e.error?J1(e.error,s):void 0;i?cr.error(i,{id:r,...n,...n==null?void 0:n.error}):cr.dismiss(r)}),t};var gP=oa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xP=oa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yP=oa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vP=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bP=oa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wP=mo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${bP} 1s linear infinite;
`,_P=oa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NP=oa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jP=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_P} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SP=mo("div")`
  position: absolute;
`,kP=mo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AP=oa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CP=mo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?ae.createElement(CP,null,e):e:n==="blank"?null:ae.createElement(kP,null,ae.createElement(wP,{...r}),n!=="loading"&&ae.createElement(SP,null,n==="error"?ae.createElement(vP,{...r}):ae.createElement(jP,{...r})))},LP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,TP="0%{opacity:0;} 100%{opacity:1;}",IP="0%{opacity:1;} 100%{opacity:0;}",OP=mo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RP=mo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MP=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=uP()?[TP,IP]:[LP(n),PP(n)];return{animation:e?`${oa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oa(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};ae.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?MP(t.position||e||"top-center",t.visible):{opacity:0},i=ae.createElement(EP,{toast:t}),a=ae.createElement(RP,{...t.ariaProps},J1(t.message,t));return ae.createElement(OP,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):ae.createElement(ae.Fragment,null,i,a))});oP(ae.createElement);Ip`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Vn=cr;const DP=t=>{const[e,n]=ae.useState(null),[r,s]=ae.useState([]),[i,a]=ae.useState(!0),l=ae.useCallback(async()=>{if(!t){a(!1);return}try{const{list:f}=await Ca.entities.business_type.list({filter:{user_id:t,is_active:!0}});f&&f.length>0&&n(f[0])}catch(f){console.error("業態形態の取得に失敗しました:",f),Vn.error("業態形態の取得に失敗しました")}finally{a(!1)}},[t]),c=ae.useCallback(async()=>{if(t)try{const{list:f}=await Ca.entities.business_type.list({filter:{user_id:t},sort:{created_at:-1}});s(f||[])}catch(f){console.error("業態形態リストの取得に失敗しました:",f)}},[t]),u=async f=>{if(!t)return Vn.error("ユーザーIDが必要です"),null;try{e&&await Ca.entities.business_type.update(e._id,{is_active:!1,updated_at:new Date().toISOString()});const v=await Ca.entities.business_type.create({...f,user_id:t,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return n(v),await c(),Vn.success("業態形態を作成しました"),v}catch(v){return console.error("業態形態の作成に失敗しました:",v),Vn.error("業態形態の作成に失敗しました"),null}},d=async f=>{try{e&&await Ca.entities.business_type.update(e._id,{is_active:!1,updated_at:new Date().toISOString()});const v=await Ca.entities.business_type.update(f,{is_active:!0,updated_at:new Date().toISOString()});n(v),Vn.success("業態形態を切り替えました"),window.location.reload()}catch(v){console.error("業態形態の切り替えに失敗しました:",v),Vn.error("業態形態の切り替えに失敗しました")}},h=async(f,v)=>{try{const x=await Ca.entities.business_type.update(f,{...v,updated_at:new Date().toISOString()});return(e==null?void 0:e._id)===f&&n(x),await c(),Vn.success("業態形態を更新しました"),x}catch(x){return console.error("業態形態の更新に失敗しました:",x),Vn.error("業態形態の更新に失敗しました"),null}},m=async f=>{try{await Ca.entities.business_type.delete(f),(e==null?void 0:e._id)===f&&n(null),await c(),Vn.success("業態形態を削除しました")}catch(v){console.error("業態形態の削除に失敗しました:",v),Vn.error("業態形態の削除に失敗しました")}};return ae.useEffect(()=>{t&&(l(),c())},[l,c]),{currentBusinessType:e,businessTypes:r,loading:i,createBusinessType:u,switchBusinessType:d,updateBusinessType:h,deleteBusinessType:m,refetch:l}},FP=(t,e)=>{const n=()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(`ローカルストレージから${t}の値を取得できませんでした:`,i),e}},[r,s]=ae.useState(n);return ae.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(`ローカルストレージに${t}の値を保存できませんでした:`,i)}},[t,r]),[r,s]},ng=({userId:t,onBusinessTypeChange:e})=>{const[n,r]=ae.useState(!1),[s]=FP(`businessType_${t}`,null),{businessTypes:i,loading:a,createBusinessType:l,switchBusinessType:c,updateBusinessType:u,deleteBusinessType:d}=DP(t),[h,m]=ae.useState(!1),[f,v]=ae.useState(!1),[x,b]=ae.useState(null),[y,w]=ae.useState("individual"),_=async A=>{A.preventDefault();const j=new FormData(A.currentTarget),T={business_type:j.get("business_type"),company_name:j.get("company_name"),tax_number:j.get("tax_number"),address:j.get("address"),phone:j.get("phone"),email:j.get("email"),representative_name:j.get("representative_name")},C=await l(T);C&&(m(!1),e==null||e(C))},k=async A=>{if(A.preventDefault(),!x)return;const j=new FormData(A.currentTarget),T={company_name:j.get("company_name"),tax_number:j.get("tax_number"),address:j.get("address"),phone:j.get("phone"),email:j.get("email"),representative_name:j.get("representative_name")},C=await u(x._id,T);C&&(v(!1),b(null),e==null||e(C))},R=async A=>{await c(A),r(!1);const j=i.find(T=>T._id===A);e==null||e(j)},I=A=>{b(A),w(A.business_type),v(!0),r(!1)},D=async A=>{confirm("この業態形態を削除してもよろしいですか？")&&(await d(A),r(!1))};return a?o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"読み込み中..."})]}):o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors",children:[s?o.jsxs(o.Fragment,{children:[s.business_type==="individual"?o.jsx(sl,{className:"w-4 h-4 text-blue-600"}):o.jsx(vd,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-800",children:s.business_type==="individual"?"個人事業主":"法人"}),o.jsxs("span",{className:"text-sm text-blue-600",children:["- ",s.company_name]})]}):o.jsxs(o.Fragment,{children:[o.jsx(sl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-500",children:"業態形態を選択"})]}),o.jsx(s3,{className:"w-4 h-4 text-blue-600"})]}),n&&o.jsx("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:o.jsxs("div",{className:"p-2",children:[s&&o.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded flex items-center",children:[s.business_type==="individual"?o.jsx(sl,{className:"w-4 h-4 text-blue-600 mr-2"}):o.jsx(vd,{className:"w-4 h-4 text-green-600 mr-2"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-blue-800",children:s.business_type==="individual"?"個人事業主":"法人"}),o.jsx("div",{className:"text-xs text-blue-600",children:s.company_name})]}),o.jsx(Cs,{className:"w-4 h-4 text-blue-600 ml-auto"})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"業態形態"}),o.jsxs("button",{onClick:()=>{m(!0),r(!1)},className:"flex items-center text-xs text-blue-600 hover:text-blue-700",children:[o.jsx(Br,{className:"w-3 h-3 mr-1"}),"新規作成"]})]}),o.jsx("div",{className:"space-y-1",children:i.map(A=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-gray-50 ${(s==null?void 0:s._id)===A._id?"bg-gray-50":""}`,children:[o.jsxs("button",{onClick:()=>R(A._id),className:"flex items-center space-x-2 flex-1 text-left",children:[A.business_type==="individual"?o.jsx(sl,{className:"w-4 h-4 text-blue-600"}):o.jsx(vd,{className:"w-4 h-4 text-green-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:A.business_type==="individual"?"個人事業主":"法人"}),o.jsx("div",{className:"text-xs text-gray-500",children:A.company_name})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>I(A),className:"p-1 text-gray-400 hover:text-gray-600",title:"編集",children:o.jsx(mc,{className:"w-3 h-3"})}),i.length>1&&o.jsx("button",{onClick:()=>D(A._id),className:"p-1 text-gray-400 hover:text-red-600",title:"削除",children:o.jsx(js,{className:"w-3 h-3"})})]})]},A._id))}),i.length===0&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"業態形態が設定されていません"})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"新しい業態形態を作成"}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"業態形態"}),o.jsxs("select",{name:"business_type",value:y,onChange:A=>w(A.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"individual",children:"個人事業主"}),o.jsx("option",{value:"corporation",children:"法人"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y==="individual"?"屋号":"会社名"}),o.jsx("input",{type:"text",name:"company_name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:y==="individual"?"個人商店":"株式会社サンプル"})]}),y==="corporation"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"法人番号"}),o.jsx("input",{type:"text",name:"tax_number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234567890123"})]}),y==="individual"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"事業者登録番号"}),o.jsx("input",{type:"text",name:"tax_number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"T1234567890123"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"住所"}),o.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"東京都渋谷区1-1-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),o.jsx("input",{type:"tel",name:"phone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"03-1234-5678"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),o.jsx("input",{type:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"info@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y==="individual"?"事業主名":"代表者名"}),o.jsx("input",{type:"text",name:"representative_name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:y==="individual"?"山田太郎":"田中太郎"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"作成"})]})]})]})}),f&&x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"業態形態を編集"}),o.jsxs("form",{onSubmit:k,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"業態形態"}),o.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded-md text-sm",children:x.business_type==="individual"?"個人事業主":"法人"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:x.business_type==="individual"?"屋号":"会社名"}),o.jsx("input",{type:"text",name:"company_name",defaultValue:x.company_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.business_type==="corporation"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"法人番号"}),o.jsx("input",{type:"text",name:"tax_number",defaultValue:x.tax_number,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.business_type==="individual"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"事業者登録番号"}),o.jsx("input",{type:"text",name:"tax_number",defaultValue:x.tax_number,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"住所"}),o.jsx("input",{type:"text",name:"address",defaultValue:x.address,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),o.jsx("input",{type:"tel",name:"phone",defaultValue:x.phone,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),o.jsx("input",{type:"email",name:"email",defaultValue:x.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:x.business_type==="individual"?"事業主名":"代表者名"}),o.jsx("input",{type:"text",name:"representative_name",defaultValue:x.representative_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{v(!1),b(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"更新"})]})]})]})})]})},J0=({showPcSideMenu:t=!1,onPcSideMenuToggle:e,isPcSideMenuExpanded:n=!0,showSideMenus:r=!0})=>{const s=Zc(),i=gh(),{user:a,signOut:l}=Py(),[c,u]=ae.useState(!1),[d,h]=ae.useState(!1),[m,f]=ae.useState(!0),[v,x]=ae.useState(null),[b,y]=ae.useState(""),w=(a==null?void 0:a.id)||"user_001",_=j=>s.pathname===j,k=j=>{x(j),console.log("業態形態が変更されました:",j)},R=()=>v?v.business_type==="individual"?`個人事業主 - ${v.company_name}`:`法人 - ${v.company_name}`:"業態形態を選択",I=async()=>{try{await l(),i("/")}catch(j){console.error("ログアウトエラー:",j)}},D=j=>{j.preventDefault(),console.log("検索:",b)},A=[{path:"/dashboard",label:"ダッシュボード",icon:x7},{path:"/receipt-processing",label:"レシート",icon:D7},{path:"/invoice-creation",label:"請求書",icon:ti},{path:"/business-analysis",label:"経営分析",icon:U1},{path:"/chat-to-book",label:"CHAT-TO-BOOK",icon:c3},{path:"/business-conversion",label:"申告サポート",icon:h3}];return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(kn,{to:"/dashboard",className:"flex items-center",children:o.jsx("h1",{className:"text-xl font-bold text-blue-600 cursor-pointer hover:text-blue-700",children:"Ainance"})})}),o.jsx("div",{className:"hidden md:flex items-center",children:o.jsx(ng,{userId:w,onBusinessTypeChange:k})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[r&&o.jsx("div",{className:"hidden md:block",children:o.jsxs("form",{onSubmit:D,className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Uc,{className:"h-4 w-4 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"検索...",value:b,onChange:j=>y(j.target.value),className:"block w-48 pl-10 pr-4 py-2 border border-gray-300 rounded-full leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm transition-all duration-200 hover:shadow-sm"})]})}),r&&o.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors hidden md:block",children:[o.jsx(PC,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full ring-2 ring-white bg-red-400"})]}),r&&o.jsxs("div",{className:"relative hidden md:block",children:[o.jsx("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors p-1 rounded-full hover:bg-gray-100",children:o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-medium",children:a!=null&&a.name?a.name.charAt(0):"U"})})}),c&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 py-1",children:[o.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 border-b border-gray-100",children:[o.jsx("div",{className:"font-medium",children:a==null?void 0:a.name}),o.jsx("div",{className:"text-gray-500 truncate",children:a==null?void 0:a.email})]}),o.jsxs(kn,{to:"/integration-settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>u(!1),children:[o.jsx(Zu,{className:"w-4 h-4 mr-3"}),"設定"]}),o.jsxs("button",{onClick:()=>{u(!1),I()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[o.jsx(jf,{className:"w-4 h-4 mr-3"}),"ログアウト"]})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(ng,{userId:w,onBusinessTypeChange:k})}),r&&o.jsx("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors p-1 rounded-full hover:bg-gray-100",children:o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-medium",children:a!=null&&a.name?a.name.charAt(0):"U"})})}),r&&o.jsx("button",{onClick:()=>{h(!d),d||f(!0)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100",children:d?o.jsx(Ht,{className:"w-5 h-5"}):o.jsx(k7,{className:"w-5 h-5"})})]}),c&&o.jsxs("div",{className:"md:hidden absolute right-0 top-16 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 py-1",children:[o.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 border-b border-gray-100",children:[o.jsx("div",{className:"font-medium",children:a==null?void 0:a.name}),o.jsx("div",{className:"text-gray-500 truncate",children:a==null?void 0:a.email})]}),o.jsxs(kn,{to:"/integration-settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>u(!1),children:[o.jsx(Zu,{className:"w-4 h-4 mr-3"}),"設定"]}),o.jsxs("button",{onClick:()=>{u(!1),I()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[o.jsx(jf,{className:"w-4 h-4 mr-3"}),"ログアウト"]})]})]})]}),t&&r&&o.jsx("div",{className:`hidden md:block fixed left-0 top-16 h-full bg-white shadow-lg z-40 transition-all duration-300 ease-in-out ${n?"w-64":"w-20"}`,children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsx("div",{className:"absolute top-4 -right-8 z-10",children:o.jsx("button",{onClick:()=>e&&e(!n),className:"bg-white rounded-r-lg p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":n?"メニューを折りたたむ":"メニューを展開する",children:n?o.jsx(fb,{className:"h-5 w-5"}):o.jsx(to,{className:"h-5 w-5"})})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:`space-y-1 px-2 ${n?"":"flex flex-col items-center space-y-4"}`,children:A.map(j=>{const T=j.icon;return n?o.jsxs(kn,{to:j.path,className:`flex items-center px-4 py-3 text-base font-medium rounded-lg transition-colors ${_(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(T,{className:"mr-3 h-6 w-6"}),j.label]},j.path):o.jsx(kn,{to:j.path,className:`flex items-center justify-center p-3 rounded-lg transition-colors ${_(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,title:j.label,"aria-label":j.label,children:o.jsx(T,{className:"h-6 w-6"})},j.path)})})})]})}),o.jsx("div",{className:`md:hidden fixed inset-0 z-50 transition-all duration-300 ease-in-out transform ${d?"translate-x-0":"translate-x-full"}`,children:o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>h(!1)}),o.jsx("div",{className:"absolute inset-y-0 right-0 max-w-full flex",children:o.jsx("div",{className:`relative h-full ${m?"w-80":"w-20"} transition-all duration-300 ease-in-out`,children:o.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[o.jsx("div",{className:"absolute top-4 -left-8 z-10",children:o.jsx("button",{onClick:()=>f(!m),className:"bg-white rounded-l-lg p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":m?"メニューを折りたたむ":"メニューを展開する",children:m?o.jsx(to,{className:"h-5 w-5"}):o.jsx(fb,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsxs("div",{className:"px-4 py-6 bg-blue-600 sm:px-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:m?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:"メニュー"}),o.jsx("button",{type:"button",className:"text-white hover:text-gray-200",onClick:()=>h(!1),"aria-label":"メニューを閉じる",children:o.jsx(Ht,{className:"h-6 w-6"})})]}):o.jsx("div",{className:"flex justify-center w-full",children:o.jsx("button",{type:"button",className:"text-white hover:text-gray-200",onClick:()=>h(!1),"aria-label":"メニューを閉じる",children:o.jsx(Ht,{className:"h-6 w-6"})})})}),m&&o.jsxs("div",{className:"mt-4 flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-sm font-medium",children:a!=null&&a.name?a.name.charAt(0):"U"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-white",children:(a==null?void 0:a.name)||"ユーザー"}),o.jsx("p",{className:"text-sm text-blue-200",children:a==null?void 0:a.email})]})]})]}),o.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[m&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"業態形態"}),o.jsx("div",{className:"flex items-center bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg mb-2",children:v?o.jsxs(o.Fragment,{children:[v.business_type==="individual"?o.jsx(sl,{className:"w-4 h-4 text-blue-600 mr-2"}):o.jsx(vd,{className:"w-4 h-4 text-green-600 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-blue-800",children:R()})]}):o.jsx("span",{className:"text-sm text-gray-500",children:"業態形態を選択"})}),o.jsx(ng,{userId:w,onBusinessTypeChange:k})]}),o.jsx("nav",{className:`space-y-1 mb-8 ${m?"":"flex flex-col items-center space-y-4 py-4"}`,children:A.map(j=>{const T=j.icon;return m?o.jsxs(kn,{to:j.path,className:`flex items-center px-3 py-3 text-base font-medium rounded-lg transition-colors ${_(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>h(!1),children:[o.jsx(T,{className:"mr-3 h-6 w-6"}),j.label]},j.path):o.jsx(kn,{to:j.path,className:`flex items-center justify-center p-3 rounded-lg transition-colors ${_(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>h(!1),title:j.label,"aria-label":j.label,children:o.jsx(T,{className:"h-6 w-6"})},j.path)})}),m&&o.jsx("div",{className:"mb-6",children:o.jsxs("form",{onSubmit:D,className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Uc,{className:"h-4 w-4 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"検索...",value:b,onChange:j=>y(j.target.value),className:"block w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm","aria-label":"検索"})]})}),m?o.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[o.jsxs(kn,{to:"/integration-settings",className:"flex items-center px-3 py-3 text-base font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors",onClick:()=>h(!1),children:[o.jsx(Zu,{className:"mr-3 h-6 w-6"}),"設定"]}),o.jsxs("button",{onClick:()=>{h(!1),I()},className:"flex items-center w-full px-3 py-3 text-base font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors",children:[o.jsx(jf,{className:"mr-3 h-6 w-6"}),"ログアウト"]})]}):o.jsxs("div",{className:"pt-6 border-t border-gray-200 flex flex-col items-center space-y-4",children:[o.jsx(kn,{to:"/integration-settings",className:"flex items-center justify-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors",onClick:()=>h(!1),title:"設定","aria-label":"設定",children:o.jsx(Zu,{className:"h-6 w-6"})}),o.jsx("button",{onClick:()=>{h(!1),I()},className:"flex items-center justify-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors",title:"ログアウト","aria-label":"ログアウト",children:o.jsx(jf,{className:"h-6 w-6"})})]})]})]})]})})})]})})]})})},BP=()=>{const t=gh(),[e,n]=ae.useState(!0),[r,s]=ae.useState(""),[i,a]=ae.useState(""),[l,c]=ae.useState(""),[u,d]=ae.useState(!1),[h,m]=ae.useState(!1),[f,v]=ae.useState("");ae.useEffect(()=>{const w=localStorage.getItem("rememberedEmail");localStorage.getItem("rememberMe")==="true"&&w&&(s(w),d(!0))},[]);const x=async w=>{w.preventDefault(),m(!0),v("");try{if(!r||!i)throw new Error("メールアドレスとパスワードを入力してください");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new Error("有効なメールアドレスを入力してください");if(i.length<6)throw new Error("パスワードは6文字以上である必要があります");if(!e&&!l)throw new Error("お名前を入力してください");if(e){console.log("ログイン処理開始:",{email:r,password:i});const k={id:"user_"+Date.now(),email:r,name:r.split("@")[0],createdAt:new Date().toISOString()};localStorage.setItem("user",JSON.stringify(k)),u?(localStorage.setItem("rememberedEmail",r),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberMe")),console.log("ログイン成功:",k)}else{console.log("サインアップ処理開始:",{name:l,email:r,password:i});const k={id:"user_"+Date.now(),email:r,name:l,createdAt:new Date().toISOString()};localStorage.setItem("user",JSON.stringify(k)),u&&(localStorage.setItem("rememberedEmail",r),localStorage.setItem("rememberMe","true")),console.log("サインアップ成功:",k)}console.log("ダッシュボードにリダイレクト"),t("/dashboard")}catch(_){console.error("認証エラー:",_),v(_.message||"認証に失敗しました。もう一度お試しください。")}finally{m(!1)}},b=()=>{localStorage.removeItem("user"),localStorage.removeItem("rememberMe"),t("/")},y=()=>{console.log("ダッシュボードボタンがクリックされました"),t("/dashboard")};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 sm:py-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 sm:gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center px-3 py-1 sm:px-4 sm:py-2 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm font-medium",children:[o.jsx(H1,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"AI搭載の次世代経理プラットフォーム"]}),o.jsxs("h1",{className:"text-3xl sm:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["経理業務を",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"革命的に"}),"効率化"]}),o.jsxs("p",{className:"text-base sm:text-xl text-gray-600 leading-relaxed",children:["AIがレシートを自動処理し、請求書作成から経営分析まで。",o.jsx("br",{}),"個人事業主から法人まで、あらゆる事業者の成長をサポートします。"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:"10,000+"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"利用者数"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:"500万+"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"処理レシート数"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:"95%"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"時間削減率"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:"99.9%"}),o.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"アップタイム"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:localStorage.getItem("user")?"ダッシュボードへ":e?"ログイン":"アカウント作成"}),o.jsx("p",{className:"text-gray-600",children:localStorage.getItem("user")?"ダッシュボードにアクセスする":e?"アカウントをお持ちの場合":"新しいアカウントを作成"})]}),localStorage.getItem("user")?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:y,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center justify-center",children:[o.jsx(U1,{className:"w-5 h-5 mr-2"}),"ダッシュボードを開く"]}),o.jsxs("button",{onClick:b,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-xl hover:bg-gray-200 transition-colors font-medium flex items-center justify-center",children:[o.jsx(gb,{className:"w-5 h-5 mr-2"}),"ログアウト"]})]}):o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[f&&o.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",children:f}),!e&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"お名前"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(sl,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"name",type:"text",value:l,onChange:w=>c(w.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"山田太郎"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(l3,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"email",type:"email",value:r,onChange:w=>s(w.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(gb,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"password",type:"password",value:i,onChange:w=>a(w.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",required:!0,minLength:6})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:u,onChange:w=>d(w.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"ログイン情報を記憶"})]}),e&&o.jsx("div",{className:"text-sm",children:o.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"パスワードを忘れた場合"})})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl hover:bg-blue-700 transition-colors font-medium flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:h?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"処理中..."]}):e?"ログイン":"アカウント作成"})})]}),!localStorage.getItem("user")&&o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:[e?"アカウントをお持ちでない場合 ":"既にアカウントをお持ちの場合 ",o.jsx("button",{onClick:()=>n(!e),className:"font-medium text-blue-600 hover:text-blue-500",children:e?"サインアップ":"ログイン"})]})})]})]})})]}),o.jsx("section",{className:"py-12 sm:py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[o.jsxs("h2",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-4",children:["すべての経理業務を",o.jsx("span",{className:"text-blue-600",children:"一つのプラットフォーム"}),"で"]}),o.jsx("p",{className:"text-base sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"AIの力で経理業務を自動化し、事業の成長に集中できる環境を提供します"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{icon:o.jsx(Qd,{className:"w-8 h-8 text-blue-600"}),title:"スマートレシート処理",description:"AIが自動でレシートを読み取り、経費を分類。手作業の時間を90%削減。",benefit:"時間削減"},{icon:o.jsx(ti,{className:"w-8 h-8 text-green-600"}),title:"プロ級請求書作成",description:"美しいテンプレートで請求書を瞬時に作成。自動送信・リマインダー機能付き。",benefit:"効率化"},{icon:o.jsx(U1,{className:"w-8 h-8 text-purple-600"}),title:"リアルタイム経営分析",description:"キャッシュフローや収益性を視覚的に分析。データドリブンな意思決定をサポート。",benefit:"洞察力"},{icon:o.jsx(c3,{className:"w-8 h-8 text-orange-600"}),title:"CHAT-TO-BOOK",description:"チャットで帳簿作成。複雑な仕訳も自然言語で簡単入力。",benefit:"簡単操作"},{icon:o.jsx(H1,{className:"w-8 h-8 text-yellow-600"}),title:"事業変換支援",description:"個人事業主から法人化まで、事業形態の変更をスムーズにサポート。",benefit:"成長支援"},{icon:o.jsx(G7,{className:"w-8 h-8 text-red-600"}),title:"セキュア統合",description:"銀行・会計ソフトとの安全な連携。エンタープライズ級のセキュリティ。",benefit:"安全性"}].map((w,_)=>o.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-2xl p-6 hover:border-blue-300 hover:shadow-lg transition-all duration-300",children:[o.jsx("div",{className:"absolute top-4 right-4 bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-medium",children:w.benefit}),o.jsx("div",{className:"mb-4",children:w.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.title}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:w.description}),o.jsxs("div",{className:"mt-4 flex items-center text-blue-600 font-medium group-hover:text-blue-700",children:["詳しく見る",o.jsx(to,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]},_))})]})}),o.jsx("section",{className:"py-12 sm:py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[o.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-4",children:"お客様の声"}),o.jsx("p",{className:"text-base sm:text-xl text-gray-600",children:"実際にAinanceをご利用いただいているお客様の声をご紹介します"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8",children:[{name:"田中太郎",company:"デザイン事務所経営",content:"レシート処理が劇的に楽になりました。月末の経理作業が1日から2時間に短縮！",rating:5,avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},{name:"佐藤花子",company:"フリーランス講師",content:"CHAT-TO-BOOKが革命的。複雑な仕訳も「今日の交通費3000円」って入力するだけ。",rating:5,avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},{name:"鈴木一郎",company:"IT系スタートアップCEO",description:"法人化の手続きが想像以上にスムーズでした。Ainanceのサポートは本当に頼りになります。",rating:5,avatar:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"}].map((w,_)=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 sm:p-8 shadow-sm border border-gray-100",children:[o.jsx("div",{className:"flex items-center mb-4",children:[...Array(w.rating)].map((k,R)=>o.jsx(V0,{className:"w-5 h-5 text-yellow-400 fill-current"},R))}),o.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',w.content,'"']}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:w.avatar,alt:w.name,className:"w-12 h-12 rounded-full mr-4"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:w.name}),o.jsx("div",{className:"text-sm text-gray-600",children:w.company})]})]})]},_))})]})}),o.jsx("section",{className:"py-12 sm:py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-2xl sm:text-4xl font-bold text-white mb-4",children:"今すぐAinanceで経理業務を革新しませんか？"}),o.jsx("p",{className:"text-base sm:text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"14日間の無料トライアルで、AIがもたらす経理業務の効率化を実感してください。 クレジットカードの登録は不要です。"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{className:"inline-flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 bg-white text-blue-600 font-medium rounded-xl hover:bg-gray-50 transition-colors shadow-lg",children:["無料トライアルを開始",o.jsx(kC,{className:"w-5 h-5 ml-2"})]}),o.jsxs("button",{className:"inline-flex items-center justify-center px-6 sm:px-8 py-3 sm:py-4 border-2 border-white text-white font-medium rounded-xl hover:bg-white hover:text-blue-600 transition-colors",children:["デモをリクエスト",o.jsx(J7,{className:"w-5 h-5 ml-2"})]})]})]})})]})},$P=()=>{const t=[{title:"請求書作成",description:"新しい請求書を作成",icon:ti,link:"/invoice-creation"},{title:"レシート処理",description:"レシートをスキャンして処理",icon:Iy,link:"/receipt-processing"},{title:"取引履歴",description:"すべての取引を確認",icon:$C,link:"/transaction-history"},{title:"CHAT-TO-BOOK",description:"音声で取引を記録",icon:Qd,link:"/chat-to-book"},{title:"申告サポート",description:"税務申告の準備をサポート",icon:$1,link:"/tax-filing-support"}];return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:t.map((e,n)=>o.jsx(kn,{to:e.link,className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:o.jsx(e.icon,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:e.title}),o.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})},n))})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vh(t){return t+.5|0}const qa=(t,e,n)=>Math.max(Math.min(t,n),e);function nd(t){return qa(vh(t*2.55),0,255)}function no(t){return qa(vh(t*255),0,255)}function Ji(t){return qa(vh(t/2.55)/100,0,1)}function Ib(t){return qa(vh(t*100),0,100)}const ws={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],UP=t=>X1[t&15],zP=t=>X1[(t&240)>>4]+X1[t&15],kf=t=>(t&240)>>4===(t&15),qP=t=>kf(t.r)&&kf(t.g)&&kf(t.b)&&kf(t.a);function HP(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ws[t[1]]*17,g:255&ws[t[2]]*17,b:255&ws[t[3]]*17,a:e===5?ws[t[4]]*17:255}:(e===7||e===9)&&(n={r:ws[t[1]]<<4|ws[t[2]],g:ws[t[3]]<<4|ws[t[4]],b:ws[t[5]]<<4|ws[t[6]],a:e===9?ws[t[7]]<<4|ws[t[8]]:255})),n}const WP=(t,e)=>t<255?e(t):"";function VP(t){var e=qP(t)?UP:zP;return t?"#"+e(t.r)+e(t.g)+e(t.b)+WP(t.a,e):void 0}const KP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P3(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function GP(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function YP(t,e,n){const r=P3(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function JP(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Fy(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=JP(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function By(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(no)}function $y(t,e,n){return By(P3,t,e,n)}function XP(t,e,n){return By(YP,t,e,n)}function QP(t,e,n){return By(GP,t,e,n)}function T3(t){return(t%360+360)%360}function ZP(t){const e=KP.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?nd(+e[5]):no(+e[5]));const s=T3(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=XP(s,i,a):e[1]==="hsv"?r=QP(s,i,a):r=$y(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function eT(t,e){var n=Fy(t);n[0]=T3(n[0]+e),n=$y(n),t.r=n[0],t.g=n[1],t.b=n[2]}function tT(t){if(!t)return;const e=Fy(t),n=e[0],r=Ib(e[1]),s=Ib(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ji(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Ob={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nT(){const t={},e=Object.keys(Rb),n=Object.keys(Ob);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,Ob[i]);i=parseInt(Rb[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Af;function rT(t){Af||(Af=nT(),Af.transparent=[0,0,0,0]);const e=Af[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iT(t){const e=sT.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?nd(a):qa(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?nd(r):qa(r,0,255)),s=255&(e[4]?nd(s):qa(s,0,255)),i=255&(e[6]?nd(i):qa(i,0,255)),{r,g:s,b:i,a:n}}}function aT(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ji(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const rg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ul=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function oT(t,e,n){const r=Ul(Ji(t.r)),s=Ul(Ji(t.g)),i=Ul(Ji(t.b));return{r:no(rg(r+n*(Ul(Ji(e.r))-r))),g:no(rg(s+n*(Ul(Ji(e.g))-s))),b:no(rg(i+n*(Ul(Ji(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Cf(t,e,n){if(t){let r=Fy(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=$y(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function I3(t,e){return t&&Object.assign(e||{},t)}function Mb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=no(t[3]))):(e=I3(t,{r:0,g:0,b:0,a:1}),e.a=no(e.a)),e}function lT(t){return t.charAt(0)==="r"?iT(t):ZP(t)}class Zd{constructor(e){if(e instanceof Zd)return e;const n=typeof e;let r;n==="object"?r=Mb(e):n==="string"&&(r=HP(e)||rT(e)||lT(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=I3(this._rgb);return e&&(e.a=Ji(e.a)),e}set rgb(e){this._rgb=Mb(e)}rgbString(){return this._valid?aT(this._rgb):void 0}hexString(){return this._valid?VP(this._rgb):void 0}hslString(){return this._valid?tT(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=oT(this._rgb,e._rgb,n)),this}clone(){return new Zd(this.rgb)}alpha(e){return this._rgb.a=no(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=vh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cf(this._rgb,2,e),this}darken(e){return Cf(this._rgb,2,-e),this}saturate(e){return Cf(this._rgb,1,e),this}desaturate(e){return Cf(this._rgb,1,-e),this}rotate(e){return eT(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ui(){}const cT=(()=>{let t=0;return()=>t++})();function Qt(t){return t==null}function Zn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Lt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Os(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pi(t,e){return Os(t)?t:e}function _t(t,e){return typeof t>"u"?e:t}const uT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,O3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function tn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Bt(t,e,n,r){let s,i,a;if(Zn(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Lt(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function X0(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Q0(t){if(Zn(t))return t.map(Q0);if(Lt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Q0(t[n[s]]);return e}return t}function R3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dT(t,e,n,r){if(!R3(t))return;const s=e[t],i=n[t];Lt(s)&&Lt(i)?eh(s,i,r):e[t]=Q0(i)}function eh(t,e,n){const r=Zn(e)?e:[e],s=r.length;if(!Lt(t))return t;n=n||{};const i=n.merger||dT;let a;for(let l=0;l<s;++l){if(a=r[l],!Lt(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function _d(t,e){return eh(t,e,{merger:hT})}function hT(t,e,n){if(!R3(t))return;const r=e[t],s=n[t];Lt(r)&&Lt(s)?_d(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Q0(s))}const Db={"":t=>t,x:t=>t.x,y:t=>t.y};function fT(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function pT(t){const e=fT(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function th(t,e){return(Db[e]||(Db[e]=pT(e)))(t)}function Uy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Z0=t=>typeof t<"u",ao=t=>typeof t=="function",Fb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ut=Math.PI,bn=2*Ut,gT=bn+Ut,ep=Number.POSITIVE_INFINITY,xT=Ut/180,Yn=Ut/2,$o=Ut/4,Bb=Ut*2/3,M3=Math.log10,qc=Math.sign;function Nd(t,e,n){return Math.abs(t-e)<n}function $b(t){const e=Math.round(t);t=Nd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(M3(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function yT(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function vT(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function nh(t){return!vT(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function bT(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function wT(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ea(t){return t*(Ut/180)}function _T(t){return t*(180/Ut)}function Ub(t){if(!Os(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function D3(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Ut&&(i+=bn),{angle:i,distance:s}}function Q1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function NT(t,e){return(t-e+gT)%bn-Ut}function Js(t){return(t%bn+bn)%bn}function rh(t,e,n,r){const s=Js(t),i=Js(e),a=Js(n),l=Js(i-s),c=Js(a-s),u=Js(s-i),d=Js(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function Cr(t,e,n){return Math.max(e,Math.min(n,t))}function jT(t){return Cr(t,-32768,32767)}function gc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function zy(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const il=(t,e,n,r)=>zy(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),ST=(t,e,n)=>zy(t,n,r=>t[r][e]>=n);function kT(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const F3=["push","pop","shift","splice","unshift"];function AT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),F3.forEach(n=>{const r="_onData"+Uy(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function zb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(F3.forEach(i=>{delete t[i]}),delete t._chartjs)}function CT(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const B3=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $3(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,B3.call(window,()=>{r=!1,t.apply(e,n)}))}}function ET(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const qy=t=>t==="start"?"left":t==="end"?"right":"center",br=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,LT=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function PT(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:m,minDefined:f,maxDefined:v}=a.getUserBounds();if(f){if(s=Math.min(il(c,d,h).lo,n?r:il(e,d,a.getPixelForValue(h)).lo),u){const x=c.slice(0,s+1).reverse().findIndex(b=>!Qt(b[l.axis]));s-=Math.max(0,x)}s=Cr(s,0,r-1)}if(v){let x=Math.max(il(c,a.axis,m,!0).hi+1,n?0:il(e,d,a.getPixelForValue(m),!0).hi+1);if(u){const b=c.slice(x-1).findIndex(y=>!Qt(y[l.axis]));x+=Math.max(0,b)}i=Cr(x,s,r)-s}else i=r-s}return{start:s,count:i}}function TT(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Ef=t=>t===0||t===1,qb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bn/n)),Hb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bn/n)+1,jd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Yn)+1,easeOutSine:t=>Math.sin(t*Yn),easeInOutSine:t=>-.5*(Math.cos(Ut*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ef(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ef(t)?t:qb(t,.075,.3),easeOutElastic:t=>Ef(t)?t:Hb(t,.075,.3),easeInOutElastic(t){return Ef(t)?t:t<.5?.5*qb(t*2,.1125,.45):.5+.5*Hb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jd.easeInBounce(t*2)*.5:jd.easeOutBounce(t*2-1)*.5+.5};function Hy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Wb(t){return Hy(t)?t:new Zd(t)}function sg(t){return Hy(t)?t:new Zd(t).saturate(.5).darken(.1).hexString()}const IT=["x","y","borderWidth","radius","tension"],OT=["color","borderColor","backgroundColor"];function RT(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OT},numbers:{type:"number",properties:IT}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MT(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vb=new Map;function DT(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Vb.get(n);return r||(r=new Intl.NumberFormat(t,e),Vb.set(n,r)),r}function Wy(t,e,n){return DT(e,n).format(t)}const FT={values(t){return Zn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=BT(t,n)}const a=M3(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Wy(t,r,c)}};function BT(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var U3={formatters:FT};function $T(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U3.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yl=Object.create(null),Z1=Object.create(null);function Sd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function ig(t,e,n){return typeof e=="string"?eh(Sd(t,e),n):eh(Sd(t,""),e)}class UT{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>sg(s.backgroundColor),this.hoverBorderColor=(r,s)=>sg(s.borderColor),this.hoverColor=(r,s)=>sg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ig(this,e,n)}get(e){return Sd(this,e)}describe(e,n){return ig(Z1,e,n)}override(e,n){return ig(yl,e,n)}route(e,n,r,s){const i=Sd(this,e),a=Sd(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return Lt(c)?Object.assign({},u,c):_t(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Tn=new UT({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RT,MT,$T]);function zT(t){return!t||Qt(t.size)||Qt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Kb(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Uo(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Gb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ex(t,e,n,r){z3(t,e,n,r,null)}function z3(t,e,n,r,s){let i,a,l,c,u,d,h,m;const f=e.pointStyle,v=e.rotation,x=e.radius;let b=(v||0)*xT;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,r,s/2,x,0,0,bn):t.arc(n,r,x,0,bn),t.closePath();break;case"triangle":d=s?s/2:x,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*x),b+=Bb,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*x),b+=Bb,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*x),t.closePath();break;case"rectRounded":u=x*.516,c=x-u,a=Math.cos(b+$o)*c,h=Math.cos(b+$o)*(s?s/2-u:c),l=Math.sin(b+$o)*c,m=Math.sin(b+$o)*(s?s/2-u:c),t.arc(n-h,r-l,u,b-Ut,b-Yn),t.arc(n+m,r-a,u,b-Yn,b),t.arc(n+h,r+l,u,b,b+Yn),t.arc(n-m,r+a,u,b+Yn,b+Ut),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=$o;case"rectRot":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+m,r-a),t.lineTo(n+h,r+l),t.lineTo(n-m,r+a),t.closePath();break;case"crossRot":b+=$o;case"cross":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"star":h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a),b+=$o,h=Math.cos(b)*(s?s/2:x),a=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(s?s/2:x),t.moveTo(n-h,r-l),t.lineTo(n+h,r+l),t.moveTo(n+m,r-a),t.lineTo(n-m,r+a);break;case"line":a=s?s/2:Math.cos(b)*x,l=Math.sin(b)*x,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:x),r+Math.sin(b)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function sh(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ky(t){t.restore()}function qT(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function HT(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function WT(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Qt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function VT(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function KT(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ih(t,e,n,r,s,i={}){const a=Zn(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,WT(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&KT(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Qt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),VT(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function tx(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ut,Ut,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Ut,Yn,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Yn,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Yn,!0),t.lineTo(n+a.topLeft,r)}const GT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JT(t,e){const n=(""+t).match(GT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const XT=t=>+t||0;function Gy(t,e){const n={},r=Lt(e),s=r?Object.keys(e):e,i=Lt(t)?r?a=>_t(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=XT(i(a));return n}function QT(t){return Gy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function kd(t){return Gy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rs(t){const e=QT(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _r(t,e){t=t||{},e=e||Tn.font;let n=_t(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=_t(t.style,e.style);r&&!(""+r).match(YT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:_t(t.family,e.family),lineHeight:JT(_t(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:_t(t.weight,e.weight),string:""};return s.string=zT(s),s}function Lf(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function ZT(t,e,n){const{min:r,max:s}=t,i=O3(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Nl(t,e){return Object.assign(Object.create(t),e)}function Yy(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=V3("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>Yy([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return H3(l,c,()=>oI(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Jb(l).includes(c)},ownKeys(l){return Jb(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function Hc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q3(t,r),setContext:i=>Hc(t,i,n,r),override:i=>Hc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return H3(i,a,()=>tI(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function q3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ao(n)?n:()=>n,isIndexable:ao(r)?r:()=>r}}const eI=(t,e)=>t?t+Uy(e):e,Jy=(t,e)=>Lt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function H3(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function tI(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return ao(l)&&a.isScriptable(e)&&(l=nI(e,l,t,n)),Zn(l)&&l.length&&(l=rI(e,l,t,a.isIndexable)),Jy(e,l)&&(l=Hc(l,s,i&&i[e],a)),l}function nI(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),Jy(t,c)&&(c=Xy(s._scopes,s,t,c)),c}function rI(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Lt(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Xy(u,s,t,d);e.push(Hc(h,i,a&&a[t],l))}}return e}function W3(t,e,n){return ao(t)?t(e,n):t}const sI=(t,e)=>t===!0?e:typeof t=="string"?th(e,t):void 0;function iI(t,e,n,r,s){for(const i of e){const a=sI(n,i);if(a){t.add(a);const l=W3(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Xy(t,e,n,r){const s=e._rootScopes,i=W3(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=Yb(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=Yb(l,a,i,c,r),c===null)?!1:Yy(Array.from(l),[""],s,i,()=>aI(e,n,r))}function Yb(t,e,n,r,s){for(;n;)n=iI(t,e,n,r,s);return n}function aI(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Zn(s)&&Lt(n)?n:s||{}}function oI(t,e,n,r){let s;for(const i of e)if(s=V3(eI(i,t),n),typeof s<"u")return Jy(t,s)?Xy(n,r,t,s):s}function V3(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Jb(t){let e=t._keys;return e||(e=t._keys=lI(t._scopes)),e}function lI(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const cI=Number.EPSILON||1e-14,Wc=(t,e)=>e<t.length&&!t[e].skip&&t[e],K3=t=>t==="x"?"y":"x";function uI(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=Q1(i,s),c=Q1(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,m=r*d;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+m*(a.x-s.x),y:i.y+m*(a.y-s.y)}}}function dI(t,e,n){const r=t.length;let s,i,a,l,c,u=Wc(t,0);for(let d=0;d<r-1;++d)if(c=u,u=Wc(t,d+1),!(!c||!u)){if(Nd(e[d],0,cI)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function hI(t,e,n="x"){const r=K3(n),s=t.length;let i,a,l,c=Wc(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=Wc(t,u+1),!l)continue;const d=l[n],h=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=h-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=h+i*e[u])}}function fI(t,e="x"){const n=K3(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=Wc(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=Wc(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?qc(s[a-1])!==qc(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}dI(t,s,i),hI(t,i,e)}function Pf(t,e,n){return Math.max(Math.min(t,n),e)}function pI(t,e){let n,r,s,i,a,l=sh(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&sh(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Pf(s.cp1x,e.left,e.right),s.cp1y=Pf(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Pf(s.cp2x,e.left,e.right),s.cp2y=Pf(s.cp2y,e.top,e.bottom)))}function mI(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")fI(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=uI(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&pI(t,n)}function Qy(){return typeof window<"u"&&typeof document<"u"}function Zy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tp(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Op=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gI(t,e){return Op(t).getPropertyValue(e)}const xI=["top","right","bottom","left"];function cl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=xI[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const yI=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function vI(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(yI(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Go(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Op(n),i=s.boxSizing==="border-box",a=cl(s,"padding"),l=cl(s,"border","width"),{x:c,y:u,box:d}=vI(t,n),h=a.left+(d&&l.left),m=a.top+(d&&l.top);let{width:f,height:v}=e;return i&&(f-=a.width+l.width,v-=a.height+l.height),{x:Math.round((c-h)/f*n.width/r),y:Math.round((u-m)/v*n.height/r)}}function bI(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Zy(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Op(i),c=cl(l,"border","width"),u=cl(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=tp(l.maxWidth,i,"clientWidth"),s=tp(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||ep,maxHeight:s||ep}}const Ha=t=>Math.round(t*10)/10;function wI(t,e,n,r){const s=Op(t),i=cl(s,"margin"),a=tp(s.maxWidth,t,"clientWidth")||ep,l=tp(s.maxHeight,t,"clientHeight")||ep,c=bI(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const m=cl(s,"border","width"),f=cl(s,"padding");u-=f.width+m.width,d-=f.height+m.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Ha(Math.min(u,a,c.maxWidth)),d=Ha(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ha(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=Ha(Math.floor(d*r))),{width:u,height:d}}function Xb(t,e,n){const r=e||1,s=Ha(t.height*r),i=Ha(t.width*r);t.height=Ha(t.height),t.width=Ha(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const _I=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Qb(t,e){const n=gI(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Yo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function NI(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jI(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Yo(t,s,n),l=Yo(s,i,n),c=Yo(i,e,n),u=Yo(a,l,n),d=Yo(l,c,n);return Yo(u,d,n)}const SI=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},kI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function kc(t,e,n){return t?SI(e,n):kI()}function G3(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Y3(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function J3(t){return t==="angle"?{between:rh,compare:NT,normalize:Js}:{between:gc,compare:(e,n)=>e-n,normalize:e=>e}}function Zb({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function AI(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=J3(r),c=e.length;let{start:u,end:d,loop:h}=t,m,f;if(h){for(u+=c,d+=c,m=0,f=c;m<f&&a(l(e[u%c][r]),s,i);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:h,style:t.style}}function CI(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=J3(r),{start:d,end:h,loop:m,style:f}=AI(t,e,n),v=[];let x=!1,b=null,y,w,_;const k=()=>c(s,_,y)&&l(s,_)!==0,R=()=>l(i,y)===0||c(i,_,y),I=()=>x||k(),D=()=>!x||R();for(let A=d,j=d;A<=h;++A)w=e[A%a],!w.skip&&(y=u(w[r]),y!==_&&(x=c(y,s,i),b===null&&I()&&(b=l(y,s)===0?A:j),b!==null&&D()&&(v.push(Zb({start:b,end:A,loop:m,count:a,style:f})),b=null),j=A,_=y));return b!==null&&v.push(Zb({start:b,end:h,loop:m,count:a,style:f})),v}function EI(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=CI(r[s],t.points,e);i.length&&n.push(...i)}return n}function LI(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function PI(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function TI(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=LI(n,s,i,r);if(r===!0)return e5(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return e5(t,PI(n,a,c,u),n,e)}function e5(t,e,n,r){return!r||!r.setContext||!n?e:II(t,e,n,r)}function II(t,e,n,r){const s=t._chart.getContext(),i=t5(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,h=e[0].start,m=h;function f(v,x,b,y){const w=l?-1:1;if(v!==x){for(v+=c;n[v%c].skip;)v-=w;for(;n[x%c].skip;)x+=w;v%c!==x%c&&(u.push({start:v%c,end:x%c,loop:b,style:y}),d=y,h=x%c)}}for(const v of e){h=l?h:v.start;let x=n[h%c],b;for(m=h+1;m<=v.end;m++){const y=n[m%c];b=t5(r.setContext(Nl(s,{type:"segment",p0:x,p1:y,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),OI(b,d)&&f(h,m-1,v.loop,d),x=y,d=b}h<m-1&&f(h,m-1,v.loop,d)}return u}function t5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function OI(t,e){if(!e)return!1;const n=[],r=function(s,i){return Hy(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Tf(t,e,n){return t.options.clip?t[n]:e[n]}function RI(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Tf(n,e,"left"),right:Tf(n,e,"right"),top:Tf(r,e,"top"),bottom:Tf(r,e,"bottom")}:e}function MI(t,e){const n=e._clip;if(n.disabled)return!1;const r=RI(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=B3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wi=new DI;const n5="transparent",FI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Wb(t||n5),s=r.valid&&Wb(e||n5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class BI{constructor(e,n,r,s){const i=n[r];s=Lf([e.to,s,i,e.from]);const a=Lf([e.from,i,s]);this._active=!0,this._fn=e.fn||FI[e.type||typeof a],this._easing=jd[e.easing]||jd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Lf([e.to,n,s,e.from]),this._from=Lf([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class X3{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Lt(e))return;const n=Object.keys(Tn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Lt(i))return;const a={};for(const l of n)a[l]=i[l];(Zn(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=UI(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&$I(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let h=i[u];const m=r.get(u);if(h)if(m&&h.active()){h.update(m,d,l);continue}else h.cancel();if(!m||!m.duration){e[u]=d;continue}i[u]=h=new BI(m,e,u,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Wi.add(this._chart,r),!0}}function $I(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function UI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function r5(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function zI(t,e,n){if(n===!1)return!1;const r=r5(t,n),s=r5(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function qI(t){let e,n,r,s;return Lt(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Q3(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function s5(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],Os(u)&&(i||e===0||qc(e)===qc(u))&&(e+=u)}return!d&&!r.all?0:e}function HI(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:t[d]};return l}function ag(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function WI(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function VI(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function KI(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function i5(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function a5(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=WI(i,a,r),h=e.length;let m;for(let f=0;f<h;++f){const v=e[f],{[c]:x,[u]:b}=v,y=v._stacks||(v._stacks={});m=y[u]=KI(s,d,x),m[l]=b,m._top=i5(m,a,!0,r.type),m._bottom=i5(m,a,!1,r.type);const w=m._visualValues||(m._visualValues={});w[l]=b}}function og(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function GI(t,e){return Nl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function YI(t,e,n){return Nl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Uu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const lg=t=>t==="reset"||t==="none",o5=(t,e)=>e?t:Object.assign({},t),JI=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Q3(n,!0),values:null};class Ac{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Uu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,m,f,v)=>h==="x"?m:h==="r"?v:f,i=n.xAxisID=_t(r.xAxisID,og(e,"x")),a=n.yAxisID=_t(r.yAxisID,og(e,"y")),l=n.rAxisID=_t(r.rAxisID,og(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zb(this._data,this),e._stacked&&Uu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Lt(n)){const s=this._cachedMeta;this._data=HI(n,s)}else if(r!==n){if(r){zb(r,this);const s=this._cachedMeta;Uu(s),s._parsed=[]}n&&Object.isExtensible(n)&&AT(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=ag(n.vScale,n),n.stack!==r.stack&&(s=!0,Uu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(a5(this,n._parsed),n._stacked=ag(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,h,m;if(this._parsing===!1)r._parsed=s,r._sorted=!0,m=s;else{Zn(s[e])?m=this.parseArrayData(r,s,e,n):Lt(s[e])?m=this.parseObjectData(r,s,e,n):m=this.parsePrimitiveData(r,s,e,n);const f=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)r._parsed[d+e]=h=m[d],c&&(f()&&(c=!1),u=h);r._sorted=c}a&&a5(this,m)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,h=new Array(s);let m,f,v;for(m=0,f=s;m<f;++m)v=m+r,h[m]={[l]:d||i.parse(u[v],v),[c]:a.parse(n[v],v)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=n[d],l[c]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,h,m,f;for(d=0,h=s;d<h;++d)m=d+r,f=n[m],u[d]={x:i.parse(th(f,l),m),y:a.parse(th(f,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:Q3(s,!0),values:n._stacks[e.axis]._visualValues};return s5(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=s5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=JI(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=VI(l);let m,f;function v(){f=s[m];const x=f[l.axis];return!Os(f[e.axis])||d>x||h<x}for(m=0;m<a&&!(!v()&&(this.updateRangeFromParsed(u,e,f,c),i));++m);if(i){for(m=a-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(u,e,f,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Os(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=qI(_t(this.options.clip,zI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=YI(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=GI(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Z0(r);if(l)return o5(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),f=Object.keys(Tn.elements[e]),v=()=>this.getContext(r,s,n),x=u.resolveNamedOptions(m,f,v,h);return x.$shared&&(x.$shared=c,i[a]=Object.freeze(o5(x,c))),x}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(m,this.getContext(e,r,n))}const u=new X3(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||lg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){lg(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!lg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Uu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Re(Ac,"defaults",{}),Re(Ac,"datasetElementType",null),Re(Ac,"dataElementType",null);function XI(t,e,n){let r=1,s=1,i=0,a=0;if(e<bn){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(_,k,R)=>rh(_,l,c,!0)?1:Math.max(k,k*n,R,R*n),v=(_,k,R)=>rh(_,l,c,!0)?-1:Math.min(k,k*n,R,R*n),x=f(0,u,h),b=f(Yn,d,m),y=v(Ut,u,h),w=v(Ut+Yn,d,m);r=(x-y)/2,s=(b-w)/2,i=-(x+y)/2,a=-(b+w)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class rd extends Ac{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(Lt(r[e])){const{key:c="value"}=this._parsing;i=u=>+th(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return ea(this.options.rotation-90)}_getCircumference(){return ea(this.options.circumference)}_getRotationExtents(){let e=bn,n=-bn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(uT(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:v,offsetY:x}=XI(h,d,c),b=(r.width-a)/m,y=(r.height-a)/f,w=Math.max(Math.min(b,y)/2,0),_=O3(this.options.radius,w),k=Math.max(_*c,0),R=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*_,this.offsetY=x*_,s.total=this.calculateTotal(),this.outerRadius=_-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/bn)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=i&&u.animateScale,f=m?0:this.innerRadius,v=m?0:this.outerRadius,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,s);let y=this._getRotation(),w;for(w=0;w<n;++w)y+=this._circumference(w,i);for(w=n;w<n+r;++w){const _=this._circumference(w,i),k=e[w],R={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+_,circumference:_,outerRadius:v,innerRadius:f};b&&(R.options=x||this.resolveDataElementOptions(w,k.active?"active":s)),y+=_,this.updateElement(k,w,R,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Wy(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(_t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Re(rd,"id","doughnut"),Re(rd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Re(rd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Re(rd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class u0 extends Ac{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=PT(n,s,a);this._drawStart=l,this._drawCount=c,TT(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),m=a.axis,f=l.axis,{spanGaps:v,segment:x}=this.options,b=nh(v)?v:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",w=n+r,_=e.length;let k=n>0&&this.getParsed(n-1);for(let R=0;R<_;++R){const I=e[R],D=y?I:{};if(R<n||R>=w){D.skip=!0;continue}const A=this.getParsed(R),j=Qt(A[f]),T=D[m]=a.getPixelForValue(A[m],R),C=D[f]=i||j?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[f],R);D.skip=isNaN(T)||isNaN(C)||j,D.stop=R>0&&Math.abs(A[m]-k[m])>b,x&&(D.parsed=A,D.raw=u.data[R]),h&&(D.options=d||this.resolveDataElementOptions(R,I.active?"active":s)),y||this.updateElement(I,R,D,s),k=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Re(u0,"id","line"),Re(u0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Re(u0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function zo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e2{constructor(e){Re(this,"options");this.options=e||{}}static override(e){Object.assign(e2.prototype,e)}init(){}formats(){return zo()}parse(){return zo()}format(){return zo()}add(){return zo()}diff(){return zo()}startOf(){return zo()}endOf(){return zo()}}var QI={_date:e2};function ZI(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?ST:il;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const m=u(i,e,n-h),f=u(i,e,n+h);return{lo:m.lo,hi:f.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:h}=s._cachedMeta,{_parsed:m}=t,f=m.slice(0,d.lo+1).reverse().findIndex(x=>!Qt(x[h.axis]));d.lo-=Math.max(0,f);const v=m.slice(d.hi).findIndex(x=>!Qt(x[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:i.length-1}}function Rp(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:h,hi:m}=ZI(i[l],e,a,s);for(let f=h;f<=m;++f){const v=d[f];v.skip||r(v,u,f)}}}function eO(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function cg(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Rp(t,n,e,function(l,c,u){!s&&!sh(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function tO(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=D3(a,{x:e.x,y:e.y});rh(h,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return Rp(t,n,e,i),s}function nO(t,e,n,r,s,i){let a=[];const l=eO(n);let c=Number.POSITIVE_INFINITY;function u(d,h,m){const f=d.inRange(e.x,e.y,s);if(r&&!f)return;const v=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!f)return;const b=l(e,v);b<c?(a=[{element:d,datasetIndex:h,index:m}],c=b):b===c&&a.push({element:d,datasetIndex:h,index:m})}return Rp(t,n,e,u),a}function ug(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?tO(t,e,n,s):nO(t,e,n,r,s,i)}function l5(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Rp(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var rO={modes:{index(t,e,n,r){const s=Go(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?cg(t,s,i,r,a):ug(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=Go(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?cg(t,s,i,r,a):ug(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,r){const s=Go(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return cg(t,s,i,r,a)},nearest(t,e,n,r){const s=Go(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return ug(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Go(e,t);return l5(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Go(e,t);return l5(t,s,"y",n.intersect,r)}}};const Z3=["left","top","right","bottom"];function zu(t,e){return t.filter(n=>n.pos===e)}function c5(t,e){return t.filter(n=>Z3.indexOf(n.pos)===-1&&n.box.axis===e)}function qu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function sO(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function iO(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Z3.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function aO(t,e){const n=iO(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&e.availableHeight)}return n}function oO(t){const e=sO(t),n=qu(e.filter(u=>u.box.fullSize),!0),r=qu(zu(e,"left"),!0),s=qu(zu(e,"right")),i=qu(zu(e,"top"),!0),a=qu(zu(e,"bottom")),l=c5(e,"x"),c=c5(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:zu(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function u5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function ej(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lO(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!Lt(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&ej(a,i.getPadding());const l=Math.max(0,e.outerWidth-u5(a,t,"left","right")),c=Math.max(0,e.outerHeight-u5(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function cO(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function uO(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function sd(t,e,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,uO(l.horizontal,e));const{same:h,other:m}=lO(e,n,l,r);u|=h&&s.length,d=d||m,c.fullSize||s.push(l)}return u&&sd(s,e,n,r)||d}function If(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function d5(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,m=u.size||c.height;Z0(u.start)&&(a=u.start),c.fullSize?If(c,s.left,a,n.outerWidth-s.right-s.left,m):If(c,e.left+u.placed,a,h,m),u.start=a,u.placed+=h,a=c.bottom}else{const h=e.h*d,m=u.size||c.width;Z0(u.start)&&(i=u.start),c.fullSize?If(c,i,s.top,m,n.outerHeight-s.bottom-s.top):If(c,i,e.top+u.placed,m,h),u.start=i,u.placed+=h,i=c.right}}e.x=i,e.y=a}var Ls={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Rs(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=oO(t.boxes),c=l.vertical,u=l.horizontal;Bt(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),m=Object.assign({},s);ej(m,Rs(r));const f=Object.assign({maxPadding:m,w:i,h:a,x:s.left,y:s.top},s),v=aO(c.concat(u),h);sd(l.fullSize,f,h,v),sd(c,f,h,v),sd(u,f,h,v)&&sd(c,f,h,v),cO(f),d5(l.leftAndTop,f,h,v),f.x+=f.w,f.y+=f.h,d5(l.rightAndBottom,f,h,v),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Bt(l.chartArea,x=>{const b=x.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class tj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class dO extends tj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const d0="$chartjs",hO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h5=t=>t===null||t==="";function fO(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[d0]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",h5(s)){const i=Qb(t,"width");i!==void 0&&(t.width=i)}if(h5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Qb(t,"height");i!==void 0&&(t.height=i)}return t}const nj=_I?{passive:!0}:!1;function pO(t,e,n){t&&t.addEventListener(e,n,nj)}function mO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,nj)}function gO(t,e){const n=hO[t.type]||t.type,{x:r,y:s}=Go(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function np(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function xO(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||np(l.addedNodes,r),a=a&&!np(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function yO(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||np(l.removedNodes,r),a=a&&!np(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ah=new Map;let f5=0;function rj(){const t=window.devicePixelRatio;t!==f5&&(f5=t,ah.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function vO(t,e){ah.size||window.addEventListener("resize",rj),ah.set(t,e)}function bO(t){ah.delete(t),ah.size||window.removeEventListener("resize",rj)}function wO(t,e,n){const r=t.canvas,s=r&&Zy(r);if(!s)return;const i=$3((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),vO(t,i),a}function dg(t,e,n){n&&n.disconnect(),e==="resize"&&bO(t)}function _O(t,e,n){const r=t.canvas,s=$3(i=>{t.ctx!==null&&n(gO(i,t))},t);return pO(r,e,s),s}class NO extends tj{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(fO(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[d0])return!1;const r=n[d0].initial;["height","width"].forEach(i=>{const a=r[i];Qt(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[d0],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:xO,detach:yO,resize:wO}[n]||_O;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:dg,detach:dg,resize:dg}[n]||mO)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return wI(e,n,r,s)}isAttached(e){const n=e&&Zy(e);return!!(n&&n.isConnected)}}function jO(t){return!Qy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dO:NO}class ki{constructor(){Re(this,"x");Re(this,"y");Re(this,"active",!1);Re(this,"options");Re(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return nh(this.x)&&nh(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Re(ki,"defaults",{}),Re(ki,"defaultRoutes");function SO(t,e){const n=t.options.ticks,r=kO(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?CO(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return EO(e,u,i,a/s),u;const d=AO(i,e,s);if(a>0){let h,m;const f=a>1?Math.round((c-l)/(a-1)):null;for(Of(e,u,d,Qt(f)?0:l-f,l),h=0,m=a-1;h<m;h++)Of(e,u,d,i[h],i[h+1]);return Of(e,u,d,c,Qt(f)?e.length:c+f),u}return Of(e,u,d),u}function kO(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function AO(t,e,n){const r=LO(t),s=e.length/n;if(!r)return Math.max(s,1);const i=yT(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function CO(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function EO(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Of(t,e,n,r,s){const i=_t(r,0),a=Math.min(_t(s,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function LO(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const PO=t=>t==="left"?"right":t==="right"?"left":t,p5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,m5=(t,e)=>Math.min(e||t,t);function g5(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function TO(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function IO(t,e){Bt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Hu(t){return t.drawTicks?t.tickLength:0}function x5(t,e){if(!t.display)return 0;const n=_r(t.font,e),r=Rs(t.padding);return(Zn(t.text)?t.text.length:1)*n.lineHeight+r.height}function OO(t,e){return Nl(t,{scale:e,type:"scale"})}function RO(t,e,n){return Nl(t,{tick:n,index:e,type:"tick"})}function MO(t,e,n){let r=qy(t);return(n&&e!=="right"||!n&&e==="right")&&(r=PO(r)),r}function DO(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,m,f,v;const x=a-s,b=l-i;if(t.isHorizontal()){if(f=br(r,i,l),Lt(n)){const y=Object.keys(n)[0],w=n[y];v=d[y].getPixelForValue(w)+x-e}else n==="center"?v=(u.bottom+u.top)/2+x-e:v=p5(t,n,e);m=l-i}else{if(Lt(n)){const y=Object.keys(n)[0],w=n[y];f=d[y].getPixelForValue(w)-b+e}else n==="center"?f=(u.left+u.right)/2-b+e:f=p5(t,n,e);v=br(r,a,s),h=n==="left"?-Yn:Yn}return{titleX:f,titleY:v,maxWidth:m,rotation:h}}class tu extends ki{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=pi(e,Number.POSITIVE_INFINITY),n=pi(n,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),s=pi(s,Number.NEGATIVE_INFINITY),{min:pi(e,r),max:pi(n,s),minDefined:Os(e),maxDefined:Os(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:pi(n,pi(r,n)),max:pi(r,pi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZT(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?g5(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=SO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tn(this.options.afterUpdate,[this])}beforeSetDimensions(){tn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=tn(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){tn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=m5(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,m=d.highest.height,f=Cr(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/r:f/(r-1),h+6>l&&(l=f/(r-(e.offset?.5:1)),c=this.maxHeight-Hu(e.grid)-n.padding-x5(e.title,this.chart.options.font),u=Math.sqrt(h*h+m*m),a=_T(Math.min(Math.asin(Cr((d.highest.height+6)/l,-1,1)),Math.asin(Cr(c/u,-1,1))-Math.asin(Cr(m/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){tn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=x5(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Hu(i)+c):(e.height=this.maxHeight,e.width=Hu(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:m}=this._getLabelSizes(),f=r.padding*2,v=ea(this.labelRotation),x=Math.cos(v),b=Math.sin(v);if(l){const y=r.mirror?0:b*h.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:x*h.width+b*m.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(u,d,b,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?u?(m=s*e.width,f=r*n.height):(m=r*e.height,f=s*n.width):i==="start"?f=n.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,f=n.width/2),this.paddingLeft=Math.max((m-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Qt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=g5(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/m5(n,r));let u=0,d=0,h,m,f,v,x,b,y,w,_,k,R;for(h=0;h<n;h+=c){if(v=e[h].label,x=this._resolveTickFontOptions(h),s.font=b=x.string,y=i[b]=i[b]||{data:{},gc:[]},w=x.lineHeight,_=k=0,!Qt(v)&&!Zn(v))_=Kb(s,y.data,y.gc,_,v),k=w;else if(Zn(v))for(m=0,f=v.length;m<f;++m)R=v[m],!Qt(R)&&!Zn(R)&&(_=Kb(s,y.data,y.gc,_,R),k+=w);a.push(_),l.push(k),u=Math.max(_,u),d=Math.max(k,d)}IO(i,n);const I=a.indexOf(u),D=l.indexOf(d),A=j=>({width:a[j]||0,height:l[j]||0});return{first:A(0),last:A(n-1),widest:A(I),highest:A(D),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return jT(this._alignToPixels?Uo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=RO(this.getContext(),e,r))}return this.$context||(this.$context=OO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ea(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Hu(i),f=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,b=x/2,y=function(H){return Uo(r,H,x)};let w,_,k,R,I,D,A,j,T,C,L,F;if(a==="top")w=y(this.bottom),D=this.bottom-m,j=w-b,C=y(e.top)+b,F=e.bottom;else if(a==="bottom")w=y(this.top),C=e.top,F=y(e.bottom)-b,D=w+b,j=this.top+m;else if(a==="left")w=y(this.right),I=this.right-m,A=w-b,T=y(e.left)+b,L=e.right;else if(a==="right")w=y(this.left),T=e.left,L=y(e.right)-b,I=w+b,A=this.left+m;else if(n==="x"){if(a==="center")w=y((e.top+e.bottom)/2+.5);else if(Lt(a)){const H=Object.keys(a)[0],ce=a[H];w=y(this.chart.scales[H].getPixelForValue(ce))}C=e.top,F=e.bottom,D=w+b,j=D+m}else if(n==="y"){if(a==="center")w=y((e.left+e.right)/2);else if(Lt(a)){const H=Object.keys(a)[0],ce=a[H];w=y(this.chart.scales[H].getPixelForValue(ce))}I=w-b,A=I-m,T=e.left,L=e.right}const W=_t(s.ticks.maxTicksLimit,h),oe=Math.max(1,Math.ceil(h/W));for(_=0;_<h;_+=oe){const H=this.getContext(_),ce=i.setContext(H),te=l.setContext(H),ue=ce.lineWidth,pe=ce.color,xe=te.dash||[],U=te.dashOffset,ee=ce.tickWidth,O=ce.tickColor,Z=ce.tickBorderDash||[],B=ce.tickBorderDashOffset;k=TO(this,_,c),k!==void 0&&(R=Uo(r,k,ue),u?I=A=T=L=R:D=j=C=F=R,f.push({tx1:I,ty1:D,tx2:A,ty2:j,x1:T,y1:C,x2:L,y2:F,width:ue,color:pe,borderDash:xe,borderDashOffset:U,tickWidth:ee,tickColor:O,tickBorderDash:Z,tickBorderDashOffset:B}))}return this._ticksLength=h,this._borderValue=w,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,m=Hu(r.grid),f=m+d,v=h?-d:f,x=-ea(this.labelRotation),b=[];let y,w,_,k,R,I,D,A,j,T,C,L,F="middle";if(s==="top")I=this.bottom-v,D=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+v,D=this._getXAxisLabelAlignment();else if(s==="left"){const oe=this._getYAxisLabelAlignment(m);D=oe.textAlign,R=oe.x}else if(s==="right"){const oe=this._getYAxisLabelAlignment(m);D=oe.textAlign,R=oe.x}else if(n==="x"){if(s==="center")I=(e.top+e.bottom)/2+f;else if(Lt(s)){const oe=Object.keys(s)[0],H=s[oe];I=this.chart.scales[oe].getPixelForValue(H)+f}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")R=(e.left+e.right)/2-f;else if(Lt(s)){const oe=Object.keys(s)[0],H=s[oe];R=this.chart.scales[oe].getPixelForValue(H)}D=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const W=this._getLabelSizes();for(y=0,w=l.length;y<w;++y){_=l[y],k=_.label;const oe=i.setContext(this.getContext(y));A=this.getPixelForTick(y)+i.labelOffset,j=this._resolveTickFontOptions(y),T=j.lineHeight,C=Zn(k)?k.length:1;const H=C/2,ce=oe.color,te=oe.textStrokeColor,ue=oe.textStrokeWidth;let pe=D;a?(R=A,D==="inner"&&(y===w-1?pe=this.options.reverse?"left":"right":y===0?pe=this.options.reverse?"right":"left":pe="center"),s==="top"?u==="near"||x!==0?L=-C*T+T/2:u==="center"?L=-W.highest.height/2-H*T+T:L=-W.highest.height+T/2:u==="near"||x!==0?L=T/2:u==="center"?L=W.highest.height/2-H*T:L=W.highest.height-C*T,h&&(L*=-1),x!==0&&!oe.showLabelBackdrop&&(R+=T/2*Math.sin(x))):(I=A,L=(1-C)*T/2);let xe;if(oe.showLabelBackdrop){const U=Rs(oe.backdropPadding),ee=W.heights[y],O=W.widths[y];let Z=L-U.top,B=0-U.left;switch(F){case"middle":Z-=ee/2;break;case"bottom":Z-=ee;break}switch(D){case"center":B-=O/2;break;case"right":B-=O;break;case"inner":y===w-1?B-=O:y>0&&(B-=O/2);break}xe={left:B,top:Z,width:O+U.width,height:ee+U.height,color:oe.backdropColor}}b.push({label:k,font:j,textOffset:L,options:{rotation:x,color:ce,strokeColor:te,strokeWidth:ue,textAlign:pe,textBaseline:F,translation:[R,I],backdrop:xe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ea(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,m;this.isHorizontal()?(u=Uo(e,this.left,a)-a/2,d=Uo(e,this.right,l)+l/2,h=m=c):(h=Uo(e,this.top,a)-a/2,m=Uo(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Vy(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;ih(r,u,0,d,c,l)}s&&Ky(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=_r(r.font),a=Rs(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Lt(n)?(c+=a.bottom,Zn(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:m}=DO(this,c,n,l);ih(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:m,textAlign:MO(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=_t(e.grid&&e.grid.z,-1),s=_t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==tu.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _r(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rf{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;$O(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,FO(e,a,r),this.override&&Tn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Tn[s]&&(delete Tn[s][r],this.override&&delete yl[r])}}function FO(t,e,n){const r=eh(Object.create(null),[n?Tn.get(n):{},Tn.get(e),t.defaults]);Tn.set(e,r),t.defaultRoutes&&BO(e,t.defaultRoutes),t.descriptors&&Tn.describe(e,t.descriptors)}function BO(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Tn.route(i,s,c,l)})}function $O(t){return"id"in t&&"defaults"in t}class UO{constructor(){this.controllers=new Rf(Ac,"datasets",!0),this.elements=new Rf(ki,"elements"),this.plugins=new Rf(Object,"plugins"),this.scales=new Rf(tu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Bt(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=Uy(e);tn(r["before"+s],[],r),n[e](r),tn(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var vi=new UO;class zO{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(tn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=_t(r.options&&r.options.plugins,{}),i=qO(r);return s===!1&&!n?[]:WO(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function qO(t){const e={},n=[],r=Object.keys(vi.plugins.items);for(let i=0;i<r.length;i++)n.push(vi.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function HO(t,e){return!e&&t===!1?null:t===!0?{}:t}function WO(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=HO(r[c],s);u!==null&&i.push({plugin:l,options:VO(t.config,{plugin:l,local:n[c]},u,a)})}return i}function VO(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nx(t,e){const n=Tn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function KO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function GO(t,e){return t===e?"_index_":"_value_"}function y5(t){if(t==="x"||t==="y"||t==="r")return t}function YO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function rx(t,...e){if(y5(t))return t;for(const n of e){const r=n.axis||YO(n.position)||t.length>1&&y5(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function v5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return v5(t,"x",n[0])||v5(t,"y",n[0])}return{}}function XO(t,e){const n=yl[t.type]||{scales:{}},r=e.scales||{},s=nx(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!Lt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=rx(a,l,JO(a,t),Tn.scales[l.type]),u=GO(c,s),d=n.scales||{};i[a]=_d(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||nx(l,e),d=(yl[l]||{}).scales||{};Object.keys(d).forEach(h=>{const m=KO(h,c),f=a[m+"AxisID"]||m;i[f]=i[f]||Object.create(null),_d(i[f],[{axis:m},r[f],d[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];_d(l,[Tn.scales[l.type],Tn.scale])}),i}function sj(t){const e=t.options||(t.options={});e.plugins=_t(e.plugins,{}),e.scales=XO(t,e)}function ij(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function QO(t){return t=t||{},t.data=ij(t.data),sj(t),t}const b5=new Map,aj=new Set;function Mf(t,e){let n=b5.get(t);return n||(n=e(),b5.set(t,n),aj.add(n)),n}const Wu=(t,e,n)=>{const r=th(e,n);r!==void 0&&t.add(r)};class ZO{constructor(e){this._config=QO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ij(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Mf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Mf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Mf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Mf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>Wu(c,e,h))),d.forEach(h=>Wu(c,s,h)),d.forEach(h=>Wu(c,yl[i]||{},h)),d.forEach(h=>Wu(c,Tn,h)),d.forEach(h=>Wu(c,Z1,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),aj.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,yl[n]||{},Tn.datasets[n]||{},{type:n},Tn,Z1]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=w5(this._resolverCache,e,s);let c=a;if(t9(a,n)){i.$shared=!1,r=ao(r)?r():r;const u=this.createResolver(e,r,l);c=Hc(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=w5(this._resolverCache,e,r);return Lt(n)?Hc(i,n,void 0,s):i}}function w5(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Yy(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const e9=t=>Lt(t)&&Object.getOwnPropertyNames(t).some(e=>ao(t[e]));function t9(t,e){const{isScriptable:n,isIndexable:r}=q3(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(ao(l)||e9(l))||a&&Zn(l))return!0}return!1}var n9="4.5.1";const r9=["top","bottom","left","right","chartArea"];function _5(t,e){return t==="top"||t==="bottom"||r9.indexOf(t)===-1&&e==="x"}function N5(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function j5(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),tn(n&&n.onComplete,[t],e)}function s9(t){const e=t.chart,n=e.options.animation;tn(n&&n.onProgress,[t],e)}function oj(t){return Qy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const h0={},S5=t=>{const e=oj(t);return Object.values(h0).filter(n=>n.canvas===e).pop()};function i9(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function a9(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Ta;let bh=(Ta=class{static register(...e){vi.add(...e),k5()}static unregister(...e){vi.remove(...e),k5()}constructor(e,n){const r=this.config=new ZO(n),s=oj(e),i=S5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||jO(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=cT(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ET(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],h0[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Wi.listen(this,"complete",j5),Wi.listen(this,"progress",s9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Qt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Gb(this.canvas,this.ctx),this}stop(){return Wi.stop(this),this}resize(e,n){Wi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Xb(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),tn(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Bt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=rx(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Bt(i,a=>{const l=a.options,c=l.id,u=rx(c,l),d=_t(l.type,a.dtype);(l.position===void 0||_5(l.position,u)!==_5(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{const m=vi.getScale(d);h=new m({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,e)}),Bt(s,(a,l)=>{a||delete r[l]}),Bt(r,a=>{Ls.configure(this,a,a.options),Ls.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(N5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||nx(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=vi.getController(l),{datasetElementType:u,dataElementType:d}=Tn.datasets[l];Object.assign(c,{dataElementType:vi.getElement(d),datasetElementType:u&&vi.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Bt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),m=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Bt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(N5("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Bt(this.scales,e=>{Ls.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Fb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;i9(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Fb(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ls.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Bt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ao(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wi.has(this)?this.attached&&!Wi.running(this)&&Wi.start(this):(this.draw(),j5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=MI(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Vy(n,s),e.controller.draw(),s&&Ky(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return sh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=rO.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Z0(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Gb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete h0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Bt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Bt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Bt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!X0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=mT(e),u=a9(e,this._lastEvent,r,c);r&&(this._lastEvent=null,tn(i.onHover,[e,l,this],this),c&&tn(i.onClick,[e,l,this],this));const d=!X0(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Re(Ta,"defaults",Tn),Re(Ta,"instances",h0),Re(Ta,"overrides",yl),Re(Ta,"registry",vi),Re(Ta,"version",n9),Re(Ta,"getChart",S5),Ta);function k5(){return Bt(bh.instances,t=>t._plugins.invalidate())}function o9(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/a,Js(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+h/2,n-h/2),l>0){const m=Math.min(u/l,Js(r-n));t.arc(s,i,l+u/2,n-m/2,r+m/2,!0)}else{const m=Math.min(u/2,a*Js(r-n));if(d==="round")t.arc(s,i,m,n-Ut/2,r+Ut/2,!0);else if(d==="bevel"){const f=2*m*m,v=-f*Math.cos(n+Ut/2)+s,x=-f*Math.sin(n+Ut/2)+i,b=f*Math.cos(r+Ut/2)+s,y=f*Math.sin(r+Ut/2)+i;t.lineTo(v,x),t.lineTo(b,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function l9(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+Yn,r-Yn),t.closePath(),t.clip()}function c9(t){return Gy(t,["outerStart","outerEnd","innerStart","innerEnd"])}function u9(t,e,n,r){const s=c9(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return Cr(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Cr(s.innerStart,0,a),innerEnd:Cr(s.innerEnd,0,a)}}function zl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function rp(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+r+n-u,0),m=d>0?d+r+n+u:0;let f=0;const v=s-c;if(r){const oe=d>0?d-r:0,H=h>0?h-r:0,ce=(oe+H)/2,te=ce!==0?v*ce/(ce+r):v;f=(v-te)/2}const x=Math.max(.001,v*h-n/Ut)/h,b=(v-x)/2,y=c+b+f,w=s-b-f,{outerStart:_,outerEnd:k,innerStart:R,innerEnd:I}=u9(e,m,h,w-y),D=h-_,A=h-k,j=y+_/D,T=w-k/A,C=m+R,L=m+I,F=y+R/C,W=w-I/L;if(t.beginPath(),i){const oe=(j+T)/2;if(t.arc(a,l,h,j,oe),t.arc(a,l,h,oe,T),k>0){const ue=zl(A,T,a,l);t.arc(ue.x,ue.y,k,T,w+Yn)}const H=zl(L,w,a,l);if(t.lineTo(H.x,H.y),I>0){const ue=zl(L,W,a,l);t.arc(ue.x,ue.y,I,w+Yn,W+Math.PI)}const ce=(w-I/m+(y+R/m))/2;if(t.arc(a,l,m,w-I/m,ce,!0),t.arc(a,l,m,ce,y+R/m,!0),R>0){const ue=zl(C,F,a,l);t.arc(ue.x,ue.y,R,F+Math.PI,y-Yn)}const te=zl(D,y,a,l);if(t.lineTo(te.x,te.y),_>0){const ue=zl(D,j,a,l);t.arc(ue.x,ue.y,_,y-Yn,j)}}else{t.moveTo(a,l);const oe=Math.cos(j)*h+a,H=Math.sin(j)*h+l;t.lineTo(oe,H);const ce=Math.cos(T)*h+a,te=Math.sin(T)*h+l;t.lineTo(ce,te)}t.closePath()}function d9(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){rp(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%bn||bn))}return rp(t,e,n,r,c,s),t.fill(),c}function h9(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:m,borderRadius:f}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=m,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let x=e.endAngle;if(i){rp(t,e,n,r,x,s);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(x=a+(l%bn||bn))}v&&l9(t,e,x),c.selfJoin&&x-a>=Ut&&f===0&&d!=="miter"&&o9(t,e,x),i||(rp(t,e,n,r,x,s),t.stroke())}class id extends ki{constructor(n){super();Re(this,"circumference");Re(this,"endAngle");Re(this,"fullCircles");Re(this,"innerRadius");Re(this,"outerRadius");Re(this,"pixelMargin");Re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=D3(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,v=_t(m,u-c),x=rh(a,c,u)&&c!==u,b=v>=bn||x,y=gc(l,d+f,h+f);return b&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+a)/2,m=(l+c+d+u)/2;return{x:r+Math.cos(h)*m,y:s+Math.sin(h)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>bn?Math.floor(s/bn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Ut,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,d9(n,this,d,a,l),h9(n,this,d,a,l),n.restore()}}Re(id,"id","arc"),Re(id,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Re(id,"defaultRoutes",{backgroundColor:"backgroundColor"}),Re(id,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function lj(t,e,n=e){t.lineCap=_t(n.borderCapStyle,e.borderCapStyle),t.setLineDash(_t(n.borderDash,e.borderDash)),t.lineDashOffset=_t(n.borderDashOffset,e.borderDashOffset),t.lineJoin=_t(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=_t(n.borderWidth,e.borderWidth),t.strokeStyle=_t(n.borderColor,e.borderColor)}function f9(t,e,n){t.lineTo(n.x,n.y)}function p9(t){return t.stepped?qT:t.tension||t.cubicInterpolationMode==="monotone"?HT:f9}function cj(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function m9(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=cj(s,n,r),d=p9(i);let{move:h=!0,reverse:m}=r||{},f,v,x;for(f=0;f<=u;++f)v=s[(l+(m?u-f:f))%a],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):d(t,x,v,m,i.stepped),x=v);return c&&(v=s[(l+(m?u:0))%a],d(t,x,v,m,i.stepped)),!!c}function g9(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=cj(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,h=0,m,f,v,x,b,y;const w=k=>(a+(u?l-k:k))%i,_=()=>{x!==b&&(t.lineTo(d,b),t.lineTo(d,x),t.lineTo(d,y))};for(c&&(f=s[w(0)],t.moveTo(f.x,f.y)),m=0;m<=l;++m){if(f=s[w(m)],f.skip)continue;const k=f.x,R=f.y,I=k|0;I===v?(R<x?x=R:R>b&&(b=R),d=(h*d+k)/++h):(_(),t.lineTo(k,R),v=I,h=0,x=b=R),y=R}_()}function sx(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?g9:m9}function x9(t){return t.stepped?NI:t.tension||t.cubicInterpolationMode==="monotone"?jI:Yo}function y9(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),lj(t,e.options),t.stroke(s)}function v9(t,e,n,r){const{segments:s,options:i}=e,a=sx(e);for(const l of s)lj(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const b9=typeof Path2D=="function";function w9(t,e,n,r){b9&&!e.options.segment?y9(t,e,n,r):v9(t,e,n,r)}class ad extends ki{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;mI(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TI(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=EI(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=x9(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:m}=a[u],f=i[h],v=i[m];if(f===v){l.push(f);continue}const x=Math.abs((s-f[n])/(v[n]-f[n])),b=c(f,v,x,r.stepped);b[n]=e[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,n,r){return sx(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=sx(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),w9(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Re(ad,"id","line"),Re(ad,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Re(ad,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Re(ad,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function A5(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class f0 extends ki{constructor(n){super();Re(this,"parsed");Re(this,"skip");Re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return A5(this,n,"x",r)}inYRange(n,r){return A5(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!sh(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ex(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Re(f0,"id","point"),Re(f0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Re(f0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const C5=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},_9=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class E5 extends ki{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=tn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=_r(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=C5(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let h=e;i.textAlign="left",i.textBaseline="middle";let m=-1,f=-d;return this.legendItems.forEach((v,x)=>{const b=r+n/2+i.measureText(v.text).width;(x===0||u[u.length-1]+b+2*l>a)&&(h+=d,u[u.length-(x>0?0:1)]=0,f+=d,m++),c[x]={left:0,top:f,row:m,width:b,height:s},u[u.length-1]+=b+l}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=l,m=0,f=0,v=0,x=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:w,itemHeight:_}=N9(r,n,i,b,s);y>0&&f+_+2*l>d&&(h+=m+l,u.push({width:m,height:f}),v+=m+l,x++,m=f=0),c[y]={left:v,top:f,col:x,width:w,height:_},m=Math.max(m,w),f+=_+l}),h+=m,u.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=kc(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=br(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=br(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=br(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=br(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vy(e,this),this._draw(),Ky(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Tn.color,c=kc(e.rtl,this.left,this.width),u=_r(a.font),{padding:d}=a,h=u.size,m=h/2;let f;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:v,boxHeight:x,itemHeight:b}=C5(a,h),y=function(I,D,A){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;s.save();const j=_t(A.lineWidth,1);if(s.fillStyle=_t(A.fillStyle,l),s.lineCap=_t(A.lineCap,"butt"),s.lineDashOffset=_t(A.lineDashOffset,0),s.lineJoin=_t(A.lineJoin,"miter"),s.lineWidth=j,s.strokeStyle=_t(A.strokeStyle,l),s.setLineDash(_t(A.lineDash,[])),a.usePointStyle){const T={radius:x*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:j},C=c.xPlus(I,v/2),L=D+m;z3(s,T,C,L,a.pointStyleWidth&&v)}else{const T=D+Math.max((h-x)/2,0),C=c.leftForLtr(I,v),L=kd(A.borderRadius);s.beginPath(),Object.values(L).some(F=>F!==0)?tx(s,{x:C,y:T,w:v,h:x,radius:L}):s.rect(C,T,v,x),s.fill(),j!==0&&s.stroke()}s.restore()},w=function(I,D,A){ih(s,A.text,I,D+b/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},_=this.isHorizontal(),k=this._computeTitleHeight();_?f={x:br(i,this.left+d,this.right-r[0]),y:this.top+d+k,line:0}:f={x:this.left+d,y:br(i,this.top+k+d,this.bottom-n[0].height),line:0},G3(this.ctx,e.textDirection);const R=b+d;this.legendItems.forEach((I,D)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const A=s.measureText(I.text).width,j=c.textAlign(I.textAlign||(I.textAlign=a.textAlign)),T=v+m+A;let C=f.x,L=f.y;c.setWidth(this.width),_?D>0&&C+T+d>this.right&&(L=f.y+=R,f.line++,C=f.x=br(i,this.left+d,this.right-r[f.line])):D>0&&L+R>this.bottom&&(C=f.x=C+n[f.line].width+d,f.line++,L=f.y=br(i,this.top+k+d,this.bottom-n[f.line].height));const F=c.x(C);if(y(F,L,I),C=LT(j,C+v+m,_?C+T:this.right,e.rtl),w(c.x(C),L,I),_)f.x+=T+d;else if(typeof I.text!="string"){const W=u.lineHeight;f.y+=uj(I,W)+d}else f.y+=R}),Y3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=_r(n.font),s=Rs(n.padding);if(!n.display)return;const i=kc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,h=br(e.align,h,this.right-m);else{const v=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);d=u+br(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const f=br(l,h,h+m);a.textAlign=i.textAlign(qy(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,ih(a,n.text,f,d,r)}_computeTitleHeight(){const e=this.options.title,n=_r(e.font),r=Rs(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(gc(e,this.left,this.right)&&gc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],gc(e,s.left,s.left+s.width)&&gc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!k9(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=_9(s,r);s&&!i&&tn(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&tn(n.onHover,[e,r,this],this)}else r&&tn(n.onClick,[e,r,this],this)}}function N9(t,e,n,r,s){const i=j9(r,t,e,n),a=S9(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function j9(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function S9(t,e,n){let r=t;return typeof e.text!="string"&&(r=uj(e,n)),r}function uj(t,e){const n=t.text?t.text.length:0;return e*n}function k9(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var dj={id:"legend",_element:E5,start(t,e,n){const r=t.legend=new E5({ctx:t.ctx,options:n,chart:t});Ls.configure(t,r,n),Ls.addBox(t,r)},stop(t){Ls.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ls.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Rs(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class hj extends ki{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Zn(r.text)?r.text.length:1;this._padding=Rs(r.padding);const i=s*_r(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,h;return this.isHorizontal()?(d=br(l,r,i),h=n+e,u=i-r):(a.position==="left"?(d=r+e,h=br(l,s,n),c=Ut*-.5):(d=i-e,h=br(l,n,s),c=Ut*.5),u=s-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=_r(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);ih(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:qy(n.align),textBaseline:"middle",translation:[a,l]})}}function A9(t,e){const n=new hj({ctx:t.ctx,options:e,chart:t});Ls.configure(t,n,e),Ls.addBox(t,n),t.titleBlock=n}var C9={id:"title",_element:hj,start(t,e,n){A9(t,n)},stop(t){const e=t.titleBlock;Ls.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ls.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const od={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Q1(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function gi(t,e){return e&&(Zn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function E9(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function L5(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=_r(e.bodyFont),u=_r(e.titleFont),d=_r(e.footerFont),h=i.length,m=s.length,f=r.length,v=Rs(e.padding);let x=v.height,b=0,y=r.reduce((k,R)=>k+R.before.length+R.lines.length+R.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const k=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=f*k+(y-f)*c.lineHeight+(y-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let w=0;const _=function(k){b=Math.max(b,n.measureText(k).width+w)};return n.save(),n.font=u.string,Bt(t.title,_),n.font=c.string,Bt(t.beforeBody.concat(t.afterBody),_),w=e.displayColors?a+2+e.boxPadding:0,Bt(r,k=>{Bt(k.before,_),Bt(k.lines,_),Bt(k.after,_)}),w=0,n.font=d.string,Bt(t.footer,_),n.restore(),b+=v.width,{width:b,height:x}}function L9(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function P9(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function T9(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),P9(u,t,e,n)&&(u="center"),u}function P5(t,e,n){const r=n.yAlign||e.yAlign||L9(t,n);return{xAlign:n.xAlign||e.xAlign||T9(t,e,n,r),yAlign:r}}function I9(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function O9(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function T5(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:f}=kd(a);let v=I9(e,l);const x=O9(e,c,u);return c==="center"?l==="left"?v+=u:l==="right"&&(v-=u):l==="left"?v-=Math.max(d,m)+s:l==="right"&&(v+=Math.max(h,f)+s),{x:Cr(v,0,r.width-e.width),y:Cr(x,0,r.height-e.height)}}function Df(t,e,n){const r=Rs(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function I5(t){return gi([],Vi(t))}function R9(t,e,n){return Nl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function O5(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const fj={beforeTitle:Ui,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ui,beforeBody:Ui,beforeLabel:Ui,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Qt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ui,afterBody:Ui,beforeFooter:Ui,footer:Ui,afterFooter:Ui};function Mr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?fj[e].call(n,r):s}class ix extends ki{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new X3(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=R9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Mr(r,"beforeTitle",this,e),i=Mr(r,"title",this,e),a=Mr(r,"afterTitle",this,e);let l=[];return l=gi(l,Vi(s)),l=gi(l,Vi(i)),l=gi(l,Vi(a)),l}getBeforeBody(e,n){return I5(Mr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Bt(e,i=>{const a={before:[],lines:[],after:[]},l=O5(r,i);gi(a.before,Vi(Mr(l,"beforeLabel",this,i))),gi(a.lines,Mr(l,"label",this,i)),gi(a.after,Vi(Mr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return I5(Mr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Mr(r,"beforeFooter",this,e),i=Mr(r,"footer",this,e),a=Mr(r,"afterFooter",this,e);let l=[];return l=gi(l,Vi(s)),l=gi(l,Vi(i)),l=gi(l,Vi(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(E9(this.chart,n[c]));return e.filter&&(l=l.filter((d,h,m)=>e.filter(d,h,m,r))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,r))),Bt(l,d=>{const h=O5(e.callbacks,d);s.push(Mr(h,"labelColor",this,d)),i.push(Mr(h,"labelPointStyle",this,d)),a.push(Mr(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=od[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=L5(this,r),u=Object.assign({},l,c),d=P5(this.chart,r,u),h=T5(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=kd(l),{x:m,y:f}=e,{width:v,height:x}=n;let b,y,w,_,k,R;return i==="center"?(k=f+x/2,s==="left"?(b=m,y=b-a,_=k+a,R=k-a):(b=m+v,y=b+a,_=k-a,R=k+a),w=b):(s==="left"?y=m+Math.max(c,d)+a:s==="right"?y=m+v-Math.max(u,h)-a:y=this.caretX,i==="top"?(_=f,k=_-a,b=y-a,w=y+a):(_=f+x,k=_+a,b=y+a,w=y-a),R=_),{x1:b,x2:y,x3:w,y1:_,y2:k,y3:R}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=kc(r.rtl,this.x,this.width);for(e.x=Df(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=_r(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=_r(i.bodyFont),h=Df(this,"left",i),m=s.x(h),f=c<d.lineHeight?(d.lineHeight-c)/2:0,v=n.y+f;if(i.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(m,u)+u/2,y=v+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ex(e,x,b,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ex(e,x,b,y)}else{e.lineWidth=Lt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=s.leftForLtr(m,u),b=s.leftForLtr(s.xPlus(m,1),u-2),y=kd(a.borderRadius);Object.values(y).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,tx(e,{x,y:v,w:u,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tx(e,{x:b,y:v+1,w:u-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,v,u,c),e.strokeRect(x,v,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=_r(r.bodyFont);let m=h.lineHeight,f=0;const v=kc(r.rtl,this.x,this.width),x=function(A){n.fillText(A,v.x(e.x+f),e.y+m/2),e.y+=m+i},b=v.textAlign(a);let y,w,_,k,R,I,D;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=Df(this,b,r),n.fillStyle=r.bodyColor,Bt(this.beforeBody,x),f=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,k=0,I=s.length;k<I;++k){for(y=s[k],w=this.labelTextColors[k],n.fillStyle=w,Bt(y.before,x),_=y.lines,l&&_.length&&(this._drawColorBox(n,e,k,v,r),m=Math.max(h.lineHeight,c)),R=0,D=_.length;R<D;++R)x(_[R]),m=h.lineHeight;Bt(y.after,x)}f=0,m=h.lineHeight,Bt(this.afterBody,x),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=kc(r.rtl,this.x,this.width);for(e.x=Df(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=_r(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:v}=kd(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-m,c),n.quadraticCurveTo(l+u,c,l+u,c+m),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+d-v),n.quadraticCurveTo(l+u,c+d,l+u-v,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+f,c+d),n.quadraticCurveTo(l,c+d,l,c+d-f),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=od[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=L5(this,e),c=Object.assign({},a,this._size),u=P5(n,e,c),d=T5(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Rs(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),G3(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Y3(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!X0(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!X0(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=od[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Re(ix,"positioners",od);var pj={id:"tooltip",_element:ix,positioners:od,afterInit(t,e,n){n&&(t.tooltip=new ix({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M9=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function D9(t,e,n,r){const s=t.indexOf(e);if(s===-1)return M9(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const F9=(t,e)=>t===null?null:Cr(Math.round(t),0,e);function R5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ax extends tu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Qt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:D9(r,e,_t(n,e),this._addedLabels),F9(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return R5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Re(ax,"id","category"),Re(ax,"defaults",{ticks:{callback:R5}});function B9(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:m}=t,f=i||1,v=d-1,{min:x,max:b}=e,y=!Qt(a),w=!Qt(l),_=!Qt(u),k=(b-x)/(h+1);let R=$b((b-x)/v/f)*f,I,D,A,j;if(R<1e-14&&!y&&!w)return[{value:x},{value:b}];j=Math.ceil(b/R)-Math.floor(x/R),j>v&&(R=$b(j*R/v/f)*f),Qt(c)||(I=Math.pow(10,c),R=Math.ceil(R*I)/I),s==="ticks"?(D=Math.floor(x/R)*R,A=Math.ceil(b/R)*R):(D=x,A=b),y&&w&&i&&bT((l-a)/i,R/1e3)?(j=Math.round(Math.min((l-a)/R,d)),R=(l-a)/j,D=a,A=l):_?(D=y?a:D,A=w?l:A,j=u-1,R=(A-D)/j):(j=(A-D)/R,Nd(j,Math.round(j),R/1e3)?j=Math.round(j):j=Math.ceil(j));const T=Math.max(Ub(R),Ub(D));I=Math.pow(10,Qt(c)?T:c),D=Math.round(D*I)/I,A=Math.round(A*I)/I;let C=0;for(y&&(m&&D!==a?(n.push({value:a}),D<a&&C++,Nd(Math.round((D+C*R)*I)/I,a,M5(a,k,t))&&C++):D<a&&C++);C<j;++C){const L=Math.round((D+C*R)*I)/I;if(w&&L>l)break;n.push({value:L})}return w&&m&&A!==l?n.length&&Nd(n[n.length-1].value,l,M5(l,k,t))?n[n.length-1].value=l:n.push({value:l}):(!w||A===l)&&n.push({value:A}),n}function M5(t,e,{horizontal:n,minRotation:r}){const s=ea(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class $9 extends tu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Qt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=qc(s),u=qc(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=B9(s,i);return e.bounds==="ticks"&&wT(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Wy(e,this.chart.options.locale,this.options.ticks.format)}}class ox extends $9{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Os(e)?e:0,this.max=Os(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ea(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Re(ox,"id","linear"),Re(ox,"defaults",{ticks:{callback:U3.formatters.numeric}});const Mp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zr=Object.keys(Mp);function D5(t,e){return t-e}function F5(t,e){if(Qt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Os(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(nh(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function B5(t,e,n,r){const s=zr.length;for(let i=zr.indexOf(t);i<s-1;++i){const a=Mp[zr[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return zr[i]}return zr[s-1]}function U9(t,e,n,r,s){for(let i=zr.length-1;i>=zr.indexOf(n);i--){const a=zr[i];if(Mp[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return zr[n?zr.indexOf(n):0]}function z9(t){for(let e=zr.indexOf(t)+1,n=zr.length;e<n;++e)if(Mp[zr[e]].common)return zr[e]}function $5(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=zy(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function q9(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function U5(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:q9(t,r,s,n)}class sp extends tu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new QI._date(e.adapters.date);s.init(n),_d(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:F5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Os(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Os(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=kT(s,i,a);return this._unit=n.unit||(r.autoSkip?B5(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):U9(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:z9(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),U5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Cr(n,0,a),r=Cr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||B5(i.minUnit,n,r,this._getLabelCapacity(n)),l=_t(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=nh(c)||c===!0,d={};let h=n,m,f;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<r;m=+e.add(m,l,a),f++)$5(d,m,v);return(m===r||s.bounds==="ticks"||f===1)&&$5(d,m,v),Object.keys(d).sort(D5).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return tn(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],m=r[n],f=u&&h&&m&&m.major;return this._adapter.format(e,s||(f?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ea(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,U5(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(F5(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return CT(e.sort(D5))}}Re(sp,"id","time"),Re(sp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ff(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=il(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=il(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class z5 extends sp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ff(n,this.min),this._tableRange=Ff(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ff(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ff(this._table,r*this._tableRange+this._minPos,!0)}}Re(z5,"id","timeseries"),Re(z5,"defaults",sp.defaults);const mj="label";function q5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function H9(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function gj(t,e){t.labels=e}function xj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mj;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function W9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mj;const n={labels:[],datasets:[]};return gj(n,t.labels),xj(n,t.datasets,e),n}function V9(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...m}=t,f=ae.useRef(null),v=ae.useRef(null),x=()=>{f.current&&(v.current=new bh(f.current,{type:a,data:W9(l,i),options:c&&{...c},plugins:u}),q5(e,v.current))},b=()=>{q5(e,null),v.current&&(v.current.destroy(),v.current=null)};return ae.useEffect(()=>{!s&&v.current&&c&&H9(v.current,c)},[s,c]),ae.useEffect(()=>{!s&&v.current&&gj(v.current.config.data,l.labels)},[s,l.labels]),ae.useEffect(()=>{!s&&v.current&&l.datasets&&xj(v.current.config.data,l.datasets,i)},[s,l.datasets]),ae.useEffect(()=>{v.current&&(s?(b(),setTimeout(x)):v.current.update(h))},[s,c,l.labels,l.datasets,h]),ae.useEffect(()=>{v.current&&(b(),setTimeout(x))},[a]),ae.useEffect(()=>(x(),()=>b()),[]),gp.createElement("canvas",{ref:f,role:"img",height:n,width:r,...m},d)}const K9=ae.forwardRef(V9);function yj(t,e){return bh.register(e),ae.forwardRef((n,r)=>gp.createElement(K9,{...n,ref:r,type:t}))}const G9=yj("line",u0),Y9=yj("doughnut",rd);bh.register(ax,ox,f0,ad,C9,pj,dj);const J9=({transactions:t})=>{const e=()=>{const h={},m=[],f=new Date;for(let x=5;x>=0;x--){const b=new Date(f.getFullYear(),f.getMonth()-x,1),y=`${b.getFullYear()}年${b.getMonth()+1}月`;m.push(y),h[y]={revenue:0,expense:0}}t.forEach(x=>{const b=typeof x.amount=="string"?parseFloat(x.amount):x.amount,y=new Date(x.date),w=`${y.getFullYear()}年${y.getMonth()+1}月`;h[w]&&(x.type==="income"?h[w].revenue+=b:x.type==="expense"&&(h[w].expense+=b))});const v=m.map(x=>h[x].revenue-h[x].expense);return{labels:m,revenue:m.map(x=>h[x].revenue),expense:m.map(x=>h[x].expense),profit:v}},{labels:n,revenue:r,expense:s,profit:i}=e(),a=r.reduce((h,m)=>h+m,0),l=s.reduce((h,m)=>h+m,0),c=a-l,u={labels:n,datasets:[{label:"収益",data:r,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"rgb(59, 130, 246)",pointRadius:4},{label:"支出",data:s,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,pointBackgroundColor:"rgb(239, 68, 68)",pointBorderColor:"rgb(239, 68, 68)",pointRadius:4},{label:"利益",data:i,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"rgb(34, 197, 94)",pointRadius:4}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{label:function(h){let m=h.dataset.label||"";return m&&(m+=": "),h.parsed.y!==null&&(m+=h.parsed.y.toLocaleString()+"円"),m}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{font:{size:11}}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:11},callback:function(h){return h.toLocaleString()+"円"}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"収益・支出・利益推移"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"月次"}),o.jsx("button",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"四半期"}),o.jsx("button",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"年次"})]})]}),o.jsx("div",{className:"chart-container h-80",children:o.jsx(G9,{data:u,options:d})}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"総収益"}),o.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["¥",a.toLocaleString()]}),o.jsx("p",{className:"text-xs text-green-600",children:"↑ 12.5%"})]}),o.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"総支出"}),o.jsxs("p",{className:"text-lg font-bold text-red-600",children:["¥",l.toLocaleString()]}),o.jsx("p",{className:"text-xs text-red-600",children:"↓ 3.2%"})]}),o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"純利益"}),o.jsxs("p",{className:"text-lg font-bold text-green-600",children:["¥",c.toLocaleString()]}),o.jsx("p",{className:"text-xs text-green-600",children:"↑ 8.7%"})]})]})]})};bh.register(id,pj,dj);const X9=({transactions:t})=>{const e=()=>{const h=t.filter(x=>x.type==="expense"),m={};h.forEach(x=>{const b=typeof x.amount=="string"?parseFloat(x.amount):x.amount;m[x.category]?m[x.category]+=b:m[x.category]=b});const f=Object.values(m).reduce((x,b)=>x+b,0),v={};return Object.keys(m).forEach(x=>{v[x]=Math.round(m[x]/f*100)}),{categoryTotals:m,percentages:v,totalAmount:f}},{percentages:n,categoryTotals:r}=e(),s=Object.keys(n),i=Object.values(n),a=Object.values(r),l=["rgb(99, 102, 241)","rgb(139, 92, 246)","rgb(168, 85, 247)","rgb(192, 132, 252)","rgb(221, 214, 254)","rgb(124, 58, 237)","rgb(109, 40, 217)","rgb(79, 70, 229)","rgb(67, 56, 202)","rgb(55, 48, 163)"],c=s.map((h,m)=>l[m%l.length]),u={labels:s,datasets:[{data:i,backgroundColor:c,borderWidth:0,cutout:"60%"}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:12},generateLabels:function(h){const m=h.data;return m.labels.length&&m.datasets.length?m.labels.map((f,v)=>{const x=m.datasets[0].data[v];return{text:`${f} ${x}%`,fillStyle:m.datasets[0].backgroundColor[v],strokeStyle:m.datasets[0].backgroundColor[v],lineWidth:0,pointStyle:"circle",hidden:!1,index:v}}):[]}}},tooltip:{callbacks:{label:function(h){const m=h.label||"",f=a[h.dataIndex];return`${m}: ${h.parsed}% (${f.toLocaleString()}円)`}},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1}}};return o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"支出カテゴリ"}),o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"詳細を見る"})]}),o.jsx("div",{className:"chart-container h-80",children:o.jsx(Y9,{data:u,options:d})}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"カテゴリ別支出内訳"}),o.jsx("div",{className:"space-y-2",children:s.map((h,m)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:c[m]}}),o.jsx("span",{className:"text-sm text-gray-600",children:h})]}),o.jsxs("span",{className:"text-sm font-medium",children:["¥",a[m].toLocaleString()]})]},h))})]})]})},Q9=({transactions:t,onOpenCreateModal:e,showCreateButton:n=!0})=>{const r=(i,a)=>{const l=typeof a=="string"?parseFloat(a):a,c=!isNaN(l)&&isFinite(l),u=c&&l>0,d=c&&l<0;if(u)return o.jsx(Es,{className:"w-4 h-4 text-green-500 mr-2"});if(d)return o.jsx(zc,{className:"w-4 h-4 text-red-500 mr-2"});switch(i){case"交通費":return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600 mr-2",children:"交"});case"食費":return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 mr-2",children:"食"});case"消耗品費":return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-purple-100 text-purple-600 mr-2",children:"消"});case"通信費":return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-yellow-100 text-yellow-600 mr-2",children:"通"});case"光熱費":return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-600 mr-2",children:"光"});default:return o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-600 mr-2",children:"他"})}},s=[...t].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()).slice(0,5);return o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"最近の履歴"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(kn,{to:"/transaction-history",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",o.jsx(to,{className:"w-4 h-4 ml-1"})]}),n&&e&&o.jsxs("button",{onClick:e,className:"flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[o.jsx(Br,{className:"w-4 h-4 mr-1"}),"新規作成"]})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"項目"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"金額"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 hidden sm:table-cell",children:"日付"}),o.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"カテゴリ"})]})}),o.jsx("tbody",{children:s.length>0?s.map(i=>{const a=typeof i.amount=="string"?parseFloat(i.amount):typeof i.amount=="number"?i.amount:0,l=!isNaN(a)&&isFinite(a),c=i.type==="income",u=i.type==="expense",d=c||l&&a>0,h=u||l&&a<0;return o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center",children:[r(i.category,a),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 text-sm",children:i.item}),o.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:new Date(i.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})})]})]})}),o.jsx("td",{className:"py-4 px-4 text-right font-medium",children:o.jsxs("div",{className:"flex items-center justify-end",children:[d?o.jsx(Es,{className:"w-4 h-4 text-green-500 mr-1"}):h?o.jsx(zc,{className:"w-4 h-4 text-red-500 mr-1"}):null,o.jsxs("span",{className:d?"text-green-600":h?"text-red-600":"text-gray-600",children:[d?"":h?"-":"",l?Math.abs(a).toLocaleString():"N/A"]})]})}),o.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:new Date(i.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("td",{className:"py-4 px-4 text-center",children:o.jsx("span",{className:`inline-flex px-2.5 py-1 text-xs font-medium rounded-full ${d?"bg-green-100 text-green-800":h?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:i.category})})]},i.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"py-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(ti,{className:"w-10 h-10 text-gray-300 mb-2"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"取引がありません"})]})})})})]})}),o.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[o.jsx("button",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-medium hover:bg-blue-700 transition-colors",children:"1"}),o.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center text-sm font-medium hover:bg-gray-200 transition-colors",children:"2"}),o.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(to,{className:"w-4 h-4"})})]})]})},Z9=({aiTransactions:t,loading:e})=>{if(e)return o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI自動仕訳"}),o.jsxs(kn,{to:"/ai-transaction-list",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",o.jsx(to,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]});const n=[...t].sort((i,a)=>{const l=i.created_at?new Date(i.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-l}).slice(0,5),r=i=>i>=90?"bg-green-100 text-green-800":i>=70?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",s=i=>i?o.jsx(bd,{className:"w-5 h-5 text-green-500 mx-auto"}):o.jsx(Oy,{className:"w-5 h-5 text-yellow-500 mx-auto"});return o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI自動仕訳"}),o.jsxs(kn,{to:"/ai-transaction-list",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",o.jsx(to,{className:"w-4 h-4 ml-1"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-600",children:"項目"}),o.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"金額"}),o.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-600 hidden sm:table-cell",children:"カテゴリ"}),o.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-600",children:"信頼度"}),o.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-600",children:"状態"})]})}),o.jsx("tbody",{children:n.length>0?n.map(i=>o.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[o.jsxs("td",{className:"py-4 px-2",children:[o.jsxs("div",{className:"font-medium text-gray-900 text-sm flex items-center",children:[o.jsx(yd,{className:"w-4 h-4 text-purple-500 mr-2"}),i.item]}),o.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:i.ai_category})]}),o.jsxs("td",{className:"py-4 px-2 text-right font-medium text-gray-900",children:["¥",Math.abs(i.amount).toLocaleString()]}),o.jsx("td",{className:"py-4 px-2 text-sm text-gray-600 hidden sm:table-cell",children:i.ai_category}),o.jsx("td",{className:"py-4 px-2 text-center",children:o.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(i.confidence)}`,children:[i.confidence,"%"]})}),o.jsx("td",{className:"py-4 px-2 text-center",children:s(i.manual_verified)})]},i.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:[o.jsx(yd,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),o.jsx("p",{children:"AI分析データがありません"})]})})})]})}),o.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[o.jsx("button",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-medium",children:"1"}),o.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center text-sm font-medium hover:bg-gray-200",children:"2"}),o.jsx("button",{className:"p-2",children:o.jsx(to,{className:"w-4 h-4 text-gray-400"})})]})]})},vj=({transaction:t,onSubmit:e,onCancel:n})=>{var L;const[r,s]=ae.useState({item:(t==null?void 0:t.item)||"",amount:(t==null?void 0:t.amount)||0,date:(t==null?void 0:t.date)||new Date().toISOString().split("T")[0],category:(t==null?void 0:t.category)||"",type:(t==null?void 0:t.type)||"expense",description:(t==null?void 0:t.description)||"",receipt_url:(t==null?void 0:t.receipt_url)||"",location:(t==null?void 0:t.location)||"",tags:(t==null?void 0:t.tags)||[],recurring:(t==null?void 0:t.recurring)||!1,recurring_frequency:(t==null?void 0:t.recurring_frequency)||"monthly",creator:(t==null?void 0:t.creator)||""}),[i,a]=ae.useState(""),[l,c]=ae.useState([]),[u,d]=ae.useState([]),[h,m]=ae.useState([]),[f,v]=ae.useState(!1),[x,b]=ae.useState(null);ae.useEffect(()=>{const F=localStorage.getItem("locationHistory");F&&c(JSON.parse(F));const W=localStorage.getItem("favoriteCategories");W&&d(JSON.parse(W));const oe=localStorage.getItem("recentTransactions");oe&&m(JSON.parse(oe))},[]);const y=ae.useMemo(()=>{const F=["食費","交通費","消耗品費","通信費","光熱費","住居費","医療費","教育費","娯楽費","衣服費","美容費","交際費","給与","副業収入","賞与","事業所得","配当金","利息","家賃収入","その他収入","その他支出"];return[...new Set([...u,...F])]},[u]),w=[1e3,3e3,5e3,1e4,3e4],_=F=>{const{name:W,value:oe,type:H}=F.target,ce=H==="checkbox"?F.target.checked:void 0;s(te=>({...te,[W]:H==="checkbox"?ce:oe}))},k=F=>{s(W=>({...W,amount:F})),b(F)},R=F=>{const W=u.includes(F)?u.filter(oe=>oe!==F):[...u,F];d(W),localStorage.setItem("favoriteCategories",JSON.stringify(W))},I=F=>{if(s(W=>({...W,location:F})),!l.includes(F)){const W=[F,...l].slice(0,10);c(W),localStorage.setItem("locationHistory",JSON.stringify(W))}},D=F=>{const W={...F,date:new Date().toISOString().split("T")[0]};s(W)},A=()=>{var F;i.trim()&&!((F=r.tags)!=null&&F.includes(i.trim()))&&(s(W=>({...W,tags:[...W.tags||[],i.trim()]})),a(""))},j=F=>{s(W=>{var oe;return{...W,tags:((oe=W.tags)==null?void 0:oe.filter(H=>H!==F))||[]}})},T=F=>{F.preventDefault();const W=localStorage.getItem("user");let oe="00000000-0000-0000-0000-000000000000";if(W)try{const ce=JSON.parse(W);/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(ce.id)?oe=ce.id:console.warn("無効なユーザーID形式です。匿名ユーザーとして処理します。")}catch(ce){console.error("ユーザー情報の解析に失敗しました:",ce)}const H=[r,...h].slice(0,5);m(H),localStorage.setItem("recentTransactions",JSON.stringify(H)),e({...r,creator:oe})},C=(F,W)=>{if(W==="income")return o.jsx(Es,{className:"w-4 h-4 text-green-500"});switch(F){case"食費":return o.jsx("span",{className:"text-lg",children:"🍽️"});case"交通費":return o.jsx("span",{className:"text-lg",children:"🚗"});case"消耗品費":return o.jsx("span",{className:"text-lg",children:"🛍️"});case"通信費":return o.jsx("span",{className:"text-lg",children:"📱"});case"光熱費":return o.jsx("span",{className:"text-lg",children:"💡"});case"住居費":return o.jsx("span",{className:"text-lg",children:"🏠"});case"医療費":return o.jsx("span",{className:"text-lg",children:"⚕️"});case"教育費":return o.jsx("span",{className:"text-lg",children:"📚"});case"娯楽費":return o.jsx("span",{className:"text-lg",children:"🎉"});case"衣服費":return o.jsx("span",{className:"text-lg",children:"👕"});case"美容費":return o.jsx("span",{className:"text-lg",children:"💇"});case"交際費":return o.jsx("span",{className:"text-lg",children:"🎁"});default:return o.jsx(gE,{className:"w-4 h-4 text-gray-500"})}};return o.jsxs("form",{onSubmit:T,className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t?"取引編集":"新規取引作成"}),o.jsx("button",{type:"button",onClick:n,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),h.length>0&&!t&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(i3,{className:"w-4 h-4 text-gray-500 mr-2"}),o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"最近の取引"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:h.slice(0,3).map((F,W)=>o.jsxs("button",{type:"button",onClick:()=>D(F),className:"flex items-center justify-between p-2 text-sm bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center",children:[C(F.category,F.type),o.jsx("span",{className:"ml-2 font-medium",children:F.item})]}),o.jsxs("div",{className:"text-gray-500",children:[F.type==="income"?"+":"-","¥",Math.abs(F.amount).toLocaleString()]})]},W))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"取引項目"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",name:"item",value:r.item,onChange:_,placeholder:"例: コンビニ買い物",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,list:"item-options"}),o.jsxs("datalist",{id:"item-options",children:[o.jsx("option",{value:"コンビニ買い物"}),o.jsx("option",{value:"スーパーマーケット"}),o.jsx("option",{value:"給与"}),o.jsx("option",{value:"交通費"}),o.jsx("option",{value:"外食"}),o.jsx("option",{value:"カフェ"}),o.jsx("option",{value:"ガソリン"}),o.jsx("option",{value:"電車賃"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"金額"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",name:"amount",value:r.amount||"",onChange:_,onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),200),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"0",step:"1"}),f&&o.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-10 p-2",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"クイック入力:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(F=>o.jsxs("button",{type:"button",onClick:()=>k(F),className:`px-2 py-1 text-xs rounded ${x===F?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["¥",F.toLocaleString()]},F))})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"日付"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ty,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"date",name:"date",value:r.date,onChange:_,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリ"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{name:"category",value:r.category,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",required:!0,children:[o.jsx("option",{value:"",children:"カテゴリを選択"}),y.map(F=>o.jsx("option",{value:F,children:F},F))]}),r.category&&o.jsx("button",{type:"button",onClick:()=>R(r.category),className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-yellow-500",children:o.jsx(V0,{className:`w-4 h-4 ${u.includes(r.category)?"fill-yellow-400 text-yellow-400":""}`})}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx(H1,{className:"w-4 h-4 text-gray-400"})})]}),u.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:u.slice(0,5).map(F=>o.jsxs("button",{type:"button",onClick:()=>s(W=>({...W,category:F})),className:`px-2 py-1 text-xs rounded flex items-center ${r.category===F?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(V0,{className:"w-3 h-3 mr-1 fill-yellow-400 text-yellow-400"}),F]},F))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"タイプ"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>s(F=>({...F,type:"expense"})),className:`flex items-center justify-center px-3 py-2 rounded-lg border ${r.type==="expense"?"bg-red-50 border-red-300 text-red-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(zc,{className:"w-4 h-4 mr-2"}),"支出"]}),o.jsxs("button",{type:"button",onClick:()=>s(F=>({...F,type:"income"})),className:`flex items-center justify-center px-3 py-2 rounded-lg border ${r.type==="income"?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[o.jsx(Es,{className:"w-4 h-4 mr-2"}),"収入"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"場所"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",name:"location",value:r.location,onChange:_,placeholder:"場所を入力",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",list:"location-options"}),o.jsxs("datalist",{id:"location-options",children:[o.jsx("option",{value:"自宅"}),o.jsx("option",{value:"オフィス"}),o.jsx("option",{value:"コンビニ"}),o.jsx("option",{value:"スーパー"}),o.jsx("option",{value:"レストラン"}),o.jsx("option",{value:"駅"}),o.jsx("option",{value:"銀行"}),o.jsx("option",{value:"病院"}),o.jsx("option",{value:"学校"}),o.jsx("option",{value:"ジム"}),o.jsx("option",{value:"美容院"})]})]}),l.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"最近の場所"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:l.slice(0,5).map(F=>o.jsx("button",{type:"button",onClick:()=>I(F),className:`px-2 py-1 text-xs rounded ${r.location===F?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F},F))})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"説明"}),o.jsx("textarea",{name:"description",value:r.description,onChange:_,rows:2,placeholder:"取引の詳細を入力（任意）",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"タグ"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(L=r.tags)==null?void 0:L.map(F=>o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o.jsx(sE,{className:"w-3 h-3 mr-1"}),F,o.jsx("button",{type:"button",onClick:()=>j(F),className:"ml-1 inline-flex items-center",children:o.jsx(Ht,{className:"w-3 h-3"})})]},F))}),o.jsxs("div",{className:"flex",children:[o.jsx("input",{type:"text",value:i,onChange:F=>a(F.target.value),placeholder:"タグを追加",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),A())}}),o.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 bg-gray-100 border border-l-0 border-gray-300 rounded-r-lg text-gray-700 hover:bg-gray-200",children:"追加"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"recurring",checked:r.recurring,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"繰り返し取引"})]}),r.recurring&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"繰り返し頻度"}),o.jsxs("select",{name:"recurring_frequency",value:r.recurring_frequency,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"daily",children:"日次"}),o.jsx("option",{value:"weekly",children:"週次"}),o.jsx("option",{value:"monthly",children:"月次"}),o.jsx("option",{value:"yearly",children:"年次"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"キャンセル"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:t?"更新":"作成"})]})]})},eR="modulepreload",tR=function(t){return"/ainance-v2/"+t},H5={},ro=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=tR(c),c in H5)return;H5[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":eR,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},nR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ro(async()=>{const{default:r}=await Promise.resolve().then(()=>nu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class t2 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class W5 extends t2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class V5 extends t2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class K5 extends t2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lx||(lx={}));var rR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class sR{constructor(e,{headers:n={},customFetch:r,region:s=lx.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=nR(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rR(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:a,body:l,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const f=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new W5(y)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new V5(f);if(!f.ok)throw new K5(f);let x=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield f.json():x==="application/octet-stream"?b=yield f.blob():x==="text/event-stream"?b=f:x==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new W5(i)}:{data:null,error:i,response:i instanceof K5||i instanceof V5?i.context:void 0}}})}}var $r={},n2={},Dp={},wh={},Fp={},Bp={},iR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vc=iR();const aR=Vc.fetch,bj=Vc.fetch.bind(Vc),wj=Vc.Headers,oR=Vc.Request,lR=Vc.Response,nu=Object.freeze(Object.defineProperty({__proto__:null,Headers:wj,Request:oR,Response:lR,default:bj,fetch:aR},Symbol.toStringTag,{value:"Module"})),cR=P4(nu);var $p={};Object.defineProperty($p,"__esModule",{value:!0});let uR=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$p.default=uR;var _j=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bp,"__esModule",{value:!0});const dR=_j(cR),hR=_j($p);let fR=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=dR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let d=null,h=null,m=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=w:h=JSON.parse(w))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,f=200,v="OK")}catch{i.status===404&&b===""?(f=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new hR.default(d)}return{error:d,data:h,count:m,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Bp.default=fR;var pR=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fp,"__esModule",{value:!0});const mR=pR(Bp);let gR=class extends mR.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Fp.default=gR;var xR=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wh,"__esModule",{value:!0});const yR=xR(Fp);let vR=class extends yR.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};wh.default=vR;var bR=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dp,"__esModule",{value:!0});const Vu=bR(wh);let wR=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Vu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Vu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vu.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Vu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Vu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Dp.default=wR;var Nj=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n2,"__esModule",{value:!0});const _R=Nj(Dp),NR=Nj(wh);let jR=class jj{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new _R.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new NR.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};n2.default=jR;var ru=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($r,"__esModule",{value:!0});$r.PostgrestError=$r.PostgrestBuilder=$r.PostgrestTransformBuilder=$r.PostgrestFilterBuilder=$r.PostgrestQueryBuilder=$r.PostgrestClient=void 0;const Sj=ru(n2);$r.PostgrestClient=Sj.default;const kj=ru(Dp);$r.PostgrestQueryBuilder=kj.default;const Aj=ru(wh);$r.PostgrestFilterBuilder=Aj.default;const Cj=ru(Fp);$r.PostgrestTransformBuilder=Cj.default;const Ej=ru(Bp);$r.PostgrestBuilder=Ej.default;const Lj=ru($p);$r.PostgrestError=Lj.default;var SR=$r.default={PostgrestClient:Sj.default,PostgrestQueryBuilder:kj.default,PostgrestFilterBuilder:Aj.default,PostgrestTransformBuilder:Cj.default,PostgrestBuilder:Ej.default,PostgrestError:Lj.default};const{PostgrestClient:kR,PostgrestQueryBuilder:qU,PostgrestFilterBuilder:HU,PostgrestTransformBuilder:WU,PostgrestBuilder:VU,PostgrestError:KU}=SR;class AR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const CR="2.75.1",ER=`realtime-js/${CR}`,LR="1.0.0",cx=1e4,PR=1e3,TR=100;var Ad;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ad||(Ad={}));var Wn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wn||(Wn={}));var Xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xs||(Xs={}));var ux;(function(t){t.websocket="websocket"})(ux||(ux={}));var Qo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qo||(Qo={}));class IR{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Pj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jt||(Jt={}));const G5=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=OR(a,t,e,s),i),{}):{}},OR=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Tj(i,a):dx(a)},Tj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return FR(e,n)}switch(t){case Jt.bool:return RR(e);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return MR(e);case Jt.json:case Jt.jsonb:return DR(e);case Jt.timestamp:return BR(e);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return dx(e);default:return dx(e)}},dx=t=>t,RR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},MR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},DR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},FR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Tj(e,l))}return t},BR=t=>typeof t=="string"?t.replace(" ","T"):t,Ij=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class hg{constructor(e,n,r={},s=cx){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Y5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Y5||(Y5={}));class Cd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cd.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Cd.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cd.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),v=d.filter(b=>f.indexOf(b.presence_ref)<0),x=h.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(J5||(J5={}));var Ed;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ed||(Ed={}));var Gi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gi||(Gi={}));class r2{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hg(this,Xs.join,this.params,this.timeout),this.rejoinTimer=new Pj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xs.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Cd(this),this.broadcastEndpointURL=Ij(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Wn.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ed.PRESENCE]&&this.bindings[Ed.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Gi.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Gi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(Gi.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<b;w++){const _=x[w],{filter:{event:k,schema:R,table:I,filter:D}}=_,A=f&&f[w];if(A&&A.event===k&&A.schema===R&&A.table===I&&A.filter===D)y.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=Wn.errored,e==null||e(Gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Gi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Wn.errored,e==null||e(Gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Wn.joined&&e===Ed.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new hg(this,Xs.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Xs;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,x,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=f.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,x,b,y,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const k=f.id,R=(v=f.filter)===null||v===void 0?void 0:v.event;return k&&((x=n.ids)===null||x===void 0?void 0:x.includes(k))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(w=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:b,commit_timestamp:y,type:w,errors:_}=v;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}f.callback(m,r)})}_isClosed(){return this.state===Wn.closed}_isJoined(){return this.state===Wn.joined}_isJoining(){return this.state===Wn.joining}_isLeaving(){return this.state===Wn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&r2.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xs.close,{},e)}_onError(e){this._on(Xs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=G5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=G5(e.columns,e.old_record)),n}}const fg=()=>{},Bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$R=[1e3,2e3,5e3,1e4],UR=1e4,zR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qR{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cx,this.transport=null,this.heartbeatIntervalMs=Bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fg,this.ref=0,this.reconnectTimer=null,this.logger=fg,this.conn=null,this.sendBuffer=[],this.serializer=new IR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>ro(async()=>{const{default:l}=await Promise.resolve().then(()=>nu);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ux.websocket}`,this.httpEndpoint=Ij(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LR}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ad.connecting:return Qo.Connecting;case Ad.open:return Qo.Open;case Ad.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new r2(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:ER};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Xs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Pj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:cx,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Bf.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:fg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>$R[h-1]||UR,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class s2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HR extends s2{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hx extends s2{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var WR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Oj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ro(async()=>{const{default:r}=await Promise.resolve().then(()=>nu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},VR=()=>WR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ro(()=>Promise.resolve().then(()=>nu),void 0)).Response:Response}),fx=t=>{if(Array.isArray(t))return t.map(n=>fx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fx(r)}),e},KR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const pg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GR=(t,e,n)=>jl(void 0,void 0,void 0,function*(){const r=yield VR();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new HR(pg(s),i,a))}).catch(s=>{e(new hx(pg(s),s))}):e(new hx(pg(t),t))}),YR=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(KR(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function _h(t,e,n,r,s,i){return jl(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,YR(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>GR(c,l,r))})})}function ip(t,e,n,r){return jl(this,void 0,void 0,function*(){return _h(t,"GET",e,n,r)})}function bi(t,e,n,r,s){return jl(this,void 0,void 0,function*(){return _h(t,"POST",e,r,s,n)})}function px(t,e,n,r,s){return jl(this,void 0,void 0,function*(){return _h(t,"PUT",e,r,s,n)})}function JR(t,e,n,r){return jl(this,void 0,void 0,function*(){return _h(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rj(t,e,n,r,s){return jl(this,void 0,void 0,function*(){return _h(t,"DELETE",e,r,s,n)})}var XR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class QR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return XR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fn(e))return{data:null,error:e};throw e}})}}var ZR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})},Mj;class eM{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Mj]="BlobDownloadBuilder",this.promise=null}asStream(){return new QR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ZR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fn(e))return{data:null,error:e};throw e}})}}Mj=Symbol.toStringTag;var Dr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const tM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nM{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Oj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Dr(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},X5),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?px:bi)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Dr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:X5.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield px(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Fn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new s2("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Dr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=yield bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ip(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new eM(c,this.shouldThrowOnError)}info(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ip(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}exists(e){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r)&&r instanceof hx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Dr(this,void 0,void 0,function*(){try{return{data:yield Rj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Dr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tM),n),{prefix:e||""});return{data:yield bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}listV2(e,n){return Dr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rM="2.75.1",sM={"X-Client-Info":`storage-js/${rM}`};var ql=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class iM{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sM),n),this.fetch=Oj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ql(this,void 0,void 0,function*(){try{return{data:yield ip(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fn(e))return{data:null,error:e};throw e}})}getBucket(e){return ql(this,void 0,void 0,function*(){try{return{data:yield ip(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}createBucket(e){return ql(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ql(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ql(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ql(this,void 0,void 0,function*(){try{return{data:yield Rj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}}class aM extends iM{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new nM(this.url,this.headers,e,this.fetch)}}const oM="2.75.1";let ld="";typeof Deno<"u"?ld="deno":typeof document<"u"?ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ld="react-native":ld="node";const lM={"X-Client-Info":`supabase-js-${ld}/${oM}`},cM={headers:lM},uM={schema:"public"},dM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hM={};var fM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const pM=t=>{let e;return t?e=t:typeof fetch>"u"?e=bj:e=fetch,(...n)=>e(...n)},mM=()=>typeof Headers>"u"?wj:Headers,gM=(t,e,n)=>{const r=pM(n),s=mM();return(i,a)=>fM(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var xM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function yM(t){return t.endsWith("/")?t:t+"/"}function vM(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xM(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function bM(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dj="2.75.1",Ql=30*1e3,mx=3,mg=mx*Ql,wM="http://localhost:9999",_M="supabase.auth.token",NM={"X-Client-Info":`gotrue-js/${Dj}`},gx="X-Supabase-Api-Version",Fj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SM=10*60*1e3;class oh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kM extends oh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AM(t){return rt(t)&&t.name==="AuthApiError"}class Zo extends oh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class go extends oh{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ia extends go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CM(t){return rt(t)&&t.name==="AuthSessionMissingError"}class Hl extends go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $f extends go{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uf extends go{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EM(t){return rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Q5 extends go{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xx extends go{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function gg(t){return rt(t)&&t.name==="AuthRetryableFetchError"}class Z5 extends go{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yx extends go{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ew=` 	
\r=`.split(""),LM=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ew.length;e+=1)t[ew[e].charCodeAt(0)]=-2;for(let e=0;e<ap.length;e+=1)t[ap[e].charCodeAt(0)]=e;return t})();function tw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ap[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ap[r]),e.queuedBits-=6}}function Bj(t,e,n){const r=LM[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nw(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{IM(a,r,n)};for(let a=0;a<t.length;a+=1)Bj(t.charCodeAt(a),s,i);return e.join("")}function PM(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TM(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}PM(r,e)}}function IM(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Cc(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Bj(t.charCodeAt(s),n,r);return new Uint8Array(e)}function OM(t){const e=[];return TM(t,n=>e.push(n)),new Uint8Array(e)}function al(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>tw(s,n,r)),tw(null,n,r),e.join("")}function RM(t){return Math.round(Date.now()/1e3)+t}function MM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ss=()=>typeof window<"u"&&typeof document<"u",qo={tested:!1,writable:!1},$j=()=>{if(!ss())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qo.tested)return qo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qo.tested=!0,qo.writable=!0}catch{qo.tested=!0,qo.writable=!1}return qo.writable};function DM(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Uj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ro(async()=>{const{default:r}=await Promise.resolve().then(()=>nu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},FM=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ho=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ea=async(t,e)=>{await t.removeItem(e)};class Up{constructor(){this.promise=new Up.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Up.promiseConstructor=Promise;function xg(t){const e=t.split(".");if(e.length!==3)throw new yx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jM.test(e[r]))throw new yx("JWT not in base64url format");return{header:JSON.parse(nw(e[0])),payload:JSON.parse(nw(e[1])),signature:Cc(e[2]),raw:{header:e[0],payload:e[1]}}}async function BM(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $M(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function UM(t){return("0"+t.toString(16)).substr(-2)}function zM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,UM).join("")}async function qM(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function HM(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qM(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wl(t,e,n=!1){const r=zM();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zl(t,`${e}-code-verifier`,s);const i=await HM(r);return[i,r===i?"plain":"s256"]}const WM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VM(t){const e=t.headers.get(gx);if(!e||!e.match(WM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KM(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GM(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vl(t){if(!YM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rw(t){return JSON.parse(JSON.stringify(t))}var JM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Jo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XM=[502,503,504];async function sw(t){var e;if(!FM(t))throw new xx(Jo(t),0);if(XM.includes(t.status))throw new xx(Jo(t),t.status);let n;try{n=await t.json()}catch(i){throw new Zo(Jo(i),i)}let r;const s=VM(t);if(s&&s.getTime()>=Fj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Z5(Jo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ia}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Z5(Jo(n),t.status,n.weak_password.reasons);throw new kM(Jo(n),t.status||500,r)}const QM=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function mt(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gx]||(i[gx]=Fj["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await ZM(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ZM(t,e,n,r,s,i){const a=QM(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new xx(Jo(c),0)}if(l.ok||await sw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await sw(c)}}function Vs(t){var e;let n=null;nD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RM(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function iw(t){const e=Vs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ba(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function eD(t){return{data:t,error:null}}function tD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=JM(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function aw(t){return t}function nD(t){return t.access_token&&t.refresh_token&&t.expires_in}const vg=["global","local","others"];var rD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class sD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Uj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=vg[0]){if(vg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vg.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ba})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rD(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ba})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:aw});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Vl(e);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ba})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Vl(e);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ba})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Vl(e);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ba})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Vl(e.userId);try{const{data:n,error:r}=await mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Vl(e.userId),Vl(e.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:aw});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(rt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function ow(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Kl={debug:!!(globalThis&&$j()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iD extends zj{}async function aD(t,e,n){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function oD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lD(t){return parseInt(t,16)}function cD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function uD(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=qj(t.address),v=d?`${d}://${r}`:r,x=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${x}`;let y=`URI: ${h}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${b}
${y}`}class Dn extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class op extends Dn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dD({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Dn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Dn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Wj(a)){if(i.rp.id!==a)return new Dn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Dn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hD({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Wj(r)){if(n.rpId!==r)return new Dn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Hj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class fD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pD=new fD;function mD(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Hj(t,["challenge","user","excludeCredentials"]),i=Cc(e).buffer,a=Object.assign(Object.assign({},n),{id:Cc(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Cc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function gD(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Hj(t,["challenge","allowCredentials"]),s=Cc(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Cc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function xD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:al(new Uint8Array(t.response.attestationObject)),clientDataJSON:al(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yD(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:al(new Uint8Array(s.authenticatorData)),clientDataJSON:al(new Uint8Array(s.clientDataJSON)),signature:al(new Uint8Array(s.signature)),userHandle:s.userHandle?al(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lw(){var t,e;return!!(ss()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function vD(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new op("Browser returned unexpected credential type",e)}:{data:null,error:new op("Empty credential response",e)}}catch(e){return{data:null,error:dD({error:e,options:t})}}}async function bD(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new op("Browser returned unexpected credential type",e)}:{data:null,error:new op("Empty credential response",e)}}catch(e){return{data:null,error:hD({error:e,options:t})}}}const wD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_D={userVerification:"preferred",hints:["security-key"]};function lp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const l=r[i];e(l)?r[i]=lp(l,a):r[i]=lp(a)}else r[i]=a}return r}function ND(t,e){return lp(wD,t,e||{})}function jD(t,e){return lp(_D,t,e||{})}class SD{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const c=s??pD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ND(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await vD({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=jD(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await bD(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return rt(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new oh("rpId is required for WebAuthn authentication")};try{if(!lw())return{data:null,error:new Zo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return rt(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new oh("rpId is required for WebAuthn registration")};try{if(!lw())return{data:null,error:new Zo("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return rt(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in register",a)}}}}oD();const kD={url:wM,storageKey:_M,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cw(t,e,n){return await n()}const Gl={};class lh{get jwks(){var e,n;return(n=(e=Gl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Gl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lh.nextInstanceID,lh.nextInstanceID+=1,this.instanceID>0&&ss()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kD),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uj(s.fetch),this.lock=s.lock||cw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ss()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aD:this.lock=cw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SD(this)},this.persistSession?(s.storage?this.storage=s.storage:$j()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ow(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ow(this.memoryStorage)),ss()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=DM(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ss()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),EM(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?{error:n}:{error:new Zo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vs}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Wl(this.storage,this.storageKey)),i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:v},xform:Vs})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Vs})}else throw new $f("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iw})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:iw})}else throw new $f("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Hl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,l,c,u,d,h,m;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:x,wallet:b,statement:y,options:w}=e;let _;if(ss())if(typeof b=="object")_=b;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")_=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const k=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),R=await _.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=qj(R[0]);let D=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const j=await _.request({method:"eth_chainId"});D=lD(j)}const A={domain:k.host,address:I,statement:y,uri:k.href,version:"1",chainId:D,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=uD(A),v=await _.request({method:"personal_sign",params:[cD(f),I]})}try{const{data:x,error:b}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Vs});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Hl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(rt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,s,i,a,l,c,u,d,h,m,f;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:w,options:_}=e;let k;if(ss())if(typeof y=="object")k=y;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))k=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const R=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const I=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),w?{statement:w}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)v=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),x=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${R.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=I}}try{const{data:b,error:y}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:al(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Vs});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Hl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(rt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Vs});if(await Ea(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wl(this.storage,this.storageKey));const{error:h}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $f("You must provide either an email or phone number.")}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Vs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Wl(this.storage,this.storageKey)),await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:eD})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ia;const{error:s}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(rt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new $f("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ho(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=yg()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ba}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ia}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ba})})}catch(n){if(rt(n))return CM(n)&&(await this._removeSession(),await Ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ia;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Wl(this.storage,this.storageKey));const{data:u,error:d}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ba});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ia;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=xg(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ia;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ss())throw new Uf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Q5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Q5("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Uf("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=Ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(AM(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=MM(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Wl(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ss()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vs}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Hl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:f})}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $M(async s=>(s>0&&await BM(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&gg(i)&&Date.now()+a-r<Ql})}catch(r){if(this._debug(n,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ss()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ho(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Zl(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:yg()}else if(s&&!s.user&&!s.user){const a=await Ho(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ea(this.storage,this.storageKey+"-user"),await Zl(this.storage,this.storageKey,s)):s.user=yg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${mg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),gg(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Up;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ia;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),rt(i)){const a={data:null,error:i};return gg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=rw(s);await Zl(this.storage,this.storageKey,i)}else{const s=rw(n);await Zl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ea(this.storage,this.storageKey),await Ea(this.storage,this.storageKey+"-code-verifier"),await Ea(this.storage,this.storageKey+"-user"),this.userStorage&&await Ea(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ss()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ql);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ql}ms, refresh threshold is ${mx} ticks`),s<=mx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ss()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Wl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xD(e.webauthn.credential_response):yD(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=await mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mD(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gD(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=xg(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+SM>s)return r;const{data:i,error:a}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=xg(r);n!=null&&n.allowExpired||KM(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=GM(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,OM(`${l}.${c}`)))throw new yx("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}lh.nextInstanceID=0;const AD=lh;class CD extends AD{constructor(e){super(e)}}var ED=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class LD{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=bM(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:uM,realtime:hM,auth:Object.assign(Object.assign({},dM),{storageKey:c}),global:cM},d=vM(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=gM(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kR(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new aM(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new sR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return ED(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CD({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PD=(t,e,n)=>new LD(t,e,n);function TD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TD()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ID="https://naglswzaljvnoazkasfr.supabase.co",OD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5hZ2xzd3phbGp2bm9hemthc2ZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NjQyMjgsImV4cCI6MjA3NjI0MDIyOH0.uZC9KmpavWV3GC4hyVUn5ndfDoxGU8LDplxQNnKEgv0",Ur=PD(ID,OD),RD=t=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),Vj=()=>{const[t,e]=ae.useState([]),[n,r]=ae.useState(!1),s=async()=>{r(!0);try{const{data:c,error:u}=await Ur.from("transactions").select("*").order("date",{ascending:!1});if(u)throw new Error(`取引データの取得に失敗しました: ${u.message}`);e(c||[])}catch(c){console.error("取引データの取得に失敗しました:",c)}finally{r(!1)}},i=async c=>{try{RD(c.creator)||(console.warn("無効なcreator IDが検出されました。匿名ユーザーとして処理します。"),c.creator="00000000-0000-0000-0000-000000000000");const u={...c,creator:c.creator||"00000000-0000-0000-0000-000000000000",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:d,error:h}=await Ur.from("transactions").insert([u]).select().single();if(h)throw new Error(`取引の作成に失敗しました: ${h.message}`);if(d)return e(m=>[d,...m]),d.id}catch(u){throw console.error("取引の作成に失敗しました:",u),u.message&&u.message.includes("Failed to fetch")?new Error("ネットワークエラーが発生しました。インターネット接続を確認してください。"):u}},a=async(c,u)=>{try{const{data:d,error:h}=await Ur.from("transactions").update({...u,updated_at:new Date().toISOString()}).eq("id",c).select().single();if(h)throw new Error(`取引の更新に失敗しました: ${h.message}`);d&&e(m=>m.map(f=>f.id===c?{...f,...d}:f))}catch(d){throw console.error("取引の更新に失敗しました:",d),d}},l=async c=>{try{const{error:u}=await Ur.from("transactions").delete().eq("id",c);if(u)throw new Error(`取引の削除に失敗しました: ${u.message}`);e(d=>d.filter(h=>h.id!==c))}catch(u){throw console.error("取引の削除に失敗しました:",u),u}};return ae.useEffect(()=>{s()},[]),{transactions:t,loading:n,fetchTransactions:s,createTransaction:i,updateTransaction:a,deleteTransaction:l}},MD=()=>{const[t,e]=ae.useState([]),[n,r]=ae.useState(!1),s=async()=>{r(!0);try{const{data:a,error:l}=await Ur.from("ai_transactions").select("*").order("created_at",{ascending:!1});if(l)throw new Error(`AI取引データの取得に失敗しました: ${l.message}`);e(a||[])}catch(a){console.error("AI取引データの取得に失敗しました:",a)}finally{r(!1)}},i=async(a,l,c)=>{try{const{data:u,error:d}=await Ur.from("ai_transactions").update({manual_verified:l,learning_feedback:c,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(d)throw new Error(`AI取引の確認に失敗しました: ${d.message}`);u&&(console.log(l?"AI分類を承認しました":"AI分類を却下しました"),e(h=>h.map(m=>m.id===a?{...m,manual_verified:l}:m)))}catch(u){throw console.error("AI取引の確認に失敗しました:",u),u}};return ae.useEffect(()=>{s()},[]),{aiTransactions:t,loading:n,fetchAITransactions:s,verifyAITransaction:i}},DD=()=>{const[t,e]=ae.useState(null),[n,r]=ae.useState(!0),{transactions:s,loading:i,createTransaction:a}=Vj(),{aiTransactions:l}=MD(),[c,u]=ae.useState(!1),{isAuthenticated:d,user:h}=Py(),m=gh();if(ae.useEffect(()=>{console.log("Dashboard: ページが読み込まれました"),console.log("Dashboard: 認証状態",{isAuthenticated:d,authUser:h});const b=localStorage.getItem("user");if(console.log("Dashboard: ローカルストレージから取得したユーザー情報:",b),b)try{const y=JSON.parse(b);console.log("Dashboard: ユーザー情報を解析しました:",y),e(y),r(!1)}catch(y){console.error("Dashboard: ユーザー情報の解析に失敗しました:",y),r(!1)}else d&&h?(console.log("Dashboard: useAuthフックからユーザー情報を取得しました:",h),e(h),r(!1)):(console.log("Dashboard: ユーザー情報が見つからないか認証されていません"),r(!1),console.log("Dashboard: ログインページにリダイレクト"),m("/",{replace:!0}))},[d,h,m]),ae.useEffect(()=>{const b=()=>u(!0);return window.addEventListener("openCreateTransactionModal",b),()=>{window.removeEventListener("openCreateTransactionModal",b)}},[]),n||i)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"データを読み込んでいます..."})]})});if(!t)return console.log("Dashboard: ユーザー情報がありません"),o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"認証が必要です"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"ダッシュボードにアクセスするにはログインが必要です。"}),o.jsx("button",{onClick:()=>m("/",{replace:!0}),className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors",children:"ログインページへ"})]})});const f=b=>{const y=["日付","説明","金額","カテゴリ","タイプ","ステータス"],w=b.map(k=>[k.date,`"${k.description}"`,k.amount.toString(),`"${k.category}"`,k.type,k.status]);return[y.join(","),...w.map(k=>k.join(","))].join(`
`)},v=()=>{const b=f(s),y=new Blob(["\uFEFF",b],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(y),_=document.createElement("a");_.setAttribute("href",w),_.setAttribute("download",`取引データ_${new Date().toISOString().split("T")[0]}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)},x=async b=>{try{const y=localStorage.getItem("user");if(y&&t)try{const w=JSON.parse(y);/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(w.id)?b.creator=w.id:(console.warn("無効なユーザーID形式です。匿名ユーザーとして処理します。"),b.creator="00000000-0000-0000-0000-000000000000")}catch(w){console.error("ユーザー情報の解析に失敗しました:",w),b.creator="00000000-0000-0000-0000-000000000000"}else b.creator="00000000-0000-0000-0000-000000000000";await a(b),u(!1)}catch(y){console.error("取引の作成に失敗:",y),alert("取引の作成に失敗しました。もう一度お試しください。")}};return console.log("Dashboard: ダッシュボードを表示します"),console.log("Dashboard: 取引データ",s),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ダッシュボード"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[o.jsxs("button",{onClick:v,disabled:s.length===0,className:`px-4 py-2 rounded-md transition-colors flex items-center justify-center border ${s.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white text-green-600 border-green-600 hover:bg-green-50"}`,children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"CSVエクスポート"]}),o.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"新規取引"]})]})]}),o.jsx($P,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsx(J9,{transactions:s}),o.jsx(X9,{transactions:s})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(Q9,{transactions:s,onOpenCreateModal:()=>u(!0),showCreateButton:!1}),o.jsx(Z9,{aiTransactions:l,loading:i})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"p-6",children:o.jsx(vj,{onSubmit:x,onCancel:()=>u(!1)})})})})]})};class FD{parseReceipt(e){console.log("レシート解析を開始。OCRテキスト:",e);const n={store_name:this.extractStoreName(e),date:this.extractDate(e),total_amount:this.extractTotal(e),tax_rate:this.extractTaxRate(e),raw_text:e,confidence:{store_name:this.calculateConfidence("store_name",e),date:this.calculateConfidence("date",e),total_amount:this.calculateConfidence("total_amount",e),tax_rate:this.calculateConfidence("tax_rate",e)},items:this.extractItems(e),items_count:this.extractItemsCount(e)};return console.log("レシート解析結果:",n),n}extractTotal(e){console.log("合計金額抽出を開始");const n=[/合計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/Total[^\d]*(?:¥|￥)?[\d,]+\.?\d*/,/お買上金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お会計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/合\s*計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/総合計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/[合計金額合計][^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払総額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払い金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/支払金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/[Tt]otal\s*:?\s*(?:¥|￥)?[\d,]+\.?\d*/,/[Ss]ubtotal\s*:?\s*(?:¥|￥)?[\d,]+\.?\d*/,/ご購入金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/];let r=0;for(const a of n){const l=e.match(a);if(l){console.log("合計金額のパターンマッチ:",l[0]);const c=l[0].match(/(?:¥|￥)?([\d,]+\.?\d*)円?/);if(c){console.log("金額部分の抽出:",c[1]);const u=c[1].replace(/,/g,""),d=parseFloat(u);!isNaN(d)&&d>r&&(r=d)}}}if(r>0)return console.log("合計金額抽出成功:",r),Math.round(r);const s=e.match(/(?:¥|￥)?([\d,]+\.?\d*)円?/g);if(s&&s.length>0){console.log("数字マッチ:",s);const a=s.map(l=>{const c=l.replace(/[^0-9.]/g,"");return parseFloat(c)}).filter(l=>!isNaN(l)).sort((l,c)=>c-l);if(a.length>0)return console.log("ソートされた数字:",a),console.log("最大の数字を合計金額として採用:",a[0]),Math.round(a[0])}const i=e.match(/[\d,]+\.?\d*/g);if(i&&i.length>0){console.log("すべての数字:",i);const a=i.map(l=>parseFloat(l.replace(/,/g,""))).filter(l=>!isNaN(l)).sort((l,c)=>c-l);if(a.length>0)return console.log("すべての数字から最大値を採用:",a[0]),Math.round(a[0])}return console.log("合計金額の抽出に失敗"),0}extractDate(e){console.log("日付抽出を開始");const n=[/(\d{4})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*日?/,/(\d{2})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*日?/,/(\d{4})\s*年\s*(\d{1,2})\s*月\s*(\d{1,2})\s*日/,/(\d{1,2})[/\-\.](\d{1,2})[/\-\.](\d{4})/,/(\d{4})[/\-\.](\d{1,2})[/\-\.](\d{1,2})\s*T\d{2}:\d{2}:\d{2}/,/(\d{4})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*\d{1,2}:\d{2}/,/(\d{1,2})月(\d{1,2})日(\d{4})年/,/(\d{1,2})\/(\d{1,2})\/(\d{2})/,/(\d{1,2})[-\.](\d{1,2})[-\.](\d{2})/,/[Dd]ate\s*:?\s*(\d{4})[/\-\.](\d{1,2})[/\-\.](\d{1,2})/,/[Dd]ate\s*:?\s*(\d{1,2})[/\-\.](\d{1,2})[/\-\.](\d{4})/];for(const s of n){const i=e.match(s);if(i){console.log("日付のパターンマッチ:",i);let a,l,c;s.toString().includes("(\\d{1,2})[/\\-\\.](\\d{1,2})[/\\-\\.](\\d{4})")||s.toString().includes("(\\d{1,2})月(\\d{1,2})日(\\d{4})年")?(l=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),a=i[3]):s.toString().includes("(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2})")||s.toString().includes("(\\d{1,2})[-\\.](\\d{1,2})[-\\.](\\d{2})")?(l=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),a=`20${i[3]}`):(a=i[1],l=i[2].padStart(2,"0"),c=i[3].padStart(2,"0")),a.length===2&&(a=`20${a}`);const u=`${a}-${l}-${c}`;return console.log("日付抽出成功:",u),u}}const r=e.match(/\d{4}[/\-\.年]\d{1,2}[/\-\.月]\d{1,2}/);if(r){const i=r[0].replace(/[年月]/g,"/").replace(/日/g,"").split(/[/\-\.]/);if(i.length===3){const a=i[0],l=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),u=`${a}-${l}-${c}`;return console.log("代替方法で日付抽出成功:",u),u}}return console.log("日付の抽出に失敗"),""}extractTaxRate(e){console.log("税率抽出を開始");const n=[/税率?\s*(\d+(?:\.\d+)?)%/,/消費税\s*(\d+(?:\.\d+)?)%/,/内消費税\s*(\d+(?:\.\d+)?)%/,/税\s*(\d+(?:\.\d+)?)\s*%/,/(\d+(?:\.\d+)?)%\s*消費税/,/(\d+(?:\.\d+)?)%\s*税/,/(\d+(?:\.\d+)?)%\s*内税/,/(\d+(?:\.\d+)?)%\s*外税/,/[Tt]ax\s*:?\s*(\d+(?:\.\d+)?)%/,/[Rr]ate\s*:?\s*(\d+(?:\.\d+)?)%/,/(\d+(?:\.\d+)?)\s*%\s*[Ii]ncl?\./];for(const r of n){const s=e.match(r);if(s){console.log("税率のパターンマッチ:",s[1]);const i=parseFloat(s[1]);if(!isNaN(i))return console.log("税率抽出成功:",i),i}}return e.includes("8%")||e.includes("0.08")?(console.log("8%の税率を推定"),8):e.includes("10%")||e.includes("0.10")?(console.log("10%の税率を推定"),10):e.includes("内税")||e.includes("税込")?(console.log("内税表示を検出。一般的な税率10%を推定"),10):(console.log("税率の抽出に失敗"),0)}extractStoreName(e){console.log("店舗名抽出を開始");const n=e.split(`
`);console.log("テキスト行数:",n.length);for(let r=0;r<Math.min(20,n.length);r++){const s=n[r].trim();if(console.log(`行${r}:`,s),s&&!s.includes("合計")&&!s.includes("計")&&!s.includes("税率")&&!s.includes("消費税")&&!s.includes("小計")&&!s.includes("預かり")&&!s.includes("お釣り")&&!s.includes("合計")&&!s.includes("レシート")&&!s.includes("領収書")&&!s.includes("売上票")&&!s.includes("No.")&&!s.includes("TEL")&&!s.includes("電話")&&!/^\d+[)%]/.test(s)&&!/^[¥￥]/.test(s)&&!/^\d{4}[/\-\.年]\d{1,2}[/\-\.月]\d{1,2}/.test(s)&&!/^(\d{1,2}:\d{2}|\d{1,2}時\d{1,2}分)/.test(s)&&s.length>1&&(console.log("店舗名候補:",s),!["様","御社","御中","宛","宛先"].some(a=>s.startsWith(a))))return s}for(let r=0;r<Math.min(5,n.length);r++){const s=n[r].trim();if(s&&!/^\d/.test(s)&&s.length>2)return console.log("最終候補として店舗名を返す:",s),s}return console.log("店舗名の抽出に失敗"),""}calculateConfidence(e,n){switch(console.log("信頼度計算を開始。フィールド:",e),e){case"store_name":const r=this.extractStoreName(n);return r&&r.length>1?.9:.1;case"date":const s=this.extractDate(n);return s&&s.length>=8?.95:.2;case"total_amount":return this.extractTotal(n)>0?.9:.3;case"tax_rate":const a=this.extractTaxRate(n);return a>0?.85:a===0?.5:.1;default:return .5}}extractItems(e){console.log("商品アイテム抽出を開始");const n=[],r=e.split(`
`),s=[/(.+?)\s+([0-9,]+)円/,/(.+?)\s+¥([0-9,]+)/,/(.+?)\s+￥([0-9,]+)/,/(.+?)\s+([0-9,]+)\s*円/];for(const i of r)if(!(i.includes("合計")||i.includes("小計")||i.includes("税")||i.includes("/")||i.includes("-")||i.includes(":")))for(const a of s){const l=i.match(a);if(l){const c=l[1].trim(),u=parseInt(l[2].replace(/,/g,""));if(c.length>1&&c.length<50&&u>0&&u<1e5){n.push({name:c,price:u,quantity:1});break}}}return console.log("商品アイテム抽出結果:",n),n}extractItemsCount(e){console.log("アイテム数抽出を開始");const r=this.extractItems(e).length;return console.log("アイテム数:",r),r}}const BD=t=>{const[e,n]=ae.useState(!1),[r,s]=ae.useState(!1),[i,a]=ae.useState(null),[l,c]=ae.useState(null),[u,d]=ae.useState(!1),[h,m]=ae.useState(null),[f,v]=ae.useState(1),[x,b]=ae.useState(!1),y=ae.useRef(null),w=ae.useRef(null),_=ae.useRef(null),k=ae.useRef(null),R={CAMERA_PERMISSION:"カメラの使用許可が必要です",OCR_FAILED:"レシートの読み取りに失敗しました",NO_DATA_FOUND:"必要な情報が見つかりませんでした",INVALID_IMAGE:"画像が不鮮明です。再度撮影してください"},I=async()=>{if(console.log("カメラ起動ボタンがクリックされました"),console.log("現在のプロトコル:",location.protocol),console.log("現在のホスト名:",location.hostname),location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"){if(console.log("HTTPS環境での警告を表示します"),!window.confirm("モバイル端末でカメラ機能を使用するにはHTTPS環境が必要です。現在のHTTP環境ではカメラが動作しない可能性があります。テストを続行しますか？")){console.log("ユーザーが警告をキャンセルしました");return}console.log("ユーザーが警告を確認しました")}s(!0),console.log("カメラ使用許可モーダルを表示しました")},D=async()=>{console.log("カメラ許可ボタンがクリックされました");try{s(!1),console.log("カメラアクセスを試行中..."),console.log("カメラ制約を設定中...");const V={video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}};console.log("カメラ制約:",V);const E=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(console.log("モバイル環境チェック:",E),E){const M={video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}};console.log("モバイル用カメラ制約:",M);const Y=await navigator.mediaDevices.getUserMedia(M);console.log("モバイル環境でカメラストリームを取得しました:",Y),_.current=Y,k.current=Y.getVideoTracks()[0],y.current&&(y.current.srcObject=Y,console.log("video要素にストリームを設定しました"))}else{const M=await navigator.mediaDevices.getUserMedia(V);console.log("カメラストリームを取得しました:",M),_.current=M,k.current=M.getVideoTracks()[0],y.current&&(y.current.srcObject=M,console.log("video要素にストリームを設定しました"))}n(!0),m(null),console.log("カメラが正常に起動しました")}catch(V){console.error("カメラ起動エラー:",V),V.name==="NotAllowedError"?m("カメラの使用が拒否されました。ブラウザの設定でカメラの使用を許可してください。"):V.name==="NotFoundError"?m("利用可能なカメラが見つかりません。"):V.name==="NotReadableError"?m("カメラが他のアプリケーションによって使用中です。"):location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"?m("モバイル端末でカメラ機能を使用するにはHTTPS環境が必要です。HTTPS環境またはlocalhostでのみカメラ機能を使用できます。"):m(R.CAMERA_PERMISSION)}},A=()=>{console.log("カメラ停止処理を開始"),_.current&&(_.current.getTracks().forEach(V=>{console.log("トラックを停止:",V),V.stop()}),_.current=null,k.current=null),n(!1),console.log("カメラ停止処理完了")},j=async()=>{if(k.current&&"torch"in k.current.getCapabilities())try{const V=!x;await k.current.applyConstraints({advanced:[{torch:V}]}),b(V)}catch(V){console.error("フラッシュの切り替えに失敗しました:",V),m("フラッシュの切り替えに失敗しました")}else m("このデバイスではフラッシュがサポートされていません")},T=async V=>{if(k.current&&"zoom"in k.current.getCapabilities())try{const E=k.current.getCapabilities(),Y=k.current.getSettings().zoom||1,he=Math.min(Math.max(Y+V,E.zoom.min),E.zoom.max);await k.current.applyConstraints({advanced:[{zoom:he}]}),v(he)}catch(E){console.error("ズームの調整に失敗しました:",E)}},C=V=>new Promise(E=>{const M=new Image;M.onload=()=>{const Y=document.createElement("canvas"),he=Y.getContext("2d");if(!he){E(V);return}Y.width=M.width,Y.height=M.height,he.drawImage(M,0,0);const me=he.getImageData(0,0,Y.width,Y.height),le=me.data;for(let X=0;X<le.length;X+=4){const Oe=le[X],De=le[X+1],Ie=le[X+2],je=.299*Oe+.587*De+.114*Ie,Me=1.5,$e=259*(Me+255)/(255*(259-Me))*(je-128)+128;le[X]=le[X+1]=le[X+2]=Math.max(0,Math.min(255,$e))}he.putImageData(me,0,0),E(Y.toDataURL("image/jpeg",.9))},M.src=V}),L=async()=>{if(console.log("写真撮影を開始"),y.current&&w.current){const V=y.current,E=w.current,M=E.getContext("2d");if(console.log("video要素のサイズ:",V.videoWidth,"x",V.videoHeight),E.width=V.videoWidth,E.height=V.videoHeight,M){M.drawImage(V,0,0,E.width,E.height),console.log("canvasに画像を描画しました");const Y=E.toDataURL("image/jpeg",.9);console.log("画像データを取得しました。データURLの長さ:",Y.length);const he=await C(Y);a(he),A(),ue(he)}else console.error("canvasのコンテキストを取得できませんでした"),m("画像処理に失敗しました。もう一度お試しください。")}else console.error("videoまたはcanvas要素が見つかりません"),m("カメラが正しく初期化されていません。もう一度お試しください。")},F=async V=>{console.log("OCR処理を開始");const E=V.split(",")[1];return console.log("Base64画像データの長さ:",E==null?void 0:E.length),console.log("APIキーの存在確認:",!1),console.warn("Google Cloud Vision APIキーが設定されていません。サンプルデータを返します。"),`ダイエー
2024/01/15 14:30:25
りんご 1個 120円
バナナ 2本 200円
合計 320円
税率 10% 内消費税 29円`},W=(V,E)=>{console.log("AI分析を開始");const M={category:oe(V),expenseType:H(V),confidence:ce(V,E),insights:te(V,E)};return console.log("AI分析結果:",M),M},oe=V=>{const E={食費:["レストラン","カフェ","マクドナルド","スターバックス","居酒屋","ラーメン","寿司"],交通費:["電車","バス","タクシー","ガソリン","駐車場"],買い物:["スーパー","ダイエー","セブンイレブン","ローソン","ファミリーマート","Amazon","楽天"],娯楽:["映画","ゲーム","本屋","CD","DVD"],医療:["病院","薬局","クリニック"],教育:["書店","学習塾","受験","教材"],通信:["電話","インターネット","携帯"],公共:["水道","電気","ガス","NHK"],その他:[]};for(const[M,Y]of Object.entries(E))for(const he of Y)if(V.includes(he))return M;return"その他"},H=V=>V.includes("給与")||V.includes("収入")?"収入":V.includes("交通")||V.includes("電車")||V.includes("バス")?"交通費":V.includes("食")||V.includes("レストラン")||V.includes("カフェ")?"食費":V.includes("買い物")||V.includes("スーパー")?"買い物":"一般支出",ce=(V,E)=>{const M=Math.min(V.length/100,1);let Y=0;E.store_name&&E.store_name.length>1&&(Y+=.25),E.date&&E.date.length>0&&(Y+=.25),E.total_amount&&E.total_amount>0&&(Y+=.25),E.tax_rate!==void 0&&(Y+=.25);const he=(M+Y)/2;return Math.min(Math.max(he,0),1)},te=(V,E)=>{const M=[];E.total_amount>1e4&&M.push("高額な支出です。経費精算の際には詳細な説明が必要かもしれません。");const Y=new Date,he=new Date(E.date);return Math.floor((Y.getTime()-he.getTime())/(1e3*60*60*24))>30&&M.push("このレシートは30日以上前のものです。経費申請の期限に注意してください。"),(V.includes("コンビニ")||V.includes("セブンイレブン")||V.includes("ローソン")||V.includes("ファミリーマート"))&&M.push("コンビニでの購入です。領収書がなくても電子レシートで申請可能です。"),M},ue=async V=>{console.log("画像処理を開始"),d(!0),m(null),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:0,currentStep:"画像前処理中..."});try{xe(V),console.log("OCR処理を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:30,currentStep:"OCR処理中..."});const E=await F(V);console.log("OCR処理完了。結果の長さ:",E.length),console.log("データ抽出を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:60,currentStep:"データ抽出中..."});const Y=new FD().parseReceipt(E);console.log("データ抽出完了:",Y),console.log("AI分析を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:80,currentStep:"AI分析中..."});const he=W(E,Y),me={...Y,category:he.category,expenseType:he.expenseType,aiConfidence:he.confidence,insights:he.insights};if(!pe(me))throw new Error("NO_DATA_FOUND");t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:90,currentStep:"処理完了..."}),c(me),t.onScanComplete(me)}catch(E){console.error("OCR処理エラー:",E),m(R[E.message]||"予期しないエラーが発生しました")}finally{d(!1),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!1,progress:100,currentStep:"完了"})}},pe=V=>{console.log("データバリデーションを実行中:",V);const E=V.store_name.length>0&&V.date.length>0&&V.total_amount>0;return console.log("データバリデーション結果:",E),E},xe=V=>(console.log("画像品質チェックを実行中"),console.log("画像品質チェック結果: OK"),!0),U=()=>{a(null),c(null),m(null),I()},ee=async V=>{var M;const E=(M=V.target.files)==null?void 0:M[0];if(E){const Y=new FileReader;Y.onload=async he=>{var le;const me=(le=he.target)==null?void 0:le.result;if(me){const X=await C(me);a(X),ue(X)}},Y.readAsDataURL(E)}},O=(V,E)=>{l&&c({...l,[V]:E})},Z=()=>{if(l){const V={success:!0,data:l,confidence:l.confidence},E=JSON.stringify(V,null,2);console.log(E)}},B=()=>{if(l){const V=JSON.stringify(l,null,2);navigator.clipboard.writeText(V)}},se=()=>{l&&navigator.share&&navigator.share({title:"レシートデータ",text:JSON.stringify(l,null,2)})};return ae.useEffect(()=>()=>{_.current&&_.current.getTracks().forEach(V=>V.stop())},[]),o.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"カメラの使用許可"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"レシートをスキャンするには、カメラへのアクセス許可が必要です。 カメラでレシートを撮影するためにアクセスを許可してください。"}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"許可する"})]})]})})}),!i&&!l&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"レシートスキャナー"}),e?o.jsxs("div",{className:"relative",children:[o.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,className:"w-full h-96 object-cover rounded-lg bg-gray-100"}),o.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white m-8 pointer-events-none"}),o.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[o.jsx("button",{onClick:()=>T(1),className:"p-2 bg-black bg-opacity-50 rounded-full text-white",children:o.jsx(bE,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>T(-1),className:"p-2 bg-black bg-opacity-50 rounded-full text-white",children:o.jsx(_E,{className:"w-5 h-5"})}),o.jsx("button",{onClick:j,className:`p-2 rounded-full ${x?"bg-yellow-500":"bg-black bg-opacity-50"} text-white`,children:o.jsx("span",{className:"text-xs",children:"FLASH"})})]}),o.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[o.jsx("button",{onClick:L,className:"w-16 h-16 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500"})}),o.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:I,className:"w-full py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[o.jsx(Iy,{className:"w-5 h-5 mr-2"}),"カメラで撮影"]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:ee,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.jsxs("button",{className:"w-full py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[o.jsx(v7,{className:"w-5 h-5 mr-2"}),"画像を選択"]})]})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:h})]}),i&&!l&&u&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"処理中..."}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),i&&l&&o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"抽出結果"}),o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:i,alt:"Captured receipt",className:"w-full h-48 object-contain rounded-lg border"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"店舗名"}),o.jsx("input",{type:"text",value:l.store_name,onChange:V=>O("store_name",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"日付"}),o.jsx("input",{type:"date",value:l.date,onChange:V=>O("date",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"合計金額"}),o.jsx("input",{type:"number",value:l.total_amount,onChange:V=>O("total_amount",parseInt(V.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"税率"}),o.jsx("input",{type:"number",value:l.tax_rate,onChange:V=>O("tax_rate",parseInt(V.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.category&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリ（AI推定）"}),o.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-md",children:l.category})]}),l.expenseType&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"支出種別（AI推定）"}),o.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-md",children:l.expenseType})]}),l.aiConfidence!==void 0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI信頼度"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${l.aiConfidence*100}%`}})}),o.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[Math.round(l.aiConfidence*100),"%"]})]})]}),l.insights&&l.insights.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"分析インサイト"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:l.insights.map((V,E)=>o.jsx("li",{className:"text-sm text-gray-600",children:V},E))})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-6",children:[o.jsxs("button",{onClick:U,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[o.jsx(z1,{className:"w-4 h-4 mr-2"}),"再撮影"]}),o.jsxs("button",{onClick:Z,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(jc,{className:"w-4 h-4 mr-2"}),"保存"]}),o.jsxs("button",{onClick:B,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(wd,{className:"w-4 h-4 mr-2"}),"コピー"]}),typeof navigator.share<"u"&&o.jsxs("button",{onClick:se,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[o.jsx(d3,{className:"w-4 h-4 mr-2"}),"共有"]})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:h})]}),o.jsx("canvas",{ref:w,className:"hidden"})]})},$D=()=>{const[t,e]=ae.useState([{id:"1",date:"2024-01-15",merchant:"セブンイレブン",amount:1200,category:"消耗品費",description:"事務用品購入",confidence:95,status:"pending"},{id:"2",date:"2024-01-14",merchant:"スターバックス",amount:580,category:"接待交際費",description:"クライアント打ち合わせ",confidence:88,status:"approved"}]),[n,r]=ae.useState({isProcessing:!1,retryCount:0}),s=[{id:"3",date:"2024-01-16",merchant:"ローソン",amount:750,category:"消耗品費",description:"コピー用紙",confidence:90,status:"pending"},{id:"4",date:"2024-01-13",merchant:"マクドナルド",amount:680,category:"接待交際費",description:"社内打合せ",confidence:85,status:"pending"}],[i,a]=ae.useState(null),[l,c]=ae.useState({}),[u,d]=ae.useState(!1),h=ae.useRef(null),m=ae.useRef(null),f=ae.useRef(null),[v,x]=ae.useState(""),[b,y]=ae.useState("all"),[w,_]=ae.useState("all"),[k,R]=ae.useState(null),[I,D]=ae.useState(!1),A=async()=>{const B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"){if(B){if(!window.confirm("モバイル端末からのカメラアクセスにはHTTPS環境が必要です。現在はHTTP環境のため、カメラが動作しない可能性があります。テスト目的であれば、PCのlocalhost環境でアクセスしてください。続行しますか？"))return}else if(!window.confirm("カメラ機能を使用するにはHTTPS環境またはlocalhostが必要です。HTTP環境ではカメラが動作しない可能性があります。続行しますか？"))return}try{let se;try{se=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})}catch(V){console.warn("背面カメラが利用できません。フロントカメラを試します。",V),se=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}})}f.current=se,h.current&&(h.current.srcObject=se),d(!0)}catch(se){console.error("カメラの起動に失敗しました:",se),se instanceof DOMException&&se.name==="NotAllowedError"?alert("カメラの使用が拒否されました。ブラウザの設定でカメラの使用を許可してください。"):se instanceof DOMException&&se.name==="NotFoundError"?alert("利用可能なカメラが見つかりません。"):se instanceof DOMException&&se.name==="NotReadableError"?alert("カメラが他のアプリケーションによって使用中です。"):location.protocol!=="https:"?alert(B?"モバイル端末からのカメラアクセスにはHTTPS環境が必要です。PCのlocalhost環境でテストしてください。":"カメラの起動に失敗しました。HTTP環境ではカメラが動作しない可能性があります。HTTPS環境またはlocalhostでのみカメラ機能を使用できます。"):alert("カメラの起動に失敗しました。ブラウザの設定を確認してください。")}},j=()=>{f.current&&(f.current.getTracks().forEach(B=>B.stop()),f.current=null),d(!1)},T=async()=>{if(h.current&&m.current){const B=h.current,se=m.current,V=se.getContext("2d");se.width=B.videoWidth,se.height=B.videoHeight,V&&(V.drawImage(B,0,0,se.width,se.height),se.toBlob(async E=>{E&&await C(E)},"image/jpeg",.95)),j()}},C=async B=>{await L(B)},L=async B=>{r({isProcessing:!0,retryCount:0});try{const se=new FileReader;se.onload=async V=>{var me,le,X;const E=(me=V.target)==null?void 0:me.result;if(!E)throw new Error("画像データの読み込みに失敗しました");const M=E.split(",")[1],Y=void 0;if(!Y)throw new Error("Google Cloud Vision APIキーが設定されていません");const he={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],merchant:"処理中...",amount:0,category:"未分類",description:"解析中...",confidence:0,status:"pending"};e(Oe=>[he,...Oe]);try{const Oe=await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${Y}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:M},features:[{type:"TEXT_DETECTION",maxResults:100}]}]})});if(!Oe.ok)throw new Error(`APIリクエスト失敗: ${Oe.status} ${Oe.statusText}`);const De=await Oe.json();console.log("Vision API結果:",De);const Ie=((X=(le=De.responses[0])==null?void 0:le.fullTextAnnotation)==null?void 0:X.text)||"";if(!Ie)throw new Error("テキストが検出されませんでした");const je=F(Ie);e(Me=>Me.map(Ee=>Ee.id===he.id?{...Ee,merchant:je.merchant||"不明",date:je.date||Ee.date,amount:je.amount||0,taxRate:je.taxRate||0,description:je.description||"OCR処理完了",confidence:je.confidence||80,confidenceScores:je.confidenceScores}:Ee))}catch(Oe){console.error("Vision API処理エラー:",Oe),e(De=>De.map(Ie=>Ie.id===he.id?{...Ie,merchant:"解析エラー",description:`OCR処理に失敗しました: ${Oe.message}`,confidence:0}:Ie))}finally{r(Oe=>({...Oe,isProcessing:!1}))}},se.readAsDataURL(B)}catch(se){console.error("画像処理エラー:",se),r(V=>({...V,isProcessing:!1,errorMessage:`画像の処理中にエラーが発生しました: ${se.message}`}))}},F=B=>{const se={date:/(\d{4}[年/-]\d{1,2}[月/-]\d{1,2}[日]?)|(\d{2}\/\d{2}\/\d{2})/i,taxRate:/税率?\s*([0-9]+)%|消費税.*?([0-9]+)%/i,storeName:/^([ァ-ヴー・ａ-ｚＡ-Ｚ0-9\u4E00-\u9FFF]+)(店|ストア|マート)/i};let V="不明",E=0;const M=B.match(se.storeName);if(M)V=M[1]+(M[2]||""),E=90;else{const Me=["セブンイレブン","ローソン","ファミリーマート","スターバックス","マクドナルド"];for(const Ee of Me)if(B.includes(Ee)){V=Ee,E=80;break}}let Y="",he=0;const me=B.match(se.date);me&&(Y=me[0],he=85);let le=0,X=0;const Oe=B.match(/\d{3,}/g);Oe&&(le=Math.max(...Oe.map(Number)),X=80);let De=0,Ie=0;const je=B.match(se.taxRate);return je&&(De=parseInt(je[1]||je[2]),Ie=85),{merchant:V,date:Y,amount:le,taxRate:De,description:"OCRで抽出",confidence:Math.round((E+he+X+Ie)/4),confidenceScores:{merchant:E,date:he,amount:X,taxRate:Ie}}},W=async B=>{const se=B.target.files;if(se&&se.length>0){const V=se[0],E=new FileReader;E.onload=async M=>{var he;const Y=(he=M.target)==null?void 0:he.result;if(Y){const me=new Blob([Y],{type:V.type});await C(me)}},E.readAsArrayBuffer(V)}},oe=()=>{i&&l&&(e(B=>B.map(se=>se.id===i?{...se,...l}:se)),a(null),c({}))},H=B=>{e(se=>se.map(V=>V.id===B?{...V,status:"approved"}:V))},ce=B=>{e(se=>se.map(V=>V.id===B?{...V,status:"rejected"}:V))},te=()=>{e(B=>[...s,...B])},ue=async()=>{try{const B={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],merchant:"処理中...",amount:0,category:"未分類",description:"解析中...",confidence:0,status:"pending"};e(E=>[B,...E]);const V=F(`セブンイレブン
2024/01/15
レシート番号: 12345
商品名: コピー用紙 ￥1,200
消費税: ￥120
合計: ￥1,320
      
マクドナルド
2024/01/14
商品名: ビッグマックセット ￥680
消費税: ￥68
合計: ￥748`);e(E=>E.map(M=>M.id===B.id?{...M,merchant:V.merchant||"不明",amount:V.amount||0,description:V.description||"OCR処理完了",confidence:V.confidence||80}:M))}catch(B){console.error("OCRテストエラー:",B)}},pe=B=>{const se={id:Date.now().toString(),date:B.date,merchant:B.store_name,amount:B.total_amount,category:B.category||"未分類",description:"スキャンされたレシート",confidence:Math.round((B.confidence.store_name+B.confidence.date+B.confidence.total_amount+B.confidence.tax_rate)/4*100),status:"pending",taxRate:B.tax_rate,aiAnalysis:{category:B.category,expenseType:B.expenseType,confidence:B.aiConfidence,insights:B.insights,items:B.items}};e(V=>[se,...V])},xe=async B=>{e(se=>se.map(V=>V.id===B?{...V,merchant:"処理中...",amount:0,description:"再解析中...",confidence:0}:V)),setTimeout(()=>{e(se=>se.map(V=>V.id===B?{...V,merchant:"ファミリーマート",amount:950,description:"再解析完了",confidence:88}:V))},3e3)},U=async()=>{if(n.imageData&&n.retryCount<3){r(B=>({...B,retryCount:B.retryCount+1,errorMessage:void 0}));try{const se=await(await fetch(n.imageData)).blob();await C(se)}catch(B){console.error("再試行エラー:",B),r(se=>({...se,errorMessage:"再試行に失敗しました"}))}}},ee=B=>{R(B),D(!0)},O=t.filter(B=>{const se=B.merchant.toLowerCase().includes(v.toLowerCase())||B.description.toLowerCase().includes(v.toLowerCase()),V=b==="all"||B.status===b,E=w==="all"||B.category===w;return se&&V&&E}),Z=Array.from(new Set(t.map(B=>B.category)));return gp.useEffect(()=>()=>{f.current&&f.current.getTracks().forEach(B=>B.stop())},[]),o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&location.protocol!=="https:"&&o.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:o.jsxs("div",{className:"flex",children:[o.jsx(vb,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"モバイル端末からのアクセスについて"}),o.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"現在HTTP環境でアクセスしています。カメラ機能を使用するにはHTTPS環境が必要です。 テスト目的であれば、PCのlocalhost環境（http://localhost:5173）でアクセスしてください。"})]})]})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"レシート処理"}),o.jsx("p",{className:"text-gray-600",children:"画像から自動で仕訳を作成します"})]})]})}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"カメラでレシートを撮影"}),o.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video flex items-center justify-center",children:[o.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"}),o.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white m-8 pointer-events-none"})]}),o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("button",{onClick:T,className:"w-16 h-16 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500"})})})]})]})}),I&&k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"レシート詳細"}),o.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"日付"}),o.jsx("p",{className:"text-gray-900",children:k.date})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"店舗名"}),o.jsx("p",{className:"text-gray-900",children:k.merchant})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"金額"}),o.jsxs("p",{className:"text-gray-900",children:["¥",k.amount.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"カテゴリ"}),o.jsx("p",{className:"text-gray-900",children:k.category})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"説明"}),o.jsx("p",{className:"text-gray-900",children:k.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"信頼度"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:o.jsx("div",{className:`h-2 rounded-full ${k.confidence>=90?"bg-green-500":k.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.confidence}%`}})}),o.jsxs("span",{className:"text-xs text-gray-600",children:[k.confidence,"%"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ステータス"}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.status==="approved"?"bg-green-100 text-green-800":k.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:k.status==="approved"?"承認済み":k.status==="rejected"?"却下":"保留中"})]}),k.taxRate!==void 0&&k.taxRate>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"税率"}),o.jsxs("p",{className:"text-gray-900",children:[k.taxRate,"%"]})]}),k.confidenceScores&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"信頼度詳細"}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[o.jsxs("div",{children:["店舗: ",k.confidenceScores.merchant||0,"%"]}),o.jsxs("div",{children:["日付: ",k.confidenceScores.date||0,"%"]}),o.jsxs("div",{children:["金額: ",k.confidenceScores.amount||0,"%"]})]})]}),k.aiAnalysis&&o.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI分析結果"}),k.aiAnalysis.category&&o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"推定カテゴリ"}),o.jsx("p",{className:"text-sm text-gray-900",children:k.aiAnalysis.category})]}),k.aiAnalysis.expenseType&&o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"支出種別"}),o.jsx("p",{className:"text-sm text-gray-900",children:k.aiAnalysis.expenseType})]}),k.aiAnalysis.confidence!==void 0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"AI信頼度"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mr-2",children:o.jsx("div",{className:`h-1.5 rounded-full ${k.aiAnalysis.confidence>=.9?"bg-green-500":k.aiAnalysis.confidence>=.7?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.aiAnalysis.confidence*100}%`}})}),o.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(k.aiAnalysis.confidence*100),"%"]})]})]}),k.aiAnalysis.insights&&k.aiAnalysis.insights.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"分析インサイト"}),o.jsx("ul",{className:"list-disc pl-4 space-y-1 mt-1",children:k.aiAnalysis.insights.map((B,se)=>o.jsx("li",{className:"text-xs text-gray-600",children:B},se))})]}),k.aiAnalysis.items&&k.aiAnalysis.items.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"商品アイテム"}),o.jsx("div",{className:"mt-1 space-y-1",children:k.aiAnalysis.items.map((B,se)=>o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-gray-600",children:B.name}),o.jsxs("span",{className:"text-gray-900",children:["¥",B.price.toLocaleString()]})]},se))})]})]})]})}),o.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-2",children:o.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"閉じる"})})]})}),o.jsx("canvas",{ref:m,className:"hidden"}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"レシートをアップロード"}),o.jsx("div",{className:"mb-6",children:o.jsx(BD,{onScanComplete:pe,onProcessingStateChange:B=>{r(se=>({...se,isProcessing:B.isProcessing,progress:B.progress,currentStep:B.currentStep}))}})}),n.isProcessing&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(W0,{className:"w-5 h-5 text-blue-500 animate-spin mr-2"}),o.jsx("span",{className:"text-blue-700 font-medium",children:"レシートを処理中です..."})]}),n.currentStep&&o.jsxs("div",{className:"text-sm text-blue-600 mb-2",children:["処理ステップ: ",n.currentStep]}),n.progress!==void 0&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})})]}),n.errorMessage&&o.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center",children:[o.jsx(vb,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("span",{className:"text-red-700",children:n.errorMessage}),n.retryCount<3&&o.jsx("button",{onClick:U,className:"ml-4 px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors text-sm",children:"再試行"})]}),o.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[o.jsx("button",{onClick:te,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-sm w-full sm:w-auto",children:"サンプルレシートを追加（テスト用）"}),o.jsx("button",{onClick:ue,className:"px-4 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-sm w-full sm:w-auto",children:"OCRテストを実行（サンプル画像）"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:W,className:"hidden"}),o.jsx(Ry,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"ファイルを選択"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF対応"})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",onClick:A,children:[o.jsx(Iy,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"カメラで撮影"}),o.jsx("p",{className:"text-xs text-gray-500",children:"その場で撮影"})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx(c7,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"ドラッグ&ドロップ"}),o.jsx("p",{className:"text-xs text-gray-500",children:"ここに画像をドロップ"})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"店舗名や説明で検索...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v,onChange:B=>x(B.target.value)})]})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",value:b,onChange:B=>y(B.target.value),children:[o.jsx("option",{value:"all",children:"すべてのステータス"}),o.jsx("option",{value:"pending",children:"保留中"}),o.jsx("option",{value:"approved",children:"承認済み"}),o.jsx("option",{value:"rejected",children:"却下"})]}),o.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",value:w,onChange:B=>_(B.target.value),children:[o.jsx("option",{value:"all",children:"すべてのカテゴリ"}),Z.map(B=>o.jsx("option",{value:B,children:B},B))]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h2",{className:"text-lg font-semibold",children:"処理済みレシート"})}),o.jsx("div",{className:"md:hidden p-4 space-y-4",children:O.map(B=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:B.merchant}),o.jsx("p",{className:"text-sm text-gray-500",children:B.date})]}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B.status==="approved"?"bg-green-100 text-green-800":B.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:B.status==="approved"?"承認":B.status==="rejected"?"却下":"保留"})]}),o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["¥",B.amount.toLocaleString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mr-2",children:o.jsx("div",{className:`h-1.5 rounded-full ${B.confidence>=90?"bg-green-500":B.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${B.confidence}%`}})}),o.jsxs("span",{className:"text-xs text-gray-500",children:[B.confidence,"%"]})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:B.category}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>ee(B),className:"text-blue-600 hover:text-blue-900",children:o.jsx(gl,{className:"w-4 h-4"})}),B.merchant==="解析エラー"&&o.jsx("button",{onClick:()=>xe(B.id),className:"text-orange-600 hover:text-orange-900",title:"再試行",children:o.jsx(z1,{className:"w-4 h-4"})}),B.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>H(B.id),className:"text-green-600 hover:text-green-900",children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ce(B.id),className:"text-red-600 hover:text-red-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]})]})]})]},B.id))}),o.jsx("div",{className:"hidden md:block overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日付"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"店舗名"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"説明"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"信頼度"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(B=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===B.id?o.jsx("input",{type:"date",value:l.date||B.date,onChange:se=>c(V=>({...V,date:se.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):B.date}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===B.id?o.jsx("input",{type:"text",value:l.merchant||B.merchant,onChange:se=>c(V=>({...V,merchant:se.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):B.merchant}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===B.id?o.jsx("input",{type:"number",value:l.amount||B.amount,onChange:se=>c(V=>({...V,amount:Number(se.target.value)})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):`¥${B.amount.toLocaleString()}`}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===B.id?o.jsxs("select",{value:l.category||B.category,onChange:se=>c(V=>({...V,category:se.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"消耗品費",children:"消耗品費"}),o.jsx("option",{value:"接待交際費",children:"接待交際費"}),o.jsx("option",{value:"旅費交通費",children:"旅費交通費"}),o.jsx("option",{value:"通信費",children:"通信費"}),o.jsx("option",{value:"水道光熱費",children:"水道光熱費"})]}):B.category}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:i===B.id?o.jsx("input",{type:"text",value:l.description||B.description,onChange:se=>c(V=>({...V,description:se.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):o.jsxs("div",{children:[o.jsx("div",{children:B.description}),B.taxRate!==void 0&&B.taxRate>0&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["税率: ",B.taxRate,"%"]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:o.jsx("div",{className:`h-2 rounded-full ${B.confidence>=90?"bg-green-500":B.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${B.confidence}%`}})}),o.jsxs("span",{className:"text-xs text-gray-600",children:[B.confidence,"%"]})]}),B.confidenceScores&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[o.jsxs("div",{children:["店舗: ",B.confidenceScores.merchant||0,"%"]}),o.jsxs("div",{children:["日付: ",B.confidenceScores.date||0,"%"]}),o.jsxs("div",{children:["金額: ",B.confidenceScores.amount||0,"%"]})]}),B.aiAnalysis&&B.aiAnalysis.confidence!==void 0&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:o.jsxs("div",{children:["AI信頼度: ",Math.round(B.aiAnalysis.confidence*100),"%"]})})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B.status==="approved"?"bg-green-100 text-green-800":B.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:B.status==="approved"?"承認済み":B.status==="rejected"?"却下":"保留中"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:i===B.id?o.jsx("button",{onClick:oe,className:"text-green-600 hover:text-green-900",children:o.jsx(jc,{className:"w-4 h-4"})}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ee(B),className:"text-blue-600 hover:text-blue-900",children:o.jsx(gl,{className:"w-4 h-4"})}),B.merchant==="解析エラー"&&o.jsx("button",{onClick:()=>xe(B.id),className:"text-orange-600 hover:text-orange-900",title:"再試行",children:o.jsx(z1,{className:"w-4 h-4"})}),B.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>H(B.id),className:"text-green-600 hover:text-green-900",children:o.jsx(Cs,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ce(B.id),className:"text-red-600 hover:text-red-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]})]})})})]},B.id))})]})})]})]})})};function $t(t){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(t)}var ri=Uint8Array,os=Uint16Array,i2=Int32Array,a2=new ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o2=new ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uw=new ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kj=function(t,e){for(var n=new os(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new i2(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},Gj=Kj(a2,2),UD=Gj.b,vx=Gj.r;UD[28]=258,vx[258]=28;var zD=Kj(o2,0),dw=zD.r,bx=new os(32768);for(var nn=0;nn<32768;++nn){var La=(nn&43690)>>1|(nn&21845)<<1;La=(La&52428)>>2|(La&13107)<<2,La=(La&61680)>>4|(La&3855)<<4,bx[nn]=((La&65280)>>8|(La&255)<<8)>>1}var Ld=function(t,e,n){for(var r=t.length,s=0,i=new os(e);s<r;++s)t[s]&&++i[t[s]-1];var a=new os(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(n){l=new os(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],h=a[t[s]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[bx[h]>>c]=u}else for(l=new os(r),s=0;s<r;++s)t[s]&&(l[s]=bx[a[t[s]-1]++]>>15-t[s]);return l},vl=new ri(288);for(var nn=0;nn<144;++nn)vl[nn]=8;for(var nn=144;nn<256;++nn)vl[nn]=9;for(var nn=256;nn<280;++nn)vl[nn]=7;for(var nn=280;nn<288;++nn)vl[nn]=8;var cp=new ri(32);for(var nn=0;nn<32;++nn)cp[nn]=5;var qD=Ld(vl,9,0),HD=Ld(cp,5,0),Yj=function(t){return(t+7)/8|0},WD=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ri(t.subarray(e,n))},zi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ku=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},bg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:Xj,l:0};if(s==1){var a=new ri(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(R,I){return R.f-I.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,r=1;r<s;++r)i[r].s>m&&(m=i[r].s);var f=new os(m+1),v=wx(n[d-1],f,0);if(v>e){var r=0,x=0,b=v-e,y=1<<b;for(i.sort(function(I,D){return f[D.s]-f[I.s]||I.f-D.f});r<s;++r){var w=i[r].s;if(f[w]>e)x+=y-(1<<v-f[w]),f[w]=e;else break}for(x>>=b;x>0;){var _=i[r].s;f[_]<e?x-=1<<e-f[_]++-1:++r}for(;r>=0&&x;--r){var k=i[r].s;f[k]==e&&(--f[k],++x)}v=e}return{t:new ri(f),l:v}},wx=function(t,e,n){return t.s==-1?Math.max(wx(t.l,e,n+1),wx(t.r,e,n+1)):e[t.s]=n},hw=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new os(++e),r=0,s=t[0],i=1,a=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[l]}return{c:n.subarray(0,r),n:e}},Gu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Jj=function(t,e,n){var r=n.length,s=Yj(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},fw=function(t,e,n,r,s,i,a,l,c,u,d){zi(e,d++,n),++s[256];for(var h=bg(s,15),m=h.t,f=h.l,v=bg(i,15),x=v.t,b=v.l,y=hw(m),w=y.c,_=y.n,k=hw(x),R=k.c,I=k.n,D=new os(19),A=0;A<w.length;++A)++D[w[A]&31];for(var A=0;A<R.length;++A)++D[R[A]&31];for(var j=bg(D,7),T=j.t,C=j.l,L=19;L>4&&!T[uw[L-1]];--L);var F=u+5<<3,W=Gu(s,vl)+Gu(i,cp)+a,oe=Gu(s,m)+Gu(i,x)+a+14+3*L+Gu(D,T)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&F<=W&&F<=oe)return Jj(e,d,t.subarray(c,c+u));var H,ce,te,ue;if(zi(e,d,1+(oe<W)),d+=2,oe<W){H=Ld(m,f,0),ce=m,te=Ld(x,b,0),ue=x;var pe=Ld(T,C,0);zi(e,d,_-257),zi(e,d+5,I-1),zi(e,d+10,L-4),d+=14;for(var A=0;A<L;++A)zi(e,d+3*A,T[uw[A]]);d+=3*L;for(var xe=[w,R],U=0;U<2;++U)for(var ee=xe[U],A=0;A<ee.length;++A){var O=ee[A]&31;zi(e,d,pe[O]),d+=T[O],O>15&&(zi(e,d,ee[A]>>5&127),d+=ee[A]>>12)}}else H=qD,ce=vl,te=HD,ue=cp;for(var A=0;A<l;++A){var Z=r[A];if(Z>255){var O=Z>>18&31;Ku(e,d,H[O+257]),d+=ce[O+257],O>7&&(zi(e,d,Z>>23&31),d+=a2[O]);var B=Z&31;Ku(e,d,te[B]),d+=ue[B],B>3&&(Ku(e,d,Z>>5&8191),d+=o2[B])}else Ku(e,d,H[Z]),d+=ce[Z]}return Ku(e,d,H[256]),d+ce[256]},VD=new i2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xj=new ri(0),KD=function(t,e,n,r,s,i){var a=i.z||t.length,l=new ri(r+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(r,l.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var h=VD[e-1],m=h>>13,f=h&8191,v=(1<<n)-1,x=i.p||new os(32768),b=i.h||new os(v+1),y=Math.ceil(n/3),w=2*y,_=function(le){return(t[le]^t[le+1]<<y^t[le+2]<<w)&v},k=new i2(25e3),R=new os(288),I=new os(32),D=0,A=0,j=i.i||0,T=0,C=i.w||0,L=0;j+2<a;++j){var F=_(j),W=j&32767,oe=b[F];if(x[W]=oe,b[F]=W,C<=j){var H=a-j;if((D>7e3||T>24576)&&(H>423||!u)){d=fw(t,c,0,k,R,I,A,T,L,j-L,d),T=D=A=0,L=j;for(var ce=0;ce<286;++ce)R[ce]=0;for(var ce=0;ce<30;++ce)I[ce]=0}var te=2,ue=0,pe=f,xe=W-oe&32767;if(H>2&&F==_(j-xe))for(var U=Math.min(m,H)-1,ee=Math.min(32767,j),O=Math.min(258,H);xe<=ee&&--pe&&W!=oe;){if(t[j+te]==t[j+te-xe]){for(var Z=0;Z<O&&t[j+Z]==t[j+Z-xe];++Z);if(Z>te){if(te=Z,ue=xe,Z>U)break;for(var B=Math.min(xe,Z-2),se=0,ce=0;ce<B;++ce){var V=j-xe+ce&32767,E=x[V],M=V-E&32767;M>se&&(se=M,oe=V)}}}W=oe,oe=x[W],xe+=W-oe&32767}if(ue){k[T++]=268435456|vx[te]<<18|dw[ue];var Y=vx[te]&31,he=dw[ue]&31;A+=a2[Y]+o2[he],++R[257+Y],++I[he],C=j+te,++D}else k[T++]=t[j],++R[t[j]]}}for(j=Math.max(j,C);j<a;++j)k[T++]=t[j],++R[t[j]];d=fw(t,c,u,k,R,I,A,T,L,j-L,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=b,i.p=x,i.i=j,i.w=C)}else{for(var j=i.w||0;j<a+u;j+=65535){var me=j+65535;me>=a&&(c[d/8|0]=u,me=a),d=Jj(c,d+1,t.subarray(j,me))}i.i=a}return WD(l,0,r+Yj(d)+s)},Qj=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},GD=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new ri(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return KD(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},Zj=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},YD=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Qj();s.p(e.dictionary),Zj(t,2,s.d())}};function _x(t,e){e||(e={});var n=Qj();n.p(t);var r=GD(t,e,e.dictionary?6:2,4);return YD(r,e),Zj(r,r.length-4,n.d()),r}var JD=typeof TextDecoder<"u"&&new TextDecoder,XD=0;try{JD.decode(Xj,{stream:!0}),XD=1}catch{}function QD(t){if(Array.isArray(t))return t}function ZD(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eF(t,e){if(t){if(typeof t=="string")return pw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pw(t,e):void 0}}function tF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mw(t,e){return QD(t)||ZD(t,e)||eF(t,e)||tF()}function gw(t,e="utf8"){return new TextDecoder(e).decode(t)}const nF=new TextEncoder;function rF(t){return nF.encode(t)}const sF=1024*8,iF=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l2{constructor(e=sF,n={}){Re(this,"buffer");Re(this,"byteLength");Re(this,"byteOffset");Re(this,"length");Re(this,"offset");Re(this,"lastWrittenByte");Re(this,"littleEndian");Re(this,"_data");Re(this,"_mark");Re(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof l2)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=wg[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===iF&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+r));l.reverse();const c=new wg[n](l.buffer);return this.offset+=r,c.reverse(),c}const a=new wg[n](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return gw(this.readBytes(e))}decodeText(e=1,n="utf8"){return gw(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(rF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function su(t){let e=t.length;for(;--e>=0;)t[e]=0}const aF=3,oF=258,e6=29,lF=256,cF=lF+1+e6,t6=30,uF=512,dF=new Array((cF+2)*2);su(dF);const hF=new Array(t6*2);su(hF);const fF=new Array(uF);su(fF);const pF=new Array(oF-aF+1);su(pF);const mF=new Array(e6);su(mF);const gF=new Array(t6);su(gF);const xF=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+e[r++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Nx=xF;const yF=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},vF=new Uint32Array(yF()),bF=(t,e,n,r)=>{const s=vF,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var mi=bF,jx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},n6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _F=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wF(n,r)&&(t[r]=n[r])}}return t},NF=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let a=t[r];n.set(a,s),s+=a.length}return n},r6={assign:_F,flattenChunks:NF};let s6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s6=!1}const ch=new Uint8Array(256);for(let t=0;t<256;t++)ch[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ch[254]=ch[254]=1;var jF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,a=t.length,l=0;for(s=0;s<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),i=0,s=0;i<l;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const SF=(t,e)=>{if(e<65534&&t.subarray&&s6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var kF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let a=t[r++];if(a<128){i[s++]=a;continue}let l=ch[a];if(l>4){i[s++]=65533,r+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&r<n;)a=a<<6|t[r++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return SF(i,s)},AF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ch[t[n]]>e?n:e},Sx={string2buf:jF,buf2string:kF,utf8border:AF};function CF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var EF=CF;const zf=16209,LF=16191;var PF=function(e,n){let r,s,i,a,l,c,u,d,h,m,f,v,x,b,y,w,_,k,R,I,D,A,j,T;const C=e.state;r=e.next_in,j=e.input,s=r+(e.avail_in-5),i=e.next_out,T=e.output,a=i-(n-e.avail_out),l=i+(e.avail_out-257),c=C.dmax,u=C.wsize,d=C.whave,h=C.wnext,m=C.window,f=C.hold,v=C.bits,x=C.lencode,b=C.distcode,y=(1<<C.lenbits)-1,w=(1<<C.distbits)-1;e:do{v<15&&(f+=j[r++]<<v,v+=8,f+=j[r++]<<v,v+=8),_=x[f&y];t:for(;;){if(k=_>>>24,f>>>=k,v-=k,k=_>>>16&255,k===0)T[i++]=_&65535;else if(k&16){R=_&65535,k&=15,k&&(v<k&&(f+=j[r++]<<v,v+=8),R+=f&(1<<k)-1,f>>>=k,v-=k),v<15&&(f+=j[r++]<<v,v+=8,f+=j[r++]<<v,v+=8),_=b[f&w];n:for(;;){if(k=_>>>24,f>>>=k,v-=k,k=_>>>16&255,k&16){if(I=_&65535,k&=15,v<k&&(f+=j[r++]<<v,v+=8,v<k&&(f+=j[r++]<<v,v+=8)),I+=f&(1<<k)-1,I>c){e.msg="invalid distance too far back",C.mode=zf;break e}if(f>>>=k,v-=k,k=i-a,I>k){if(k=I-k,k>d&&C.sane){e.msg="invalid distance too far back",C.mode=zf;break e}if(D=0,A=m,h===0){if(D+=u-k,k<R){R-=k;do T[i++]=m[D++];while(--k);D=i-I,A=T}}else if(h<k){if(D+=u+h-k,k-=h,k<R){R-=k;do T[i++]=m[D++];while(--k);if(D=0,h<R){k=h,R-=k;do T[i++]=m[D++];while(--k);D=i-I,A=T}}}else if(D+=h-k,k<R){R-=k;do T[i++]=m[D++];while(--k);D=i-I,A=T}for(;R>2;)T[i++]=A[D++],T[i++]=A[D++],T[i++]=A[D++],R-=3;R&&(T[i++]=A[D++],R>1&&(T[i++]=A[D++]))}else{D=i-I;do T[i++]=T[D++],T[i++]=T[D++],T[i++]=T[D++],R-=3;while(R>2);R&&(T[i++]=T[D++],R>1&&(T[i++]=T[D++]))}}else if(k&64){e.msg="invalid distance code",C.mode=zf;break e}else{_=b[(_&65535)+(f&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){C.mode=LF;break e}else{e.msg="invalid literal/length code",C.mode=zf;break e}else{_=x[(_&65535)+(f&(1<<k)-1)];continue t}break}}while(r<s&&i<l);R=v>>3,r-=R,v-=R<<3,f&=(1<<v)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<l?257+(l-i):257-(i-l),C.hold=f,C.bits=v};const Yl=15,xw=852,yw=592,vw=0,_g=1,bw=2,TF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),RF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MF=(t,e,n,r,s,i,a,l)=>{const c=l.bits;let u=0,d=0,h=0,m=0,f=0,v=0,x=0,b=0,y=0,w=0,_,k,R,I,D,A=null,j;const T=new Uint16Array(Yl+1),C=new Uint16Array(Yl+1);let L=null,F,W,oe;for(u=0;u<=Yl;u++)T[u]=0;for(d=0;d<r;d++)T[e[n+d]]++;for(f=c,m=Yl;m>=1&&T[m]===0;m--);if(f>m&&(f=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&T[h]===0;h++);for(f<h&&(f=h),b=1,u=1;u<=Yl;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(t===vw||m!==1))return-1;for(C[1]=0,u=1;u<Yl;u++)C[u+1]=C[u]+T[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[C[e[n+d]]++]=d);if(t===vw?(A=L=a,j=20):t===_g?(A=TF,L=IF,j=257):(A=OF,L=RF,j=0),w=0,d=0,u=h,D=i,v=f,x=0,R=-1,y=1<<f,I=y-1,t===_g&&y>xw||t===bw&&y>yw)return 1;for(;;){F=u-x,a[d]+1<j?(W=0,oe=a[d]):a[d]>=j?(W=L[a[d]-j],oe=A[a[d]-j]):(W=96,oe=0),_=1<<u-x,k=1<<v,h=k;do k-=_,s[D+(w>>x)+k]=F<<24|W<<16|oe|0;while(k!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,d++,--T[u]===0){if(u===m)break;u=e[n+a[d]]}if(u>f&&(w&I)!==R){for(x===0&&(x=f),D+=h,v=u-x,b=1<<v;v+x<m&&(b-=T[v+x],!(b<=0));)v++,b<<=1;if(y+=1<<v,t===_g&&y>xw||t===bw&&y>yw)return 1;R=w&I,s[R]=f<<24|v<<16|D-i|0}}return w!==0&&(s[D+w]=u-x<<24|64<<16|0),l.bits=f,0};var Pd=MF;const DF=0,i6=1,a6=2,{Z_FINISH:ww,Z_BLOCK:FF,Z_TREES:qf,Z_OK:bl,Z_STREAM_END:BF,Z_NEED_DICT:$F,Z_STREAM_ERROR:Ms,Z_DATA_ERROR:o6,Z_MEM_ERROR:l6,Z_BUF_ERROR:UF,Z_DEFLATED:_w}=n6,zp=16180,Nw=16181,jw=16182,Sw=16183,kw=16184,Aw=16185,Cw=16186,Ew=16187,Lw=16188,Pw=16189,up=16190,qi=16191,Ng=16192,Tw=16193,jg=16194,Iw=16195,Ow=16196,Rw=16197,Mw=16198,Hf=16199,Wf=16200,Dw=16201,Fw=16202,Bw=16203,$w=16204,Uw=16205,Sg=16206,zw=16207,qw=16208,an=16209,c6=16210,u6=16211,zF=852,qF=592,HF=15,WF=HF,Hw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function VF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<zp||e.mode>u6?1:0},d6=t=>{if(Sl(t))return Ms;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=zp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zF),e.distcode=e.distdyn=new Int32Array(qF),e.sane=1,e.back=-1,bl},h6=t=>{if(Sl(t))return Ms;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,d6(t)},f6=(t,e)=>{let n;if(Sl(t))return Ms;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ms:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h6(t))},p6=(t,e)=>{if(!t)return Ms;const n=new VF;t.state=n,n.strm=t,n.window=null,n.mode=zp;const r=f6(t,e);return r!==bl&&(t.state=null),r},KF=t=>p6(t,WF);let Ww=!0,kg,Ag;const GF=t=>{if(Ww){kg=new Int32Array(512),Ag=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pd(i6,t.lens,0,288,kg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pd(a6,t.lens,0,32,Ag,0,t.work,{bits:5}),Ww=!1}t.lencode=kg,t.lenbits=9,t.distcode=Ag,t.distbits=5},m6=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},YF=(t,e)=>{let n,r,s,i,a,l,c,u,d,h,m,f,v,x,b=0,y,w,_,k,R,I,D,A;const j=new Uint8Array(4);let T,C;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sl(t)||!t.output||!t.input&&t.avail_in!==0)return Ms;n=t.state,n.mode===qi&&(n.mode=Ng),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,h=l,m=c,A=bl;e:for(;;)switch(n.mode){case zp:if(n.wrap===0){n.mode=Ng;break}for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,j[0]=u&255,j[1]=u>>>8&255,n.check=mi(n.check,j,2,0),u=0,d=0,n.mode=Nw;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=an;break}if((u&15)!==_w){t.msg="unknown compression method",n.mode=an;break}if(u>>>=4,d-=4,D=(u&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg="invalid window size",n.mode=an;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Pw:qi,u=0,d=0;break;case Nw:for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==_w){t.msg="unknown compression method",n.mode=an;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=an;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=mi(n.check,j,2,0)),u=0,d=0,n.mode=jw;case jw:for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,n.check=mi(n.check,j,4,0)),u=0,d=0,n.mode=Sw;case Sw:for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=mi(n.check,j,2,0)),u=0,d=0,n.mode=kw;case kw:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,n.check=mi(n.check,j,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Aw;case Aw:if(n.flags&1024&&(f=n.length,f>l&&(f=l),f&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),D)),n.flags&512&&n.wrap&4&&(n.check=mi(n.check,r,f,i)),l-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=Cw;case Cw:if(n.flags&2048){if(l===0)break e;f=0;do D=r[i+f++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&f<l);if(n.flags&512&&n.wrap&4&&(n.check=mi(n.check,r,f,i)),l-=f,i+=f,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ew;case Ew:if(n.flags&4096){if(l===0)break e;f=0;do D=r[i+f++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&f<l);if(n.flags&512&&n.wrap&4&&(n.check=mi(n.check,r,f,i)),l-=f,i+=f,D)break e}else n.head&&(n.head.comment=null);n.mode=Lw;case Lw:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=an;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=qi;break;case Pw:for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}t.adler=n.check=Hw(u),u=0,d=0,n.mode=up;case up:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=l,n.hold=u,n.bits=d,$F;t.adler=n.check=1,n.mode=qi;case qi:if(e===FF||e===qf)break e;case Ng:if(n.last){u>>>=d&7,d-=d&7,n.mode=Sg;break}for(;d<3;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Tw;break;case 1:if(GF(n),n.mode=Hf,e===qf){u>>>=2,d-=2;break e}break;case 2:n.mode=Ow;break;case 3:t.msg="invalid block type",n.mode=an}u>>>=2,d-=2;break;case Tw:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=an;break}if(n.length=u&65535,u=0,d=0,n.mode=jg,e===qf)break e;case jg:n.mode=Iw;case Iw:if(f=n.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;s.set(r.subarray(i,i+f),a),l-=f,i+=f,c-=f,a+=f,n.length-=f;break}n.mode=qi;break;case Ow:for(;d<14;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=an;break}n.have=0,n.mode=Rw;case Rw:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.lens[L[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},A=Pd(DF,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,A){t.msg="invalid code lengths set",n.mode=an;break}n.have=0,n.mode=Mw;case Mw:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(_<16)u>>>=y,d-=y,n.lens[n.have++]=_;else{if(_===16){for(C=y+2;d<C;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(u>>>=y,d-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=an;break}D=n.lens[n.have-1],f=3+(u&3),u>>>=2,d-=2}else if(_===17){for(C=y+3;d<C;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=y,d-=y,D=0,f=3+(u&7),u>>>=3,d-=3}else{for(C=y+7;d<C;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=y,d-=y,D=0,f=11+(u&127),u>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=an;break}for(;f--;)n.lens[n.have++]=D}}if(n.mode===an)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=an;break}if(n.lenbits=9,T={bits:n.lenbits},A=Pd(i6,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,A){t.msg="invalid literal/lengths set",n.mode=an;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},A=Pd(a6,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,A){t.msg="invalid distances set",n.mode=an;break}if(n.mode=Hf,e===qf)break e;case Hf:n.mode=Wf;case Wf:if(l>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=l,n.hold=u,n.bits=d,PF(t,m),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,n.mode===qi&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(w&&!(w&240)){for(k=y,R=w,I=_;b=n.lencode[I+((u&(1<<k+R)-1)>>k)],y=b>>>24,w=b>>>16&255,_=b&65535,!(k+y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=y,d-=y,n.back+=y,n.length=_,w===0){n.mode=Uw;break}if(w&32){n.back=-1,n.mode=qi;break}if(w&64){t.msg="invalid literal/length code",n.mode=an;break}n.extra=w&15,n.mode=Dw;case Dw:if(n.extra){for(C=n.extra;d<C;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Fw;case Fw:for(;b=n.distcode[u&(1<<n.distbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(!(w&240)){for(k=y,R=w,I=_;b=n.distcode[I+((u&(1<<k+R)-1)>>k)],y=b>>>24,w=b>>>16&255,_=b&65535,!(k+y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=y,d-=y,n.back+=y,w&64){t.msg="invalid distance code",n.mode=an;break}n.offset=_,n.extra=w&15,n.mode=Bw;case Bw:if(n.extra){for(C=n.extra;d<C;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=an;break}n.mode=$w;case $w:if(c===0)break e;if(f=m-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=an;break}f>n.wnext?(f-=n.wnext,v=n.wsize-f):v=n.wnext-f,f>n.length&&(f=n.length),x=n.window}else x=s,v=a-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do s[a++]=x[v++];while(--f);n.length===0&&(n.mode=Wf);break;case Uw:if(c===0)break e;s[a++]=n.length,c--,n.mode=Wf;break;case Sg:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[i++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?mi(n.check,s,m,a-m):Nx(n.check,s,m,a-m)),m=c,n.wrap&4&&(n.flags?u:Hw(u))!==n.check){t.msg="incorrect data check",n.mode=an;break}u=0,d=0}n.mode=zw;case zw:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=an;break}u=0,d=0}n.mode=qw;case qw:A=BF;break e;case an:A=o6;break e;case c6:return l6;case u6:default:return Ms}return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<an&&(n.mode<Sg||e!==ww))&&m6(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?mi(n.check,s,m,t.next_out-m):Nx(n.check,s,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===qi?128:0)+(n.mode===Hf||n.mode===jg?256:0),(h===0&&m===0||e===ww)&&A===bl&&(A=UF),A},JF=t=>{if(Sl(t))return Ms;let e=t.state;return e.window&&(e.window=null),t.state=null,bl},XF=(t,e)=>{if(Sl(t))return Ms;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,bl):Ms},QF=(t,e)=>{const n=e.length;let r,s,i;return Sl(t)||(r=t.state,r.wrap!==0&&r.mode!==up)?Ms:r.mode===up&&(s=1,s=Nx(s,e,n,0),s!==r.check)?o6:(i=m6(t,e,n,n),i?(r.mode=c6,l6):(r.havedict=1,bl))};var ZF=h6,eB=f6,tB=d6,nB=KF,rB=p6,sB=YF,iB=JF,aB=XF,oB=QF,lB="pako inflate (from Nodeca project)",Xi={inflateReset:ZF,inflateReset2:eB,inflateResetKeep:tB,inflateInit:nB,inflateInit2:rB,inflate:sB,inflateEnd:iB,inflateGetHeader:aB,inflateSetDictionary:oB,inflateInfo:lB};function cB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uB=cB;const g6=Object.prototype.toString,{Z_NO_FLUSH:dB,Z_FINISH:hB,Z_OK:uh,Z_STREAM_END:Cg,Z_NEED_DICT:Eg,Z_STREAM_ERROR:fB,Z_DATA_ERROR:Vw,Z_MEM_ERROR:pB}=n6;function Nh(t){this.options=r6.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new EF,this.strm.avail_out=0;let n=Xi.inflateInit2(this.strm,e.windowBits);if(n!==uh)throw new Error(jx[n]);if(this.header=new uB,Xi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Sx.string2buf(e.dictionary):g6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Xi.inflateSetDictionary(this.strm,e.dictionary),n!==uh)))throw new Error(jx[n])}Nh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?hB:dB,g6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Xi.inflate(n,a),i===Eg&&s&&(i=Xi.inflateSetDictionary(n,s),i===uh?i=Xi.inflate(n,a):i===Vw&&(i=Eg));n.avail_in>0&&i===Cg&&n.state.wrap>0&&t[n.next_in]!==0;)Xi.inflateReset(n),i=Xi.inflate(n,a);switch(i){case fB:case Vw:case Eg:case pB:return this.onEnd(i),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||i===Cg))if(this.options.to==="string"){let c=Sx.utf8border(n.output,n.next_out),u=n.next_out-c,d=Sx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===uh&&l===0)){if(i===Cg)return i=Xi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Nh.prototype.onData=function(t){this.chunks.push(t)};Nh.prototype.onEnd=function(t){t===uh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r6.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mB(t,e){const n=new Nh(e);if(n.push(t),n.err)throw n.msg||jx[n.err];return n.result}var gB=Nh,xB=mB,yB={Inflate:gB,inflate:xB};const{Inflate:vB,inflate:bB}=yB;var Kw=vB,wB=bB;const x6=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;x6[t]=e}const Gw=4294967295;function _B(t,e,n){let r=t;for(let s=0;s<n;s++)r=x6[(r^e[s])&255]^r>>>8;return r}function NB(t,e){return(_B(Gw,t,e)^Gw)>>>0}function Yw(t,e,n){const r=t.readUint32(),s=NB(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function y6(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function v6(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function b6(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function w6(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function _6(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+jB(e[i-s],n[i],n[i-s])&255}}function jB(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),a=Math.abs(r-n);return s<=i&&s<=a?t:i<=a?e:n}function SB(t,e,n,r,s,i){switch(t){case 0:y6(e,n,s);break;case 1:v6(e,n,s,i);break;case 2:b6(e,n,r,s);break;case 3:w6(e,n,r,s,i);break;case 4:_6(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const kB=new Uint16Array([255]),AB=new Uint8Array(kB.buffer),CB=AB[0]===255;function EB(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(r*n*l);let u=0;for(let d=0;d<7;d++){const h=a[d],m=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(m<=0||f<=0)continue;const v=m*l,x=new Uint8Array(v);for(let b=0;b<f;b++){const y=e[u++],w=e.subarray(u,u+v);u+=v;const _=new Uint8Array(v);SB(y,w,_,x,v,l),x.set(_);for(let k=0;k<m;k++){const R=h.x+k*h.xStep,I=h.y+b*h.yStep;if(!(R>=n||I>=r))for(let D=0;D<l;D++)c[(I*n+R)*l+D]=_[k*l+D]}}}if(i===16){const d=new Uint16Array(c.buffer);if(CB)for(let h=0;h<d.length;h++)d[h]=LB(d[h]);return d}else return c}function LB(t){return(t&255)<<8|t>>8&255}const PB=new Uint16Array([255]),TB=new Uint8Array(PB.buffer),IB=TB[0]===255,OB=new Uint8Array(0);function Jw(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*n),c=new Uint8Array(r*l);let u=OB,d=0,h,m;for(let f=0;f<r;f++){switch(h=e.subarray(d+1,d+1+l),m=c.subarray(f*l,(f+1)*l),e[d]){case 0:y6(h,m,l);break;case 1:v6(h,m,l,a);break;case 2:b6(h,m,u,l);break;case 3:w6(h,m,u,l,a);break;case 4:_6(h,m,u,l,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(IB)for(let v=0;v<f.length;v++)f[v]=RB(f[v]);return f}else return c}function RB(t){return(t&255)<<8|t>>8&255}const p0=Uint8Array.of(137,80,78,71,13,10,26,10);function Xw(t){if(!MB(t.readBytes(p0.length)))throw new Error("wrong PNG signature")}function MB(t){if(t.length<p0.length)return!1;for(let e=0;e<p0.length;e++)if(t[e]!==p0[e])return!1;return!0}const DB="tEXt",FB=0,N6=new TextDecoder("latin1");function BB(t){if(UB(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const $B=/^[\u0000-\u00FF]*$/;function UB(t){if(!$B.test(t))throw new Error("invalid latin1 text")}function zB(t,e,n){const r=j6(e);t[r]=qB(e,n-r.length-1)}function j6(t){for(t.mark();t.readByte()!==FB;);const e=t.offset;t.reset();const n=N6.decode(t.readBytes(e-t.offset-1));return t.skip(1),BB(n),n}function qB(t,e){return N6.decode(t.readBytes(e))}const ns={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Lg={UNKNOWN:-1,DEFLATE:0},Qw={UNKNOWN:-1,ADAPTIVE:0},Pg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vf={NONE:0,BACKGROUND:1,PREVIOUS:2},Tg={SOURCE:0,OVER:1};class HB extends l2{constructor(n,r={}){super(n);Re(this,"_checkCrc");Re(this,"_inflator");Re(this,"_png");Re(this,"_apng");Re(this,"_end");Re(this,"_hasPalette");Re(this,"_palette");Re(this,"_hasTransparency");Re(this,"_transparency");Re(this,"_compressionMethod");Re(this,"_filterMethod");Re(this,"_interlaceMethod");Re(this,"_colorType");Re(this,"_isAnimated");Re(this,"_numberOfFrames");Re(this,"_numberOfPlays");Re(this,"_frames");Re(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new Kw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Lg.UNKNOWN,this._filterMethod=Qw.UNKNOWN,this._interlaceMethod=Pg.UNKNOWN,this._colorType=ns.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Xw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Xw(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case DB:zB(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Yw(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Yw(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=WB(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case ns.GREYSCALE:s=1;break;case ns.TRUECOLOUR:s=3;break;case ns.INDEXED_COLOUR:s=1;break;case ns.GREYSCALE_ALPHA:s=2;break;case ns.TRUECOLOUR_ALPHA:s=4;break;case ns.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Lg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ns.GREYSCALE:case ns.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ns.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ns.UNKNOWN:case ns.GREYSCALE_ALPHA:case ns.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=j6(this),s=this.readUint8();if(s!==Lg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:wB(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Jw({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case Vf.NONE:break;case Vf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*n.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case Vf.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(a,l)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(a*r.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case Tg.SOURCE:for(let a=0;a<r.height;a++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++)n.data[c+d]=r.data[u+d]}break;case Tg.OVER:for(let a=0;a<r.height;a++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=i(a,l);for(let d=0;d<this._png.channels;d++){const h=r.data[u+this._png.channels-1]/s,m=d%(this._png.channels-1)===0?1:r.data[u+d],f=Math.floor(h*m+(1-h)*n.data[c+d]);n.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Qw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Pg.NO_INTERLACE)this._png.data=Jw({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Pg.ADAM7)this._png.data=EB({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vf.NONE,blendOp:Tg.SOURCE,data:n}),this._inflator=new Kw,this._writingDataChunks=!1}}function WB(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Zw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Zw||(Zw={}));function VB(t,e){return new HB(t,e).decode()}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ig(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Kt={log:Ig,warn:function(t){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):Ig.call(null,arguments))},error:function(t){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):Ig(t))}};function Og(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Xo(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function e4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xo=at.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=at.URL||at.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?e4(s.href)?Og(t,e,n):Kf(s,s.target="_blank"):Kf(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Kf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(e4(t))Og(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Kf(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:$t(i)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Og(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(at.HTMLElement)||at.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(t)}else{var c=at.URL||at.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var m0=at.atob.bind(at),t4=at.btoa.bind(at);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rg(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=gr(n,r,s,i,e[0],7,-680876936),i=gr(i,n,r,s,e[1],12,-389564586),s=gr(s,i,n,r,e[2],17,606105819),r=gr(r,s,i,n,e[3],22,-1044525330),n=gr(n,r,s,i,e[4],7,-176418897),i=gr(i,n,r,s,e[5],12,1200080426),s=gr(s,i,n,r,e[6],17,-1473231341),r=gr(r,s,i,n,e[7],22,-45705983),n=gr(n,r,s,i,e[8],7,1770035416),i=gr(i,n,r,s,e[9],12,-1958414417),s=gr(s,i,n,r,e[10],17,-42063),r=gr(r,s,i,n,e[11],22,-1990404162),n=gr(n,r,s,i,e[12],7,1804603682),i=gr(i,n,r,s,e[13],12,-40341101),s=gr(s,i,n,r,e[14],17,-1502002290),n=xr(n,r=gr(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=xr(i,n,r,s,e[6],9,-1069501632),s=xr(s,i,n,r,e[11],14,643717713),r=xr(r,s,i,n,e[0],20,-373897302),n=xr(n,r,s,i,e[5],5,-701558691),i=xr(i,n,r,s,e[10],9,38016083),s=xr(s,i,n,r,e[15],14,-660478335),r=xr(r,s,i,n,e[4],20,-405537848),n=xr(n,r,s,i,e[9],5,568446438),i=xr(i,n,r,s,e[14],9,-1019803690),s=xr(s,i,n,r,e[3],14,-187363961),r=xr(r,s,i,n,e[8],20,1163531501),n=xr(n,r,s,i,e[13],5,-1444681467),i=xr(i,n,r,s,e[2],9,-51403784),s=xr(s,i,n,r,e[7],14,1735328473),n=yr(n,r=xr(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=yr(i,n,r,s,e[8],11,-2022574463),s=yr(s,i,n,r,e[11],16,1839030562),r=yr(r,s,i,n,e[14],23,-35309556),n=yr(n,r,s,i,e[1],4,-1530992060),i=yr(i,n,r,s,e[4],11,1272893353),s=yr(s,i,n,r,e[7],16,-155497632),r=yr(r,s,i,n,e[10],23,-1094730640),n=yr(n,r,s,i,e[13],4,681279174),i=yr(i,n,r,s,e[0],11,-358537222),s=yr(s,i,n,r,e[3],16,-722521979),r=yr(r,s,i,n,e[6],23,76029189),n=yr(n,r,s,i,e[9],4,-640364487),i=yr(i,n,r,s,e[12],11,-421815835),s=yr(s,i,n,r,e[15],16,530742520),n=vr(n,r=yr(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=vr(i,n,r,s,e[7],10,1126891415),s=vr(s,i,n,r,e[14],15,-1416354905),r=vr(r,s,i,n,e[5],21,-57434055),n=vr(n,r,s,i,e[12],6,1700485571),i=vr(i,n,r,s,e[3],10,-1894986606),s=vr(s,i,n,r,e[10],15,-1051523),r=vr(r,s,i,n,e[1],21,-2054922799),n=vr(n,r,s,i,e[8],6,1873313359),i=vr(i,n,r,s,e[15],10,-30611744),s=vr(s,i,n,r,e[6],15,-1560198380),r=vr(r,s,i,n,e[13],21,1309151649),n=vr(n,r,s,i,e[4],6,-145523070),i=vr(i,n,r,s,e[11],10,-1120210379),s=vr(s,i,n,r,e[2],15,718787259),r=vr(r,s,i,n,e[9],21,-343485551),t[0]=Wa(n,t[0]),t[1]=Wa(r,t[1]),t[2]=Wa(s,t[2]),t[3]=Wa(i,t[3])}function qp(t,e,n,r,s,i){return e=Wa(Wa(e,t),Wa(r,i)),Wa(e<<s|e>>>32-s,n)}function gr(t,e,n,r,s,i,a){return qp(e&n|~e&r,t,e,s,i,a)}function xr(t,e,n,r,s,i,a){return qp(e&r|n&~r,t,e,s,i,a)}function yr(t,e,n,r,s,i,a){return qp(e^n^r,t,e,s,i,a)}function vr(t,e,n,r,s,i,a){return qp(n^(e|~r),t,e,s,i,a)}function k6(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Rg(r,KB(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Rg(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Rg(r,s),r}function KB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var n4="0123456789abcdef".split("");function GB(t){for(var e="",n=0;n<4;n++)e+=n4[t>>8*n+4&15]+n4[t>>8*n&15];return e}function YB(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function kx(t){return k6(t).map(YB).join("")}var JB=function(t){for(var e=0;e<t.length;e++)t[e]=GB(t[e]);return t.join("")}(k6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wa(t,e){if(JB){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ax(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=t,r=l}else l=r;var h=e.length,m=0,f=0,v="";for(c=0;c<h;c++)f=(f+(d=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=d,a=l[(l[m]+l[f])%256],v+=String.fromCharCode(e.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var r4={print:4,modify:8,copy:16,"annot-forms":32};function ec(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(r4.perm!==void 0)throw new Error("Invalid permission: "+l);s+=r4[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=kx(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ax(this.encryptionKey,this.padding)}function tc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function s4(t){if($t(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(l){at.console&&Kt.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dp(t){if(!(this instanceof dp))return new dp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function A6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function el(t,e,n,r,s){if(!(this instanceof el))return new el(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,A6.call(this,r,s)}function xc(t,e,n,r,s){if(!(this instanceof xc))return new xc(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,A6.call(this,r,s)}function Qe(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;$t(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=s4;var v="1.3",x=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(N){v=N};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var y=f.__private__.getPageFormat=function(N){return b[N]};s=s||"a4";var w="compat",_="advanced",k=w;function R(){this.saveGraphicsState(),X(new et(st,0,0,-st,0,Co()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",k=_}function I(){this.restoreGraphicsState(),u="S",k=w}var D=f.__private__.combineFontStyleAndFontWeight=function(N,$){if(N=="bold"&&$=="normal"||N=="bold"&&$==400||N=="normal"&&$=="italic"||N=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(N=$==400||$==="normal"?N==="italic"?"italic":"normal":$!=700&&$!=="bold"||N!=="normal"?($==700?"bold":$)+""+N:"bold"),N};f.advancedAPI=function(N){var $=k===w;return $&&R.call(this),typeof N!="function"||(N(this),$&&I.call(this)),this},f.compatAPI=function(N){var $=k===_;return $&&I.call(this),typeof N!="function"||(N(this),$&&R.call(this)),this},f.isAdvancedAPI=function(){return k===_};var A,j=function(N){if(k!==_)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=f.roundToPrecision=f.__private__.roundToPrecision=function(N,$){var ie=e||$;if(isNaN(N)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ie).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return T(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return T(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return T(N,16)};var C=f.f2=f.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return T(N,2)},L=f.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return T(N,3)},F=f.scale=f.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===w?N*st:k===_?N:void 0},W=function(N){return F(function($){return k===w?Co()-$:k===_?$:void 0}(N))};f.__private__.setPrecision=f.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var oe,H="00000000000000000000000000000000",ce=f.__private__.getFileId=function(){return H},te=f.__private__.setFileId=function(N){return H=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(wn=new ec(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};f.setFileId=function(N){return te(N),this},f.getFileId=function(){return ce()};var ue=f.__private__.convertDateToPDFDate=function(N){var $=N.getTimezoneOffset(),ie=$<0?"+":"-",de=Math.floor(Math.abs($/60)),ye=Math.abs($%60),ke=[ie,O(de),"'",O(ye),"'"].join("");return["D:",N.getFullYear(),O(N.getMonth()+1),O(N.getDate()),O(N.getHours()),O(N.getMinutes()),O(N.getSeconds()),ke].join("")},pe=f.__private__.convertPDFDateToDate=function(N){var $=parseInt(N.substr(2,4),10),ie=parseInt(N.substr(6,2),10)-1,de=parseInt(N.substr(8,2),10),ye=parseInt(N.substr(10,2),10),ke=parseInt(N.substr(12,2),10),Le=parseInt(N.substr(14,2),10);return new Date($,ie,de,ye,ke,Le,0)},xe=f.__private__.setCreationDate=function(N){var $;if(N===void 0&&(N=new Date),N instanceof Date)$=ue(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=N}return oe=$},U=f.__private__.getCreationDate=function(N){var $=oe;return N==="jsDate"&&($=pe(oe)),$};f.setCreationDate=function(N){return xe(N),this},f.getCreationDate=function(N){return U(N)};var ee,O=f.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},Z=f.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},B=0,se=[],V=[],E=0,M=[],Y=[],he=!1,me=V;f.__private__.setCustomOutputDestination=function(N){he=!0,me=N};var le=function(N){he||(me=N)};f.__private__.resetCustomOutputDestination=function(){he=!1,me=V};var X=f.__private__.out=function(N){return N=N.toString(),E+=N.length+1,me.push(N),me},Oe=f.__private__.write=function(N){return X(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},De=f.__private__.getArrayBuffer=function(N){for(var $=N.length,ie=new ArrayBuffer($),de=new Uint8Array(ie);$--;)de[$]=N.charCodeAt($);return ie},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ie};var je=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(N){return je=k===_?N/st:N,this};var Me,Ee=f.__private__.getFontSize=f.getFontSize=function(){return k===w?je:je*st},$e=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(N){return $e=N,this},f.__private__.getR2L=f.getR2L=function(){return $e};var He,bt=f.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Me=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Me=N}else Me=parseInt(N,10)};f.__private__.getZoomMode=function(){return Me};var ut,tt=f.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');He=N};f.__private__.getPageMode=function(){return He};var Pt=f.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ut=N};f.__private__.getLayoutMode=function(){return ut},f.__private__.setDisplayMode=f.setDisplayMode=function(N,$,ie){return bt(N),Pt($),tt(ie),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(N){if(Object.keys(ht).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[N]},f.__private__.getDocumentProperties=function(){return ht},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(N){for(var $ in ht)ht.hasOwnProperty($)&&N[$]&&(ht[$]=N[$]);return this},f.__private__.setDocumentProperty=function(N,$){if(Object.keys(ht).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[N]=$};var Ze,st,Je,Mt,jt,Ve={},ot={},Ot=[],nt={},vt={},lt={},sn={},fn=null,Tt=0,it=[],Et=new s4(f),J=t.hotfixes||[],_e={},kt={},qt=[],et=function N($,ie,de,ye,ke,Le){if(!(this instanceof N))return new N($,ie,de,ye,ke,Le);isNaN($)&&($=1),isNaN(ie)&&(ie=0),isNaN(de)&&(de=0),isNaN(ye)&&(ye=1),isNaN(ke)&&(ke=0),isNaN(Le)&&(Le=0),this._matrix=[$,ie,de,ye,ke,Le]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(N)},et.prototype.multiply=function(N){var $=N.sx*this.sx+N.shy*this.shx,ie=N.sx*this.shy+N.shy*this.sy,de=N.shx*this.sx+N.sy*this.shx,ye=N.shx*this.shy+N.sy*this.sy,ke=N.tx*this.sx+N.ty*this.shx+this.tx,Le=N.tx*this.shy+N.ty*this.sy+this.ty;return new et($,ie,de,ye,ke,Le)},et.prototype.decompose=function(){var N=this.sx,$=this.shy,ie=this.shx,de=this.sy,ye=this.tx,ke=this.ty,Le=Math.sqrt(N*N+$*$),We=(N/=Le)*ie+($/=Le)*de;ie-=N*We,de-=$*We;var Ye=Math.sqrt(ie*ie+de*de);return We/=Ye,N*(de/=Ye)<$*(ie/=Ye)&&(N=-N,$=-$,We=-We,Le=-Le),{scale:new et(Le,0,0,Ye,0,0),translate:new et(1,0,0,1,ye,ke),rotate:new et(N,$,-$,N,0,0),skew:new et(1,0,We,1,0,0)}},et.prototype.toString=function(N){return this.join(" ")},et.prototype.inversed=function(){var N=this.sx,$=this.shy,ie=this.shx,de=this.sy,ye=this.tx,ke=this.ty,Le=1/(N*de-$*ie),We=de*Le,Ye=-$*Le,ct=-ie*Le,ft=N*Le;return new et(We,Ye,ct,ft,-We*ye-ct*ke,-Ye*ye-ft*ke)},et.prototype.applyToPoint=function(N){var $=N.x*this.sx+N.y*this.shx+this.tx,ie=N.x*this.shy+N.y*this.sy+this.ty;return new ko($,ie)},et.prototype.applyToRectangle=function(N){var $=this.applyToPoint(N),ie=this.applyToPoint(new ko(N.x+N.w,N.y+N.h));return new mu($.x,$.y,ie.x-$.x,ie.y-$.y)},et.prototype.clone=function(){var N=this.sx,$=this.shy,ie=this.shx,de=this.sy,ye=this.tx,ke=this.ty;return new et(N,$,ie,de,ye,ke)},f.Matrix=et;var Tr=f.matrixMult=function(N,$){return $.multiply(N)},Ci=new et(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ci;var hs=function(N,$){if(!vt[N]){var ie=($ instanceof el?"Sh":"P")+(Object.keys(nt).length+1).toString(10);$.id=ie,vt[N]=ie,nt[ie]=$,Et.publish("addPattern",$)}};f.ShadingPattern=el,f.TilingPattern=xc,f.addShadingPattern=function(N,$){return j("addShadingPattern()"),hs(N,$),this},f.beginTilingPattern=function(N){j("beginTilingPattern()"),gu(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},f.endTilingPattern=function(N,$){j("endTilingPattern()"),$.stream=Y[ee].join(`
`),hs(N,$),Et.publish("endTilingPattern",$),qt.pop().restore()};var fs,pn=f.__private__.newObject=function(){var N=Jn();return tr(N,!0),N},Jn=f.__private__.newObjectDeferred=function(){return B++,se[B]=function(){return E},B},tr=function(N,$){return $=typeof $=="boolean"&&$,se[N]=E,$&&X(N+" 0 obj"),N},xo=f.__private__.newAdditionalObject=function(){var N={objId:Jn(),content:""};return M.push(N),N},ua=Jn(),Ds=Jn(),ai=f.__private__.decodeColorString=function(N){var $=N.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ie=parseFloat($[0]);$=[ie,ie,ie,"r"]}for(var de="#",ye=0;ye<3;ye++)de+=("0"+Math.floor(255*parseFloat($[ye])).toString(16)).slice(-2);return de},Fs=f.__private__.encodeColorString=function(N){var $;typeof N=="string"&&(N={ch1:N});var ie=N.ch1,de=N.ch2,ye=N.ch3,ke=N.ch4,Le=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var We=new S6(ie);if(We.ok)ie=We.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var Ye=parseInt(ie.substr(1),16);ie=Ye>>16&255,de=Ye>>8&255,ye=255&Ye}if(de===void 0||ke===void 0&&ie===de&&de===ye)$=typeof ie=="string"?ie+" "+Le[0]:N.precision===2?C(ie/255)+" "+Le[0]:L(ie/255)+" "+Le[0];else if(ke===void 0||$t(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return["1.","1.","1.",Le[1]].join(" ");$=typeof ie=="string"?[ie,de,ye,Le[1]].join(" "):N.precision===2?[C(ie/255),C(de/255),C(ye/255),Le[1]].join(" "):[L(ie/255),L(de/255),L(ye/255),Le[1]].join(" ")}else $=typeof ie=="string"?[ie,de,ye,ke,Le[2]].join(" "):N.precision===2?[C(ie),C(de),C(ye),C(ke),Le[2]].join(" "):[L(ie),L(de),L(ye),L(ke),Le[2]].join(" ");return $},Bs=f.__private__.getFilters=function(){return a},ps=f.__private__.putStream=function(N){var $=(N=N||{}).data||"",ie=N.filters||Bs(),de=N.alreadyAppliedFilters||[],ye=N.addLength1||!1,ke=$.length,Le=N.objectId,We=function($n){return $n};if(d!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=wn.encryptor(Le,0));var Ye={};ie===!0&&(ie=["FlateEncode"]);var ct=N.additionalKeyValues||[],ft=(Ye=Qe.API.processDataByFilters!==void 0?Qe.API.processDataByFilters($,ie):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(Ye.data.length!==0&&(ct.push({key:"Length",value:Ye.data.length}),ye===!0&&ct.push({key:"Length1",value:ke})),ft.length!=0)if(ft.split("/").length-1==1)ct.push({key:"Filter",value:ft});else{ct.push({key:"Filter",value:"["+ft+"]"});for(var It=0;It<ct.length;It+=1)if(ct[It].key==="DecodeParms"){for(var ln=[],Rn=0;Rn<Ye.reverseChain.split("/").length-1;Rn+=1)ln.push("null");ln.push(ct[It].value),ct[It].value="["+ln.join(" ")+"]"}}X("<<");for(var Gt=0;Gt<ct.length;Gt++)X("/"+ct[Gt].key+" "+ct[Gt].value);X(">>"),Ye.data.length!==0&&(X("stream"),X(We(Ye.data)),X("endstream"))},yo=f.__private__.putPage=function(N){var $=N.number,ie=N.data,de=N.objId,ye=N.contentsObjId;tr(de,!0),X("<</Type /Page"),X("/Parent "+N.rootDictionaryObjId+" 0 R"),X("/Resources "+N.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(A(N.mediaBox.bottomLeftX))+" "+parseFloat(A(N.mediaBox.bottomLeftY))+" "+A(N.mediaBox.topRightX)+" "+A(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&X("/CropBox ["+A(N.cropBox.bottomLeftX)+" "+A(N.cropBox.bottomLeftY)+" "+A(N.cropBox.topRightX)+" "+A(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&X("/BleedBox ["+A(N.bleedBox.bottomLeftX)+" "+A(N.bleedBox.bottomLeftY)+" "+A(N.bleedBox.topRightX)+" "+A(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&X("/TrimBox ["+A(N.trimBox.bottomLeftX)+" "+A(N.trimBox.bottomLeftY)+" "+A(N.trimBox.topRightX)+" "+A(N.trimBox.topRightY)+"]"),N.artBox!==null&&X("/ArtBox ["+A(N.artBox.bottomLeftX)+" "+A(N.artBox.bottomLeftY)+" "+A(N.artBox.topRightX)+" "+A(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&X("/UserUnit "+N.userUnit),Et.publish("putPage",{objId:de,pageContext:it[$],pageNumber:$,page:ie}),X("/Contents "+ye+" 0 R"),X(">>"),X("endobj");var ke=ie.join(`
`);return k===_&&(ke+=`
Q`),tr(ye,!0),ps({data:ke,filters:Bs(),objectId:ye}),X("endobj"),de},oi=f.__private__.putPages=function(){var N,$,ie=[];for(N=1;N<=Tt;N++)it[N].objId=Jn(),it[N].contentsObjId=Jn();for(N=1;N<=Tt;N++)ie.push(yo({number:N,data:Y[N],objId:it[N].objId,contentsObjId:it[N].contentsObjId,mediaBox:it[N].mediaBox,cropBox:it[N].cropBox,bleedBox:it[N].bleedBox,trimBox:it[N].trimBox,artBox:it[N].artBox,userUnit:it[N].userUnit,rootDictionaryObjId:ua,resourceDictionaryObjId:Ds}));tr(ua,!0),X("<</Type /Pages");var de="/Kids [";for($=0;$<Tt;$++)de+=ie[$]+" 0 R ";X(de+"]"),X("/Count "+Tt),X(">>"),X("endobj"),Et.publish("postPutPages")},vo=function(N){Et.publish("putFont",{font:N,out:X,newObject:pn,putStream:ps}),N.isAlreadyPutted!==!0&&(N.objectNumber=pn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+tc(N.postScriptName)),X("/Subtype /Type1"),typeof N.encoding=="string"&&X("/Encoding /"+N.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Al=function(N){N.objectNumber=pn();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[A(N.x),A(N.y),A(N.x+N.width),A(N.y+N.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ie=N.pages[1].join(`
`);ps({data:ie,additionalKeyValues:$,objectId:N.objectNumber}),X("endobj")},Cl=function(N,$){$||($=21);var ie=pn(),de=function(Le,We){var Ye,ct=[],ft=1/(We-1);for(Ye=0;Ye<1;Ye+=ft)ct.push(Ye);if(ct.push(1),Le[0].offset!=0){var It={offset:0,color:Le[0].color};Le.unshift(It)}if(Le[Le.length-1].offset!=1){var ln={offset:1,color:Le[Le.length-1].color};Le.push(ln)}for(var Rn="",Gt=0,$n=0;$n<ct.length;$n++){for(Ye=ct[$n];Ye>Le[Gt+1].offset;)Gt++;var Mn=Le[Gt].offset,nr=(Ye-Mn)/(Le[Gt+1].offset-Mn),gs=Le[Gt].color,Ir=Le[Gt+1].color;Rn+=Z(Math.round((1-nr)*gs[0]+nr*Ir[0]).toString(16))+Z(Math.round((1-nr)*gs[1]+nr*Ir[1]).toString(16))+Z(Math.round((1-nr)*gs[2]+nr*Ir[2]).toString(16))}return Rn.trim()}(N.colors,$),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+$+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ps({data:de,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),X("endobj"),N.objectNumber=pn(),X("<< /ShadingType "+N.type),X("/ColorSpace /DeviceRGB");var ke="/Coords ["+A(parseFloat(N.coords[0]))+" "+A(parseFloat(N.coords[1]))+" ";N.type===2?ke+=A(parseFloat(N.coords[2]))+" "+A(parseFloat(N.coords[3])):ke+=A(parseFloat(N.coords[2]))+" "+A(parseFloat(N.coords[3]))+" "+A(parseFloat(N.coords[4]))+" "+A(parseFloat(N.coords[5])),X(ke+="]"),N.matrix&&X("/Matrix ["+N.matrix.toString()+"]"),X("/Function "+ie+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},El=function(N,$){var ie=Jn(),de=pn();$.push({resourcesOid:ie,objectOid:de}),N.objectNumber=de;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+N.boundingBox.map(A).join(" ")+"]"}),ye.push({key:"XStep",value:A(N.xStep)}),ye.push({key:"YStep",value:A(N.yStep)}),ye.push({key:"Resources",value:ie+" 0 R"}),N.matrix&&ye.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),ps({data:N.stream,additionalKeyValues:ye,objectId:N.objectNumber}),X("endobj")},Wp=function(N){for(var $ in N.objectNumber=pn(),X("<<"),N)switch($){case"opacity":X("/ca "+C(N[$]));break;case"stroke-opacity":X("/CA "+C(N[$]))}X(">>"),X("endobj")},iu=function(N){tr(N.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in X("/Font <<"),Ve)Ve.hasOwnProperty($)&&(h===!1||h===!0&&m.hasOwnProperty($))&&X("/"+$+" "+Ve[$].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(nt).length>0){for(var $ in X("/Shading <<"),nt)nt.hasOwnProperty($)&&nt[$]instanceof el&&nt[$].objectNumber>=0&&X("/"+$+" "+nt[$].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),X(">>")}}(),function($){if(Object.keys(nt).length>0){for(var ie in X("/Pattern <<"),nt)nt.hasOwnProperty(ie)&&nt[ie]instanceof f.TilingPattern&&nt[ie].objectNumber>=0&&nt[ie].objectNumber<$&&X("/"+ie+" "+nt[ie].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),X(">>")}}(N.objectOid),function(){if(Object.keys(lt).length>0){var $;for($ in X("/ExtGState <<"),lt)lt.hasOwnProperty($)&&lt[$].objectNumber>=0&&X("/"+$+" "+lt[$].objectNumber+" 0 R");Et.publish("putGStateDict"),X(">>")}}(),function(){for(var $ in X("/XObject <<"),_e)_e.hasOwnProperty($)&&_e[$].objectNumber>=0&&X("/"+$+" "+_e[$].objectNumber+" 0 R");Et.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},jh=function(N){ot[N.fontName]=ot[N.fontName]||{},ot[N.fontName][N.fontStyle]=N.id},Sh=function(N,$,ie,de,ye){var ke={id:"F"+(Object.keys(Ve).length+1).toString(10),postScriptName:N,fontName:$,fontStyle:ie,encoding:de,isStandardFont:ye||!1,metadata:{}};return Et.publish("addFont",{font:ke,instance:this}),Ve[ke.id]=ke,jh(ke),ke.id},ms=f.__private__.pdfEscape=f.pdfEscape=function(N,$){return function(ie,de){var ye,ke,Le,We,Ye,ct,ft,It,ln;if(Le=(de=de||{}).sourceEncoding||"Unicode",Ye=de.outputEncoding,(de.autoencode||Ye)&&Ve[Ze].metadata&&Ve[Ze].metadata[Le]&&Ve[Ze].metadata[Le].encoding&&(We=Ve[Ze].metadata[Le].encoding,!Ye&&Ve[Ze].encoding&&(Ye=Ve[Ze].encoding),!Ye&&We.codePages&&(Ye=We.codePages[0]),typeof Ye=="string"&&(Ye=We[Ye]),Ye)){for(ft=!1,ct=[],ye=0,ke=ie.length;ye<ke;ye++)(It=Ye[ie.charCodeAt(ye)])?ct.push(String.fromCharCode(It)):ct.push(ie[ye]),ct[ye].charCodeAt(0)>>8&&(ft=!0);ie=ct.join("")}for(ye=ie.length;ft===void 0&&ye!==0;)ie.charCodeAt(ye-1)>>8&&(ft=!0),ye--;if(!ft)return ie;for(ct=de.noBOM?[]:[254,255],ye=0,ke=ie.length;ye<ke;ye++){if((ln=(It=ie.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(ln),ct.push(It-(ln<<8))}return String.fromCharCode.apply(void 0,ct)}(N,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=f.__private__.beginPage=function(N){Y[++Tt]=[],it[Tt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Ah(Tt),le(Y[ee])},kh=function(N,$){var ie,de,ye;switch(n=$||n,typeof N=="string"&&(ie=y(N.toLowerCase()),Array.isArray(ie)&&(de=ie[0],ye=ie[1])),Array.isArray(N)&&(de=N[0]*st,ye=N[1]*st),isNaN(de)&&(de=s[0],ye=s[1]),(de>14400||ye>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ye=Math.min(14400,ye)),s=[de,ye],n.substr(0,1)){case"l":ye>de&&(s=[ye,de]);break;case"p":de>ye&&(s=[ye,de])}au(s),em(du),X(Pl),fu!==0&&X(fu+" J"),pu!==0&&X(pu+" j"),Et.publish("addPage",{pageNumber:Tt})},ou=function(N){N>0&&N<=Tt&&(Y.splice(N,1),it.splice(N,1),Tt--,ee>Tt&&(ee=Tt),this.setPage(ee))},Ah=function(N){N>0&&N<=Tt&&(ee=N)},Ch=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Y.length-1},Eh=function(N,$,ie){var de,ye=void 0;return ie=ie||{},N=N!==void 0?N:Ve[Ze].fontName,$=$!==void 0?$:Ve[Ze].fontStyle,de=N.toLowerCase(),ot[de]!==void 0&&ot[de][$]!==void 0?ye=ot[de][$]:ot[N]!==void 0&&ot[N][$]!==void 0?ye=ot[N][$]:ie.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+N+"', '"+$+"'. Refer to getFontList() for available fonts."),ye||ie.noFallback||(ye=ot.times[$])==null&&(ye=ot.times.normal),ye},Ll=f.__private__.putInfo=function(){var N=pn(),$=function(de){return de};for(var ie in d!==null&&($=wn.encryptor(N,0)),X("<<"),X("/Producer ("+ms($("jsPDF "+Qe.version))+")"),ht)ht.hasOwnProperty(ie)&&ht[ie]&&X("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+ms($(ht[ie]))+")");X("/CreationDate ("+ms($(oe))+")"),X(">>"),X("endobj")},Vp=f.__private__.putCatalog=function(N){var $=(N=N||{}).rootDictionaryObjId||ua;switch(pn(),X("<<"),X("/Type /Catalog"),X("/Pages "+$+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Me;ie.substr(ie.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&X("/OpenAction [3 0 R /XYZ null null "+C(Me)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}He&&X("/PageMode /"+He),Et.publish("putCatalog"),X(">>"),X("endobj")},On=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(B+1)),X("/Root "+B+" 0 R"),X("/Info "+(B-1)+" 0 R"),d!==null&&X("/Encrypt "+wn.oid+" 0 R"),X("/ID [ <"+H+"> <"+H+"> ]"),X(">>")},Lh=f.__private__.putHeader=function(){X("%PDF-"+v),X("%ºß¬à")},Ph=f.__private__.putXRef=function(){var N="0000000000";X("xref"),X("0 "+(B+1)),X("0000000000 65535 f ");for(var $=1;$<=B;$++)typeof se[$]=="function"?X((N+se[$]()).slice(-10)+" 00000 n "):se[$]!==void 0?X((N+se[$]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ei=f.__private__.buildDocument=function(){var N;B=0,E=0,V=[],se=[],M=[],ua=Jn(),Ds=Jn(),le(V),Et.publish("buildDocument"),Lh(),oi(),function(){Et.publish("putAdditionalObjects");for(var ie=0;ie<M.length;ie++){var de=M[ie];tr(de.objId,!0),X(de.content),X("endobj")}Et.publish("postPutAdditionalObjects")}(),N=[],function(){for(var ie in Ve)Ve.hasOwnProperty(ie)&&(h===!1||h===!0&&m.hasOwnProperty(ie))&&vo(Ve[ie])}(),function(){var ie;for(ie in lt)lt.hasOwnProperty(ie)&&Wp(lt[ie])}(),function(){for(var ie in _e)_e.hasOwnProperty(ie)&&Al(_e[ie])}(),function(ie){var de;for(de in nt)nt.hasOwnProperty(de)&&(nt[de]instanceof el?Cl(nt[de]):nt[de]instanceof xc&&El(nt[de],ie))}(N),Et.publish("putResources"),N.forEach(iu),iu({resourcesOid:Ds,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),d!==null&&(wn.oid=pn(),X("<<"),X("/Filter /Standard"),X("/V "+wn.v),X("/R "+wn.r),X("/U <"+wn.toHexString(wn.U)+">"),X("/O <"+wn.toHexString(wn.O)+">"),X("/P "+wn.P),X(">>"),X("endobj")),Ll(),Vp();var $=E;return Ph(),On(),X("startxref"),X(""+$),X("%%EOF"),le(Y[ee]),V.join(`
`)},bo=f.__private__.getBlob=function(N){return new Blob([De(N)],{type:"application/pdf"})},$s=f.output=f.__private__.output=(fs=function(N,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",N){case void 0:return Ei();case"save":f.save($.filename);break;case"arraybuffer":return De(Ei());case"blob":return bo(Ei());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(bo(Ei()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",de=Ei();try{ie=t4(de)}catch{ie=t4(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+$.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(ye=$.pdfObjectUrl,ke="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",We=at.open();return We!==null&&We.document.write(Le),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',ct=at.open();if(ct!==null){ct.document.write(Ye);var ft=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=$.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ft.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',ln=at.open();if(ln!==null&&(ln.document.write(It),ln.document.title=$.filename),ln||typeof safari>"u")return ln;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",$);default:return null}},fs.foo=function(){try{return fs.apply(this,arguments)}catch(ie){var N=ie.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var $="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ie.message;if(!at.console)throw new Error($);at.console.error($,ie),at.alert&&alert($)}},fs.foo.bar=fs,fs.foo),wo=function(N){return Array.isArray(J)===!0&&J.indexOf(N)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=wo("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);st=r}var wn=null;xe(),te();var lu=f.__private__.getPageInfo=f.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[N].objId,pageNumber:N,pageContext:it[N]}},Kp=f.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in it)if(it[$].objId===N)break;return lu($)},Gp=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:it[ee].objId,pageNumber:ee,pageContext:it[ee]}};f.addPage=function(){return kh.apply(this,arguments),this},f.setPage=function(){return Ah.apply(this,arguments),le.call(this,Y[ee]),this},f.insertPage=function(N){return this.addPage(),this.movePage(ee,N),this},f.movePage=function(N,$){var ie,de;if(N>$){ie=Y[N],de=it[N];for(var ye=N;ye>$;ye--)Y[ye]=Y[ye-1],it[ye]=it[ye-1];Y[$]=ie,it[$]=de,this.setPage($)}else if(N<$){ie=Y[N],de=it[N];for(var ke=N;ke<$;ke++)Y[ke]=Y[ke+1],it[ke]=it[ke+1];Y[$]=ie,it[$]=de,this.setPage($)}return this},f.deletePage=function(){return ou.apply(this,arguments),this},f.__private__.text=f.text=function(N,$,ie,de,ye){var ke,Le,We,Ye,ct,ft,It,ln,Rn,Gt=(de=de||{}).scope||this;if(typeof N=="number"&&typeof $=="number"&&(typeof ie=="string"||Array.isArray(ie))){var $n=ie;ie=$,$=N,N=$n}if(arguments[3]instanceof et==0?(We=arguments[4],Ye=arguments[5],$t(It=arguments[3])==="object"&&It!==null||(typeof We=="string"&&(Ye=We,We=null),typeof It=="string"&&(Ye=It,It=null),typeof It=="number"&&(We=It,It=null),de={flags:It,angle:We,align:Ye})):(j("The transform parameter of text() with a Matrix value"),Rn=ye),isNaN($)||isNaN(ie)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Gt;var Mn,nr="",gs=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:No,Ir=Gt.internal.scaleFactor;function Bh(Rt){return Rt=Rt.split("	").join(Array(de.TabLen||9).join(" ")),ms(Rt,It)}function Rl(Rt){for(var Wt,Nn=Rt.concat(),Un=[],Mi=Nn.length;Mi--;)typeof(Wt=Nn.shift())=="string"?Un.push(Wt):Array.isArray(Rt)&&(Wt.length===1||Wt[1]===void 0&&Wt[2]===void 0)?Un.push(Wt[0]):Un.push([Wt[0],Wt[1],Wt[2]]);return Un}function Eo(Rt,Wt){var Nn;if(typeof Rt=="string")Nn=Wt(Rt)[0];else if(Array.isArray(Rt)){for(var Un,Mi,ku=Rt.concat(),Fl=[],zh=ku.length;zh--;)typeof(Un=ku.shift())=="string"?Fl.push(Wt(Un)[0]):Array.isArray(Un)&&typeof Un[0]=="string"&&(Mi=Wt(Un[0],Un[1],Un[2]),Fl.push([Mi[0],Mi[1],Mi[2]]));Nn=Fl}return Nn}var fa=!1,Lo=!0;if(typeof N=="string")fa=!0;else if(Array.isArray(N)){var Po=N.concat();Le=[];for(var To,hr=Po.length;hr--;)(typeof(To=Po.shift())!="string"||Array.isArray(To)&&typeof To[0]!="string")&&(Lo=!1);fa=Lo}if(fa===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Io=je/Gt.internal.scaleFactor,Oo=Io*(gs-1);switch(de.baseline){case"bottom":ie-=Oo;break;case"top":ie+=Io-Oo;break;case"hanging":ie+=Io-2*Oo;break;case"middle":ie+=Io/2-Oo}if((ft=de.maxWidth||0)>0&&(typeof N=="string"?N=Gt.splitTextToSize(N,ft):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Rt,Wt){return Rt.concat(Gt.splitTextToSize(Wt,ft))},[]))),ke={text:N,x:$,y:ie,options:de,mutex:{pdfEscape:ms,activeFontKey:Ze,fonts:Ve,activeFontSize:je}},Et.publish("preProcessText",ke),N=ke.text,We=(de=ke.options).angle,Rn instanceof et==0&&We&&typeof We=="number"){We*=Math.PI/180,de.rotationDirection===0&&(We=-We),k===_&&(We=-We);var xu=Math.cos(We),yu=Math.sin(We);Rn=new et(xu,yu,-yu,xu,0,0)}else We&&We instanceof et&&(Rn=We);k!==_||Rn||(Rn=Ci),(ct=de.charSpace||Il)!==void 0&&(nr+=A(F(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ln=de.horizontalScale)!==void 0&&(nr+=A(100*ln)+` Tz
`),de.lang;var mn=-1,Oi=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ml=Gt.internal.getCurrentPageInfo().pageContext;switch(Oi){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var $h=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;mn!==-1?nr+=mn+` Tr
`:$h!==-1&&(nr+=`0 Tr
`),mn!==-1&&(Ml.usedRenderingMode=mn),Ye=de.align||"left";var xs,Ro=je*gs,vu=Gt.internal.pageSize.getWidth(),bu=Ve[Ze];ct=de.charSpace||Il,ft=de.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},de.flags);var pa=[],Mo=function(Rt){return Gt.getStringUnitWidth(Rt,{font:bu,charSpace:ct,fontSize:je,doKerning:!1})*je/Ir};if(Object.prototype.toString.call(N)==="[object Array]"){var Gr;Le=Rl(N),Ye!=="left"&&(xs=Le.map(Mo));var Yr,ma=0;if(Ye==="right"){$-=xs[0],N=[],hr=Le.length;for(var Ri=0;Ri<hr;Ri++)Ri===0?(Yr=Li($),Gr=Pi(ie)):(Yr=F(ma-xs[Ri]),Gr=-Ro),N.push([Le[Ri],Yr,Gr]),ma=xs[Ri]}else if(Ye==="center"){$-=xs[0]/2,N=[],hr=Le.length;for(var ga=0;ga<hr;ga++)ga===0?(Yr=Li($),Gr=Pi(ie)):(Yr=F((ma-xs[ga])/2),Gr=-Ro),N.push([Le[ga],Yr,Gr]),ma=xs[ga]}else if(Ye==="left"){N=[],hr=Le.length;for(var wu=0;wu<hr;wu++)N.push(Le[wu])}else if(Ye==="justify"&&bu.encoding==="Identity-H"){N=[],hr=Le.length,ft=ft!==0?ft:vu;for(var Dl=0,_n=0;_n<hr;_n++)if(Gr=_n===0?Pi(ie):-Ro,Yr=_n===0?Li($):Dl,_n<hr-1){var Uh=F((ft-xs[_n])/(Le[_n].split(" ").length-1)),ci=Le[_n].split(" ");N.push([ci[0]+" ",Yr,Gr]),Dl=0;for(var ui=1;ui<ci.length;ui++){var _u=(Mo(ci[ui-1]+" "+ci[ui])-Mo(ci[ui]))*Ir+Uh;ui==ci.length-1?N.push([ci[ui],_u,0]):N.push([ci[ui]+" ",_u,0]),Dl-=_u}}else N.push([Le[_n],Yr,Gr]);N.push(["",Dl,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],hr=Le.length,ft=ft!==0?ft:vu,_n=0;_n<hr;_n++){Gr=_n===0?Pi(ie):-Ro,Yr=_n===0?Li($):0;var Nu=Le[_n].split(" ").length-1,ju=Nu>0?(ft-xs[_n])/Nu:0;_n<hr-1?pa.push(A(F(ju))):pa.push(0),N.push([Le[_n],Yr,Gr])}}}(typeof de.R2L=="boolean"?de.R2L:$e)===!0&&(N=Eo(N,function(Rt,Wt,Nn){return[Rt.split("").reverse().join(""),Wt,Nn]})),ke={text:N,x:$,y:ie,options:de,mutex:{pdfEscape:ms,activeFontKey:Ze,fonts:Ve,activeFontSize:je}},Et.publish("postProcessText",ke),N=ke.text,Mn=ke.mutex.isHex||!1;var Su=Ve[Ze].encoding;Su!=="WinAnsiEncoding"&&Su!=="StandardEncoding"||(N=Eo(N,function(Rt,Wt,Nn){return[Bh(Rt),Wt,Nn]})),Le=Rl(N),N=[];for(var xa,ya,va,Do=Array.isArray(Le[0])?1:0,ba="",Fo=function(Rt,Wt,Nn){var Un="";return Nn instanceof et?(Nn=typeof de.angle=="number"?Tr(Nn,new et(1,0,0,1,Rt,Wt)):Tr(new et(1,0,0,1,Rt,Wt),Nn),k===_&&(Nn=Tr(new et(1,0,0,-1,0,0),Nn)),Un=Nn.join(" ")+` Tm
`):Un=A(Rt)+" "+A(Wt)+` Td
`,Un},ys=0;ys<Le.length;ys++){switch(ba="",Do){case 1:va=(Mn?"<":"(")+Le[ys][0]+(Mn?">":")"),xa=parseFloat(Le[ys][1]),ya=parseFloat(Le[ys][2]);break;case 0:va=(Mn?"<":"(")+Le[ys]+(Mn?">":")"),xa=Li($),ya=Pi(ie)}pa!==void 0&&pa[ys]!==void 0&&(ba=pa[ys]+` Tw
`),ys===0?N.push(ba+Fo(xa,ya,Rn)+va):Do===0?N.push(ba+va):Do===1&&N.push(ba+Fo(xa,ya,Rn)+va)}N=Do===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var di=`BT
/`;return di+=Ze+" "+je+` Tf
`,di+=A(je*gs)+` TL
`,di+=jo+`
`,di+=nr,di+=N,X(di+="ET"),m[Ze]=!0,Gt};var Yp=f.__private__.clip=f.clip=function(N){return X(N==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Yp("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var li=f.__private__.isValidStyle=function(N){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&($=!0),$};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(N){return li(N)&&(u=N),this};var Th=f.__private__.getStyle=f.getStyle=function(N){var $=u;switch(N){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=N}return $},Ih=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(N){return da("f",N),this},f.fillEvenOdd=function(N){return da("f*",N),this},f.fillStroke=function(N){return da("B",N),this},f.fillStrokeEvenOdd=function(N){return da("B*",N),this};var da=function(N,$){$t($)==="object"?Xp($,N):X(N)},cu=function(N){N===null||k===_&&N===void 0||(N=Th(N),X(N))};function Jp(N,$,ie,de,ye){var ke=new xc($||this.boundingBox,ie||this.xStep,de||this.yStep,this.gState,ye||this.matrix);ke.stream=this.stream;var Le=N+"$$"+this.cloneIndex+++"$$";return hs(Le,ke),ke}var Xp=function(N,$){var ie=vt[N.key],de=nt[ie];if(de instanceof el)X("q"),X(Qp($)),de.gState&&f.setGState(de.gState),X(N.matrix.toString()+" cm"),X("/"+ie+" sh"),X("Q");else if(de instanceof xc){var ye=new et(1,0,0,-1,0,Co());N.matrix&&(ye=ye.multiply(N.matrix||Ci),ie=Jp.call(de,N.key,N.boundingBox,N.xStep,N.yStep,ye).id),X("q"),X("/Pattern cs"),X("/"+ie+" scn"),de.gState&&f.setGState(de.gState),X($),X("Q")}},Qp=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uu=f.moveTo=function(N,$){return X(A(F(N))+" "+A(W($))+" m"),this},_o=f.lineTo=function(N,$){return X(A(F(N))+" "+A(W($))+" l"),this},ha=f.curveTo=function(N,$,ie,de,ye,ke){return X([A(F(N)),A(W($)),A(F(ie)),A(W(de)),A(F(ye)),A(W(ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(N,$,ie,de,ye){if(isNaN(N)||isNaN($)||isNaN(ie)||isNaN(de)||!li(ye))throw new Error("Invalid arguments passed to jsPDF.line");return k===w?this.lines([[ie-N,de-$]],N,$,[1,1],ye||"S"):this.lines([[ie-N,de-$]],N,$,[1,1]).stroke()},f.__private__.lines=f.lines=function(N,$,ie,de,ye,ke){var Le,We,Ye,ct,ft,It,ln,Rn,Gt,$n,Mn,nr;if(typeof N=="number"&&(nr=ie,ie=$,$=N,N=nr),de=de||[1,1],ke=ke||!1,isNaN($)||isNaN(ie)||!Array.isArray(N)||!Array.isArray(de)||!li(ye)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uu($,ie),Le=de[0],We=de[1],ct=N.length,$n=$,Mn=ie,Ye=0;Ye<ct;Ye++)(ft=N[Ye]).length===2?($n=ft[0]*Le+$n,Mn=ft[1]*We+Mn,_o($n,Mn)):(It=ft[0]*Le+$n,ln=ft[1]*We+Mn,Rn=ft[2]*Le+$n,Gt=ft[3]*We+Mn,$n=ft[4]*Le+$n,Mn=ft[5]*We+Mn,ha(It,ln,Rn,Gt,$n,Mn));return ke&&Ih(),cu(ye),this},f.path=function(N){for(var $=0;$<N.length;$++){var ie=N[$],de=ie.c;switch(ie.op){case"m":uu(de[0],de[1]);break;case"l":_o(de[0],de[1]);break;case"c":ha.apply(this,de);break;case"h":Ih()}}return this},f.__private__.rect=f.rect=function(N,$,ie,de,ye){if(isNaN(N)||isNaN($)||isNaN(ie)||isNaN(de)||!li(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return k===w&&(de=-de),X([A(F(N)),A(W($)),A(F(ie)),A(F(de)),"re"].join(" ")),cu(ye),this},f.__private__.triangle=f.triangle=function(N,$,ie,de,ye,ke,Le){if(isNaN(N)||isNaN($)||isNaN(ie)||isNaN(de)||isNaN(ye)||isNaN(ke)||!li(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-N,de-$],[ye-ie,ke-de],[N-ye,$-ke]],N,$,[1,1],Le,!0),this},f.__private__.roundedRect=f.roundedRect=function(N,$,ie,de,ye,ke,Le){if(isNaN(N)||isNaN($)||isNaN(ie)||isNaN(de)||isNaN(ye)||isNaN(ke)||!li(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ie),ke=Math.min(ke,.5*de),this.lines([[ie-2*ye,0],[ye*We,0,ye,ke-ke*We,ye,ke],[0,de-2*ke],[0,ke*We,-ye*We,ke,-ye,ke],[2*ye-ie,0],[-ye*We,0,-ye,-ke*We,-ye,-ke],[0,2*ke-de],[0,-ke*We,ye*We,-ke,ye,-ke]],N+ye,$,[1,1],Le,!0),this},f.__private__.ellipse=f.ellipse=function(N,$,ie,de,ye){if(isNaN(N)||isNaN($)||isNaN(ie)||isNaN(de)||!li(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ie,Le=4/3*(Math.SQRT2-1)*de;return uu(N+ie,$),ha(N+ie,$-Le,N+ke,$-de,N,$-de),ha(N-ke,$-de,N-ie,$-Le,N-ie,$),ha(N-ie,$+Le,N-ke,$+de,N,$+de),ha(N+ke,$+de,N+ie,$+Le,N+ie,$),cu(ye),this},f.__private__.circle=f.circle=function(N,$,ie,de){if(isNaN(N)||isNaN($)||isNaN(ie)||!li(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,$,ie,ie,de)},f.setFont=function(N,$,ie){return ie&&($=D($,ie)),Ze=Eh(N,$,{disableWarning:!1}),this};var Zp=f.__private__.getFont=f.getFont=function(){return Ve[Eh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var N,$,ie={};for(N in ot)if(ot.hasOwnProperty(N))for($ in ie[N]=[],ot[N])ot[N].hasOwnProperty($)&&ie[N].push($);return ie},f.addFont=function(N,$,ie,de,ye){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ie=D(ie,de)),Sh.call(this,N,$,ie,ye=ye||"Identity-H")};var No,du=t.lineWidth||.200025,dt=f.__private__.getLineWidth=f.getLineWidth=function(){return du},em=f.__private__.setLineWidth=f.setLineWidth=function(N){return du=N,X(A(F(N))+" w"),this};f.__private__.setLineDash=Qe.API.setLineDash=Qe.API.setLineDashPattern=function(N,$){if(N=N||[],$=$||0,isNaN($)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ie){return A(F(ie))}).join(" "),$=A(F($)),X("["+N+"] "+$+" d"),this};var tm=f.__private__.getLineHeight=f.getLineHeight=function(){return je*No};f.__private__.getLineHeight=f.getLineHeight=function(){return je*No};var nm=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(No=N),this},rm=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return No};nm(t.lineHeight);var Li=f.__private__.getHorizontalCoordinate=function(N){return F(N)},Pi=f.__private__.getVerticalCoordinate=function(N){return k===_?N:it[ee].mediaBox.topRightY-it[ee].mediaBox.bottomLeftY-F(N)},sm=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(N){return A(Li(N))},im=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(N){return A(Pi(N))},Pl=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ai(Pl)},f.__private__.setStrokeColor=f.setDrawColor=function(N,$,ie,de){return Pl=Fs({ch1:N,ch2:$,ch3:ie,ch4:de,pdfColorType:"draw",precision:2}),X(Pl),this};var hu=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ai(hu)},f.__private__.setFillColor=f.setFillColor=function(N,$,ie,de){return hu=Fs({ch1:N,ch2:$,ch3:ie,ch4:de,pdfColorType:"fill",precision:2}),X(hu),this};var jo=t.textColor||"0 g",Tl=f.__private__.getTextColor=f.getTextColor=function(){return ai(jo)};f.__private__.setTextColor=f.setTextColor=function(N,$,ie,de){return jo=Fs({ch1:N,ch2:$,ch3:ie,ch4:de,pdfColorType:"text",precision:3}),this};var Il=t.charSpace,am=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Il||0)};f.__private__.setCharSpace=f.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Il=N,this};var fu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(N){var $=f.CapJoinStyles[N];if($===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=$,X($+" J"),this};var pu=0;f.__private__.setLineJoin=f.setLineJoin=function(N){var $=f.CapJoinStyles[N];if($===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pu=$,X($+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(A(F(N))+" M"),this},f.GState=dp,f.setGState=function(N){(N=typeof N=="string"?lt[sn[N]]:So(null,N)).equals(fn)||(X("/"+N.id+" gs"),fn=N)};var So=function(N,$){if(!N||!sn[N]){var ie=!1;for(var de in lt)if(lt.hasOwnProperty(de)&&lt[de].equals($)){ie=!0;break}if(ie)$=lt[de];else{var ye="GS"+(Object.keys(lt).length+1).toString(10);lt[ye]=$,$.id=ye}return N&&(sn[N]=$.id),Et.publish("addGState",$),$}};f.addGState=function(N,$){return So(N,$),this},f.saveGraphicsState=function(){return X("q"),Ot.push({key:Ze,size:je,color:jo}),this},f.restoreGraphicsState=function(){X("Q");var N=Ot.pop();return Ze=N.key,je=N.size,jo=N.color,fn=null,this},f.setCurrentTransformationMatrix=function(N){return X(N.toString()+" cm"),this},f.comment=function(N){return X("#"+N),this};var ko=function(N,$){var ie=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(ke){isNaN(ke)||(ie=parseFloat(ke))}});var de=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(ke){isNaN(ke)||(de=parseFloat(ke))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(ke){ye=ke.toString()}}),this},mu=function(N,$,ie,de){ko.call(this,N,$),this.type="rect";var ye=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Le){isNaN(Le)||(ye=parseFloat(Le))}});var ke=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Le){isNaN(Le)||(ke=parseFloat(Le))}}),this},Ol=function(){this.page=Tt,this.currentPage=ee,this.pages=Y.slice(0),this.pagesContext=it.slice(0),this.x=Je,this.y=Mt,this.matrix=jt,this.width=Oh(ee),this.height=Ti(ee),this.outputDestination=me,this.id="",this.objectNumber=-1};Ol.prototype.restore=function(){Tt=this.page,ee=this.currentPage,it=this.pagesContext,Y=this.pages,Je=this.x,Mt=this.y,jt=this.matrix,Rh(ee,this.width),Ii(ee,this.height),me=this.outputDestination};var gu=function(N,$,ie,de,ye){qt.push(new Ol),Tt=ee=0,Y=[],Je=N,Mt=$,jt=ye,au([ie,de])};for(var Ao in f.beginFormObject=function(N,$,ie,de,ye){return gu(N,$,ie,de,ye),this},f.endFormObject=function(N){return function($){if(kt[$])qt.pop().restore();else{var ie=new Ol,de="Xo"+(Object.keys(_e).length+1).toString(10);ie.id=de,kt[$]=de,_e[de]=ie,Et.publish("addFormObject",ie),qt.pop().restore()}}(N),this},f.doFormObject=function(N,$){var ie=_e[kt[N]];return X("q"),X($.toString()+" cm"),X("/"+ie.id+" Do"),X("Q"),this},f.getFormObject=function(N){var $=_e[kt[N]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},f.save=function(N,$){return N=N||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(Xo(bo(Ei()),N),typeof Xo.unload=="function"&&at.setTimeout&&setTimeout(Xo.unload,911),this):new Promise(function(ie,de){try{var ye=Xo(bo(Ei()),N);typeof Xo.unload=="function"&&at.setTimeout&&setTimeout(Xo.unload,911),ie(ye)}catch(ke){de(ke.message)}})},Qe.API)Qe.API.hasOwnProperty(Ao)&&(Ao==="events"&&Qe.API.events.length?function(N,$){var ie,de,ye;for(ye=$.length-1;ye!==-1;ye--)ie=$[ye][0],de=$[ye][1],N.subscribe.apply(N,[ie].concat(typeof de=="function"?[de]:de))}(Et,Qe.API.events):f[Ao]=Qe.API[Ao]);function Oh(N){return it[N].mediaBox.topRightX-it[N].mediaBox.bottomLeftX}function Rh(N,$){it[N].mediaBox.topRightX=$+it[N].mediaBox.bottomLeftX}function Ti(N){return it[N].mediaBox.topRightY-it[N].mediaBox.bottomLeftY}function Ii(N,$){it[N].mediaBox.topRightY=$+it[N].mediaBox.bottomLeftY}var Mh=f.getPageWidth=function(N){return Oh(N=N||ee)/st},Dh=f.setPageWidth=function(N,$){Rh(N,$*st)},Co=f.getPageHeight=function(N){return Ti(N=N||ee)/st},Fh=f.setPageHeight=function(N,$){Ii(N,$*st)};return f.internal={pdfEscape:ms,getStyle:Th,getFont:Zp,getFontSize:Ee,getCharSpace:am,getTextColor:Tl,getLineHeight:tm,getLineHeightFactor:rm,getLineWidth:dt,write:Oe,getHorizontalCoordinate:Li,getVerticalCoordinate:Pi,getCoordinateString:sm,getVerticalCoordinateString:im,collections:{},newObject:pn,newAdditionalObject:xo,newObjectDeferred:Jn,newObjectDeferredBegin:tr,getFilters:Bs,putStream:ps,events:Et,scaleFactor:st,pageSize:{getWidth:function(){return Mh(ee)},setWidth:function(N){Dh(ee,N)},getHeight:function(){return Co(ee)},setHeight:function(N){Fh(ee,N)}},encryptionOptions:d,encryption:wn,getEncryptor:function(N){return d!==null?wn.encryptor(N,0):function($){return $}},output:$s,getNumberOfPages:Ch,pages:Y,out:X,f2:C,f3:L,getPageInfo:lu,getPageInfoByObjId:Kp,getCurrentPageInfo:Gp,getPDFVersion:x,Point:ko,Rectangle:mu,Matrix:et,hasHotfix:wo},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Mh(ee)},set:function(N){Dh(ee,N)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Co(ee)},set:function(N){Fh(ee,N)},enumerable:!0,configurable:!0}),(function(N){for(var $=0,ie=Ie.length;$<ie;$++){var de=Sh.call(this,N[$][0],N[$][1],N[$][2],Ie[$][3],!0);h===!1&&(m[de]=!0);var ye=N[$][0].split("-");jh({id:de,fontName:ye[0],fontStyle:ye[1]||""})}Et.publish("addFonts",{fonts:Ve,dictionary:ot})}).call(f,Ie),Ze="F1",kh(s,n),Et.publish("initialized"),f}ec.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ec.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ec.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ec.prototype.processOwnerPassword=function(t,e){return Ax(kx(e).substr(0,5),t)},ec.prototype.encryptor=function(t,e){var n=kx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ax(n,r)}},dp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||$t(t)!==$t(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Qe.API={events:[]},Qe.version="3.0.3";var yn=Qe.API,c2=1,kl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(t){return t.toFixed(2)},Pa=function(t){return t.toFixed(5)};yn.__acroform__={};var Kr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},i4=function(t){return t*c2},xi=function(t){var e=new E6,n=qe.internal.getHeight(t)||0,r=qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pt(r)),Number(pt(n))],e},XB=yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},QB=yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ZB=yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Cn=yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZB(t,e-1)},En=yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XB(t,e-1)},Ln=yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QB(t,e-1)},e$=yn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],l=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+l)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(pt(c.lowerLeft_X)),Number(pt(c.lowerLeft_Y)),Number(pt(c.upperRight_X)),Number(pt(c.upperRight_Y))]},t$=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Cx(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=xi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Cx=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(C){return C.split(`
`)}):s.map(function(C){return[C]});var i=n,a=qe.internal.getHeight(t)||0;a=a<0?-a:a;var l=qe.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(C,L,F){if(C+1<s.length){var W=L+" "+s[C+1][0];return Gf(W,t,F).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,h=Gf("3",t,i).height,m=t.multiline?a-i:(a-h)/2,f=m+=2,v=0,x=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gf(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",w=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var k=!1;if(s[_].length!==1&&b!==s[_].length-1){if((h+2)*(w+2)+2>a)continue e;y+=s[_][b],k=!0,x=_,_--}else{y=(y+=s[_][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var R=parseInt(_),I=c(R,y,i),D=_>=s.length-1;if(I&&!D){y+=" ",b=0;continue}if(I||D){if(D)x=R;else if(t.multiline&&(h+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>a)continue e;x=R}}for(var A="",j=v;j<=x;j++){var T=s[j];if(t.multiline){if(j===x){A+=T[b]+" ",b=(b+1)%T.length;continue}if(j===v){A+=T[T.length-1]+" ";continue}}A+=T[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=Gf(A,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=pt(u)+" "+pt(f)+` Td
`,e+="("+kl(A)+`) Tj
`,e+=-pt(u)+` 0 Td
`,f=-(i+2),d=0,v=k?x:x+1,w++,y=""}break}return r.text=e,r.fontSize=i,r},Gf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},n$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},r$=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},s$=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(si.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(n$)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new L6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&r$(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=e$(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qe.createDefaultAppearanceStream(l),$t(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=t$(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var v=f[a];typeof v=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(s,l)),h+="/"+a+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(x,b){for(var y in x)if(x.hasOwnProperty(y)){var w=y,_=x[y];b.internal.newObjectDeferredBegin(_.objId,!0),$t(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete x[w]}}(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},C6=yn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),$t(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+kl(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mg=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+kl(r(t))+")"},Ni=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ni.prototype.toString=function(){return this.objId+" 0 R"},Ni.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ni.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:C6(s,this.objId,this.scope)}):s instanceof Ni?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var E6=function(){Ni.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Kr(E6,Ni);var L6=function(){Ni.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+kl(n(t))+")"}},set:function(n){t=n}})};Kr(L6,Ni);var si=function t(){Ni.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Cn(e,3)},set:function(y){y?this.F=En(e,3):this.F=Ln(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof hp)return;i="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+kl(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/c2:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof hp||this instanceof ul))return Mg(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Qn==0?Mg(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Qn==0?y.substr(0,1)==="("?Jl(y.substr(1,y.length-2)):Jl(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?Jl(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Qn==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Qn==0?Mg(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Qn==0?y.substr(0,1)==="("?Jl(y.substr(1,y.length-2)):Jl(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?Jl(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Qn==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,1)},set:function(y){y?this.Ff=En(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,2)},set:function(y){y?this.Ff=En(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,3)},set:function(y){y?this.Ff=En(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Kr(si,Ni);var Ec=function(){si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return C6(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,18)},set:function(n){n?this.Ff=En(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=En(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,20)},set:function(n){n?(this.Ff=En(this.Ff,20),e.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,22)},set:function(n){n?this.Ff=En(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,23)},set:function(n){n?this.Ff=En(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,27)},set:function(n){n?this.Ff=En(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(Ec,si);var Lc=function(){Ec.call(this),this.fontName="helvetica",this.combo=!1};Kr(Lc,Ec);var Pc=function(){Lc.call(this),this.combo=!0};Kr(Pc,Lc);var g0=function(){Pc.call(this),this.edit=!0};Kr(g0,Pc);var Qn=function(){si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,15)},set:function(n){n?this.Ff=En(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,16)},set:function(n){n?this.Ff=En(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,17)},set:function(n){n?this.Ff=En(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,26)},set:function(n){n?this.Ff=En(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+kl(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){$t(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Kr(Qn,si);var x0=function(){Qn.call(this),this.pushButton=!0};Kr(x0,Qn);var Tc=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Kr(Tc,Qn);var hp=function(){var t,e;si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+kl(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){$t(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(hp,si),Tc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Tc.prototype.createOption=function(t){var e=new hp;return e.Parent=this,e.optionName=t,this.Kids.push(e),i$.call(this.scope,e),e};var y0=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qe.CheckBox.createAppearanceStream()};Kr(y0,Qn);var ul=function(){si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,13)},set:function(e){e?this.Ff=En(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,21)},set:function(e){e?this.Ff=En(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,23)},set:function(e){e?this.Ff=En(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,24)},set:function(e){e?this.Ff=En(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,25)},set:function(e){e?this.Ff=En(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,26)},set:function(e){e?this.Ff=En(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(ul,si);var v0=function(){ul.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Cn(this.Ff,14)},set:function(t){t?this.Ff=En(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Kr(v0,ul);var qe={CheckBox:{createAppearanceStream:function(){return{N:{On:qe.CheckBox.YesNormal},D:{On:qe.CheckBox.YesPushDown,Off:qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Cx(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+pt(qe.internal.getWidth(t))+" "+pt(qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=xi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=qe.internal.getHeight(t),a=qe.internal.getWidth(t),l=Cx(t,t.caption);return s.push("1 g"),s.push("0 0 "+pt(a)+" "+pt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+pt(a-1)+" "+pt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+pt(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(qe.internal.getWidth(t))+" "+pt(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Circle.YesNormal,e.D[t]=qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=xi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=qe.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pa(qe.internal.getWidth(t)/2)+" "+Pa(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*qe.internal.Bezier_C).toFixed(5)),a=Number((r*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pa(qe.internal.getWidth(t)/2)+" "+Pa(qe.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pa(qe.internal.getWidth(t)/2)+" "+Pa(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pa(qe.internal.getWidth(t)/2)+" "+Pa(qe.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Cross.YesNormal,e.D[t]=qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=xi(t);e.scope=t.scope;var n=[],r=qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+pt(qe.internal.getWidth(t)-2)+" "+pt(qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pt(r.x1.x)+" "+pt(r.x1.y)+" m"),n.push(pt(r.x2.x)+" "+pt(r.x2.y)+" l"),n.push(pt(r.x4.x)+" "+pt(r.x4.y)+" m"),n.push(pt(r.x3.x)+" "+pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+pt(qe.internal.getWidth(t))+" "+pt(qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pt(qe.internal.getWidth(t)-2)+" "+pt(qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pt(n.x1.x)+" "+pt(n.x1.y)+" m"),r.push(pt(n.x2.x)+" "+pt(n.x2.y)+" l"),r.push(pt(n.x4.x)+" "+pt(n.x4.y)+" m"),r.push(pt(n.x3.x)+" "+pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=xi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(qe.internal.getWidth(t))+" "+pt(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=qe.internal.getWidth(t),n=qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},qe.internal.getWidth=function(t){var e=0;return $t(t)==="object"&&(e=i4(t.Rect[2])),e},qe.internal.getHeight=function(t){var e=0;return $t(t)==="object"&&(e=i4(t.Rect[3])),e};var i$=yn.addField=function(t){if(s$(this,t),!(t instanceof si))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=Ec,yn.AcroFormListBox=Lc,yn.AcroFormComboBox=Pc,yn.AcroFormEditBox=g0,yn.AcroFormButton=Qn,yn.AcroFormPushButton=x0,yn.AcroFormRadioButton=Tc,yn.AcroFormCheckBox=y0,yn.AcroFormTextField=ul,yn.AcroFormPasswordField=v0,yn.AcroFormAppearance=qe,yn.AcroForm={ChoiceField:Ec,ListBox:Lc,ComboBox:Pc,EditBox:g0,Button:Qn,PushButton:x0,RadioButton:Tc,CheckBox:y0,TextField:ul,PasswordField:v0,Appearance:qe},Qe.AcroForm={ChoiceField:Ec,ListBox:Lc,ComboBox:Pc,EditBox:g0,Button:Qn,PushButton:x0,RadioButton:Tc,CheckBox:y0,TextField:ul,PasswordField:v0,Appearance:qe};Qe.AcroForm;function P6(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(C,L){var F,W,oe,H,ce,te=n;if((L=L||n)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(I(C))for(ce in r)for(oe=r[ce],F=0;F<oe.length;F+=1){for(H=!0,W=0;W<oe[F].length;W+=1)if(oe[F][W]!==void 0&&oe[F][W]!==C[W]){H=!1;break}if(H===!0){te=ce;break}}else for(ce in r)for(oe=r[ce],F=0;F<oe.length;F+=1){for(H=!0,W=0;W<oe[F].length;W+=1)if(oe[F][W]!==void 0&&oe[F][W]!==C.charCodeAt(W)){H=!1;break}if(H===!0){te=ce;break}}return te===n&&L!==n&&(te=L),te},i=function C(L){for(var F=this.internal.write,W=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:L.width}),H.push({key:"Height",value:L.height}),L.colorSpace===y.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===y.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var ce="",te=0,ue=L.transparency.length;te<ue;te++)ce+=L.transparency[te]+" "+L.transparency[te]+" ";H.push({key:"Mask",value:"["+ce+"]"})}L.sMask!==void 0&&H.push({key:"SMask",value:L.objectId+1+" 0 R"});var pe=L.filter!==void 0?["/"+L.filter]:void 0;if(W({data:L.data,additionalKeyValues:H,alreadyAppliedFilters:pe,objectId:L.objectId}),F("endobj"),"sMask"in L&&L.sMask!==void 0){var xe,U=(xe=L.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:L.bitsPerComponent,ee={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:L.sMask};"filter"in L&&(ee.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(L.width),ee.filter=L.filter),C.call(this,ee)}if(L.colorSpace===y.INDEXED){var O=this.internal.newObject();W({data:A(new Uint8Array(L.palette)),objectId:O}),F("endobj")}},a=function(){var C=this.internal.collections[e+"images"];for(var L in C)i.call(this,C[L])},l=function(){var C,L=this.internal.collections[e+"images"],F=this.internal.write;for(var W in L)F("/I"+(C=L[W]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(C){return typeof t["process"+C.toUpperCase()]=="function"},m=function(C){return $t(C)==="object"&&C.nodeType===1},f=function(C,L){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var F=""+C.getAttribute("src");if(F.indexOf("data:image/")===0)return m0(unescape(F).split("base64,").pop());var W=t.loadFile(F,!0);if(W!==void 0)return W}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var oe;switch(L){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return m0(C.toDataURL(oe,1).split("base64,").pop())}},v=function(C){var L=this.internal.collections[e+"images"];if(L){for(var F in L)if(C===L[F].alias)return L[F]}},x=function(C,L,F){return C||L||(C=-96,L=-96),C<0&&(C=-1*F.width*72/C/this.internal.scaleFactor),L<0&&(L=-1*F.height*72/L/this.internal.scaleFactor),C===0&&(C=L*F.width/F.height),L===0&&(L=C*F.height/F.width),[C,L]},b=function(C,L,F,W,oe,H){var ce=x.call(this,F,W,oe),te=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,pe=u.call(this);if(F=ce[0],W=ce[1],pe[oe.index]=oe,H){H*=Math.PI/180;var xe=Math.cos(H),U=Math.sin(H),ee=function(Z){return Z.toFixed(4)},O=[ee(xe),ee(U),ee(-1*U),ee(xe),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,te(C),ue(L+W),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([te(F),"0","0",te(W),"0","0","cm"].join(" "))):this.internal.write([te(F),"0","0",te(W),te(C),ue(L+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(C){var L,F,W=0;if(typeof C=="string")for(F=C.length,L=0;L<F;L++)W=(W<<5)-W+C.charCodeAt(L),W|=0;else if(I(C))for(F=C.byteLength/2,L=0;L<F;L++)W=(W<<5)-W+C[L],W|=0;return W},k=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var L=!0;return C.length===0&&(L=!1),C.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(L=!1),L},R=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var L=C.indexOf(",");return L<0?null:C.substring(0,L).trim().endsWith("base64")?C.substring(L+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(C){for(var L=C.length,F=new Uint8Array(L),W=0;W<L;W++)F[W]=C.charCodeAt(W);return F},A=t.__addimage__.arrayBufferToBinaryString=function(C){for(var L="",F=I(C)?C:new Uint8Array(C),W=0;W<F.length;W+=8192)L+=String.fromCharCode.apply(null,F.subarray(W,W+8192));return L};t.addImage=function(){var C,L,F,W,oe,H,ce,te,ue;if(typeof arguments[1]=="number"?(L=n,F=arguments[1],W=arguments[2],oe=arguments[3],H=arguments[4],ce=arguments[5],te=arguments[6],ue=arguments[7]):(L=arguments[1],F=arguments[2],W=arguments[3],oe=arguments[4],H=arguments[5],ce=arguments[6],te=arguments[7],ue=arguments[8]),$t(C=arguments[0])==="object"&&!m(C)&&"imageData"in C){var pe=C;C=pe.imageData,L=pe.format||L||n,F=pe.x||F||0,W=pe.y||W||0,oe=pe.w||pe.width||oe,H=pe.h||pe.height||H,ce=pe.alias||ce,te=pe.compression||te,ue=pe.rotation||pe.angle||ue}var xe=this.internal.getFilters();if(te===void 0&&xe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(F)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=j.call(this,C,L,ce,te);return b.call(this,F,W,oe,H,U,ue),this};var j=function(C,L,F,W){var oe,H,ce;if(typeof C=="string"&&s(C)===n){C=unescape(C);var te=T(C,!1);(te!==""||(te=t.loadFile(C,!0))!==void 0)&&(C=te)}if(m(C)&&(C=f(C,L)),L=s(C,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ce=F)==null||ce.length===0)&&(F=function(ue){return typeof ue=="string"||I(ue)?_(ue):I(ue.data)?_(ue.data):null}(C)),(oe=v.call(this,F))||(C instanceof Uint8Array||L==="RGBA"||(H=C,C=D(C)),oe=this["process"+L.toUpperCase()](C,d.call(this),F,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:w.NONE}(W),H)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},T=t.__addimage__.convertBase64ToBinaryString=function(C,L){L=typeof L!="boolean"||L;var F,W="";if(typeof C=="string"){var oe;F=(oe=R(C))!==null&&oe!==void 0?oe:C;try{W=m0(F)}catch(H){if(L)throw k(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(C){var L,F,W="";if(m(C)&&(C=f(C)),typeof C=="string"&&s(C)===n&&((W=T(C,!1))===""&&(W=t.loadFile(C)||""),C=W),F=s(C),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(C instanceof Uint8Array||(C=D(C)),!(L=this["process"+F.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=F,L}})(Qe.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Qe.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(y(w))+") >>",x.content=i;var _=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(x.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var I=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:a,type:"link"})},t.textWithLink=function(n,r,s,i){var a,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(n,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,l,a,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Qe.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&s.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&i(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var b=0,y=n,w="",_=0;for(b=0;b<x.length;b+=1)y[x.charCodeAt(b)]!==void 0?(_++,typeof(y=y[x.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(y),y=n,_=0),b===x.length-1&&(y=n,w+=x.charAt(b-(_-1)),b-=_-1,_=0)):(y=n,w+=x.charAt(b-_),b-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(x,b,y){return a(x)?i(x)===!1?-1:!u(x)||!a(b)&&!a(y)||!a(y)&&l(b)||l(x)&&!a(b)||l(x)&&c(b)||l(x)&&l(b)?0:d(x)&&a(b)&&!l(b)&&a(y)&&u(y)?3:l(x)||!a(y)?1:2:-1},f=function(x){var b=0,y=0,w=0,_="",k="",R="",I=(x=x||"").split("\\s+"),D=[];for(b=0;b<I.length;b+=1){for(D.push(""),y=0;y<I[b].length;y+=1)_=I[b][y],k=I[b][y-1],R=I[b][y+1],a(_)?(w=m(_,k,R),D[b]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):D[b]+=_;D[b]=h(D[b])}return D.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var x,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var w=0;for(y=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?y.push([f(b[w][0]),b[w][1],b[w][2]]):y.push([f(b[w])]);x=y}else x=f(b);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",v])}(Qe.API),Qe.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Qe.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,x=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,k){return _.concat(b.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(x=this.getStringUnitWidth(c[w],{font:h})*d)&&(f=x);return f!==0&&(v=c.length),{w:f/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,v,x,b,y=[],w=[],_=[],k={},R={},I=[],D=[],A=(m=m||{}).autoSize||!1,j=m.printHeaders!==!1,T=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,C=m.margins||Object.assign({width:this.getPageWidth()},e),L=typeof m.padding=="number"?m.padding:3,F=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=W,this.setFontSize(T),h==null)w=y=Object.keys(d[0]),_=y.map(function(){return"left"});else if(Array.isArray(h)&&$t(h[0])==="object")for(y=h.map(function(pe){return pe.name}),w=h.map(function(pe){return pe.prompt||pe.name||""}),_=h.map(function(pe){return pe.align||"left"}),f=0;f<h.length;f+=1)R[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=y=h,_=y.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(k[b=y[f]]=d.map(function(pe){return pe[b]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[b],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)I.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[b]=Math.max.apply(null,I)+L+L,I=[]}if(j){var oe={};for(f=0;f<y.length;f+=1)oe[y[f]]={},oe[y[f]].text=w[f],oe[y[f]].align=_[f];var H=l.call(this,oe,R);D=y.map(function(pe){return new i(c,u,R[pe],H,oe[pe].text,void 0,oe[pe].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ce=h.reduce(function(pe,xe){return pe[xe.name]=xe.align,pe},{});for(f=0;f<d.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:d[f]},this);var te=l.call(this,d[f],R);for(x=0;x<y.length;x+=1){var ue=d[f][y[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:x,data:ue},this),a.call(this,new i(c,u,R[y[x]],te,ue,f+2,ce[y[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var v=c[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(Qe.API);var T6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},I6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ex=P6(I6),O6=[100,200,300,400,500,600,700,800,900],a$=P6(O6);function Dg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return T6[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof Ex[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function a4(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var o$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function c4(t){return t.trimLeft()}function l$(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function c$(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Yf,u4,d4,Xl,Jf,h4,f4,p4,Fg=["times"];function m4(t,e,n,r,s){var i=4,a=x4;switch(s){case Qe.API.image_compression.FAST:i=1,a=g4;break;case Qe.API.image_compression.MEDIUM:i=6,a=y4;break;case Qe.API.image_compression.SLOW:i=9,a=v4}t=function(c,u,d,h){for(var m,f=c.length/u,v=new Uint8Array(c.length+f),x=[u$,g4,x4,y4,v4],b=0;b<f;b+=1){var y=b*u,w=c.subarray(y,y+u);if(h)v.set(h(w,d,m),y+b);else{for(var _=x.length,k=[],R=0;R<_;R+=1)k[R]=x[R](w,d,m);var I=h$(k.concat());v.set(k[I],y+b)}m=w}return v}(t,e,Math.ceil(n*r/8),a);var l=_x(t,{level:i});return Qe.API.__addimage__.arrayBufferToBinaryString(l)}function u$(t){var e=Array.apply([],t);return e.unshift(0),e}function g4(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function x4(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var a=n&&n[i]||0;s[i+1]=t[i]-a+256&255}return s}function y4(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var a=t[i-e]||0,l=n&&n[i]||0;s[i+1]=t[i]+256-(a+l>>>1)&255}return s}function v4(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var a=d$(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function d$(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function h$(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Bg(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),a=(1<<n)-1;return R6(t,s)>>i&a}function b4(t,e,n,r){var s=n*r,i=Math.floor(s/8),a=16-(s-8*i+r),l=(1<<r)-1,c=(e&l)<<a;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var m=h>>8&255;u.setUint8(d,m)}})(t,i,R6(t,i)&~(l<<a)&65535|c)}function R6(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function f$(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=a,e+=3*a);var u=!0,d=[],h=0,m=null,f=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&x||(m=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,k=t[e++],R=k>>6&1,I=1<<1+(7&k),D=l,A=c,j=!1;k>>7&&(j=!0,D=e,A=I,e+=3*I);var T=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:b,y,width:w,height:_,has_local_palette:j,palette_offset:D,palette_size:A,data_offset:T,data_length:e-T,transparent_index:m,interlaced:!!R,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,F){var W=this.frameInfo(L),oe=W.width*W.height,H=new Uint8Array(oe);w4(t,W.data_offset,H,oe);var ce=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var ue=W.width,pe=n-ue,xe=ue,U=4*(W.y*n+W.x),ee=4*((W.y+W.height)*n+W.x),O=U,Z=4*pe;W.interlaced===!0&&(Z+=4*n*7);for(var B=8,se=0,V=H.length;se<V;++se){var E=H[se];if(xe===0&&(xe=ue,(O+=Z)>=ee&&(Z=4*pe+4*n*(B-1),O=U+(ue+pe)*(B<<1),B>>=1)),E===te)O+=4;else{var M=t[ce+3*E],Y=t[ce+3*E+1],he=t[ce+3*E+2];F[O++]=he,F[O++]=Y,F[O++]=M,F[O++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(L,F){var W=this.frameInfo(L),oe=W.width*W.height,H=new Uint8Array(oe);w4(t,W.data_offset,H,oe);var ce=W.palette_offset,te=W.transparent_index;te===null&&(te=256);var ue=W.width,pe=n-ue,xe=ue,U=4*(W.y*n+W.x),ee=4*((W.y+W.height)*n+W.x),O=U,Z=4*pe;W.interlaced===!0&&(Z+=4*n*7);for(var B=8,se=0,V=H.length;se<V;++se){var E=H[se];if(xe===0&&(xe=ue,(O+=Z)>=ee&&(Z=4*pe+4*n*(B-1),O=U+(ue+pe)*(B<<1),B>>=1)),E===te)O+=4;else{var M=t[ce+3*E],Y=t[ce+3*E+1],he=t[ce+3*E+2];F[O++]=M,F[O++]=Y,F[O++]=he,F[O++]=255}--xe}}}function w4(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,h=0,m=0,f=t[e++],v=new Int32Array(4096),x=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<c)break;var b=h&u;if(h>>=c,d-=c,b!==i){if(b===a)break;for(var y=b<l?b:x,w=0,_=y;_>i;)_=v[_]>>8,++w;var k=_;if(m+w+(y!==b?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[m++]=k;var R=m+=w;for(y!==b&&(n[m++]=k),_=y;w--;)_=v[_],n[--R]=255&_,_>>=8;x!==null&&l<4096&&(v[l++]=x<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=b}else l=a+1,u=(1<<(c=s+1))-1,x=null}return m!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $g(t){var e,n,r,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),v=new Array(64),x=[],b=0,y=7,w=new Array(64),_=new Array(64),k=new Array(64),R=new Array(256),I=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(U,ee){for(var O=0,Z=0,B=new Array,se=1;se<=16;se++){for(var V=1;V<=U[se];V++)B[ee[Z]]=[],B[ee[Z]][0]=O,B[ee[Z]][1]=se,Z++,O++;O*=2}return B}function ce(U){for(var ee=U[0],O=U[1]-1;O>=0;)ee&1<<O&&(b|=1<<y),O--,--y<0&&(b==255?(te(255),te(0)):te(b),y=7,b=0)}function te(U){x.push(U)}function ue(U){te(U>>8&255),te(255&U)}function pe(U,ee,O,Z,B){for(var se,V=B[0],E=B[240],M=function(je,Me){var Ee,$e,He,bt,ut,tt,Pt,ht,Ze,st,Je=0;for(Ze=0;Ze<8;++Ze){Ee=je[Je],$e=je[Je+1],He=je[Je+2],bt=je[Je+3],ut=je[Je+4],tt=je[Je+5],Pt=je[Je+6];var Mt=Ee+(ht=je[Je+7]),jt=Ee-ht,Ve=$e+Pt,ot=$e-Pt,Ot=He+tt,nt=He-tt,vt=bt+ut,lt=bt-ut,sn=Mt+vt,fn=Mt-vt,Tt=Ve+Ot,it=Ve-Ot;je[Je]=sn+Tt,je[Je+4]=sn-Tt;var Et=.707106781*(it+fn);je[Je+2]=fn+Et,je[Je+6]=fn-Et;var J=.382683433*((sn=lt+nt)-(it=ot+jt)),_e=.5411961*sn+J,kt=1.306562965*it+J,qt=.707106781*(Tt=nt+ot),et=jt+qt,Tr=jt-qt;je[Je+5]=Tr+_e,je[Je+3]=Tr-_e,je[Je+1]=et+kt,je[Je+7]=et-kt,Je+=8}for(Je=0,Ze=0;Ze<8;++Ze){Ee=je[Je],$e=je[Je+8],He=je[Je+16],bt=je[Je+24],ut=je[Je+32],tt=je[Je+40],Pt=je[Je+48];var Ci=Ee+(ht=je[Je+56]),hs=Ee-ht,fs=$e+Pt,pn=$e-Pt,Jn=He+tt,tr=He-tt,xo=bt+ut,ua=bt-ut,Ds=Ci+xo,ai=Ci-xo,Fs=fs+Jn,Bs=fs-Jn;je[Je]=Ds+Fs,je[Je+32]=Ds-Fs;var ps=.707106781*(Bs+ai);je[Je+16]=ai+ps,je[Je+48]=ai-ps;var yo=.382683433*((Ds=ua+tr)-(Bs=pn+hs)),oi=.5411961*Ds+yo,vo=1.306562965*Bs+yo,Al=.707106781*(Fs=tr+pn),Cl=hs+Al,El=hs-Al;je[Je+40]=El+oi,je[Je+24]=El-oi,je[Je+8]=Cl+vo,je[Je+56]=Cl-vo,Je++}for(Ze=0;Ze<64;++Ze)st=je[Ze]*Me[Ze],f[Ze]=st>0?st+.5|0:st-.5|0;return f}(U,ee),Y=0;Y<64;++Y)v[D[Y]]=M[Y];var he=v[0]-O;O=v[0],he==0?ce(Z[0]):(ce(Z[m[se=32767+he]]),ce(h[se]));for(var me=63;me>0&&v[me]==0;)me--;if(me==0)return ce(V),O;for(var le,X=1;X<=me;){for(var Oe=X;v[X]==0&&X<=me;)++X;var De=X-Oe;if(De>=16){le=De>>4;for(var Ie=1;Ie<=le;++Ie)ce(E);De&=15}se=32767+v[X],ce(B[(De<<4)+m[se]]),ce(h[se]),X++}return me!=63&&ce(V),O}function xe(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(ee){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var B=a((O[Z]*ee+50)/100);B=Math.min(Math.max(B,1),255),l[D[Z]]=B}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var E=a((se[V]*ee+50)/100);E=Math.min(Math.max(E,1),255),c[D[V]]=E}for(var M=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Y=0,he=0;he<8;he++)for(var me=0;me<8;me++)u[Y]=1/(l[D[Y]]*M[he]*M[me]*8),d[Y]=1/(c[D[Y]]*M[he]*M[me]*8),Y++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,ee){ee&&xe(ee),x=new Array,b=0,y=7,ue(65496),ue(65504),ue(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ue(1),ue(1),te(0),te(0),function(){ue(65499),ue(132),te(0);for(var $e=0;$e<64;$e++)te(l[$e]);te(1);for(var He=0;He<64;He++)te(c[He])}(),function($e,He){ue(65472),ue(17),te(8),ue(He),ue($e),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(U.width,U.height),function(){ue(65476),ue(418),te(0);for(var $e=0;$e<16;$e++)te(A[$e+1]);for(var He=0;He<=11;He++)te(j[He]);te(16);for(var bt=0;bt<16;bt++)te(T[bt+1]);for(var ut=0;ut<=161;ut++)te(C[ut]);te(1);for(var tt=0;tt<16;tt++)te(L[tt+1]);for(var Pt=0;Pt<=11;Pt++)te(F[Pt]);te(17);for(var ht=0;ht<16;ht++)te(W[ht+1]);for(var Ze=0;Ze<=161;Ze++)te(oe[Ze])}(),ue(65498),ue(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var O=0,Z=0,B=0;b=0,y=7,this.encode.displayName="_encode_";for(var se,V,E,M,Y,he,me,le,X,Oe=U.data,De=U.width,Ie=U.height,je=4*De,Me=0;Me<Ie;){for(se=0;se<je;){for(Y=je*Me+se,me=-1,le=0,X=0;X<64;X++)he=Y+(le=X>>3)*je+(me=4*(7&X)),Me+le>=Ie&&(he-=je*(Me+1+le-Ie)),se+me>=je&&(he-=se+me-je+4),V=Oe[he++],E=Oe[he++],M=Oe[he++],w[X]=(I[V]+I[E+256|0]+I[M+512|0]>>16)-128,_[X]=(I[V+768|0]+I[E+1024|0]+I[M+1280|0]>>16)-128,k[X]=(I[V+1280|0]+I[E+1536|0]+I[M+1792|0]>>16)-128;O=pe(w,u,O,e,r),Z=pe(_,d,Z,n,s),B=pe(k,d,B,n,s),se+=32}Me+=8}if(y>=0){var Ee=[];Ee[1]=y+1,Ee[0]=(1<<y+1)-1,ce(Ee)}return ue(65497),new Uint8Array(x)},t=t||50,function(){for(var U=String.fromCharCode,ee=0;ee<256;ee++)R[ee]=U(ee)}(),e=H(A,j),n=H(L,F),r=H(T,C),s=H(W,oe),function(){for(var U=1,ee=2,O=1;O<=15;O++){for(var Z=U;Z<ee;Z++)m[32767+Z]=O,h[32767+Z]=[],h[32767+Z][1]=O,h[32767+Z][0]=Z;for(var B=-(ee-1);B<=-U;B++)m[32767+B]=O,h[32767+B]=[],h[32767+B][1]=O,h[32767+B][0]=ee-1+B;U<<=1,ee<<=1}}(),function(){for(var U=0;U<256;U++)I[U]=19595*U,I[U+256|0]=38470*U,I[U+512|0]=7471*U+32768,I[U+768|0]=-11059*U,I[U+1024|0]=-21709*U,I[U+1280|0]=32768*U+8421375,I[U+1536|0]=-27439*U,I[U+1792|0]=-5329*U}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ws(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _4(t){function e(j){if(!j)throw Error("assert :P")}function n(j,T,C){for(var L=0;4>L;L++)if(j[T+L]!=C.charCodeAt(L))return!0;return!1}function r(j,T,C,L,F){for(var W=0;W<F;W++)j[T+W]=C[L+W]}function s(j,T,C,L){for(var F=0;F<L;F++)j[T+F]=C}function i(j){return new Int32Array(j)}function a(j,T){for(var C=[],L=0;L<j;L++)C.push(new T);return C}function l(j,T){var C=[];return function L(F,W,oe){for(var H=oe[W],ce=0;ce<H&&(F.push(oe.length>W+1?[]:new T),!(oe.length<W+1));ce++)L(F[ce],W+1,oe)}(C,0,j),C}var c=function(){var j=this;function T(p,g){for(var S=1<<g-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,g,S,P,z){e(!(P%S));do p[g+(P-=S)]=z;while(0<P)}function L(p,g,S,P,z){if(e(2328>=z),512>=z)var q=i(512);else if((q=i(z))==null)return 0;return function(K,G,Q,ne,fe,we){var re,ge,ve=G,Ne=1<<Q,be=i(16),Se=i(16);for(e(fe!=0),e(ne!=null),e(K!=null),e(0<Q),ge=0;ge<fe;++ge){if(15<ne[ge])return 0;++be[ne[ge]]}if(be[0]==fe)return 0;for(Se[1]=0,re=1;15>re;++re){if(be[re]>1<<re)return 0;Se[re+1]=Se[re]+be[re]}for(ge=0;ge<fe;++ge)re=ne[ge],0<ne[ge]&&(we[Se[re]++]=ge);if(Se[15]==1)return(ne=new F).g=0,ne.value=we[0],C(K,ve,1,Ne,ne),Ne;var Ae,Pe=-1,Ce=Ne-1,Xe=0,ze=1,xt=1,Ke=1<<Q;for(ge=0,re=1,fe=2;re<=Q;++re,fe<<=1){if(ze+=xt<<=1,0>(xt-=be[re]))return 0;for(;0<be[re];--be[re])(ne=new F).g=re,ne.value=we[ge++],C(K,ve+Xe,fe,Ke,ne),Xe=T(Xe,re)}for(re=Q+1,fe=2;15>=re;++re,fe<<=1){if(ze+=xt<<=1,0>(xt-=be[re]))return 0;for(;0<be[re];--be[re]){if(ne=new F,(Xe&Ce)!=Pe){for(ve+=Ke,Ae=1<<(Pe=re)-Q;15>Pe&&!(0>=(Ae-=be[Pe]));)++Pe,Ae<<=1;Ne+=Ke=1<<(Ae=Pe-Q),K[G+(Pe=Xe&Ce)].g=Ae+Q,K[G+Pe].value=ve-G-Pe}ne.g=re-Q,ne.value=we[ge++],C(K,ve+(Xe>>Q),fe,Ke,ne),Xe=T(Xe,re)}}return ze!=2*Se[15]-1?0:Ne}(p,g,S,P,z,q)}function F(){this.value=this.g=0}function W(){this.value=this.g=0}function oe(){this.G=a(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mo,W)}function H(p,g,S,P){e(p!=null),e(g!=null),e(2147483648>P),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=g,p.pa=S,p.Jd=g,p.Yc=S+P,p.Zc=4<=P?S+P-4+1:S,V(p)}function ce(p,g){for(var S=0;0<g--;)S|=M(p,128)<<g;return S}function te(p,g){var S=ce(p,g);return E(p)?-S:S}function ue(p,g,S,P){var z,q=0;for(e(p!=null),e(g!=null),e(4294967288>P),p.Sb=P,p.Ra=0,p.u=0,p.h=0,4<P&&(P=4),z=0;z<P;++z)q+=g[S+z]<<8*z;p.Ra=q,p.bb=P,p.oa=g,p.pa=S}function pe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ma-8>>>0,++p.bb,p.u-=8;Z(p)&&(p.h=1,p.u=0)}function xe(p,g){if(e(0<=g),!p.h&&g<=Yr){var S=O(p)&Gr[g];return p.u+=g,pe(p),S}return p.h=1,p.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(p){return p.Ra>>>(p.u&ma-1)>>>0}function Z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ma}function B(p,g){p.u=g,p.h=Z(p)}function se(p){p.u>=Ri&&(e(p.u>=Ri),pe(p))}function V(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function E(p){return ce(p,1)}function M(p,g){var S=p.Ca;0>p.b&&V(p);var P=p.b,z=S*g>>>8,q=(p.I>>>P>z)+0;for(q?(S-=z,p.I-=z+1<<P>>>0):S=z+1,P=S,z=0;256<=P;)z+=8,P>>=8;return P=7^z+ga[P],p.b-=P,p.Ca=(S<<P)-1,q}function Y(p,g,S){p[g+0]=S>>24&255,p[g+1]=S>>16&255,p[g+2]=S>>8&255,p[g+3]=255&S}function he(p,g){return p[g+0]|p[g+1]<<8}function me(p,g){return he(p,g)|p[g+2]<<16}function le(p,g){return he(p,g)|he(p,g+2)<<16}function X(p,g){var S=1<<g;return e(p!=null),e(0<g),p.X=i(S),p.X==null?0:(p.Mb=32-g,p.Xa=g,1)}function Oe(p,g){e(p!=null),e(g!=null),e(p.Xa==g.Xa),r(g.X,0,p.X,0,1<<g.Xa)}function De(){this.X=[],this.Xa=this.Mb=0}function Ie(p,g,S,P){e(S!=null),e(P!=null);var z=S[0],q=P[0];return z==0&&(z=(p*q+g/2)/g),q==0&&(q=(g*z+p/2)/p),0>=z||0>=q?0:(S[0]=z,P[0]=q,1)}function je(p,g){return p+(1<<g)-1>>>g}function Me(p,g){return((4278255360&p)+(4278255360&g)>>>0&4278255360)+((16711935&p)+(16711935&g)>>>0&16711935)>>>0}function Ee(p,g){j[g]=function(S,P,z,q,K,G,Q){var ne;for(ne=0;ne<K;++ne){var fe=j[p](G[Q+ne-1],z,q+ne);G[Q+ne]=Me(S[P+ne],fe)}}}function $e(){this.ud=this.hd=this.jd=0}function He(p,g){return((4278124286&(p^g))>>>1)+(p&g)>>>0}function bt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ut(p,g){return bt(p+(p-g+.5>>1))}function tt(p,g,S){return Math.abs(g-S)-Math.abs(p-S)}function Pt(p,g,S,P,z,q,K){for(P=q[K-1],S=0;S<z;++S)q[K+S]=P=Me(p[g+S],P)}function ht(p,g,S,P,z){var q;for(q=0;q<S;++q){var K=p[g+q],G=K>>8&255,Q=16711935&(Q=(Q=16711935&K)+((G<<16)+G));P[z+q]=(4278255360&K)+Q>>>0}}function Ze(p,g){g.jd=255&p,g.hd=p>>8&255,g.ud=p>>16&255}function st(p,g,S,P,z,q){var K;for(K=0;K<P;++K){var G=g[S+K],Q=G>>>8,ne=G,fe=255&(fe=(fe=G>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));ne=255&(ne=(ne+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),z[q+K]=(4278255360&G)+(fe<<16)+ne}}function Je(p,g,S,P,z){j[g]=function(q,K,G,Q,ne,fe,we,re,ge){for(Q=we;Q<re;++Q)for(we=0;we<ge;++we)ne[fe++]=z(G[P(q[K++])])},j[p]=function(q,K,G,Q,ne,fe,we){var re=8>>q.b,ge=q.Ea,ve=q.K[0],Ne=q.w;if(8>re)for(q=(1<<q.b)-1,Ne=(1<<re)-1;K<G;++K){var be,Se=0;for(be=0;be<ge;++be)be&q||(Se=P(Q[ne++])),fe[we++]=z(ve[Se&Ne]),Se>>=re}else j["VP8LMapColor"+S](Q,ne,ve,Ne,fe,we,K,G,ge)}}function Mt(p,g,S,P,z){for(S=g+S;g<S;){var q=p[g++];P[z++]=q>>16&255,P[z++]=q>>8&255,P[z++]=255&q}}function jt(p,g,S,P,z){for(S=g+S;g<S;){var q=p[g++];P[z++]=q>>16&255,P[z++]=q>>8&255,P[z++]=255&q,P[z++]=q>>24&255}}function Ve(p,g,S,P,z){for(S=g+S;g<S;){var q=(K=p[g++])>>16&240|K>>12&15,K=240&K|K>>28&15;P[z++]=q,P[z++]=K}}function ot(p,g,S,P,z){for(S=g+S;g<S;){var q=(K=p[g++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;P[z++]=q,P[z++]=K}}function Ot(p,g,S,P,z){for(S=g+S;g<S;){var q=p[g++];P[z++]=255&q,P[z++]=q>>8&255,P[z++]=q>>16&255}}function nt(p,g,S,P,z,q){if(q==0)for(S=g+S;g<S;)Y(P,((q=p[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),z+=32;else r(P,z,p,g,S)}function vt(p,g){j[g][0]=j[p+"0"],j[g][1]=j[p+"1"],j[g][2]=j[p+"2"],j[g][3]=j[p+"3"],j[g][4]=j[p+"4"],j[g][5]=j[p+"5"],j[g][6]=j[p+"6"],j[g][7]=j[p+"7"],j[g][8]=j[p+"8"],j[g][9]=j[p+"9"],j[g][10]=j[p+"10"],j[g][11]=j[p+"11"],j[g][12]=j[p+"12"],j[g][13]=j[p+"13"],j[g][14]=j[p+"0"],j[g][15]=j[p+"0"]}function lt(p){return p==cm||p==um||p==Gh||p==dm}function sn(){this.eb=[],this.size=this.A=this.fb=0}function fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sn,this.f.kb=new fn,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function J(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function _e(p,g){var S=p.T,P=g.ba.f.RGBA,z=P.eb,q=P.fb+p.ka*P.A,K=bs[g.ba.S],G=p.y,Q=p.O,ne=p.f,fe=p.N,we=p.ea,re=p.W,ge=g.cc,ve=g.dc,Ne=g.Mc,be=g.Nc,Se=p.ka,Ae=p.ka+p.T,Pe=p.U,Ce=Pe+1>>1;for(Se==0?K(G,Q,null,null,ne,fe,we,re,ne,fe,we,re,z,q,null,null,Pe):(K(g.ec,g.fc,G,Q,ge,ve,Ne,be,ne,fe,we,re,z,q-P.A,z,q,Pe),++S);Se+2<Ae;Se+=2)ge=ne,ve=fe,Ne=we,be=re,fe+=p.Rc,re+=p.Rc,q+=2*P.A,K(G,(Q+=2*p.fa)-p.fa,G,Q,ge,ve,Ne,be,ne,fe,we,re,z,q-P.A,z,q,Pe);return Q+=p.fa,p.j+Ae<p.o?(r(g.ec,g.fc,G,Q,Pe),r(g.cc,g.dc,ne,fe,Ce),r(g.Mc,g.Nc,we,re,Ce),S--):1&Ae||K(G,Q,null,null,ne,fe,we,re,ne,fe,we,re,z,q+P.A,null,null,Pe),S}function kt(p,g,S){var P=p.F,z=[p.J];if(P!=null){var q=p.U,K=g.ba.S,G=K==Kh||K==Gh;g=g.ba.f.RGBA;var Q=[0],ne=p.ka;Q[0]=p.T,p.Kb&&(ne==0?--Q[0]:(--ne,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-ne));var fe=g.eb;ne=g.fb+ne*g.A,p=x2(P,z[0],p.width,q,Q,fe,ne+(G?0:3),g.A),e(S==Q),p&&lt(K)&&Au(fe,ne,G,q,Q,g.A)}return 0}function qt(p){var g=p.ma,S=g.ba.S,P=11>S,z=S==Wh||S==Vh||S==Kh||S==lm||S==12||lt(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!vu(g.Oa,p,z?11:12))return 0;if(z&&lt(S)&&Bh(),p.da)alert("todo:use_scaling");else{if(P){if(g.Ib=J,p.Kb){if(S=p.U+1>>1,g.memory=i(p.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+p.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=_e,Bh()}}else alert("todo:EmitYUV");z&&(g.Jb=kt,P&&gs())}if(P&&!I2){for(p=0;256>p;++p)pS[p]=89858*(p-128)+Jh>>Yh,xS[p]=-22014*(p-128)+Jh,gS[p]=-45773*(p-128),mS[p]=113618*(p-128)+Jh>>Yh;for(p=Eu;p<pm;++p)g=76283*(p-16)+Jh>>Yh,yS[p-Eu]=mn(g,255),vS[p-Eu]=mn(g+8>>4,15);I2=1}return 1}function et(p){var g=p.ma,S=p.U,P=p.T;return e(!(1&p.ka)),0>=S||0>=P?0:(S=g.Ib(p,g),g.Jb!=null&&g.Jb(p,g,S),g.Dc+=S,1)}function Tr(p){p.ma.memory=null}function Ci(p,g,S,P){return xe(p,8)!=47?0:(g[0]=xe(p,14)+1,S[0]=xe(p,14)+1,P[0]=xe(p,1),xe(p,3)!=0?0:!p.h)}function hs(p,g){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+xe(g,S)+1}function fs(p,g){return 120<g?g-120:1<=(S=((S=eS[g-1])>>4)*p+(8-(15&S)))?S:1;var S}function pn(p,g,S){var P=O(S),z=p[g+=255&P].g-8;return 0<z&&(B(S,S.u+8),P=O(S),g+=p[g].value,g+=P&(1<<z)-1),B(S,S.u+p[g].g),p[g].value}function Jn(p,g,S){return S.g+=p.g,S.value+=p.value<<g>>>0,e(8>=S.g),p.g}function tr(p,g,S){var P=p.xc;return e((g=P==0?0:p.vc[p.md*(S>>P)+(g>>P)])<p.Wb),p.Ya[g]}function xo(p,g,S,P){var z=p.ab,q=p.c*g,K=p.C;g=K+g;var G=S,Q=P;for(P=p.Ta,S=p.Ua;0<z--;){var ne=p.gc[z],fe=K,we=g,re=G,ge=Q,ve=(Q=P,G=S,ne.Ea);switch(e(fe<we),e(we<=ne.nc),ne.hc){case 2:_n(re,ge,(we-fe)*ve,Q,G);break;case 0:var Ne=fe,be=we,Se=Q,Ae=G,Pe=(Ke=ne).Ea;Ne==0&&(wu(re,ge,null,null,1,Se,Ae),Pt(re,ge+1,0,0,Pe-1,Se,Ae+1),ge+=Pe,Ae+=Pe,++Ne);for(var Ce=1<<Ke.b,Xe=Ce-1,ze=je(Pe,Ke.b),xt=Ke.K,Ke=Ke.w+(Ne>>Ke.b)*ze;Ne<be;){var Nt=xt,zn=Ke,yt=1;for(Dl(re,ge,Se,Ae-Pe,1,Se,Ae);yt<Pe;){var Ge=(yt&~Xe)+Ce;Ge>Pe&&(Ge=Pe),(0,Nu[Nt[zn++]>>8&15])(re,ge+ +yt,Se,Ae+yt-Pe,Ge-yt,Se,Ae+yt),yt=Ge}ge+=Pe,Ae+=Pe,++Ne&Xe||(Ke+=ze)}we!=ne.nc&&r(Q,G-ve,Q,G+(we-fe-1)*ve,ve);break;case 1:for(ve=re,be=ge,Pe=(re=ne.Ea)-(Ae=re&~(Se=(ge=1<<ne.b)-1)),Ne=je(re,ne.b),Ce=ne.K,ne=ne.w+(fe>>ne.b)*Ne;fe<we;){for(Xe=Ce,ze=ne,xt=new $e,Ke=be+Ae,Nt=be+re;be<Ke;)Ze(Xe[ze++],xt),ju(xt,ve,be,ge,Q,G),be+=ge,G+=ge;be<Nt&&(Ze(Xe[ze++],xt),ju(xt,ve,be,Pe,Q,G),be+=Pe,G+=Pe),++fe&Se||(ne+=Ne)}break;case 3:if(re==Q&&ge==G&&0<ne.b){for(be=Q,re=ve=G+(we-fe)*ve-(Ae=(we-fe)*je(ne.Ea,ne.b)),ge=Q,Se=G,Ne=[],Ae=(Pe=Ae)-1;0<=Ae;--Ae)Ne[Ae]=ge[Se+Ae];for(Ae=Pe-1;0<=Ae;--Ae)be[re+Ae]=Ne[Ae];Uh(ne,fe,we,Q,ve,Q,G)}else Uh(ne,fe,we,re,ge,Q,G)}G=P,Q=S}Q!=S&&r(P,S,G,Q,q)}function ua(p,g){var S=p.V,P=p.Ba+p.c*p.C,z=g-p.C;if(e(g<=p.l.o),e(16>=z),0<z){var q=p.l,K=p.Ta,G=p.Ua,Q=q.width;if(xo(p,z,S,P),z=G=[G],e((S=p.C)<(P=g)),e(q.v<q.va),P>q.o&&(P=q.o),S<q.j){var ne=q.j-S;S=q.j,z[0]+=ne*Q}if(S>=P?S=0:(z[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=P-S,S=1),S){if(G=G[0],11>(S=p.ca).S){var fe=S.f.RGBA,we=(P=S.S,z=q.U,q=q.T,ne=fe.eb,fe.A),re=q;for(fe=fe.fb+p.Ma*fe.A;0<re--;){var ge=K,ve=G,Ne=z,be=ne,Se=fe;switch(P){case Hh:Su(ge,ve,Ne,be,Se);break;case Wh:xa(ge,ve,Ne,be,Se);break;case cm:xa(ge,ve,Ne,be,Se),Au(be,Se,0,Ne,1,0);break;case j2:Do(ge,ve,Ne,be,Se);break;case Vh:nt(ge,ve,Ne,be,Se,1);break;case um:nt(ge,ve,Ne,be,Se,1),Au(be,Se,0,Ne,1,0);break;case Kh:nt(ge,ve,Ne,be,Se,0);break;case Gh:nt(ge,ve,Ne,be,Se,0),Au(be,Se,1,Ne,1,0);break;case lm:ya(ge,ve,Ne,be,Se);break;case dm:ya(ge,ve,Ne,be,Se),g2(be,Se,Ne,1,0);break;case S2:va(ge,ve,Ne,be,Se);break;default:e(0)}G+=Q,fe+=we}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=g,e(p.C<=p.i)}function Ds(p){var g;if(0<p.ua)return 0;for(g=0;g<p.Wb;++g){var S=p.Ya[g].G,P=p.Ya[g].H;if(0<S[1][P[1]+0].g||0<S[2][P[2]+0].g||0<S[3][P[3]+0].g)return 0}return 1}function ai(p,g,S,P,z,q){if(p.Z!=0){var K=p.qd,G=p.rd;for(e(_a[p.Z]!=null);g<S;++g)_a[p.Z](K,G,P,z,P,z,q),K=P,G=z,z+=q;p.qd=K,p.rd=G}}function Fs(p,g){var S=p.l.ma,P=S.Z==0||S.Z==1?p.l.j:p.C;if(P=p.C<P?P:p.C,e(g<=p.l.o),g>P){var z=p.l.width,q=S.ca,K=S.tb+z*P,G=p.V,Q=p.Ba+p.c*P,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),ui(ne[0],P,g,G,Q,q,K),ai(S,P,g,q,K,z)}p.C=p.Ma=g}function Bs(p,g,S,P,z,q,K){var G=p.$/P,Q=p.$%P,ne=p.m,fe=p.s,we=S+p.$,re=we;z=S+P*z;var ge=S+P*q,ve=280+fe.ua,Ne=p.Pb?G:16777216,be=0<fe.ua?fe.Wa:null,Se=fe.wc,Ae=we<ge?tr(fe,Q,G):null;e(p.C<q),e(ge<=z);var Pe=!1;e:for(;;){for(;Pe||we<ge;){var Ce=0;if(G>=Ne){var Xe=we-S;e((Ne=p).Pb),Ne.wd=Ne.m,Ne.xd=Xe,0<Ne.s.ua&&Oe(Ne.s.Wa,Ne.s.vb),Ne=G+nS}if(Q&Se||(Ae=tr(fe,Q,G)),e(Ae!=null),Ae.Qb&&(g[we]=Ae.qb,Pe=!0),!Pe)if(se(ne),Ae.jc){Ce=ne,Xe=g;var ze=we,xt=Ae.pd[O(Ce)&Mo-1];e(Ae.jc),256>xt.g?(B(Ce,Ce.u+xt.g),Xe[ze]=xt.value,Ce=0):(B(Ce,Ce.u+xt.g-256),e(256<=xt.value),Ce=xt.value),Ce==0&&(Pe=!0)}else Ce=pn(Ae.G[0],Ae.H[0],ne);if(ne.h)break;if(Pe||256>Ce){if(!Pe)if(Ae.nd)g[we]=(Ae.qb|Ce<<8)>>>0;else{if(se(ne),Pe=pn(Ae.G[1],Ae.H[1],ne),se(ne),Xe=pn(Ae.G[2],Ae.H[2],ne),ze=pn(Ae.G[3],Ae.H[3],ne),ne.h)break;g[we]=(ze<<24|Pe<<16|Ce<<8|Xe)>>>0}if(Pe=!1,++we,++Q>=P&&(Q=0,++G,K!=null&&G<=q&&!(G%16)&&K(p,G),be!=null))for(;re<we;)Ce=g[re++],be.X[(506832829*Ce&4294967295)>>>be.Mb]=Ce}else if(280>Ce){if(Ce=hs(Ce-256,ne),Xe=pn(Ae.G[4],Ae.H[4],ne),se(ne),Xe=fs(P,Xe=hs(Xe,ne)),ne.h)break;if(we-S<Xe||z-we<Ce)break e;for(ze=0;ze<Ce;++ze)g[we+ze]=g[we+ze-Xe];for(we+=Ce,Q+=Ce;Q>=P;)Q-=P,++G,K!=null&&G<=q&&!(G%16)&&K(p,G);if(e(we<=z),Q&Se&&(Ae=tr(fe,Q,G)),be!=null)for(;re<we;)Ce=g[re++],be.X[(506832829*Ce&4294967295)>>>be.Mb]=Ce}else{if(!(Ce<ve))break e;for(Pe=Ce-280,e(be!=null);re<we;)Ce=g[re++],be.X[(506832829*Ce&4294967295)>>>be.Mb]=Ce;Ce=we,e(!(Pe>>>(Xe=be).Xa)),g[Ce]=Xe.X[Pe],Pe=!0}Pe||e(ne.h==Z(ne))}if(p.Pb&&ne.h&&we<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Oe(p.s.vb,p.s.Wa);else{if(ne.h)break e;K!=null&&K(p,G>q?q:G),p.a=0,p.$=we-S}return 1}return p.a=3,0}function ps(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var g=p.Wa;g!=null&&(g.X=null),p.vb=null,e(p!=null)}function yo(){var p=new Ye;return p==null?null:(p.a=0,p.xb=C2,vt("Predictor","VP8LPredictors"),vt("Predictor","VP8LPredictors_C"),vt("PredictorAdd","VP8LPredictorsAdd"),vt("PredictorAdd","VP8LPredictorsAdd_C"),_n=ht,ju=st,Su=Mt,xa=jt,ya=Ve,va=ot,Do=Ot,j.VP8LMapColor32b=ci,j.VP8LMapColor8b=_u,p)}function oi(p,g,S,P,z){var q=1,K=[p],G=[g],Q=P.m,ne=P.s,fe=null,we=0;e:for(;;){if(S)for(;q&&xe(Q,1);){var re=K,ge=G,ve=P,Ne=1,be=ve.m,Se=ve.gc[ve.ab],Ae=xe(be,2);if(ve.Oc&1<<Ae)q=0;else{switch(ve.Oc|=1<<Ae,Se.hc=Ae,Se.Ea=re[0],Se.nc=ge[0],Se.K=[null],++ve.ab,e(4>=ve.ab),Ae){case 0:case 1:Se.b=xe(be,3)+2,Ne=oi(je(Se.Ea,Se.b),je(Se.nc,Se.b),0,ve,Se.K),Se.K=Se.K[0];break;case 3:var Pe,Ce=xe(be,8)+1,Xe=16<Ce?0:4<Ce?1:2<Ce?2:3;if(re[0]=je(Se.Ea,Xe),Se.b=Xe,Pe=Ne=oi(Ce,1,0,ve,Se.K)){var ze,xt=Ce,Ke=Se,Nt=1<<(8>>Ke.b),zn=i(Nt);if(zn==null)Pe=0;else{var yt=Ke.K[0],Ge=Ke.w;for(zn[0]=Ke.K[0][0],ze=1;ze<1*xt;++ze)zn[ze]=Me(yt[Ge+ze],zn[ze-1]);for(;ze<4*Nt;++ze)zn[ze]=0;Ke.K[0]=null,Ke.K[0]=zn,Pe=1}}Ne=Pe;break;case 2:break;default:e(0)}q=Ne}}if(K=K[0],G=G[0],q&&xe(Q,1)&&!(q=1<=(we=xe(Q,4))&&11>=we)){P.a=3;break e}var Be;if(Be=q)t:{var jn,gt,St,Zt=P,rr=K,jr=G,gn=we,fr=S,Sr=Zt.m,qn=Zt.s,At=[null],Dt=1,xn=0,Ft=tS[gn];n:for(;;){if(fr&&xe(Sr,1)){var sr=xe(Sr,3)+2,zs=je(rr,sr),Sn=je(jr,sr),Or=zs*Sn;if(!oi(zs,Sn,0,Zt,At))break n;for(At=At[0],qn.xc=sr,jn=0;jn<Or;++jn){var Vt=At[jn]>>8&65535;At[jn]=Vt,Vt>=Dt&&(Dt=Vt+1)}}if(Sr.h)break n;for(gt=0;5>gt;++gt){var Hn=k2[gt];!gt&&0<gn&&(Hn+=1<<gn),xn<Hn&&(xn=Hn)}var Xr=a(Dt*Ft,F),kr=Dt,Qr=a(kr,oe);if(Qr==null)var Zr=null;else e(65536>=kr),Zr=Qr;var Rr=i(xn);if(Zr==null||Rr==null||Xr==null){Zt.a=1;break n}var es=Xr;for(jn=St=0;jn<Dt;++jn){var Yt=Zr[jn],ts=Yt.G,qs=Yt.H,Bo=0,Fi=1,ir=0;for(gt=0;5>gt;++gt){Hn=k2[gt],ts[gt]=es,qs[gt]=St,!gt&&0<gn&&(Hn+=1<<gn);s:{var Qh,mm=Hn,Zh=Zt,Lu=Rr,_S=es,NS=St,gm=0,Na=Zh.m,jS=xe(Na,1);if(s(Lu,0,0,mm),jS){var SS=xe(Na,1)+1,kS=xe(Na,1),M2=xe(Na,kS==0?1:8);Lu[M2]=1,SS==2&&(Lu[M2=xe(Na,8)]=1);var ef=1}else{var D2=i(19),F2=xe(Na,4)+4;if(19<F2){Zh.a=3;var tf=0;break s}for(Qh=0;Qh<F2;++Qh)D2[Z6[Qh]]=xe(Na,3);var xm=void 0,Pu=void 0,B2=Zh,AS=D2,nf=mm,$2=Lu,ym=0,ja=B2.m,U2=8,z2=a(128,F);r:for(;L(z2,0,7,AS,19);){if(xe(ja,1)){var CS=2+2*xe(ja,3);if((xm=2+xe(ja,CS))>nf)break r}else xm=nf;for(Pu=0;Pu<nf&&xm--;){se(ja);var q2=z2[0+(127&O(ja))];B(ja,ja.u+q2.g);var Bl=q2.value;if(16>Bl)$2[Pu++]=Bl,Bl!=0&&(U2=Bl);else{var ES=Bl==16,H2=Bl-16,LS=X6[H2],W2=xe(ja,J6[H2])+LS;if(Pu+W2>nf)break r;for(var PS=ES?U2:0;0<W2--;)$2[Pu++]=PS}}ym=1;break r}ym||(B2.a=3),ef=ym}(ef=ef&&!Na.h)&&(gm=L(_S,NS,8,Lu,mm)),ef&&gm!=0?tf=gm:(Zh.a=3,tf=0)}if(tf==0)break n;if(Fi&&Q6[gt]==1&&(Fi=es[St].g==0),Bo+=es[St].g,St+=tf,3>=gt){var Tu,vm=Rr[0];for(Tu=1;Tu<Hn;++Tu)Rr[Tu]>vm&&(vm=Rr[Tu]);ir+=vm}}if(Yt.nd=Fi,Yt.Qb=0,Fi&&(Yt.qb=(ts[3][qs[3]+0].value<<24|ts[1][qs[1]+0].value<<16|ts[2][qs[2]+0].value)>>>0,Bo==0&&256>ts[0][qs[0]+0].value&&(Yt.Qb=1,Yt.qb+=ts[0][qs[0]+0].value<<8)),Yt.jc=!Yt.Qb&&6>ir,Yt.jc){var rf,Bi=Yt;for(rf=0;rf<Mo;++rf){var Sa=rf,ka=Bi.pd[Sa],sf=Bi.G[0][Bi.H[0]+Sa];256<=sf.value?(ka.g=sf.g+256,ka.value=sf.value):(ka.g=0,ka.value=0,Sa>>=Jn(sf,8,ka),Sa>>=Jn(Bi.G[1][Bi.H[1]+Sa],16,ka),Sa>>=Jn(Bi.G[2][Bi.H[2]+Sa],0,ka),Jn(Bi.G[3][Bi.H[3]+Sa],24,ka))}}}qn.vc=At,qn.Wb=Dt,qn.Ya=Zr,qn.yc=Xr,Be=1;break t}Be=0}if(!(q=Be)){P.a=3;break e}if(0<we){if(ne.ua=1<<we,!X(ne.Wa,we)){P.a=1,q=0;break e}}else ne.ua=0;var bm=P,V2=K,TS=G,wm=bm.s,_m=wm.xc;if(bm.c=V2,bm.i=TS,wm.md=je(V2,_m),wm.wc=_m==0?-1:(1<<_m)-1,S){P.xb=cS;break e}if((fe=i(K*G))==null){P.a=1,q=0;break e}q=(q=Bs(P,fe,0,K,G,G,null))&&!Q.h;break e}return q?(z!=null?z[0]=fe:(e(fe==null),e(S)),P.$=0,S||ps(ne)):ps(ne),q}function vo(p,g){var S=p.c*p.i,P=S+g+16*g;return e(p.c<=g),p.V=i(P),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+g,1)}function Al(p,g){var S=p.C,P=g-S,z=p.V,q=p.Ba+p.c*S;for(e(g<=p.l.o);0<P;){var K=16<P?16:P,G=p.l.ma,Q=p.l.width,ne=Q*K,fe=G.ca,we=G.tb+Q*S,re=p.Ta,ge=p.Ua;xo(p,K,z,q),y2(re,ge,fe,we,ne),ai(G,S,S+K,fe,we,Q),P-=K,z+=K*p.c,S+=K}e(S==g),p.C=p.Ma=g}function Cl(){this.ub=this.yd=this.td=this.Rb=0}function El(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wp(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function iu(){this.Yb=function(){var p=[];return function g(S,P,z){for(var q=z[P],K=0;K<q&&(S.push(z.length>P+1?[]:0),!(z.length<P+1));K++)g(S[K],P+1,z)}(p,0,[3,11]),p}()}function jh(){this.jb=i(3),this.Wc=l([4,8],iu),this.Xc=l([4,17],iu)}function Sh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ms(){this.ld=this.La=this.dd=this.tc=0}function au(){this.Na=this.la=0}function kh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ou(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ah(){this.uc=this.M=this.Nb=0,this.wa=Array(new ms),this.Y=0,this.ya=Array(new ou),this.aa=0,this.l=new Ll}function Ch(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Eh(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new Cl,this.Kc=new El,this.ed=new Sh,this.Qa=new Wp,this.Ic=this.$c=this.Aa=0,this.D=new Ah,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,U),this.ia=0,this.pb=a(4,kh),this.Pa=new jh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ch),this.Hd=0,this.rb=Array(new au),this.sb=0,this.wa=Array(new ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ou),this.L=this.aa=0,this.gd=l([4,2],ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ll(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vp(){var p=new Eh;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Cu||(Cu=Ei)),p}function On(p,g,S){return p.a==0&&(p.a=g,p.sc=S,p.cb=0),0}function Lh(p,g,S){return 3<=S&&p[g+0]==157&&p[g+1]==1&&p[g+2]==42}function Ph(p,g){if(p==null)return 0;if(p.a=0,p.sc="OK",g==null)return On(p,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,P=g.w,z=g.ha;if(4>z)return On(p,7,"Truncated header.");var q=S[P+0]|S[P+1]<<8|S[P+2]<<16,K=p.Od;if(K.Rb=!(1&q),K.td=q>>1&7,K.yd=q>>4&1,K.ub=q>>5,3<K.td)return On(p,3,"Incorrect keyframe parameters.");if(!K.yd)return On(p,4,"Frame not displayable.");P+=3,z-=3;var G=p.Kc;if(K.Rb){if(7>z)return On(p,7,"cannot parse picture header");if(!Lh(S,P,z))return On(p,3,"Bad code word");G.c=16383&(S[P+4]<<8|S[P+3]),G.Td=S[P+4]>>6,G.i=16383&(S[P+6]<<8|S[P+5]),G.Ud=S[P+6]>>6,P+=7,z-=7,p.za=G.c+15>>4,p.Ub=G.i+15>>4,g.width=G.c,g.height=G.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(K.ub>z)return On(p,7,"bad partition length");H(q=p.m,S,P,K.ub),P+=K.ub,z-=K.ub,K.Rb&&(G.Ld=E(q),G.Kd=E(q)),G=p.Qa;var Q,ne=p.Pa;if(e(q!=null),e(G!=null),G.Cb=E(q),G.Cb){if(G.Bb=E(q),E(q)){for(G.Fb=E(q),Q=0;4>Q;++Q)G.Zb[Q]=E(q)?te(q,7):0;for(Q=0;4>Q;++Q)G.Lb[Q]=E(q)?te(q,6):0}if(G.Bb)for(Q=0;3>Q;++Q)ne.jb[Q]=E(q)?ce(q,8):255}else G.Bb=0;if(q.Ka)return On(p,3,"cannot parse segment header");if((G=p.ed).zd=E(q),G.Tb=ce(q,6),G.wb=ce(q,3),G.Pc=E(q),G.Pc&&E(q)){for(ne=0;4>ne;++ne)E(q)&&(G.vd[ne]=te(q,6));for(ne=0;4>ne;++ne)E(q)&&(G.od[ne]=te(q,6))}if(p.L=G.Tb==0?0:G.zd?1:2,q.Ka)return On(p,3,"cannot parse filter header");var fe=z;if(z=Q=P,P=Q+fe,G=fe,p.Xb=(1<<ce(p.m,2))-1,fe<3*(ne=p.Xb))S=7;else{for(Q+=3*ne,G-=3*ne,fe=0;fe<ne;++fe){var we=S[z+0]|S[z+1]<<8|S[z+2]<<16;we>G&&(we=G),H(p.Jc[+fe],S,Q,we),Q+=we,G-=we,z+=3}H(p.Jc[+ne],S,Q,G),S=Q<P?0:5}if(S!=0)return On(p,S,"cannot parse partitions");for(S=ce(Q=p.m,7),z=E(Q)?te(Q,4):0,P=E(Q)?te(Q,4):0,G=E(Q)?te(Q,4):0,ne=E(Q)?te(Q,4):0,Q=E(Q)?te(Q,4):0,fe=p.Qa,we=0;4>we;++we){if(fe.Cb){var re=fe.Zb[we];fe.Fb||(re+=S)}else{if(0<we){p.pb[we]=p.pb[0];continue}re=S}var ge=p.pb[we];ge.Sc[0]=hm[mn(re+z,127)],ge.Sc[1]=fm[mn(re+0,127)],ge.Eb[0]=2*hm[mn(re+P,127)],ge.Eb[1]=101581*fm[mn(re+G,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=hm[mn(re+ne,117)],ge.Qc[1]=fm[mn(re+Q,127)],ge.lc=re+Q}if(!K.Rb)return On(p,4,"Not a key frame.");for(E(q),K=p.Pa,S=0;4>S;++S){for(z=0;8>z;++z)for(P=0;3>P;++P)for(G=0;11>G;++G)ne=M(q,oS[S][z][P][G])?ce(q,8):iS[S][z][P][G],K.Wc[S][z].Yb[P][G]=ne;for(z=0;17>z;++z)K.Xc[S][z]=K.Wc[S][lS[z]]}return p.kc=E(q),p.kc&&(p.Bd=ce(q,8)),p.cb=1}function Ei(p,g,S,P,z,q,K){var G=g[z].Yb[S];for(S=0;16>z;++z){if(!M(p,G[S+0]))return z;for(;!M(p,G[S+1]);)if(G=g[++z].Yb[0],S=0,z==16)return 16;var Q=g[z+1].Yb;if(M(p,G[S+2])){var ne=p,fe=0;if(M(ne,(re=G)[(we=S)+3]))if(M(ne,re[we+6])){for(G=0,we=2*(fe=M(ne,re[we+8]))+(re=M(ne,re[we+9+fe])),fe=0,re=rS[we];re[G];++G)fe+=fe+M(ne,re[G]);fe+=3+(8<<we)}else M(ne,re[we+7])?(fe=7+2*M(ne,165),fe+=M(ne,145)):fe=5+M(ne,159);else fe=M(ne,re[we+4])?3+M(ne,re[we+5]):2;G=Q[2]}else fe=1,G=Q[1];Q=K+sS[z],0>(ne=p).b&&V(ne);var we,re=ne.b,ge=(we=ne.Ca>>1)-(ne.I>>re)>>31;--ne.b,ne.Ca+=ge,ne.Ca|=1,ne.I-=(we+1&ge)<<re,q[Q]=((fe^ge)-ge)*P[(0<z)+0]}return 16}function bo(p){var g=p.rb[p.sb-1];g.la=0,g.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function $s(p,g,S,P,z){z=p[g+S+32*P]+(z>>3),p[g+S+32*P]=-256&z?0>z?0:255:z}function wo(p,g,S,P,z,q){$s(p,g,0,S,P+z),$s(p,g,1,S,P+q),$s(p,g,2,S,P-q),$s(p,g,3,S,P-z)}function wn(p){return(20091*p>>16)+p}function lu(p,g,S,P){var z,q=0,K=i(16);for(z=0;4>z;++z){var G=p[g+0]+p[g+8],Q=p[g+0]-p[g+8],ne=(35468*p[g+4]>>16)-wn(p[g+12]),fe=wn(p[g+4])+(35468*p[g+12]>>16);K[q+0]=G+fe,K[q+1]=Q+ne,K[q+2]=Q-ne,K[q+3]=G-fe,q+=4,g++}for(z=q=0;4>z;++z)G=(p=K[q+0]+4)+K[q+8],Q=p-K[q+8],ne=(35468*K[q+4]>>16)-wn(K[q+12]),$s(S,P,0,0,G+(fe=wn(K[q+4])+(35468*K[q+12]>>16))),$s(S,P,1,0,Q+ne),$s(S,P,2,0,Q-ne),$s(S,P,3,0,G-fe),q++,P+=32}function Kp(p,g,S,P){var z=p[g+0]+4,q=35468*p[g+4]>>16,K=wn(p[g+4]),G=35468*p[g+1]>>16;wo(S,P,0,z+K,p=wn(p[g+1]),G),wo(S,P,1,z+q,p,G),wo(S,P,2,z-q,p,G),wo(S,P,3,z-K,p,G)}function Gp(p,g,S,P,z){lu(p,g,S,P),z&&lu(p,g+16,S,P+4)}function Yp(p,g,S,P){Fo(p,g+0,S,P,1),Fo(p,g+32,S,P+128,1)}function li(p,g,S,P){var z;for(p=p[g+0]+4,z=0;4>z;++z)for(g=0;4>g;++g)$s(S,P,g,z,p)}function Th(p,g,S,P){p[g+0]&&Rt(p,g+0,S,P),p[g+16]&&Rt(p,g+16,S,P+4),p[g+32]&&Rt(p,g+32,S,P+128),p[g+48]&&Rt(p,g+48,S,P+128+4)}function Ih(p,g,S,P){var z,q=i(16);for(z=0;4>z;++z){var K=p[g+0+z]+p[g+12+z],G=p[g+4+z]+p[g+8+z],Q=p[g+4+z]-p[g+8+z],ne=p[g+0+z]-p[g+12+z];q[0+z]=K+G,q[8+z]=K-G,q[4+z]=ne+Q,q[12+z]=ne-Q}for(z=0;4>z;++z)K=(p=q[0+4*z]+3)+q[3+4*z],G=q[1+4*z]+q[2+4*z],Q=q[1+4*z]-q[2+4*z],ne=p-q[3+4*z],S[P+0]=K+G>>3,S[P+16]=ne+Q>>3,S[P+32]=K-G>>3,S[P+48]=ne-Q>>3,P+=64}function da(p,g,S){var P,z=g-32,q=Jr,K=255-p[z-1];for(P=0;P<S;++P){var G,Q=q,ne=K+p[g-1];for(G=0;G<S;++G)p[g+G]=Q[ne+p[z+G]];g+=32}}function cu(p,g){da(p,g,4)}function Jp(p,g){da(p,g,8)}function Xp(p,g){da(p,g,16)}function Qp(p,g){var S;for(S=0;16>S;++S)r(p,g+32*S,p,g-32,16)}function uu(p,g){var S;for(S=16;0<S;--S)s(p,g,p[g-1],16),g+=32}function _o(p,g,S){var P;for(P=0;16>P;++P)s(g,S+32*P,p,16)}function ha(p,g){var S,P=16;for(S=0;16>S;++S)P+=p[g-1+32*S]+p[g+S-32];_o(P>>5,p,g)}function Zp(p,g){var S,P=8;for(S=0;16>S;++S)P+=p[g-1+32*S];_o(P>>4,p,g)}function No(p,g){var S,P=8;for(S=0;16>S;++S)P+=p[g+S-32];_o(P>>4,p,g)}function du(p,g){_o(128,p,g)}function dt(p,g,S){return p+2*g+S+2>>2}function em(p,g){var S,P=g-32;for(P=new Uint8Array([dt(p[P-1],p[P+0],p[P+1]),dt(p[P+0],p[P+1],p[P+2]),dt(p[P+1],p[P+2],p[P+3]),dt(p[P+2],p[P+3],p[P+4])]),S=0;4>S;++S)r(p,g+32*S,P,0,P.length)}function tm(p,g){var S=p[g-1],P=p[g-1+32],z=p[g-1+64],q=p[g-1+96];Y(p,g+0,16843009*dt(p[g-1-32],S,P)),Y(p,g+32,16843009*dt(S,P,z)),Y(p,g+64,16843009*dt(P,z,q)),Y(p,g+96,16843009*dt(z,q,q))}function nm(p,g){var S,P=4;for(S=0;4>S;++S)P+=p[g+S-32]+p[g-1+32*S];for(P>>=3,S=0;4>S;++S)s(p,g+32*S,P,4)}function rm(p,g){var S=p[g-1+0],P=p[g-1+32],z=p[g-1+64],q=p[g-1-32],K=p[g+0-32],G=p[g+1-32],Q=p[g+2-32],ne=p[g+3-32];p[g+0+96]=dt(P,z,p[g-1+96]),p[g+1+96]=p[g+0+64]=dt(S,P,z),p[g+2+96]=p[g+1+64]=p[g+0+32]=dt(q,S,P),p[g+3+96]=p[g+2+64]=p[g+1+32]=p[g+0+0]=dt(K,q,S),p[g+3+64]=p[g+2+32]=p[g+1+0]=dt(G,K,q),p[g+3+32]=p[g+2+0]=dt(Q,G,K),p[g+3+0]=dt(ne,Q,G)}function Li(p,g){var S=p[g+1-32],P=p[g+2-32],z=p[g+3-32],q=p[g+4-32],K=p[g+5-32],G=p[g+6-32],Q=p[g+7-32];p[g+0+0]=dt(p[g+0-32],S,P),p[g+1+0]=p[g+0+32]=dt(S,P,z),p[g+2+0]=p[g+1+32]=p[g+0+64]=dt(P,z,q),p[g+3+0]=p[g+2+32]=p[g+1+64]=p[g+0+96]=dt(z,q,K),p[g+3+32]=p[g+2+64]=p[g+1+96]=dt(q,K,G),p[g+3+64]=p[g+2+96]=dt(K,G,Q),p[g+3+96]=dt(G,Q,Q)}function Pi(p,g){var S=p[g-1+0],P=p[g-1+32],z=p[g-1+64],q=p[g-1-32],K=p[g+0-32],G=p[g+1-32],Q=p[g+2-32],ne=p[g+3-32];p[g+0+0]=p[g+1+64]=q+K+1>>1,p[g+1+0]=p[g+2+64]=K+G+1>>1,p[g+2+0]=p[g+3+64]=G+Q+1>>1,p[g+3+0]=Q+ne+1>>1,p[g+0+96]=dt(z,P,S),p[g+0+64]=dt(P,S,q),p[g+0+32]=p[g+1+96]=dt(S,q,K),p[g+1+32]=p[g+2+96]=dt(q,K,G),p[g+2+32]=p[g+3+96]=dt(K,G,Q),p[g+3+32]=dt(G,Q,ne)}function sm(p,g){var S=p[g+0-32],P=p[g+1-32],z=p[g+2-32],q=p[g+3-32],K=p[g+4-32],G=p[g+5-32],Q=p[g+6-32],ne=p[g+7-32];p[g+0+0]=S+P+1>>1,p[g+1+0]=p[g+0+64]=P+z+1>>1,p[g+2+0]=p[g+1+64]=z+q+1>>1,p[g+3+0]=p[g+2+64]=q+K+1>>1,p[g+0+32]=dt(S,P,z),p[g+1+32]=p[g+0+96]=dt(P,z,q),p[g+2+32]=p[g+1+96]=dt(z,q,K),p[g+3+32]=p[g+2+96]=dt(q,K,G),p[g+3+64]=dt(K,G,Q),p[g+3+96]=dt(G,Q,ne)}function im(p,g){var S=p[g-1+0],P=p[g-1+32],z=p[g-1+64],q=p[g-1+96];p[g+0+0]=S+P+1>>1,p[g+2+0]=p[g+0+32]=P+z+1>>1,p[g+2+32]=p[g+0+64]=z+q+1>>1,p[g+1+0]=dt(S,P,z),p[g+3+0]=p[g+1+32]=dt(P,z,q),p[g+3+32]=p[g+1+64]=dt(z,q,q),p[g+3+64]=p[g+2+64]=p[g+0+96]=p[g+1+96]=p[g+2+96]=p[g+3+96]=q}function Pl(p,g){var S=p[g-1+0],P=p[g-1+32],z=p[g-1+64],q=p[g-1+96],K=p[g-1-32],G=p[g+0-32],Q=p[g+1-32],ne=p[g+2-32];p[g+0+0]=p[g+2+32]=S+K+1>>1,p[g+0+32]=p[g+2+64]=P+S+1>>1,p[g+0+64]=p[g+2+96]=z+P+1>>1,p[g+0+96]=q+z+1>>1,p[g+3+0]=dt(G,Q,ne),p[g+2+0]=dt(K,G,Q),p[g+1+0]=p[g+3+32]=dt(S,K,G),p[g+1+32]=p[g+3+64]=dt(P,S,K),p[g+1+64]=p[g+3+96]=dt(z,P,S),p[g+1+96]=dt(q,z,P)}function hu(p,g){var S;for(S=0;8>S;++S)r(p,g+32*S,p,g-32,8)}function jo(p,g){var S;for(S=0;8>S;++S)s(p,g,p[g-1],8),g+=32}function Tl(p,g,S){var P;for(P=0;8>P;++P)s(g,S+32*P,p,8)}function Il(p,g){var S,P=8;for(S=0;8>S;++S)P+=p[g+S-32]+p[g-1+32*S];Tl(P>>4,p,g)}function am(p,g){var S,P=4;for(S=0;8>S;++S)P+=p[g+S-32];Tl(P>>3,p,g)}function fu(p,g){var S,P=4;for(S=0;8>S;++S)P+=p[g-1+32*S];Tl(P>>3,p,g)}function pu(p,g){Tl(128,p,g)}function So(p,g,S){var P=p[g-S],z=p[g+0],q=3*(z-P)+om[1020+p[g-2*S]-p[g+S]],K=qh[112+(q+4>>3)];p[g-S]=Jr[255+P+qh[112+(q+3>>3)]],p[g+0]=Jr[255+z-K]}function ko(p,g,S,P){var z=p[g+0],q=p[g+S];return vs[255+p[g-2*S]-p[g-S]]>P||vs[255+q-z]>P}function mu(p,g,S,P){return 4*vs[255+p[g-S]-p[g+0]]+vs[255+p[g-2*S]-p[g+S]]<=P}function Ol(p,g,S,P,z){var q=p[g-3*S],K=p[g-2*S],G=p[g-S],Q=p[g+0],ne=p[g+S],fe=p[g+2*S],we=p[g+3*S];return 4*vs[255+G-Q]+vs[255+K-ne]>P?0:vs[255+p[g-4*S]-q]<=z&&vs[255+q-K]<=z&&vs[255+K-G]<=z&&vs[255+we-fe]<=z&&vs[255+fe-ne]<=z&&vs[255+ne-Q]<=z}function gu(p,g,S,P){var z=2*P+1;for(P=0;16>P;++P)mu(p,g+P,S,z)&&So(p,g+P,S)}function Ao(p,g,S,P){var z=2*P+1;for(P=0;16>P;++P)mu(p,g+P*S,1,z)&&So(p,g+P*S,1)}function Oh(p,g,S,P){var z;for(z=3;0<z;--z)gu(p,g+=4*S,S,P)}function Rh(p,g,S,P){var z;for(z=3;0<z;--z)Ao(p,g+=4,S,P)}function Ti(p,g,S,P,z,q,K,G){for(q=2*q+1;0<z--;){if(Ol(p,g,S,q,K))if(ko(p,g,S,G))So(p,g,S);else{var Q=p,ne=g,fe=S,we=Q[ne-2*fe],re=Q[ne-fe],ge=Q[ne+0],ve=Q[ne+fe],Ne=Q[ne+2*fe],be=27*(Ae=om[1020+3*(ge-re)+om[1020+we-ve]])+63>>7,Se=18*Ae+63>>7,Ae=9*Ae+63>>7;Q[ne-3*fe]=Jr[255+Q[ne-3*fe]+Ae],Q[ne-2*fe]=Jr[255+we+Se],Q[ne-fe]=Jr[255+re+be],Q[ne+0]=Jr[255+ge-be],Q[ne+fe]=Jr[255+ve-Se],Q[ne+2*fe]=Jr[255+Ne-Ae]}g+=P}}function Ii(p,g,S,P,z,q,K,G){for(q=2*q+1;0<z--;){if(Ol(p,g,S,q,K))if(ko(p,g,S,G))So(p,g,S);else{var Q=p,ne=g,fe=S,we=Q[ne-fe],re=Q[ne+0],ge=Q[ne+fe],ve=qh[112+(4+(Ne=3*(re-we))>>3)],Ne=qh[112+(Ne+3>>3)],be=ve+1>>1;Q[ne-2*fe]=Jr[255+Q[ne-2*fe]+be],Q[ne-fe]=Jr[255+we+Ne],Q[ne+0]=Jr[255+re-ve],Q[ne+fe]=Jr[255+ge-be]}g+=P}}function Mh(p,g,S,P,z,q){Ti(p,g,S,1,16,P,z,q)}function Dh(p,g,S,P,z,q){Ti(p,g,1,S,16,P,z,q)}function Co(p,g,S,P,z,q){var K;for(K=3;0<K;--K)Ii(p,g+=4*S,S,1,16,P,z,q)}function Fh(p,g,S,P,z,q){var K;for(K=3;0<K;--K)Ii(p,g+=4,1,S,16,P,z,q)}function N(p,g,S,P,z,q,K,G){Ti(p,g,z,1,8,q,K,G),Ti(S,P,z,1,8,q,K,G)}function $(p,g,S,P,z,q,K,G){Ti(p,g,1,z,8,q,K,G),Ti(S,P,1,z,8,q,K,G)}function ie(p,g,S,P,z,q,K,G){Ii(p,g+4*z,z,1,8,q,K,G),Ii(S,P+4*z,z,1,8,q,K,G)}function de(p,g,S,P,z,q,K,G){Ii(p,g+4,1,z,8,q,K,G),Ii(S,P+4,1,z,8,q,K,G)}function ye(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function We(){this.ua=0,this.Wa=new De,this.vb=new De,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new F}function Ye(){this.xb=this.a=0,this.l=new Ll,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new We,this.ab=0,this.gc=a(4,Le),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ll,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ft(p,g,S,P,z,q,K){for(p=p==null?0:p[g+0],g=0;g<K;++g)z[q+g]=p+S[P+g]&255,p=z[q+g]}function It(p,g,S,P,z,q,K){var G;if(p==null)ft(null,null,S,P,z,q,K);else for(G=0;G<K;++G)z[q+G]=p[g+G]+S[P+G]&255}function ln(p,g,S,P,z,q,K){if(p==null)ft(null,null,S,P,z,q,K);else{var G,Q=p[g+0],ne=Q,fe=Q;for(G=0;G<K;++G)ne=fe+(Q=p[g+G])-ne,fe=S[P+G]+(-256&ne?0>ne?0:255:ne)&255,ne=Q,z[q+G]=fe}}function Rn(p,g,S,P){var z=g.width,q=g.o;if(e(p!=null&&g!=null),0>S||0>=P||S+P>q)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new ct,(K=p.ga==null)||(K=g.width*g.o,e(p.Gb.length==0),p.Gb=i(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var G=p.Fa,Q=p.P,ne=p.qc,fe=p.mb,we=p.nb,re=Q+1,ge=ne-1,ve=K.l;if(e(G!=null&&fe!=null&&g!=null),_a[0]=null,_a[1]=ft,_a[2]=It,_a[3]=ln,K.ca=fe,K.tb=we,K.c=g.width,K.i=g.height,e(0<K.c&&0<K.i),1>=ne)g=0;else if(K.$a=3&G[Q+0],K.Z=G[Q+0]>>2&3,K.Lc=G[Q+0]>>4&3,Q=G[Q+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||Q)g=0;else if(ve.put=et,ve.ac=qt,ve.bc=Tr,ve.ma=K,ve.width=g.width,ve.height=g.height,ve.Da=g.Da,ve.v=g.v,ve.va=g.va,ve.j=g.j,ve.o=g.o,K.$a)e:{e(K.$a==1),g=yo();t:for(;;){if(g==null){g=0;break e}if(e(K!=null),K.mc=g,g.c=K.c,g.i=K.i,g.l=K.l,g.l.ma=K,g.l.width=K.c,g.l.height=K.i,g.a=0,ue(g.m,G,re,ge),!oi(K.c,K.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ds(g.s)?(K.ic=1,G=g.c*g.i,g.Ta=null,g.Ua=0,g.V=i(G),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(K.ic=0,g=vo(g,K.c)),!g))break t;g=1;break e}K.mc=null,g=0}else g=ge>=K.c*K.i;K=!g}if(K)return null;p.ga.Lc!=1?p.Ga=0:P=q-S}e(p.ga!=null),e(S+P<=q);e:{if(g=(G=p.ga).c,q=G.l.o,G.$a==0){if(re=p.rc,ge=p.Vc,ve=p.Fa,Q=p.P+1+S*g,ne=p.mb,fe=p.nb+S*g,e(Q<=p.P+p.qc),G.Z!=0)for(e(_a[G.Z]!=null),K=0;K<P;++K)_a[G.Z](re,ge,ve,Q,ne,fe,g),re=ne,ge=fe,fe+=g,Q+=g;else for(K=0;K<P;++K)r(ne,fe,ve,Q,g),re=ne,ge=fe,fe+=g,Q+=g;p.rc=re,p.Vc=ge}else{if(e(G.mc!=null),g=S+P,e((K=G.mc)!=null),e(g<=K.i),K.C>=g)g=1;else if(G.ic||gs(),G.ic){G=K.V,re=K.Ba,ge=K.c;var Ne=K.i,be=(ve=1,Q=K.$/ge,ne=K.$%ge,fe=K.m,we=K.s,K.$),Se=ge*Ne,Ae=ge*g,Pe=we.wc,Ce=be<Ae?tr(we,ne,Q):null;e(be<=Se),e(g<=Ne),e(Ds(we));t:for(;;){for(;!fe.h&&be<Ae;){if(ne&Pe||(Ce=tr(we,ne,Q)),e(Ce!=null),se(fe),256>(Ne=pn(Ce.G[0],Ce.H[0],fe)))G[re+be]=Ne,++be,++ne>=ge&&(ne=0,++Q<=g&&!(Q%16)&&Fs(K,Q));else{if(!(280>Ne)){ve=0;break t}Ne=hs(Ne-256,fe);var Xe,ze=pn(Ce.G[4],Ce.H[4],fe);if(se(fe),!(be>=(ze=fs(ge,ze=hs(ze,fe)))&&Se-be>=Ne)){ve=0;break t}for(Xe=0;Xe<Ne;++Xe)G[re+be+Xe]=G[re+be+Xe-ze];for(be+=Ne,ne+=Ne;ne>=ge;)ne-=ge,++Q<=g&&!(Q%16)&&Fs(K,Q);be<Ae&&ne&Pe&&(Ce=tr(we,ne,Q))}e(fe.h==Z(fe))}Fs(K,Q>g?g:Q);break t}!ve||fe.h&&be<Se?(ve=0,K.a=fe.h?5:3):K.$=be,g=ve}else g=Bs(K,K.V,K.Ba,K.c,K.i,g,Al);if(!g){P=0;break e}}S+P>=q&&(p.Cc=1),P=1}if(!P)return null;if(p.Cc&&((P=p.ga)!=null&&(P.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*z}function Gt(p,g,S,P,z,q){for(;0<z--;){var K,G=p,Q=g+(S?1:0),ne=p,fe=g+(S?0:3);for(K=0;K<P;++K){var we=ne[fe+4*K];we!=255&&(we*=32897,G[Q+4*K+0]=G[Q+4*K+0]*we>>23,G[Q+4*K+1]=G[Q+4*K+1]*we>>23,G[Q+4*K+2]=G[Q+4*K+2]*we>>23)}g+=q}}function $n(p,g,S,P,z){for(;0<P--;){var q;for(q=0;q<S;++q){var K=p[g+2*q+0],G=15&(ne=p[g+2*q+1]),Q=4369*G,ne=(240&ne|ne>>4)*Q>>16;p[g+2*q+0]=(240&K|K>>4)*Q>>16&240|(15&K|K<<4)*Q>>16>>4&15,p[g+2*q+1]=240&ne|G}g+=z}}function Mn(p,g,S,P,z,q,K,G){var Q,ne,fe=255;for(ne=0;ne<z;++ne){for(Q=0;Q<P;++Q){var we=p[g+Q];q[K+4*Q]=we,fe&=we}g+=S,K+=G}return fe!=255}function nr(p,g,S,P,z){var q;for(q=0;q<z;++q)S[P+q]=p[g+q]>>8}function gs(){Au=Gt,g2=$n,x2=Mn,y2=nr}function Ir(p,g,S){j[p]=function(P,z,q,K,G,Q,ne,fe,we,re,ge,ve,Ne,be,Se,Ae,Pe){var Ce,Xe=Pe-1>>1,ze=G[Q+0]|ne[fe+0]<<16,xt=we[re+0]|ge[ve+0]<<16;e(P!=null);var Ke=3*ze+xt+131074>>2;for(g(P[z+0],255&Ke,Ke>>16,Ne,be),q!=null&&(Ke=3*xt+ze+131074>>2,g(q[K+0],255&Ke,Ke>>16,Se,Ae)),Ce=1;Ce<=Xe;++Ce){var Nt=G[Q+Ce]|ne[fe+Ce]<<16,zn=we[re+Ce]|ge[ve+Ce]<<16,yt=ze+Nt+xt+zn+524296,Ge=yt+2*(Nt+xt)>>3;Ke=Ge+ze>>1,ze=(yt=yt+2*(ze+zn)>>3)+Nt>>1,g(P[z+2*Ce-1],255&Ke,Ke>>16,Ne,be+(2*Ce-1)*S),g(P[z+2*Ce-0],255&ze,ze>>16,Ne,be+(2*Ce-0)*S),q!=null&&(Ke=yt+xt>>1,ze=Ge+zn>>1,g(q[K+2*Ce-1],255&Ke,Ke>>16,Se,Ae+(2*Ce-1)*S),g(q[K+2*Ce+0],255&ze,ze>>16,Se,Ae+(2*Ce+0)*S)),ze=Nt,xt=zn}1&Pe||(Ke=3*ze+xt+131074>>2,g(P[z+Pe-1],255&Ke,Ke>>16,Ne,be+(Pe-1)*S),q!=null&&(Ke=3*xt+ze+131074>>2,g(q[K+Pe-1],255&Ke,Ke>>16,Se,Ae+(Pe-1)*S)))}}function Bh(){bs[Hh]=uS,bs[Wh]=E2,bs[j2]=dS,bs[Vh]=L2,bs[Kh]=P2,bs[lm]=T2,bs[S2]=hS,bs[cm]=E2,bs[um]=L2,bs[Gh]=P2,bs[dm]=T2}function Rl(p){return p&-16384?0>p?0:255:p>>fS}function Eo(p,g){return Rl((19077*p>>8)+(26149*g>>8)-14234)}function fa(p,g,S){return Rl((19077*p>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function Lo(p,g){return Rl((19077*p>>8)+(33050*g>>8)-17685)}function Po(p,g,S,P,z){P[z+0]=Eo(p,S),P[z+1]=fa(p,g,S),P[z+2]=Lo(p,g)}function To(p,g,S,P,z){P[z+0]=Lo(p,g),P[z+1]=fa(p,g,S),P[z+2]=Eo(p,S)}function hr(p,g,S,P,z){var q=fa(p,g,S);g=q<<3&224|Lo(p,g)>>3,P[z+0]=248&Eo(p,S)|q>>5,P[z+1]=g}function Io(p,g,S,P,z){var q=240&Lo(p,g)|15;P[z+0]=240&Eo(p,S)|fa(p,g,S)>>4,P[z+1]=q}function Oo(p,g,S,P,z){P[z+0]=255,Po(p,g,S,P,z+1)}function xu(p,g,S,P,z){To(p,g,S,P,z),P[z+3]=255}function yu(p,g,S,P,z){Po(p,g,S,P,z),P[z+3]=255}function mn(p,g){return 0>p?0:p>g?g:p}function Oi(p,g,S){j[p]=function(P,z,q,K,G,Q,ne,fe,we){for(var re=fe+(-2&we)*S;fe!=re;)g(P[z+0],q[K+0],G[Q+0],ne,fe),g(P[z+1],q[K+0],G[Q+0],ne,fe+S),z+=2,++K,++Q,fe+=2*S;1&we&&g(P[z+0],q[K+0],G[Q+0],ne,fe)}}function Ml(p,g,S){return S==0?p==0?g==0?6:5:g==0?4:0:S}function $h(p,g,S,P,z){switch(p>>>30){case 3:Fo(g,S,P,z,0);break;case 2:ys(g,S,P,z);break;case 1:Rt(g,S,P,z)}}function xs(p,g){var S,P,z=g.M,q=g.Nb,K=p.oc,G=p.pc+40,Q=p.oc,ne=p.pc+584,fe=p.oc,we=p.pc+600;for(S=0;16>S;++S)K[G+32*S-1]=129;for(S=0;8>S;++S)Q[ne+32*S-1]=129,fe[we+32*S-1]=129;for(0<z?K[G-1-32]=Q[ne-1-32]=fe[we-1-32]=129:(s(K,G-32-1,127,21),s(Q,ne-32-1,127,9),s(fe,we-32-1,127,9)),P=0;P<p.za;++P){var re=g.ya[g.aa+P];if(0<P){for(S=-1;16>S;++S)r(K,G+32*S-4,K,G+32*S+12,4);for(S=-1;8>S;++S)r(Q,ne+32*S-4,Q,ne+32*S+4,4),r(fe,we+32*S-4,fe,we+32*S+4,4)}var ge=p.Gd,ve=p.Hd+P,Ne=re.ad,be=re.Hc;if(0<z&&(r(K,G-32,ge[ve].y,0,16),r(Q,ne-32,ge[ve].f,0,8),r(fe,we-32,ge[ve].ea,0,8)),re.Za){var Se=K,Ae=G-32+16;for(0<z&&(P>=p.za-1?s(Se,Ae,ge[ve].y[15],4):r(Se,Ae,ge[ve+1].y,0,4)),S=0;4>S;S++)Se[Ae+128+S]=Se[Ae+256+S]=Se[Ae+384+S]=Se[Ae+0+S];for(S=0;16>S;++S,be<<=2)Se=K,Ae=G+O2[S],Us[re.Ob[S]](Se,Ae),$h(be,Ne,16*+S,Se,Ae)}else if(Se=Ml(P,z,re.Ob[0]),wa[Se](K,G),be!=0)for(S=0;16>S;++S,be<<=2)$h(be,Ne,16*+S,K,G+O2[S]);for(S=re.Gc,Se=Ml(P,z,re.Dd),Di[Se](Q,ne),Di[Se](fe,we),be=Ne,Se=Q,Ae=ne,255&(re=0|S)&&(170&re?di(be,256,Se,Ae):Wt(be,256,Se,Ae)),re=fe,be=we,255&(S>>=8)&&(170&S?di(Ne,320,re,be):Wt(Ne,320,re,be)),z<p.Ub-1&&(r(ge[ve].y,0,K,G+480,16),r(ge[ve].f,0,Q,ne+224,8),r(ge[ve].ea,0,fe,we+224,8)),S=8*q*p.B,ge=p.sa,ve=p.ta+16*P+16*q*p.R,Ne=p.qa,re=p.ra+8*P+S,be=p.Ha,Se=p.Ia+8*P+S,S=0;16>S;++S)r(ge,ve+S*p.R,K,G+32*S,16);for(S=0;8>S;++S)r(Ne,re+S*p.B,Q,ne+32*S,8),r(be,Se+S*p.B,fe,we+32*S,8)}}function Ro(p,g,S,P,z,q,K,G,Q){var ne=[0],fe=[0],we=0,re=Q!=null?Q.kd:0,ge=Q??new ke;if(p==null||12>S)return 7;ge.data=p,ge.w=g,ge.ha=S,g=[g],S=[S],ge.gb=[ge.gb];e:{var ve=g,Ne=S,be=ge.gb;if(e(p!=null),e(Ne!=null),e(be!=null),be[0]=0,12<=Ne[0]&&!n(p,ve[0],"RIFF")){if(n(p,ve[0]+8,"WEBP")){be=3;break e}var Se=le(p,ve[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(re&&Se>Ne[0]-8){be=7;break e}be[0]=Se,ve[0]+=12,Ne[0]-=12}be=0}if(be!=0)return be;for(Se=0<ge.gb[0],S=S[0];;){e:{var Ae=p;Ne=g,be=S;var Pe=ne,Ce=fe,Xe=ve=[0];if((Ke=we=[we])[0]=0,8>be[0])be=7;else{if(!n(Ae,Ne[0],"VP8X")){if(le(Ae,Ne[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var ze=le(Ae,Ne[0]+8),xt=1+me(Ae,Ne[0]+12);if(2147483648<=xt*(Ae=1+me(Ae,Ne[0]+15))){be=3;break e}Xe!=null&&(Xe[0]=ze),Pe!=null&&(Pe[0]=xt),Ce!=null&&(Ce[0]=Ae),Ne[0]+=18,be[0]-=18,Ke[0]=1}be=0}}if(we=we[0],ve=ve[0],be!=0)return be;if(Ne=!!(2&ve),!Se&&we)return 3;if(q!=null&&(q[0]=!!(16&ve)),K!=null&&(K[0]=Ne),G!=null&&(G[0]=0),K=ne[0],ve=fe[0],we&&Ne&&Q==null){be=0;break}if(4>S){be=7;break}if(Se&&we||!Se&&!we&&!n(p,g[0],"ALPH")){S=[S],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{ze=p,be=g,Se=S;var Ke=ge.gb;Pe=ge.na,Ce=ge.P,Xe=ge.Sa,xt=22,e(ze!=null),e(Se!=null),Ae=be[0];var Nt=Se[0];for(e(Pe!=null),e(Xe!=null),Pe[0]=null,Ce[0]=null,Xe[0]=0;;){if(be[0]=Ae,Se[0]=Nt,8>Nt){be=7;break e}var zn=le(ze,Ae+4);if(4294967286<zn){be=3;break e}var yt=8+zn+1&-2;if(xt+=yt,0<Ke&&xt>Ke){be=3;break e}if(!n(ze,Ae,"VP8 ")||!n(ze,Ae,"VP8L")){be=0;break e}if(Nt[0]<yt){be=7;break e}n(ze,Ae,"ALPH")||(Pe[0]=ze,Ce[0]=Ae+8,Xe[0]=zn),Ae+=yt,Nt-=yt}}if(S=S[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],be!=0)break}S=[S],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ke=p,be=g,Se=S,Pe=ge.gb[0],Ce=ge.Ja,Xe=ge.xa,ze=be[0],Ae=!n(Ke,ze,"VP8 "),xt=!n(Ke,ze,"VP8L"),e(Ke!=null),e(Se!=null),e(Ce!=null),e(Xe!=null),8>Se[0])be=7;else{if(Ae||xt){if(Ke=le(Ke,ze+4),12<=Pe&&Ke>Pe-12){be=3;break e}if(re&&Ke>Se[0]-8){be=7;break e}Ce[0]=Ke,be[0]+=8,Se[0]-=8,Xe[0]=xt}else Xe[0]=5<=Se[0]&&Ke[ze+0]==47&&!(Ke[ze+4]>>5),Ce[0]=Se[0];be=0}if(S=S[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],g=g[0],be!=0)break;if(4294967286<ge.Ja)return 3;if(G==null||Ne||(G[0]=ge.xa?2:1),K=[K],ve=[ve],ge.xa){if(5>S){be=7;break}G=K,re=ve,Ne=q,p==null||5>S?p=0:5<=S&&p[g+0]==47&&!(p[g+4]>>5)?(Se=[0],Ke=[0],Pe=[0],ue(Ce=new ee,p,g,S),Ci(Ce,Se,Ke,Pe)?(G!=null&&(G[0]=Se[0]),re!=null&&(re[0]=Ke[0]),Ne!=null&&(Ne[0]=Pe[0]),p=1):p=0):p=0}else{if(10>S){be=7;break}G=ve,p==null||10>S||!Lh(p,g+3,S-3)?p=0:(re=p[g+0]|p[g+1]<<8|p[g+2]<<16,Ne=16383&(p[g+7]<<8|p[g+6]),p=16383&(p[g+9]<<8|p[g+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=ge.Ja||!Ne||!p?p=0:(K&&(K[0]=Ne),G&&(G[0]=p),p=1))}if(!p||(K=K[0],ve=ve[0],we&&(ne[0]!=K||fe[0]!=ve)))return 3;Q!=null&&(Q[0]=ge,Q.offset=g-Q.w,e(4294967286>g-Q.w),e(Q.offset==Q.ha-S));break}return be==0||be==7&&we&&Q==null?(q!=null&&(q[0]|=ge.na!=null&&0<ge.na.length),P!=null&&(P[0]=K),z!=null&&(z[0]=ve),0):be}function vu(p,g,S){var P=g.width,z=g.height,q=0,K=0,G=P,Q=z;if(g.Da=p!=null&&0<p.Da,g.Da&&(G=p.cd,Q=p.bd,q=p.v,K=p.j,11>S||(q&=-2,K&=-2),0>q||0>K||0>=G||0>=Q||q+G>P||K+Q>z))return 0;if(g.v=q,g.j=K,g.va=q+G,g.o=K+Q,g.U=G,g.T=Q,g.da=p!=null&&0<p.da,g.da){if(!Ie(G,Q,S=[p.ib],q=[p.hb]))return 0;g.ib=S[0],g.hb=q[0]}return g.ob=p!=null&&p.ob,g.Kb=p==null||!p.Sd,g.da&&(g.ob=g.ib<3*P/4&&g.hb<3*z/4,g.Kb=0),1}function bu(p){if(p==null)return 2;if(11>p.S){var g=p.f.RGBA;g.fb+=(p.height-1)*g.A,g.A=-g.A}else g=p.f.kb,p=p.height,g.O+=(p-1)*g.fa,g.fa=-g.fa,g.N+=(p-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(p-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(p-1)*g.lb,g.lb=-g.lb);return 0}function pa(p,g,S,P){if(P==null||0>=p||0>=g)return 2;if(S!=null){if(S.Da){var z=S.cd,q=S.bd,K=-2&S.v,G=-2&S.j;if(0>K||0>G||0>=z||0>=q||K+z>p||G+q>g)return 2;p=z,g=q}if(S.da){if(!Ie(p,g,z=[S.ib],q=[S.hb]))return 2;p=z[0],g=q[0]}}P.width=p,P.height=g;e:{var Q=P.width,ne=P.height;if(p=P.S,0>=Q||0>=ne||!(p>=Hh&&13>p))p=2;else{if(0>=P.Rd&&P.sd==null){K=q=z=g=0;var fe=(G=Q*R2[p])*ne;if(11>p||(q=(ne+1)/2*(g=(Q+1)/2),p==12&&(K=(z=Q)*ne)),(ne=i(fe+2*q+K))==null){p=1;break e}P.sd=ne,11>p?((Q=P.f.RGBA).eb=ne,Q.fb=0,Q.A=G,Q.size=fe):((Q=P.f.kb).y=ne,Q.O=0,Q.fa=G,Q.Fd=fe,Q.f=ne,Q.N=0+fe,Q.Ab=g,Q.Cd=q,Q.ea=ne,Q.W=0+fe+q,Q.Db=g,Q.Ed=q,p==12&&(Q.F=ne,Q.J=0+fe+2*q),Q.Tc=K,Q.lb=z)}if(g=1,z=P.S,q=P.width,K=P.height,z>=Hh&&13>z)if(11>z)p=P.f.RGBA,g&=(G=Math.abs(p.A))*(K-1)+q<=p.size,g&=G>=q*R2[z],g&=p.eb!=null;else{p=P.f.kb,G=(q+1)/2,fe=(K+1)/2,Q=Math.abs(p.fa),ne=Math.abs(p.Ab);var we=Math.abs(p.Db),re=Math.abs(p.lb),ge=re*(K-1)+q;g&=Q*(K-1)+q<=p.Fd,g&=ne*(fe-1)+G<=p.Cd,g=(g&=we*(fe-1)+G<=p.Ed)&Q>=q&ne>=G&we>=G,g&=p.y!=null,g&=p.f!=null,g&=p.ea!=null,z==12&&(g&=re>=q,g&=ge<=p.Tc,g&=p.F!=null)}else g=0;p=g?0:2}}return p!=0||S!=null&&S.fd&&(p=bu(P)),p}var Mo=64,Gr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yr=24,ma=32,Ri=8,ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(p){return p},j.Predictor2=function(p,g,S){return g[S+0]},j.Predictor3=function(p,g,S){return g[S+1]},j.Predictor4=function(p,g,S){return g[S-1]},j.Predictor5=function(p,g,S){return He(He(p,g[S+1]),g[S+0])},j.Predictor6=function(p,g,S){return He(p,g[S-1])},j.Predictor7=function(p,g,S){return He(p,g[S+0])},j.Predictor8=function(p,g,S){return He(g[S-1],g[S+0])},j.Predictor9=function(p,g,S){return He(g[S+0],g[S+1])},j.Predictor10=function(p,g,S){return He(He(p,g[S-1]),He(g[S+0],g[S+1]))},j.Predictor11=function(p,g,S){var P=g[S+0];return 0>=tt(P>>24&255,p>>24&255,(g=g[S-1])>>24&255)+tt(P>>16&255,p>>16&255,g>>16&255)+tt(P>>8&255,p>>8&255,g>>8&255)+tt(255&P,255&p,255&g)?P:p},j.Predictor12=function(p,g,S){var P=g[S+0];return(bt((p>>24&255)+(P>>24&255)-((g=g[S-1])>>24&255))<<24|bt((p>>16&255)+(P>>16&255)-(g>>16&255))<<16|bt((p>>8&255)+(P>>8&255)-(g>>8&255))<<8|bt((255&p)+(255&P)-(255&g)))>>>0},j.Predictor13=function(p,g,S){var P=g[S-1];return(ut((p=He(p,g[S+0]))>>24&255,P>>24&255)<<24|ut(p>>16&255,P>>16&255)<<16|ut(p>>8&255,P>>8&255)<<8|ut(255&p,255&P))>>>0};var wu=j.PredictorAdd0;j.PredictorAdd1=Pt,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Dl=j.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var _n,Uh=j.ColorIndexInverseTransform,ci=j.MapARGB,ui=j.VP8LColorIndexInverseTransformAlpha,_u=j.MapAlpha,Nu=j.VP8LPredictorsAdd=[];Nu.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var ju,Su,xa,ya,va,Do,ba,Fo,ys,di,Rt,Wt,Nn,Un,Mi,ku,Fl,zh,u2,d2,h2,f2,p2,m2,Au,g2,x2,y2,v2=i(511),b2=i(2041),w2=i(225),_2=i(767),N2=0,om=b2,qh=w2,Jr=_2,vs=v2,Hh=0,Wh=1,j2=2,Vh=3,Kh=4,lm=5,S2=6,cm=7,um=8,Gh=9,dm=10,J6=[2,3,7],X6=[3,3,11],k2=[280,256,256,256,40],Q6=[0,1,1,1,0],Z6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nS=8,hm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Cu=null,rS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],A2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],aS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wa=[],Us=[],Di=[],cS=1,C2=2,_a=[],bs=[];Ir("UpsampleRgbLinePair",Po,3),Ir("UpsampleBgrLinePair",To,3),Ir("UpsampleRgbaLinePair",yu,4),Ir("UpsampleBgraLinePair",xu,4),Ir("UpsampleArgbLinePair",Oo,4),Ir("UpsampleRgba4444LinePair",Io,2),Ir("UpsampleRgb565LinePair",hr,2);var uS=j.UpsampleRgbLinePair,dS=j.UpsampleBgrLinePair,E2=j.UpsampleRgbaLinePair,L2=j.UpsampleBgraLinePair,P2=j.UpsampleArgbLinePair,T2=j.UpsampleRgba4444LinePair,hS=j.UpsampleRgb565LinePair,Yh=16,Jh=1<<Yh-1,Eu=-227,pm=482,fS=6,I2=0,pS=i(256),mS=i(256),gS=i(256),xS=i(256),yS=i(pm-Eu),vS=i(pm-Eu);Oi("YuvToRgbRow",Po,3),Oi("YuvToBgrRow",To,3),Oi("YuvToRgbaRow",yu,4),Oi("YuvToBgraRow",xu,4),Oi("YuvToArgbRow",Oo,4),Oi("YuvToRgba4444Row",Io,2),Oi("YuvToRgb565Row",hr,2);var O2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xh=[0,2,8],bS=[8,7,6,4,4,2,2,2,1,1,1,1],wS=1;this.WebPDecodeRGBA=function(p,g,S,P,z){var q=Wh,K=new ye,G=new Tt;K.ba=G,G.S=q,G.width=[G.width],G.height=[G.height];var Q=G.width,ne=G.height,fe=new it;if(fe==null||p==null)var we=2;else e(fe!=null),we=Ro(p,g,S,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(we!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),ne!=null&&(ne[0]=fe.height[0]),Q=1),Q){G.width=G.width[0],G.height=G.height[0],P!=null&&(P[0]=G.width),z!=null&&(z[0]=G.height);e:{if(P=new Ll,(z=new ke).data=p,z.w=g,z.ha=S,z.kd=1,g=[0],e(z!=null),((p=Ro(z.data,z.w,z.ha,null,null,null,g,null,z))==0||p==7)&&g[0]&&(p=4),(g=p)==0){if(e(K!=null),P.data=z.data,P.w=z.w+z.offset,P.ha=z.ha-z.offset,P.put=et,P.ac=qt,P.bc=Tr,P.ma=K,z.xa){if((p=yo())==null){K=1;break e}if(function(re,ge){var ve=[0],Ne=[0],be=[0];t:for(;;){if(re==null)return 0;if(ge==null)return re.a=2,0;if(re.l=ge,re.a=0,ue(re.m,ge.data,ge.w,ge.ha),!Ci(re.m,ve,Ne,be)){re.a=3;break t}if(re.xb=C2,ge.width=ve[0],ge.height=Ne[0],!oi(ve[0],Ne[0],1,re,null))break t;return 1}return e(re.a!=0),0}(p,P)){if(P=(g=pa(P.width,P.height,K.Oa,K.ba))==0){t:{P=p;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((S=P.l)!=null),e((z=S.ma)!=null),P.xb!=0){if(P.ca=z.ba,P.tb=z.tb,e(P.ca!=null),!vu(z.Oa,S,Vh)){P.a=2;break n}if(!vo(P,S.width)||S.da)break n;if((S.da||lt(P.ca.S))&&gs(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&gs()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!X(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!Bs(P,P.V,P.Ba,P.c,P.i,S.o,ua))break n;z.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(g=p.a)}else g=p.a}else{if((p=new Vp)==null){K=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Ph(p,P)){if((g=pa(P.width,P.height,K.Oa,K.ba))==0){if(p.Aa=0,S=K.Oa,e((z=p)!=null),S!=null){if(0<(Q=0>(Q=S.Md)?0:100<Q?255:255*Q/100)){for(ne=fe=0;4>ne;++ne)12>(we=z.pb[ne]).lc&&(we.ia=Q*bS[0>we.lc?0:we.lc]>>3),fe|=we.ia;fe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=S.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(re,ge){if(re==null)return 0;if(ge==null)return On(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Ph(re,ge))return 0;if(e(re.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(re.L=0);var ve=Xh[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=ge.v-ve>>4,re.zb=ge.j-ve>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=ge.o+15+ve>>4,re.Hb=ge.va+15+ve>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ne=re.ed;for(ve=0;4>ve;++ve){var be;if(re.Qa.Cb){var Se=re.Qa.Lb[ve];re.Qa.Fb||(Se+=Ne.Tb)}else Se=Ne.Tb;for(be=0;1>=be;++be){var Ae=re.gd[ve][be],Pe=Se;if(Ne.Pc&&(Pe+=Ne.vd[0],be&&(Pe+=Ne.od[0])),0<(Pe=0>Pe?0:63<Pe?63:Pe)){var Ce=Pe;0<Ne.wb&&(Ce=4<Ne.wb?Ce>>2:Ce>>1)>9-Ne.wb&&(Ce=9-Ne.wb),1>Ce&&(Ce=1),Ae.dd=Ce,Ae.tc=2*Pe+Ce,Ae.ld=40<=Pe?2:15<=Pe?1:0}else Ae.tc=0;Ae.La=be}}}ve=0}else On(re,6,"Frame setup failed"),ve=re.a;if(ve=ve==0){if(ve){re.$c=0,0<re.Aa||(re.Ic=wS);t:{ve=re.Ic,Ne=4*(Ce=re.za);var Xe=32*Ce,ze=Ce+1,xt=0<re.L?Ce*(0<re.Aa?2:1):0,Ke=(re.Aa==2?2:1)*Ce;if((Ae=Ne+832+(be=3*(16*ve+Xh[re.L])/2*Xe)+(Se=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ae)ve=0;else{if(Ae>re.Vb){if(re.Vb=0,re.Ec=i(Ae),re.Fc=0,re.Ec==null){ve=On(re,1,"no memory during frame initialization.");break t}re.Vb=Ae}Ae=re.Ec,Pe=re.Fc,re.Ac=Ae,re.Bc=Pe,Pe+=Ne,re.Gd=a(Xe,Ch),re.Hd=0,re.rb=a(ze+1,au),re.sb=1,re.wa=xt?a(xt,ms):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Ce),e(!0),re.oc=Ae,re.pc=Pe,Pe+=832,re.ya=a(Ke,ou),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Ce),re.R=16*Ce,re.B=8*Ce,Ce=(Xe=Xh[re.L])*re.R,Xe=Xe/2*re.B,re.sa=Ae,re.ta=Pe+Ce,re.qa=re.sa,re.ra=re.ta+16*ve*re.R+Xe,re.Ha=re.qa,re.Ia=re.ra+8*ve*re.B+Xe,re.$c=0,Pe+=be,re.mb=Se?Ae:null,re.nb=Se?Pe:null,e(Pe+Se<=re.Fc+re.Vb),bo(re),s(re.Ac,re.Bc,0,Ne),ve=1}}if(ve){if(ge.ka=0,ge.y=re.sa,ge.O=re.ta,ge.f=re.qa,ge.N=re.ra,ge.ea=re.Ha,ge.Vd=re.Ia,ge.fa=re.R,ge.Rc=re.B,ge.F=null,ge.J=0,!N2){for(ve=-255;255>=ve;++ve)v2[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)b2[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)w2[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)_2[255+ve]=0>ve?0:255<ve?255:ve;N2=1}ba=Ih,Fo=Gp,di=Yp,Rt=li,Wt=Th,ys=Kp,Nn=Mh,Un=Dh,Mi=N,ku=$,Fl=Co,zh=Fh,u2=ie,d2=de,h2=gu,f2=Ao,p2=Oh,m2=Rh,Us[0]=nm,Us[1]=cu,Us[2]=em,Us[3]=tm,Us[4]=rm,Us[5]=Pi,Us[6]=Li,Us[7]=sm,Us[8]=Pl,Us[9]=im,wa[0]=ha,wa[1]=Xp,wa[2]=Qp,wa[3]=uu,wa[4]=Zp,wa[5]=No,wa[6]=du,Di[0]=Il,Di[1]=Jp,Di[2]=hu,Di[3]=jo,Di[4]=fu,Di[5]=am,Di[6]=pu,ve=1}else ve=0}ve&&(ve=function(Nt,zn){for(Nt.M=0;Nt.M<Nt.Va;++Nt.M){var yt,Ge=Nt.Jc[Nt.M&Nt.Xb],Be=Nt.m,jn=Nt;for(yt=0;yt<jn.za;++yt){var gt=Be,St=jn,Zt=St.Ac,rr=St.Bc+4*yt,jr=St.zc,gn=St.ya[St.aa+yt];if(St.Qa.Bb?gn.$b=M(gt,St.Pa.jb[0])?2+M(gt,St.Pa.jb[2]):M(gt,St.Pa.jb[1]):gn.$b=0,St.kc&&(gn.Ad=M(gt,St.Bd)),gn.Za=!M(gt,145)+0,gn.Za){var fr=gn.Ob,Sr=0;for(St=0;4>St;++St){var qn,At=jr[0+St];for(qn=0;4>qn;++qn){At=aS[Zt[rr+qn]][At];for(var Dt=A2[M(gt,At[0])];0<Dt;)Dt=A2[2*Dt+M(gt,At[Dt])];At=-Dt,Zt[rr+qn]=At}r(fr,Sr,Zt,rr,4),Sr+=4,jr[0+St]=At}}else At=M(gt,156)?M(gt,128)?1:3:M(gt,163)?2:0,gn.Ob[0]=At,s(Zt,rr,At,4),s(jr,0,At,4);gn.Dd=M(gt,142)?M(gt,114)?M(gt,183)?1:3:2:0}if(jn.m.Ka)return On(Nt,7,"Premature end-of-partition0 encountered.");for(;Nt.ja<Nt.za;++Nt.ja){if(jn=Ge,gt=(Be=Nt).rb[Be.sb-1],Zt=Be.rb[Be.sb+Be.ja],yt=Be.ya[Be.aa+Be.ja],rr=Be.kc?yt.Ad:0)gt.la=Zt.la=0,yt.Za||(gt.Na=Zt.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var xn,Ft;if(gt=Zt,Zt=jn,rr=Be.Pa.Xc,jr=Be.ya[Be.aa+Be.ja],gn=Be.pb[jr.$b],St=jr.ad,fr=0,Sr=Be.rb[Be.sb-1],At=qn=0,s(St,fr,0,384),jr.Za)var sr=0,zs=rr[3];else{Dt=i(16);var Sn=gt.Na+Sr.Na;if(Sn=Cu(Zt,rr[1],Sn,gn.Eb,0,Dt,0),gt.Na=Sr.Na=(0<Sn)+0,1<Sn)ba(Dt,0,St,fr);else{var Or=Dt[0]+3>>3;for(Dt=0;256>Dt;Dt+=16)St[fr+Dt]=Or}sr=1,zs=rr[0]}var Vt=15&gt.la,Hn=15&Sr.la;for(Dt=0;4>Dt;++Dt){var Xr=1&Hn;for(Or=Ft=0;4>Or;++Or)Vt=Vt>>1|(Xr=(Sn=Cu(Zt,zs,Sn=Xr+(1&Vt),gn.Sc,sr,St,fr))>sr)<<7,Ft=Ft<<2|(3<Sn?3:1<Sn?2:St[fr+0]!=0),fr+=16;Vt>>=4,Hn=Hn>>1|Xr<<7,qn=(qn<<8|Ft)>>>0}for(zs=Vt,sr=Hn>>4,xn=0;4>xn;xn+=2){for(Ft=0,Vt=gt.la>>4+xn,Hn=Sr.la>>4+xn,Dt=0;2>Dt;++Dt){for(Xr=1&Hn,Or=0;2>Or;++Or)Sn=Xr+(1&Vt),Vt=Vt>>1|(Xr=0<(Sn=Cu(Zt,rr[2],Sn,gn.Qc,0,St,fr)))<<3,Ft=Ft<<2|(3<Sn?3:1<Sn?2:St[fr+0]!=0),fr+=16;Vt>>=2,Hn=Hn>>1|Xr<<5}At|=Ft<<4*xn,zs|=Vt<<4<<xn,sr|=(240&Hn)<<xn}gt.la=zs,Sr.la=sr,jr.Hc=qn,jr.Gc=At,jr.ia=43690&At?0:gn.ia,rr=!(qn|At)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[yt.$b][yt.Za],Be.wa[Be.Y+Be.ja].La|=!rr),jn.Ka)return On(Nt,7,"Premature end-of-file encountered.")}if(bo(Nt),Be=zn,jn=1,yt=(Ge=Nt).D,gt=0<Ge.L&&Ge.M>=Ge.zb&&Ge.M<=Ge.Va,Ge.Aa==0)t:{if(yt.M=Ge.M,yt.uc=gt,xs(Ge,yt),jn=1,yt=(Ft=Ge.D).Nb,gt=(At=Xh[Ge.L])*Ge.R,Zt=At/2*Ge.B,Dt=16*yt*Ge.R,Or=8*yt*Ge.B,rr=Ge.sa,jr=Ge.ta-gt+Dt,gn=Ge.qa,St=Ge.ra-Zt+Or,fr=Ge.Ha,Sr=Ge.Ia-Zt+Or,Hn=(Vt=Ft.M)==0,qn=Vt>=Ge.Va-1,Ge.Aa==2&&xs(Ge,Ft),Ft.uc)for(Xr=(Sn=Ge).D.M,e(Sn.D.uc),Ft=Sn.yb;Ft<Sn.Hb;++Ft){sr=Ft,zs=Xr;var kr=(Qr=(ir=Sn).D).Nb;xn=ir.R;var Qr=Qr.wa[Qr.Y+sr],Zr=ir.sa,Rr=ir.ta+16*kr*xn+16*sr,es=Qr.dd,Yt=Qr.tc;if(Yt!=0)if(e(3<=Yt),ir.L==1)0<sr&&f2(Zr,Rr,xn,Yt+4),Qr.La&&m2(Zr,Rr,xn,Yt),0<zs&&h2(Zr,Rr,xn,Yt+4),Qr.La&&p2(Zr,Rr,xn,Yt);else{var ts=ir.B,qs=ir.qa,Bo=ir.ra+8*kr*ts+8*sr,Fi=ir.Ha,ir=ir.Ia+8*kr*ts+8*sr;kr=Qr.ld,0<sr&&(Un(Zr,Rr,xn,Yt+4,es,kr),ku(qs,Bo,Fi,ir,ts,Yt+4,es,kr)),Qr.La&&(zh(Zr,Rr,xn,Yt,es,kr),d2(qs,Bo,Fi,ir,ts,Yt,es,kr)),0<zs&&(Nn(Zr,Rr,xn,Yt+4,es,kr),Mi(qs,Bo,Fi,ir,ts,Yt+4,es,kr)),Qr.La&&(Fl(Zr,Rr,xn,Yt,es,kr),u2(qs,Bo,Fi,ir,ts,Yt,es,kr))}}if(Ge.ia&&alert("todo:DitherRow"),Be.put!=null){if(Ft=16*Vt,Vt=16*(Vt+1),Hn?(Be.y=Ge.sa,Be.O=Ge.ta+Dt,Be.f=Ge.qa,Be.N=Ge.ra+Or,Be.ea=Ge.Ha,Be.W=Ge.Ia+Or):(Ft-=At,Be.y=rr,Be.O=jr,Be.f=gn,Be.N=St,Be.ea=fr,Be.W=Sr),qn||(Vt-=At),Vt>Be.o&&(Vt=Be.o),Be.F=null,Be.J=null,Ge.Fa!=null&&0<Ge.Fa.length&&Ft<Vt&&(Be.J=Rn(Ge,Be,Ft,Vt-Ft),Be.F=Ge.mb,Be.F==null&&Be.F.length==0)){jn=On(Ge,3,"Could not decode alpha data.");break t}Ft<Be.j&&(At=Be.j-Ft,Ft=Be.j,e(!(1&At)),Be.O+=Ge.R*At,Be.N+=Ge.B*(At>>1),Be.W+=Ge.B*(At>>1),Be.F!=null&&(Be.J+=Be.width*At)),Ft<Vt&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=Ft-Be.j,Be.U=Be.va-Be.v,Be.T=Vt-Ft,jn=Be.put(Be))}yt+1!=Ge.Ic||qn||(r(Ge.sa,Ge.ta-gt,rr,jr+16*Ge.R,gt),r(Ge.qa,Ge.ra-Zt,gn,St+8*Ge.B,Zt),r(Ge.Ha,Ge.Ia-Zt,fr,Sr+8*Ge.B,Zt))}if(!jn)return On(Nt,6,"Output aborted.")}return 1}(re,ge)),ge.bc!=null&&ge.bc(ge),ve&=1}return ve?(re.cb=0,ve):0})(p,P)||(g=p.a)}}else g=p.a}g==0&&K.Oa!=null&&K.Oa.fd&&(g=bu(K.ba))}K=g}q=K!=0?null:11>q?G.f.RGBA.eb:G.f.kb.y}else q=null;return q};var R2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,T){for(var C="",L=0;L<4;L++)C+=String.fromCharCode(j[T++]);return C}function d(j,T){return j[T+0]|j[T+1]<<8}function h(j,T){return(j[T+0]|j[T+1]<<8|j[T+2]<<16)>>>0}function m(j,T){return(j[T+0]|j[T+1]<<8|j[T+2]<<16|j[T+3]<<24)>>>0}new c;var f=[0],v=[0],x=[],b=new c,y=t,w=function(j,T){var C={},L=0,F=!1,W=0,oe=0;if(C.frames=[],!function(U,ee){for(var O=0;O<4;O++)if(U[ee+O]!="RIFF".charCodeAt(O))return!0;return!1}(j,T)){for(m(j,T+=4),T+=8;T<j.length;){var H=u(j,T),ce=m(j,T+=4);T+=4;var te=ce+(1&ce);switch(H){case"VP8 ":case"VP8L":C.frames[L]===void 0&&(C.frames[L]={}),(xe=C.frames[L]).src_off=F?oe:T-8,xe.src_size=W+ce+8,L++,F&&(F=!1,W=0,oe=0);break;case"VP8X":(xe=C.header={}).feature_flags=j[T];var ue=T+4;xe.canvas_width=1+h(j,ue),ue+=3,xe.canvas_height=1+h(j,ue),ue+=3;break;case"ALPH":F=!0,W=te+8,oe=T-8;break;case"ANIM":(xe=C.header).bgcolor=m(j,T),ue=T+4,xe.loop_count=d(j,ue),ue+=2;break;case"ANMF":var pe,xe;(xe=C.frames[L]={}).offset_x=2*h(j,T),T+=3,xe.offset_y=2*h(j,T),T+=3,xe.width=1+h(j,T),T+=3,xe.height=1+h(j,T),T+=3,xe.duration=h(j,T),T+=3,pe=j[T++],xe.dispose=1&pe,xe.blend=pe>>1&1}H!="ANMF"&&(T+=te)}return C}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,k=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],v=[_.canvas_width];for(var R=0;R<k.length&&k[R].blend!=0;R++);}var I=k[0],D=b.WebPDecodeRGBA(y,I.src_off,I.src_size,v,f);I.rgba=D,I.imgwidth=v[0],I.imgheight=f[0];for(var A=0;A<v[0]*f[0]*4;A++)x[A]=D[A];return this.width=v,this.height=f,this.data=x,this}(function(t){var e,n,r,s,i,a,l,c,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=U;Object.defineProperty(this,"pdf",{get:function(){return ee}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(le){O=!!le}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var B=0;Object.defineProperty(this,"posX",{get:function(){return B},set:function(le){isNaN(le)||(B=le)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(le){isNaN(le)||(se=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var X;typeof le=="number"?X=[le,le,le,le]:((X=new Array(4))[0]=le[0],X[1]=le.length>=2?le[1]:X[0],X[2]=le.length>=3?le[2]:X[0],X[3]=le.length>=4?le[3]:X[1]),u.margin=X}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(le){V=le}});var E=0;Object.defineProperty(this,"lastBreak",{get:function(){return E},set:function(le){E=le}});var M=[];Object.defineProperty(this,"pageBreaks",{get:function(){return M},set:function(le){M=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof d&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var Y=[];Object.defineProperty(this,"ctxStack",{get:function(){return Y},set:function(le){Y=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var X;X=m(le),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var X=m(le);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var he=null,me=null;Object.defineProperty(this,"fontFaces",{get:function(){return me},set:function(le){he=null,me=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var X;if(this.ctx.font=le,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var Oe=X[1];X[2];var De=X[3],Ie=X[4];X[5];var je=X[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Me==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Ee=function(st){var Je,Mt,jt=[],Ve=st.trim();if(Ve==="")return Fg;if(Ve in o4)return[o4[Ve]];for(;Ve!=="";){switch(Mt=null,Je=(Ve=c4(Ve)).charAt(0)){case'"':case"'":Mt=l$(Ve.substring(1),Je);break;default:Mt=c$(Ve)}if(Mt===null||(jt.push(Mt[0]),(Ve=c4(Mt[1]))!==""&&Ve.charAt(0)!==","))return Fg;Ve=Ve.replace(/^,/,"")}return jt}(je);if(this.fontFaces){var $e=function(st,Je){if(he===null){var Mt=function(jt){var Ve=[];return Object.keys(jt).forEach(function(ot){jt[ot].forEach(function(Ot){var nt=null;switch(Ot){case"bold":nt={family:ot,weight:"bold"};break;case"italic":nt={family:ot,style:"italic"};break;case"bolditalic":nt={family:ot,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:ot}}nt!==null&&(nt.ref={name:ot,style:Ot},Ve.push(nt))})}),Ve}(st.getFontList());he=function(jt){for(var Ve={},ot=0;ot<jt.length;++ot){var Ot=Dg(jt[ot]),nt=Ot.family,vt=Ot.stretch,lt=Ot.style,sn=Ot.weight;Ve[nt]=Ve[nt]||{},Ve[nt][vt]=Ve[nt][vt]||{},Ve[nt][vt][lt]=Ve[nt][vt][lt]||{},Ve[nt][vt][lt][sn]=Ot}return Ve}(Mt.concat(Je))}return he}(this.pdf,this.fontFaces),He=Ee.map(function(st){return{family:st,stretch:"normal",weight:De,style:Oe}}),bt=function(st,Je,Mt){for(var jt=(Mt=Mt||{}).defaultFontFamily||"times",Ve=Object.assign({},o$,Mt.genericFontFamilies||{}),ot=null,Ot=null,nt=0;nt<Je.length;++nt)if(Ve[(ot=Dg(Je[nt])).family]&&(ot.family=Ve[ot.family]),st.hasOwnProperty(ot.family)){Ot=st[ot.family];break}if(!(Ot=Ot||st[jt]))throw new Error("Could not find a font-family for the rule '"+l4(ot)+"' and default family '"+jt+"'.");if(Ot=function(vt,lt){if(lt[vt])return lt[vt];var sn=Ex[vt],fn=sn<=Ex.normal?-1:1,Tt=a4(lt,I6,sn,fn);if(!Tt)throw new Error("Could not find a matching font-stretch value for "+vt);return Tt}(ot.stretch,Ot),Ot=function(vt,lt){if(lt[vt])return lt[vt];for(var sn=T6[vt],fn=0;fn<sn.length;++fn)if(lt[sn[fn]])return lt[sn[fn]];throw new Error("Could not find a matching font-style for "+vt)}(ot.style,Ot),!(Ot=function(vt,lt){if(lt[vt])return lt[vt];if(vt===400&&lt[500])return lt[500];if(vt===500&&lt[400])return lt[400];var sn=a$[vt],fn=a4(lt,O6,sn,vt<400?-1:1);if(!fn)throw new Error("Could not find a matching font-weight for value "+vt);return fn}(ot.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+l4(ot)+"'.");return Ot}($e,He);this.pdf.setFont(bt.ref.name,bt.ref.style)}else{var ut="";(De==="bold"||parseInt(De,10)>=700||Oe==="bold")&&(ut="bold"),Oe==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var tt="",Pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Ee.length;ht++){if(this.pdf.internal.getFont(Ee[ht],ut,{noFallback:!0,disableWarning:!0})!==void 0){tt=Ee[ht];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Ee[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Ee[ht],ut="bold";else if(this.pdf.internal.getFont(Ee[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Ee[ht],ut="normal";break}}if(tt===""){for(var Ze=0;Ze<Ee.length;Ze++)if(Pt[Ee[Ze]]){tt=Pt[Ee[Ze]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,ee){if(isNaN(U)||isNaN(ee))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new a(U,ee));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new a(U,ee)},h.prototype.closePath=function(){var U=new a(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&$t(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){U=new a(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.lineTo=function(U,ee){if(isNaN(U)||isNaN(ee))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new a(U,ee));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new a(O.x,O.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,ee,O,Z){if(isNaN(O)||isNaN(Z)||isNaN(U)||isNaN(ee))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var B=this.ctx.transform.applyToPoint(new a(O,Z)),se=this.ctx.transform.applyToPoint(new a(U,ee));this.path.push({type:"qct",x1:se.x,y1:se.y,x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},h.prototype.bezierCurveTo=function(U,ee,O,Z,B,se){if(isNaN(B)||isNaN(se)||isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new a(B,se)),E=this.ctx.transform.applyToPoint(new a(U,ee)),M=this.ctx.transform.applyToPoint(new a(O,Z));this.path.push({type:"bct",x1:E.x,y1:E.y,x2:M.x,y2:M.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.arc=function(U,ee,O,Z,B,se){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z)||isNaN(B))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new a(U,ee));U=V.x,ee=V.y;var E=this.ctx.transform.applyToPoint(new a(0,O)),M=this.ctx.transform.applyToPoint(new a(0,0));O=Math.sqrt(Math.pow(E.x-M.x,2)+Math.pow(E.y-M.y,2))}Math.abs(B-Z)>=2*Math.PI&&(Z=0,B=2*Math.PI),this.path.push({type:"arc",x:U,y:ee,radius:O,startAngle:Z,endAngle:B,counterclockwise:se})},h.prototype.arcTo=function(U,ee,O,Z,B){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,ee,O,Z){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,ee),this.lineTo(U+O,ee),this.lineTo(U+O,ee+Z),this.lineTo(U,ee+Z),this.lineTo(U,ee),this.lineTo(U+O,ee),this.lineTo(U,ee)},h.prototype.fillRect=function(U,ee,O,Z){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var B={};this.lineCap!=="butt"&&(B.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(B.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,ee,O,Z),this.fill(),B.hasOwnProperty("lineCap")&&(this.lineCap=B.lineCap),B.hasOwnProperty("lineJoin")&&(this.lineJoin=B.lineJoin)}},h.prototype.strokeRect=function(U,ee,O,Z){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,ee,O,Z),this.stroke())},h.prototype.clearRect=function(U,ee,O,Z){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,ee,O,Z))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(U){var ee,O,Z,B;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))ee=0,O=0,Z=0,B=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(se!==null)ee=parseInt(se[1]),O=parseInt(se[2]),Z=parseInt(se[3]),B=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)ee=parseInt(se[1]),O=parseInt(se[2]),Z=parseInt(se[3]),B=parseFloat(se[4]);else{if(B=1,typeof U=="string"&&U.charAt(0)!=="#"){var V=new S6(U);U=V.ok?V.toHex():"#000000"}U.length===4?(ee=U.substring(1,2),ee+=ee,O=U.substring(2,3),O+=O,Z=U.substring(3,4),Z+=Z):(ee=U.substring(1,3),O=U.substring(3,5),Z=U.substring(5,7)),ee=parseInt(ee,16),O=parseInt(O,16),Z=parseInt(Z,16)}}return{r:ee,g:O,b:Z,a:B,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,ee,O,Z){if(isNaN(ee)||isNaN(O)||typeof U!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var B=te(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:U,x:ee,y:O,scale:se,angle:B,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(U,ee,O,Z){if(isNaN(ee)||isNaN(O)||typeof U!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Z=isNaN(Z)?void 0:Z;var B=te(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:U,x:ee,y:O,scale:se,renderingMode:"stroke",angle:B,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(U){if(typeof U!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,O=this.pdf.internal.scaleFactor,Z=ee.internal.getFontSize(),B=ee.getStringUnitWidth(U)*Z/ee.internal.scaleFactor;return new function(se){var V=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this}({width:B*=Math.round(96*O/72*1e4)/1e4})},h.prototype.scale=function(U,ee){if(isNaN(U)||isNaN(ee))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new c(U,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.rotate=function(U){if(isNaN(U))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.translate=function(U,ee){if(isNaN(U)||isNaN(ee))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new c(1,0,0,1,U,ee);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.transform=function(U,ee,O,Z,B,se){if(isNaN(U)||isNaN(ee)||isNaN(O)||isNaN(Z)||isNaN(B)||isNaN(se))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new c(U,ee,O,Z,B,se);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.setTransform=function(U,ee,O,Z,B,se){U=isNaN(U)?1:U,ee=isNaN(ee)?0:ee,O=isNaN(O)?0:O,Z=isNaN(Z)?1:Z,B=isNaN(B)?0:B,se=isNaN(se)?0:se,this.ctx.transform=new c(U,ee,O,Z,B,se)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,ee,O,Z,B,se,V,E,M){var Y=this.pdf.getImageProperties(U),he=1,me=1,le=1,X=1;Z!==void 0&&E!==void 0&&(le=E/Z,X=M/B,he=Y.width/Z*E/Z,me=Y.height/B*M/B),se===void 0&&(se=ee,V=O,ee=0,O=0),Z!==void 0&&E===void 0&&(E=Z,M=B),Z===void 0&&E===void 0&&(E=Y.width,M=Y.height);for(var Oe,De=this.ctx.transform.decompose(),Ie=te(De.rotate.shx),je=new c,Me=(je=(je=(je=je.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(se-ee*le,V-O*X,Z*he,B*me)),Ee=b.call(this,Me),$e=[],He=0;He<Ee.length;He+=1)$e.indexOf(Ee[He])===-1&&$e.push(Ee[He]);if(_($e),this.autoPaging)for(var bt=$e[0],ut=$e[$e.length-1],tt=bt;tt<ut+1;tt++){this.pdf.setPage(tt);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=tt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=tt===1?0:Ze+(tt-2)*st;if(this.ctx.clip_path.length!==0){var Mt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Oe,this.posX+this.margin[3],-Je+ht+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Mt}var jt=JSON.parse(JSON.stringify(Me));jt=w([jt],this.posX+this.margin[3],-Je+ht+this.ctx.prevPageLastElemOffset)[0];var Ve=(tt>bt||tt<ut)&&x.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,st,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,Ie),Ve&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Ie)};var b=function(U,ee,O){var Z=[];ee=ee||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var B=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":Z.push(Math.floor((U.y+B)/O)+1);break;case"arc":Z.push(Math.floor((U.y+B-U.radius)/O)+1),Z.push(Math.floor((U.y+B+U.radius)/O)+1);break;case"qct":var se=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);Z.push(Math.floor((se.y+B)/O)+1),Z.push(Math.floor((se.y+se.h+B)/O)+1);break;case"bct":var V=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);Z.push(Math.floor((V.y+B)/O)+1),Z.push(Math.floor((V.y+V.h+B)/O)+1);break;case"rect":Z.push(Math.floor((U.y+B)/O)+1),Z.push(Math.floor((U.y+U.h+B)/O)+1)}for(var E=0;E<Z.length;E+=1)for(;this.pdf.internal.getNumberOfPages()<Z[E];)y.call(this);return Z},y=function(){var U=this.fillStyle,ee=this.strokeStyle,O=this.font,Z=this.lineCap,B=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=ee,this.font=O,this.lineCap=Z,this.lineWidth=B,this.lineJoin=se},w=function(U,ee,O){for(var Z=0;Z<U.length;Z++)switch(U[Z].type){case"bct":U[Z].x2+=ee,U[Z].y2+=O;case"qct":U[Z].x1+=ee,U[Z].y1+=O;default:U[Z].x+=ee,U[Z].y+=O}return U},_=function(U){return U.sort(function(ee,O){return ee-O})},k=function(U,ee){for(var O,Z,B=this.fillStyle,se=this.strokeStyle,V=this.lineCap,E=this.lineWidth,M=Math.abs(E*this.ctx.transform.scaleX),Y=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),me=JSON.parse(JSON.stringify(this.path)),le=[],X=0;X<me.length;X++)if(me[X].x!==void 0)for(var Oe=b.call(this,me[X]),De=0;De<Oe.length;De+=1)le.indexOf(Oe[De])===-1&&le.push(Oe[De]);for(var Ie=0;Ie<le.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<le[Ie];)y.call(this);if(_(le),this.autoPaging)for(var je=le[0],Me=le[le.length-1],Ee=je;Ee<Me+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=B,this.strokeStyle=se,this.lineCap=V,this.lineWidth=M,this.lineJoin=Y;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Ee===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ee===1?0:bt+(Ee-2)*ut;if(this.ctx.clip_path.length!==0){var Pt=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(O,this.posX+this.margin[3],-tt+He+this.ctx.prevPageLastElemOffset),R.call(this,U,!0),this.path=Pt}if(Z=JSON.parse(JSON.stringify(he)),this.path=w(Z,this.posX+this.margin[3],-tt+He+this.ctx.prevPageLastElemOffset),ee===!1||Ee===0){var ht=(Ee>je||Ee<Me)&&x.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,ut,null).clip().discardPath()),R.call(this,U,ee),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=E}else this.lineWidth=M,R.call(this,U,ee),this.lineWidth=E;this.path=he},R=function(U,ee){if((U!=="stroke"||ee||!v.call(this))&&(U==="stroke"||ee||!f.call(this))){for(var O,Z,B=[],se=this.path,V=0;V<se.length;V++){var E=se[V];switch(E.type){case"begin":B.push({begin:!0});break;case"close":B.push({close:!0});break;case"mt":B.push({start:E,deltas:[],abs:[]});break;case"lt":var M=B.length;if(se[V-1]&&!isNaN(se[V-1].x)&&(O=[E.x-se[V-1].x,E.y-se[V-1].y],M>0)){for(;M>=0;M--)if(B[M-1].close!==!0&&B[M-1].begin!==!0){B[M-1].deltas.push(O),B[M-1].abs.push(E);break}}break;case"bct":O=[E.x1-se[V-1].x,E.y1-se[V-1].y,E.x2-se[V-1].x,E.y2-se[V-1].y,E.x-se[V-1].x,E.y-se[V-1].y],B[B.length-1].deltas.push(O);break;case"qct":var Y=se[V-1].x+2/3*(E.x1-se[V-1].x),he=se[V-1].y+2/3*(E.y1-se[V-1].y),me=E.x+2/3*(E.x1-E.x),le=E.y+2/3*(E.y1-E.y),X=E.x,Oe=E.y;O=[Y-se[V-1].x,he-se[V-1].y,me-se[V-1].x,le-se[V-1].y,X-se[V-1].x,Oe-se[V-1].y],B[B.length-1].deltas.push(O);break;case"arc":B.push({deltas:[],abs:[],arc:!0}),Array.isArray(B[B.length-1].abs)&&B[B.length-1].abs.push(E)}}Z=ee?null:U==="stroke"?"stroke":"fill";for(var De=!1,Ie=0;Ie<B.length;Ie++)if(B[Ie].arc)for(var je=B[Ie].abs,Me=0;Me<je.length;Me++){var Ee=je[Me];Ee.type==="arc"?A.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,ee,!De):F.call(this,Ee.x,Ee.y),De=!0}else if(B[Ie].close===!0)this.pdf.internal.out("h"),De=!1;else if(B[Ie].begin!==!0){var $e=B[Ie].start.x,He=B[Ie].start.y;W.call(this,B[Ie].deltas,$e,He),De=!0}Z&&j.call(this,Z),ee&&T.call(this)}},I=function(U){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-O;case"top":return U+ee-O;case"hanging":return U+ee-2*O;case"middle":return U+ee/2-O;default:return U}},D=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(ee,O){this.colorStops.push([ee,O])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(U,ee,O,Z,B,se,V,E,M){for(var Y=H.call(this,O,Z,B,se),he=0;he<Y.length;he++){var me=Y[he];he===0&&(M?C.call(this,me.x1+U,me.y1+ee):F.call(this,me.x1+U,me.y1+ee)),oe.call(this,U,ee,me.x2,me.y2,me.x3,me.y3,me.x4,me.y4)}E?T.call(this):j.call(this,V)},j=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(U,ee){this.pdf.internal.out(n(U)+" "+r(ee)+" m")},L=function(U){var ee;switch(U.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var O=this.pdf.getTextDimensions(U.text),Z=I.call(this,U.y),B=D.call(this,Z)-O.h,se=this.ctx.transform.applyToPoint(new a(U.x,Z)),V=this.ctx.transform.decompose(),E=new c;E=(E=(E=E.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var M,Y,he,me=this.ctx.transform.applyToRectangle(new l(U.x,Z,O.w,O.h)),le=E.applyToRectangle(new l(U.x,B,O.w,O.h)),X=b.call(this,le),Oe=[],De=0;De<X.length;De+=1)Oe.indexOf(X[De])===-1&&Oe.push(X[De]);if(_(Oe),this.autoPaging)for(var Ie=Oe[0],je=Oe[Oe.length-1],Me=Ie;Me<je+1;Me++){this.pdf.setPage(Me);var Ee=Me===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],bt=He-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],tt=ut-this.margin[3],Pt=Me===1?0:$e+(Me-2)*bt;if(this.ctx.clip_path.length!==0){var ht=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(M,this.posX+this.margin[3],-1*Pt+Ee),R.call(this,"fill",!0),this.path=ht}var Ze=w([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-Pt+Ee+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale);var st=this.autoPaging!=="text";if(st||Ze.y+Ze.h<=He){if(st||Ze.y>=Ee&&Ze.x<=ut){var Je=st?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ut-Ze.x)[0],Mt=w([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-Pt+Ee+this.ctx.prevPageLastElemOffset)[0],jt=st&&(Me>Ie||Me<je)&&x.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,bt,null).clip().discardPath()),this.pdf.text(Je,Mt.x,Mt.y,{angle:U.angle,align:ee,renderingMode:U.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Ze.y<He&&(this.ctx.prevPageLastElemOffset+=He-Ze.y);U.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=he)}else U.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale),this.pdf.text(U.text,se.x+this.posX,se.y+this.posY,{angle:U.angle,align:ee,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=he)},F=function(U,ee,O,Z){O=O||0,Z=Z||0,this.pdf.internal.out(n(U+O)+" "+r(ee+Z)+" l")},W=function(U,ee,O){return this.pdf.lines(U,ee,O,null,null)},oe=function(U,ee,O,Z,B,se,V,E){this.pdf.internal.out([e(s(O+U)),e(i(Z+ee)),e(s(B+U)),e(i(se+ee)),e(s(V+U)),e(i(E+ee)),"c"].join(" "))},H=function(U,ee,O,Z){for(var B=2*Math.PI,se=Math.PI/2;ee>O;)ee-=B;var V=Math.abs(O-ee);V<B&&Z&&(V=B-V);for(var E=[],M=Z?-1:1,Y=ee;V>1e-5;){var he=Y+M*Math.min(V,se);E.push(ce.call(this,U,Y,he)),V-=Math.abs(he-Y),Y=he}return E},ce=function(U,ee,O){var Z=(O-ee)/2,B=U*Math.cos(Z),se=U*Math.sin(Z),V=B,E=-se,M=V*V+E*E,Y=M+V*B+E*se,he=4/3*(Math.sqrt(2*M*Y)-Y)/(V*se-E*B),me=V-he*E,le=E+he*V,X=me,Oe=-le,De=Z+ee,Ie=Math.cos(De),je=Math.sin(De);return{x1:U*Math.cos(ee),y1:U*Math.sin(ee),x2:me*Ie-le*je,y2:me*je+le*Ie,x3:X*Ie-Oe*je,y3:X*je+Oe*Ie,x4:U*Math.cos(O),y4:U*Math.sin(O)}},te=function(U){return 180*U/Math.PI},ue=function(U,ee,O,Z,B,se){var V=U+.5*(O-U),E=ee+.5*(Z-ee),M=B+.5*(O-B),Y=se+.5*(Z-se),he=Math.min(U,B,V,M),me=Math.max(U,B,V,M),le=Math.min(ee,se,E,Y),X=Math.max(ee,se,E,Y);return new l(he,le,me-he,X-le)},pe=function(U,ee,O,Z,B,se,V,E){var M,Y,he,me,le,X,Oe,De,Ie,je,Me,Ee,$e,He,bt=O-U,ut=Z-ee,tt=B-O,Pt=se-Z,ht=V-B,Ze=E-se;for(Y=0;Y<41;Y++)Ie=(Oe=(he=U+(M=Y/40)*bt)+M*((le=O+M*tt)-he))+M*(le+M*(B+M*ht-le)-Oe),je=(De=(me=ee+M*ut)+M*((X=Z+M*Pt)-me))+M*(X+M*(se+M*Ze-X)-De),Y==0?(Me=Ie,Ee=je,$e=Ie,He=je):(Me=Math.min(Me,Ie),Ee=Math.min(Ee,je),$e=Math.max($e,Ie),He=Math.max(He,je));return new l(Math.round(Me),Math.round(Ee),Math.round($e-Me),Math.round(He-Ee))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,ee,O=(U=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:ee}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(Qe.API),function(t){var e=function(a){var l,c,u,d,h,m,f,v,x,b;for(c=[],u=0,d=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(x=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,v+33,x+33,b+33)):c.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var l,c,u,d,h,m=String,f="length",v=255,x="charCodeAt",b="slice",y="replace";for(a[b](-2),a=a[b](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,h=(a+=l="uuuuu"[b](a[f]%5||5))[f];h>d;d+=5)c=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(w,_){for(var k=_;k>0;k--)w.pop()}(u,l[f]),m.fromCharCode.apply(m,u)},r=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return(l=_x(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,l){var c=0,u=a||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Qe.API),function(t){t.loadFile=function(e,n,r){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,m=0,f=function(v){var x=v.length,b=[],y=String.fromCharCode;for(m=0;m<x;m+=1)b.push(y(255&v.charCodeAt(m)));return b.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,i,a)}catch{}return l}(e,n,r)},t.loadImageFile=t.loadFile}(Qe.API),function(t){function e(){return(at.html2canvas?Promise.resolve(at.html2canvas):ro(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):ro(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=$t(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],x=v.src.find(function(b){return b.format==="truetype"});x&&u.addFont(x.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,h).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=u.call(h,l,c);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Qe.getPageSize=function(l,c,u){if($t(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,x=0,b=0;if(f.hasOwnProperty(m))x=f[m][1]/h,b=f[m][0]/h;else try{x=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",b>x&&(v=b,b=x,x=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>b&&(v=b,b=x,x=v)}return{width:b,height:x,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Dg):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}}(Qe.API),Qe.API.addJS=function(t){return d4=t,this.internal.events.subscribe("postPutResources",function(){Yf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yf!==void 0&&u4!==void 0&&this.internal.out("/Names <</JavaScript "+Yf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=r.exec(a);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=n.internal.newObject();d.push(h);var m=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(Qe.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,x={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=f,e.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),x={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}f=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(Qe.API),Qe.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=VB(t,{checkCrc:!0}),a=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(A){for(var j=A.width,T=A.height,C=A.data,L=A.palette,F=A.depth,W=!1,oe=[],H=[],ce=void 0,te=!1,ue=0,pe=0;pe<L.length;pe++){var xe=mw(L[pe],4),U=xe[0],ee=xe[1],O=xe[2],Z=xe[3];oe.push(U,ee,O),Z!=null&&(Z===0?(ue++,H.length<1&&H.push(pe)):Z<255&&(te=!0))}if(te||ue>1){W=!0,H=void 0;var B=j*T;ce=new Uint8Array(B);for(var se=new DataView(C.buffer),V=0;V<B;V++){var E=Bg(se,V,F),M=mw(L[E],4)[3];ce[V]=M}}else ue===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:C,alphaBytes:ce,needSMask:W,palette:oe,mask:H}}(i):c===2||c===4?function(A){for(var j=A.data,T=A.width,C=A.height,L=A.channels,F=A.depth,W=L===2?"DeviceGray":"DeviceRGB",oe=L-1,H=T*C,ce=oe,te=H*ce,ue=1*H,pe=Math.ceil(te*F/8),xe=Math.ceil(ue*F/8),U=new Uint8Array(pe),ee=new Uint8Array(xe),O=new DataView(j.buffer),Z=new DataView(U.buffer),B=new DataView(ee.buffer),se=!1,V=0;V<H;V++){for(var E=V*L,M=0;M<ce;M++)b4(Z,Bg(O,E+M,F),V*ce+M,F);var Y=Bg(O,E+ce,F);Y<(1<<F)-1&&(se=!0),b4(B,Y,1*V,F)}return{colorSpace:W,colorsPerPixel:oe,sMaskBitsPerComponent:se?F:void 0,colorBytes:U,alphaBytes:ee,needSMask:se}}(i):function(A){var j=A.data,T=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?function(C){for(var L=C.length,F=new Uint8Array(2*L),W=new DataView(F.buffer,F.byteOffset,F.byteLength),oe=0;oe<L;oe++)W.setUint16(2*oe,C[oe],!1);return F}(j):j,needSMask:!1}}(i);var h,m,f,v=s,x=v.colorSpace,b=v.colorsPerPixel,y=v.sMaskBitsPerComponent,w=v.colorBytes,_=v.alphaBytes,k=v.needSMask,R=v.palette,I=v.mask,D=null;return r!==Qe.API.image_compression.NONE&&typeof _x=="function"?(D=function(A){var j;switch(A){case Qe.API.image_compression.FAST:j=11;break;case Qe.API.image_compression.MEDIUM:j=13;break;case Qe.API.image_compression.SLOW:j=14;break;default:j=12}return j}(r),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=m4(w,Math.ceil(a*b*d/8),b,d,r),k&&(f=m4(_,Math.ceil(a*y/8),1,y,r))):(h=void 0,m=void 0,t=w,k&&(f=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:m,transparency:I,palette:R,sMask:f,predictor:D,width:a,height:l,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,s){var i=new f$(e),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new $g(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(Qe.API),Ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ws.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},Ws.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ws.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ws.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ws.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Ws.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Ws.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ws.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=a}},Ws.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new Ws(e,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new $g(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(Qe.API),_4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new _4(e),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new $g(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(Qe.API),Qe.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=r[u],h=r[u+1],m=r[u+2],f=r[u+3];i[l++]=d,i[l++]=h,i[l++]=m,a[c++]=f}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xl=Qe.API,Jf=Xl.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,m=0,f=t.length,v=0,x=l[0]||c,b=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(m=h&&$t(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/d:0,b.push((l[r]||x)/c+m)),v=r;return b},h4=Xl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Xl.processArabic&&(t=Xl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:Jf.apply(this,arguments).reduce(function(i,a){return i+a},0)},f4=function(t,e,n,r){for(var s=[],i=0,a=t.length,l=0;i!==a&&l+e[i]<n;)l+=e[i],i++;s.push(t.slice(0,i));var c=i;for(l=0;i!==a;)l+e[i]>r&&(s.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},p4=function(t,e,n){n||(n={});var r,s,i,a,l,c,u,d=[],h=[d],m=n.textIndent||0,f=0,v=0,x=t.split(" "),b=Jf.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var y=Array(c).join(" "),w=[];x.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(R,I){return(I&&R.length?`
`:"")+R})):w.push(k[0])}),x=w,c=h4.apply(this,[y,n])}for(i=0,a=x.length;i<a;i++){var _=0;if(r=x[i],c&&r[0]==`
`&&(r=r.substr(1),_=1),m+f+(v=(s=Jf.apply(this,[r,n])).reduce(function(k,R){return k+R},0))>e||_){if(v>e){for(l=f4.apply(this,[r,s,e-(m+f),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,R){return k+R},0)}else d=[r];h.push(d),m=v+c,f=b}else d.push(r),m+=f+v,f=b}return u=c?function(k,R){return(R?y:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},Xl.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(p4.apply(this,[r[l],a,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,v,x,b,y=["{"];for(var w in m){if(f=m[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=a(w).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof f=="number")f<0?(x=a(f).slice(3),b="-"):(x=a(f).slice(2),b=""),x=b+x.slice(0,-1)+s[x.slice(-1)];else{if($t(f)!=="object")throw new Error("Don't know what to do with value type "+$t(f)+".");x=l(f)}y.push(v+x)}return y.push("}"),y.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,x,b,y={},w=1,_=y,k=[],R="",I="",D=m.length-1,A=1;A<D;A+=1)(b=m[A])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(k.push([_,x]),_={},x=void 0):b=="}"?((v=k.pop())[0][v[1]]=_,x=void 0,_=v[0]):b=="-"?w=-1:x===void 0?r.hasOwnProperty(b)?(R+=r[b],x=parseInt(R,16)*w,w=1,R=""):R+=b:r.hasOwnProperty(b)?(I+=r[b],_[x]=parseInt(I,16)*w,w=1,x=void 0,I=""):I+=b;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var x=d.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(Qe.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(m0(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])}(Qe),Qe.API.addSvgAsImage=function(t,e,n,r,s,i,a,l){if(isNaN(e)||isNaN(n))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(at.canvg?Promise.resolve(at.canvg):ro(()=>import("./index.es-DOx_vGOC.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,n,r,s,a,l)})},Qe.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},Qe.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,h=0;function m(v,x){var b,y=!1;for(b=0;b<v.length;b+=1)v[b]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if($t(t)==="object"){for(s in t)if(i=t[s],m(l,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&m(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?x.push("/"+v+" /"+n[v].value):x.push("/"+v+" "+n[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Qe.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=i.length;h<m;++h){if(l=a.metadata.characterToGlyph(i.charCodeAt(h)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(i){var a,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(f,v){return f-v})).length;h<m;h++)a=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",v=0;v<m.length;v++)f+=String.fromCharCode(m[v]);var x=u();d({data:f,addLength1:!0,objectId:x}),c("endobj");var b=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+tc(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+tc(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+tc(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var x=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+tc(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+tc(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,v=h.fonts,x=f,b="",y=0,w="",_=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(w=l,x=f,Array.isArray(l)&&(w=l[0]),y=0;y<w.length;y+=1)v[x].metadata.hasOwnProperty("cmap")&&(a=v[x].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),a||w[y].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?b+=w[y]:b+="";var k="";return parseInt(x.slice(1))<14||_==="WinAnsiEncoding"?k=m(b,x).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(k=n(b,v[x])),h.isHex=!0,{text:k,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(Qe),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Qe.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,a,l,c,u,d,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var k=function(C){var L=C.charCodeAt(),F=L>>8,W=x[F];return W!==void 0?h[256*W+(255&L)]:F===252||F===253?"AL":y.test(F)?"L":F===8?"R":"N"},R=function(C){for(var L,F=0;F<C.length;F++){if((L=k(C.charAt(F)))==="L")return!1;if(L==="R")return!0}return!1},I=function(C,L,F,W){var oe,H,ce,te,ue=L[W];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ue="AN");break;case"AL":w=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":W<1||W+1>=L.length||(oe=F[W-1])!=="EN"&&oe!=="AN"||(H=L[W+1])!=="EN"&&H!=="AN"?ue="N":w&&(H="AN"),ue=H===oe?H:"N";break;case"ES":ue=(oe=W>0?F[W-1]:"B")==="EN"&&W+1<L.length&&L[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&F[W-1]==="EN"){ue="EN";break}if(w){ue="N";break}for(ce=W+1,te=L.length;ce<te&&L[ce]==="ET";)ce++;ue=ce<te&&L[ce]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(te=L.length,ce=W+1;ce<te&&L[ce]==="NSM";)ce++;if(ce<te){var pe=C[W],xe=pe>=1425&&pe<=2303||pe===64286;if(oe=L[ce],xe&&(oe==="R"||oe==="AL")){ue="R";break}}}ue=W<1||(oe=L[W-1])==="B"?"N":F[W-1];break;case"B":w=!1,s=!0,ue=_;break;case"S":i=!0,ue="N"}return ue},D=function(C,L,F){var W=C.split("");return F&&A(W,F,{hiLevel:_}),W.reverse(),L&&L.reverse(),W.join("")},A=function(C,L,F){var W,oe,H,ce,te,ue=-1,pe=C.length,xe=0,U=[],ee=_?f:m,O=[];for(w=!1,s=!1,i=!1,oe=0;oe<pe;oe++)O[oe]=k(C[oe]);for(H=0;H<pe;H++){if(te=xe,U[H]=I(C,O,U,H),W=240&(xe=ee[te][v[U[H]]]),xe&=15,L[H]=ce=ee[xe][5],W>0)if(W===16){for(oe=ue;oe<H;oe++)L[oe]=1;ue=-1}else ue=-1;if(ee[xe][6])ue===-1&&(ue=H);else if(ue>-1){for(oe=ue;oe<H;oe++)L[oe]=ce;ue=-1}O[H]==="B"&&(L[H]=0),F.hiLevel|=ce}i&&function(Z,B,se){for(var V=0;V<se;V++)if(Z[V]==="S"){B[V]=_;for(var E=V-1;E>=0&&Z[E]==="WS";E--)B[E]=_}}(O,L,pe)},j=function(C,L,F,W,oe){if(!(oe.hiLevel<C)){if(C===1&&_===1&&!s)return L.reverse(),void(F&&F.reverse());for(var H,ce,te,ue,pe=L.length,xe=0;xe<pe;){if(W[xe]>=C){for(te=xe+1;te<pe&&W[te]>=C;)te++;for(ue=xe,ce=te-1;ue<ce;ue++,ce--)H=L[ue],L[ue]=L[ce],L[ce]=H,F&&(H=F[ue],F[ue]=F[ce],F[ce]=H);xe=te}xe++}}},T=function(C,L,F){var W=C.split(""),oe={hiLevel:_};return F||(F=[]),A(W,F,oe),function(H,ce,te){if(te.hiLevel!==0&&d)for(var ue,pe=0;pe<H.length;pe++)ce[pe]===1&&(ue=b.indexOf(H[pe]))>=0&&(H[pe]=b[ue+1])}(W,F,oe),j(2,W,L,F,oe),j(1,W,L,F,oe),W.join("")};return this.__bidiEngine__.doBidiReorder=function(C,L,F){if(function(oe,H){if(H)for(var ce=0;ce<oe.length;ce++)H[ce]=ce;l===void 0&&(l=R(oe)),u===void 0&&(u=R(oe))}(C,L),a||!c||u)if(a&&c&&l^u)_=l?1:0,C=D(C,L,F);else if(!a&&c&&u)_=l?1:0,C=T(C,L,F),C=D(C,L);else if(!a||l||c||u){if(a&&!c&&l^u)C=D(C,L),l?(_=0,C=T(C,L,F)):(_=1,C=T(C,L,F),C=D(C,L));else if(a&&l&&!c&&u)_=1,C=T(C,L,F),C=D(C,L);else if(!a&&!c&&l^u){var W=d;l?(_=1,C=T(C,L,F),_=0,d=!1,C=T(C,L,F),d=W):(_=0,C=T(C,L,F),C=D(C,L),_=1,d=!1,C=T(C,L,F),d=W,C=D(C,L))}}else _=0,C=T(C,L,F);else _=l?1:0,C=T(C,L,F);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([n.doBidiReorder(s[l])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Qe),Qe.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new oo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new C$(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new p$(this.contents),this.head=new g$(this),this.name=new w$(this),this.cmap=new M6(this),this.toUnicode={},this.hhea=new x$(this),this.maxp=new _$(this),this.hmtx=new N$(this),this.post=new v$(this),this.os2=new y$(this),this.loca=new A$(this),this.glyf=new j$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,a,l;for(a=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ii,oo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,a,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),p$=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,a,l,c,u,d,h,m,f,v,x;for(x in f=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),a=Math.floor(h/c),d=16*f-h,(s=new oo).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(a),s.writeShort(d),i=16*f,u=s.pos+i,l=null,v=[],n)for(m=n[x],s.writeString(x),s.writeInt(t(m)),s.writeInt(u),s.writeInt(m.length),v=v.concat(m),x==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return s.write(v),r=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,a;for(n=D6.call(n);n.length%4;)n.push(0);for(i=new oo(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),m$={}.hasOwnProperty,Ai=function(t,e){for(var n in e)m$.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ii=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var g$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new oo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),N4=function(){function t(e,n){var r,s,i,a,l,c,u,d,h,m,f,v,x,b,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,i=function(){var k,R;for(R=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)R.push(e.readUInt16());return R}(),e.pos+=2,x=function(){var k,R;for(R=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)R.push(e.readUInt16());return R}(),u=function(){var k,R;for(R=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)R.push(e.readUInt16());return R}(),d=function(){var k,R;for(R=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)R.push(e.readUInt16());return R}(),s=(this.length-e.pos+this.offset)/2,l=function(){var k,R;for(R=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)R.push(e.readUInt16());return R}(),c=y=0,_=i.length;y<_;c=++y)for(b=i[c],r=w=v=x[c];v<=b?w<=b:w>=b;r=v<=b?++w:--w)d[c]===0?a=r+u[c]:(a=l[d[c]/2+(r-v)-(m-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=h}return t.encode=function(e,n){var r,s,i,a,l,c,u,d,h,m,f,v,x,b,y,w,_,k,R,I,D,A,j,T,C,L,F,W,oe,H,ce,te,ue,pe,xe,U,ee,O,Z,B,se,V,E,M,Y,he;switch(W=new oo,a=Object.keys(e).sort(function(me,le){return me-le}),n){case"macroman":for(x=0,b=function(){var me=[];for(v=0;v<256;++v)me.push(0);return me}(),w={0:0},i={},oe=0,ue=a.length;oe<ue;oe++)w[E=e[s=a[oe]]]==null&&(w[E]=++x),i[s]={old:e[s],new:w[e[s]]},b[s]=w[e[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(b),{charMap:i,subtable:W.data,maxGlyphID:x+1};case"unicode":for(L=[],h=[],_=0,w={},r={},y=u=null,H=0,pe=a.length;H<pe;H++)w[R=e[s=a[H]]]==null&&(w[R]=++_),r[s]={old:R,new:w[R]},l=w[R]-s,y!=null&&l===u||(y&&h.push(y),L.push(s),u=l),y=s;for(y&&h.push(y),h.push(65535),L.push(65535),T=2*(j=L.length),A=2*Math.pow(Math.log(j)/Math.LN2,2),m=Math.log(A/2)/Math.LN2,D=2*j-A,c=[],I=[],f=[],v=ce=0,xe=L.length;ce<xe;v=++ce){if(C=L[v],d=h[v],C===65535){c.push(0),I.push(0);break}if(C-(F=r[C].new)>=32768)for(c.push(0),I.push(2*(f.length+j-v)),s=te=C;C<=d?te<=d:te>=d;s=C<=d?++te:--te)f.push(r[s].new);else c.push(F-C),I.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*j+2*f.length),W.writeUInt16(0),W.writeUInt16(T),W.writeUInt16(A),W.writeUInt16(m),W.writeUInt16(D),se=0,U=h.length;se<U;se++)s=h[se],W.writeUInt16(s);for(W.writeUInt16(0),V=0,ee=L.length;V<ee;V++)s=L[V],W.writeUInt16(s);for(M=0,O=c.length;M<O;M++)l=c[M],W.writeUInt16(l);for(Y=0,Z=I.length;Y<Z;Y++)k=I[Y],W.writeUInt16(k);for(he=0,B=f.length;he<B;he++)x=f[he],W.writeUInt16(x);return{charMap:r,subtable:W.data,maxGlyphID:_+1}}},t}(),M6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new N4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=N4.encode(e,n),(s=new oo).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),x$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),y$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),v$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,l,c;for(c=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t}(),b$=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,a,l,c,u,d,h,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,h=r.length;d<h;i=++d)s=r[i],e.pos=s.offset,u=e.readString(s.length),a=new b$(u,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),_$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),N$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,a,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],m.push(i.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),D6=[].slice,j$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,a,l,c,u,d,h;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(l=new oo(n.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=a===-1?new k$(l,u,h,c,d):new S$(l,a,u,h,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,a,l,c;for(a=[],i=[],l=0,c=n.length;l<c;l++)s=e[n[l]],i.push(a.length),s&&(a=a.concat(s.encode(r)));return i.push(a.length),{table:a,offsets:i}},t}(),S$=function(){function t(e,n,r,s,i,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),k$=function(){function t(e,n,r,s,i){var a,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new oo(D6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),A$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ai(t,ii),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<r.length;++a)if(r[a]=s,i<n.length&&n[i]==a){++i,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),C$=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,a,l,c;for(s={},a=0,l=e.length;a<l;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,a,l,c,u,d,h,m,f,v,x,b,y;for(s in r=M6.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},y=r.charMap)f[(c=y[s]).old]=c.new;for(v in m=r.maxGlyphID,a)v in f||(f[v]=m++);return d=function(w){var _,k;for(_ in k={},w)k[w[_]]=_;return k}(f),h=Object.keys(d).sort(function(w,_){return w-_}),x=function(){var w,_,k;for(k=[],w=0,_=h.length;w<_;w++)l=h[w],k.push(d[l]);return k}(),i=this.font.glyf.encode(a,x,f),u=this.font.loca.encode(i.offsets,x),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Qe.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e}();function F6(t,e,n,r,s){r=r||{};var i=1.15,a=s.internal.scaleFactor,l=s.internal.getFontSize()/a,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,h="",m=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(d):t,m=h.length||1),n+=l*(2-i),r.valign==="middle"?n-=m/2*u:r.valign==="bottom"&&(n-=m*u),r.halign==="center"||r.halign==="right"){var f=l;if(r.halign==="center"&&(f*=.5),h&&m>=1){for(var v=0;v<h.length;v++)s.text(h[v],e-s.getStringUnitWidth(h[v])*f,n),n+=u;return s}e-=s.getStringUnitWidth(t)*f}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var j4={},Ic=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:j4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,i;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,i){return this.jsPDFDocument.rect(e,n,r,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return j4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Lx=function(t,e){return Lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Lx(t,e)};function B6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $6=function(t){B6(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function E$(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function L$(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function fp(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function U6(t,e,n,r){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var a=z6(s,!1);a&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,a)}function z6(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Hp(t,e){var n,r,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function q6(t,e){var n=Hp(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function P$(t,e,n,r,s){var i={},a=1.3333333333333333,l=Ug(e,function(_){return s.getComputedStyle(_).backgroundColor});l!=null&&(i.fillColor=l);var c=Ug(e,function(_){return s.getComputedStyle(_).color});c!=null&&(i.textColor=c);var u=I$(r,n);u&&(i.cellPadding=u);var d="borderTopColor",h=a*n,m=r.borderTopWidth;if(r.borderBottomWidth===m&&r.borderRightWidth===m&&r.borderLeftWidth===m){var f=(parseFloat(m)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=Ug(e,function(_){return s.getComputedStyle(_)[d]});v!=null&&(i.lineColor=v);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(i.fontSize=b/a);var y=T$(r);y&&(i.fontStyle=y);var w=(r.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(i.font=w),i}function T$(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Ug(t,e){var n=H6(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function H6(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:H6(t.parentElement,e):n}function I$(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=n.map(function(l){return parseInt(l||"0")/r}),a=Hp(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function W6(t,e,n,r,s){var i,a;r===void 0&&(r=!1),s===void 0&&(s=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],h=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:h,foot:m};for(var f=0;f<l.rows.length;f++){var v=l.rows[f],x=(a=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),b=O$(c,u,n,v,r,s);b&&(x==="thead"?d.push(b):x==="tfoot"?m.push(b):h.push(b))}return{head:d,body:h,foot:m}}function O$(t,e,n,r,s,i){for(var a=new $6(r),l=0;l<r.cells.length;l++){var c=r.cells[l],u=n.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=P$(t,c,e,u,n)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:R$(c)})}}var h=n.getComputedStyle(r);if(a.length>0&&(s||h.display!=="none"))return a}function R$(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function M$(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ta(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function D$(t,e){var n=new Ic(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();M$(s,r,e);var i=ta({},s,r,e),a;typeof window<"u"&&(a=window);var l=F$(s,r,e),c=B$(s,r,e),u=$$(n,i),d=z$(n,i,a);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function F$(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],h=n[c];r.columnStyles=ta({},u,d,h)}else{var m=[t,e,n],f=m.map(function(v){return v[c]||{}});r[c]=ta({},f[0],f[1],f[2])}},i=0,a=Object.keys(r);i<a.length;i++){var l=a[i];s(l)}return r}function B$(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=r;i<a.length;i++){var l=a[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function $$(t,e){var n,r,s,i,a,l,c,u,d,h,m,f,v=Hp(e.margin,40/t.scaleFactor()),x=(n=U$(t,e.startY))!==null&&n!==void 0?n:v.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var w=(i=e.useCss)!==null&&i!==void 0?i:!1,_=e.theme||(w?"plain":"striped"),k=!!e.horizontalPageBreak,R=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:w,theme:_,startY:x,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:b,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:k,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function U$(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),i=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;i=a===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function z$(t,e,n){var r=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(n){var l=W6(t,e.html,n,a,e.useCss)||{};r=l.head||r,s=l.body||r,i=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||q$(r,s,i);return{columns:c,head:r,body:s,foot:i}}function q$(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,l;Array.isArray(r)?l=r[parseInt(i)]:l=r[i],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(r)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var Px=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),H$=function(t){B6(e,t);function e(n,r,s,i,a,l){var c=t.call(this,n,r,l)||this;return c.cell=s,c.row=i,c.column=a,c.section=i.section,c}return e}(Px),W$=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,i,a){for(var l=0,c=n;l<c.length;l++){var u=c[l],d=new H$(e,this,r,s,i,a),h=u(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new Px(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new Px(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),V6=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof $6&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var i;return Math.max(r,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,i){var a=r.cells[i.index];if(!a)return 0;var l=n.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+l;return u>s?u:s},0)},t}(),K6=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Hp(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),V$=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var i=s[r],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},t}();function K$(t,e){G$(t,e);var n=[],r=0;e.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(e);a?i.width=a:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=Tx(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Tx(n,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),J$(e),X$(e,t),Y$(e)}function G$(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=q6(t,e);e.allRows().forEach(function(i){for(var a=0,l=e.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=fp(u.text,u.styles,t)+h;var m=fp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/n;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var a=0,l=e.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Tx(t,e,n){for(var r=e,s=t.reduce(function(f,v){return f+v.wrappedWidth},0),i=0;i<t.length;i++){var a=t[i],l=a.wrappedWidth/s,c=r*l,u=a.width+c,d=n(a),h=u<d?d:u;e-=h-a.width,a.width=h}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>n(f):!0});m.length&&(e=Tx(m,e,n))}return e}function Y$(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var i=r[s],a=0,l=t.columns;a<l.length;a++){var c=l[a],u=e[c.index];if(n>1)n--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,n=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=r.length-s,m=d.rowSpan>h?h:d.rowSpan;e[c.index]={cell:d,left:m,row:i}}}}}function J$(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,i=0,a=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(a-=1,a>1&&t.columns[l+1])i+=c.width,delete r.cells[c.index];else if(s){var u=s;delete r.cells[c.index],s=null,u.width=c.width+i}else{var u=r.cells[c.index];if(!u)continue;if(a=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function X$(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var i=s[r],a=0,l=t.columns;a<l.length;a++){var c=l[a],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=S4(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=S4(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<m*u.rowSpan?n={height:m,count:u.rowSpan}:n&&n.count>0&&n.height>m&&(m=n.height),m>i.height&&(i.height=m)}}n.count--}}function S4(t,e,n,r,s){return t.map(function(i){return Q$(i,e,n,r,s)})}function Q$(t,e,n,r,s){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=fp(t,n,r))return t;for(;e<fp(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function Z$(t,e){var n=new Ic(t),r=eU(e,n.scaleFactor()),s=new W$(e,r);return K$(n,s),n.applyStyles(n.userStyles),s}function eU(t,e){var n=t.content,r=nU(n.columns);if(n.head.length===0){var s=k4(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=k4(r,"foot");s&&n.foot.push(s)}var i=t.settings.theme,a=t.styles;return{columns:r,head:zg("head",n.head,r,a,i,e),body:zg("body",n.body,r,a,i,e),foot:zg("foot",n.foot,r,a,i,e)}}function zg(t,e,n,r,s,i){var a={},l=e.map(function(c,u){for(var d=0,h={},m=0,f=0,v=0,x=n;v<x.length;v++){var b=x[v];if(a[b.index]==null||a[b.index].left===0)if(f===0){var y=void 0;Array.isArray(c)?y=c[b.index-m-d]:y=c[b.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var _=rU(t,b,u,s,r,i,w),k=new K6(y,_,t);h[b.dataKey]=k,h[b.index]=k,f=k.colSpan-1,a[b.index]={left:k.rowSpan-1,times:f}}else f--,m++;else a[b.index].left--,f=a[b.index].times,d++}return new V6(c,u,t,h)});return l}function k4(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=tU(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function tU(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function nU(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new V$(s,e,n)})}function rU(t,e,n,r,s,i,a){var l=L$(r),c;t==="head"?c=s.headStyles:t==="body"?c=s.bodyStyles:t==="foot"&&(c=s.footStyles);var u=ta({},l.table,l[t],s.styles,c),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?d:{},m=t==="body"&&n%2===0?ta({},l.alternateRow,s.alternateRowStyles):{},f=E$(i),v=ta({},f,u,m,h);return ta(v,a)}function sU(t,e,n){var r;n===void 0&&(n={});var s=q6(t,e),i=new Map,a=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var f=e.columns.find(function(v){return v.dataKey===m||v.index===m});f&&!i.has(f.index)&&(i.set(f.index,!0),a.push(f.index),l.push(e.columns[f.index]),s-=f.wrappedWidth)});for(var u=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(i.has(d)){d++;continue}var h=e.columns[d].wrappedWidth;if(u||s>=h)u=!1,a.push(d),l.push(e.columns[d]),s-=h;else break;d++}return{colIndexes:a,columns:l,lastIndex:d-1}}function iU(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=sU(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function aU(t,e){var n=e.settings,r=n.startY,s=n.margin,i={x:s.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+s.bottom+a;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(m,f){return m+f.height},0);l+=u}var d=new Ic(t);(n.pageBreak==="always"||n.startY!=null&&l>d.pageSize().height)&&(Y6(d),i.y=s.top),e.callWillDrawPageHooks(d,i);var h=ta({},i);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?oU(d,e,h,i):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(m){return la(d,e,m,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(m,f){var v=f===e.body.length-1;pp(d,e,m,v,h,i,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(m){return la(d,e,m,i,e.columns)})),U6(d,e,h,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function oU(t,e,n,r){var s=iU(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?Td(t,e,n,r,u.columns,!0):A4(t,e,r,u.columns),lU(t,e,n,r,u.columns),qg(t,e,r,u.columns)});else for(var a=-1,l=s[0],c=function(){var u=a;if(l){t.applyStyles(t.userStyles);var d=l.columns;a>=0?Td(t,e,n,r,d,!0):A4(t,e,r,d),u=C4(t,e,a+1,r,d),qg(t,e,r,d)}var h=u-a;s.slice(1).forEach(function(m){t.applyStyles(t.userStyles),Td(t,e,n,r,m.columns,!0),C4(t,e,a+1,r,m.columns,h),qg(t,e,r,m.columns)}),a=u};a<e.body.length-1;)c()}function A4(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return la(t,e,i,n,r)})}function lU(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,a){var l=a===e.body.length-1;pp(t,e,i,l,n,r,s)})}function C4(t,e,n,r,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var a=Math.min(n+i,e.body.length),l=-1;return e.body.slice(n,a).forEach(function(c,u){var d=n+u===e.body.length-1,h=G6(t,e,d,r);c.canEntireRowFit(h,s)&&(la(t,e,c,r,s),l=n+u)}),l}function qg(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return la(t,e,i,n,r)})}function cU(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function uU(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,a=0,l=n.columns;a<l.length;a++){var c=l[a],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new K6(u.raw,u.styles,u.section);d=ta(d,u),d.text=[];var h=cU(u,e,r);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var m=r.scaleFactor(),f=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,f),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,f),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var v=new V6(t.raw,-1,t.section,s,!0);v.height=i;for(var x=0,b=n.columns;x<b.length;x++){var c=b[x],d=v.cells[c.index];d&&(d.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function dU(t,e,n,r){var s=t.pageSize().height,i=r.settings.margin,a=i.top+i.bottom,l=s-a;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),u=c<n;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>l;return h?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function pp(t,e,n,r,s,i,a){var l=G6(t,e,r,i);if(n.canEntireRowFit(l,a))la(t,e,n,i,a);else if(dU(t,n,l,e)){var c=uU(n,l,e,t);la(t,e,n,i,a),Td(t,e,s,i,a),pp(t,e,c,r,s,i,a)}else Td(t,e,s,i,a),pp(t,e,n,r,s,i,a)}function la(t,e,n,r,s){r.x=e.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],c=n.cells[l.index];if(!c){r.x+=l.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,n,l,r);if(u===!1){r.x+=l.width;continue}hU(t,c,r);var d=c.getTextPos();F6(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,l,r),r.x+=l.width}r.y+=n.height}function hU(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=z6(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),fU(t,e,n,r.lineWidth))}function fU(t,e,n,r){var s,i,a,l;r.top&&(s=n.x,i=n.y,a=n.x+e.width,l=n.y,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),c(r.top,s,i,a,l)),r.bottom&&(s=n.x,i=n.y+e.height,a=n.x+e.width,l=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),c(r.bottom,s,i,a,l)),r.left&&(s=n.x,i=n.y,a=n.x,l=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,s,i,a,l)),r.right&&(s=n.x+e.width,i=n.y,a=n.x+e.width,l=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,s,i,a,l));function c(u,d,h,m,f){t.getDocument().setLineWidth(u),t.getDocument().line(d,h,m,f,"S")}}function G6(t,e,n,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function Td(t,e,n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return la(t,e,l,r,s)}),e.callEndPageHooks(t,r);var a=e.settings.margin;U6(t,e,n,r),Y6(t),e.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return la(t,e,l,r,s)}),t.applyStyles(t.userStyles))}function Y6(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function pU(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=D$(this,r),i=Z$(this,s);return aU(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){F6(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return Ic.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ic.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Ic(this),i=W6(s,e,window,n,!1),a=i.head,l=i.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Hg;try{if(typeof window<"u"&&window){var E4=window,L4=E4.jsPDF||((Hg=E4.jspdf)===null||Hg===void 0?void 0:Hg.jsPDF);L4&&pU(L4)}}catch(t){console.error("Could not apply autoTable plugin",t)}const mU=()=>{const[t,e]=ae.useState("create"),[n,r]=ae.useState(null),[s,i]=ae.useState(null),[a,l]=ae.useState(!1),[c,u]=ae.useState(!1),[d,h]=ae.useState(!1),[m,f]=ae.useState(!1),[v,x]=ae.useState(!1),[b,y]=ae.useState(!1),[w,_]=ae.useState(!1),[k,R]=ae.useState(""),[I,D]=ae.useState(""),[A,j]=ae.useState(null),[T,C]=ae.useState(null),[L,F]=ae.useState(!1),[W,oe]=ae.useState(null),[H,ce]=ae.useState([{id:"1",description:"ウェブサイト制作",quantity:1,unitPrice:3e5,taxRate:10,amount:3e5}]),[te,ue]=ae.useState([{id:"1",bankName:"三菱UFJ銀行",branchName:"渋谷支店",accountType:"checking",accountNumber:"1234567",accountHolder:"株式会社サンプル",isDefault:!0},{id:"2",bankName:"みずほ銀行",branchName:"新宿支店",accountType:"savings",accountNumber:"9876543",accountHolder:"株式会社サンプル",isDefault:!1}]),[pe,xe]=ae.useState({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1}),[U,ee]=ae.useState({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),[O,Z]=ae.useState([{id:"1",name:"田中太郎",company:"株式会社サンプル",email:"tanaka@sample.co.jp",phone:"03-1234-5678",address:"東京都渋谷区1-1-1",taxNumber:"T1234567890123"},{id:"2",name:"佐藤花子",company:"合同会社テスト",email:"sato@test.co.jp",phone:"03-9876-5432",address:"東京都新宿区2-2-2",taxNumber:"T9876543210987"},{id:"3",name:"鈴木一郎",company:"フリーランス",email:"suzuki@freelance.jp",phone:"090-1234-5678",address:"大阪府大阪市北区3-3-3",taxNumber:"T5555666677778"}]),[B,se]=ae.useState([{id:"1",name:"ウェブ制作標準",description:"ウェブサイト制作の標準的な請求項目",items:[{id:"1",description:"ウェブサイト制作",quantity:1,unitPrice:3e5,taxRate:10,amount:3e5},{id:"2",description:"ドメイン設定",quantity:1,unitPrice:5e3,taxRate:10,amount:5e3}],notes:"納期: 契約から30日以内"},{id:"2",name:"コンサルティング",description:"コンサルティング業務の標準請求",items:[{id:"1",description:"コンサルティング業務",quantity:10,unitPrice:15e3,taxRate:10,amount:15e4}],notes:"月次コンサルティング料金"}]),[V,E]=ae.useState([{id:"1",number:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-14",customer:O[0],items:[],subtotal:3e5,taxAmount:3e4,total:33e4,status:"sent",notes:"",bankAccount:te[0]},{id:"2",number:"INV-2024-002",date:"2024-01-10",dueDate:"2024-02-09",customer:O[1],items:[],subtotal:15e4,taxAmount:15e3,total:165e3,status:"paid",notes:"",bankAccount:te[0]},{id:"3",number:"INV-2024-003",date:"2024-01-05",dueDate:"2024-02-04",customer:O[2],items:[],subtotal:8e4,taxAmount:8e3,total:88e3,status:"overdue",notes:"",bankAccount:te[1]}]),[M,Y]=ae.useState({number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:""}),[he,me]=ae.useState({sendPdf:!0,sendMail:!1,confirmationEmail:!0,reminderEmail:!1}),le=(J,_e)=>{j({type:J,message:_e}),setTimeout(()=>j(null),3e3)},X=()=>H.reduce((J,_e)=>J+_e.amount,0),Oe=()=>H.reduce((J,_e)=>J+_e.amount*_e.taxRate/100,0),De=()=>X()+Oe(),Ie=J=>{J?(C(J),xe({bankName:J.bankName,branchName:J.branchName,accountType:J.accountType,accountNumber:J.accountNumber,accountHolder:J.accountHolder,isDefault:J.isDefault})):(C(null),xe({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1})),h(!0)},je=()=>{if(!pe.bankName||!pe.branchName||!pe.accountNumber||!pe.accountHolder){le("error","すべての項目を入力してください");return}if(T)ue(J=>J.map(_e=>_e.id===T.id?{..._e,...pe}:pe.isDefault?{..._e,isDefault:!1}:_e)),le("success","振込先情報を更新しました");else{const J={id:Date.now().toString(),...pe};pe.isDefault?ue(_e=>[J,..._e.map(kt=>({...kt,isDefault:!1}))]):ue(_e=>[..._e,J]),le("success","振込先情報を追加しました")}h(!1),xe({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1}),C(null)},Me=J=>{ue(_e=>_e.filter(kt=>kt.id!==J)),(s==null?void 0:s.id)===J&&i(null),le("success","振込先情報を削除しました")},Ee=J=>{ue(_e=>_e.map(kt=>({...kt,isDefault:kt.id===J}))),le("success","デフォルト振込先を設定しました")},$e=J=>{oe(null),ee({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),F(!0)},He=()=>{if(!U.name||!U.company||!U.email){le("error","必須項目を入力してください");return}if(W)Z(J=>J.map(_e=>_e.id===W.id?{..._e,...U}:_e)),le("success","顧客情報を更新しました");else{const J={id:Date.now().toString(),...U};Z(_e=>[..._e,J]),le("success","顧客情報を追加しました")}F(!1),ee({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),oe(null)},bt=()=>{if(!n){le("error","請求先を選択してください");return}try{const J=new Qe;J.setFont("helvetica"),J.setFontSize(24),J.text("INVOICE",105,30,{align:"center"}),J.setFontSize(16),J.text("Seikyusho",105,40,{align:"center"}),J.setFontSize(10),J.text("From:",20,60),J.text("Your Company Name",20,70),J.text("123-4567 Tokyo, Japan",20,80),J.text("TEL: 03-0000-0000",20,90),J.text("To:",120,60),J.text(n.company,120,70),J.text(`${n.name} sama`,120,80),J.text("Tokyo, Japan",120,90),J.text(`TEL: ${n.phone}`,120,100),J.text(`Invoice No: ${M.number}`,20,120),J.text(`Issue Date: ${M.date}`,20,130),J.text(`Due Date: ${M.dueDate}`,20,140),J.setFontSize(14),J.text(`Total Amount: ¥${De().toLocaleString()}`,120,130);const _e=H.map(qt=>[qt.description,qt.quantity.toString(),`¥${qt.unitPrice.toLocaleString()}`,`${qt.taxRate}%`,`¥${qt.amount.toLocaleString()}`]);J.autoTable({head:[["Description","Qty","Unit Price","Tax Rate","Amount"]],body:_e,startY:160,styles:{fontSize:9,cellPadding:3,font:"helvetica"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{1:{halign:"center"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"}}});const kt=J.lastAutoTable.finalY+20;if(J.setFontSize(10),J.text("Subtotal:",140,kt),J.text(`¥${X().toLocaleString()}`,170,kt),J.text("Tax:",140,kt+10),J.text(`¥${Oe().toLocaleString()}`,170,kt+10),J.line(140,kt+15,190,kt+15),J.setFontSize(12),J.text("Total:",140,kt+25),J.text(`¥${De().toLocaleString()}`,170,kt+25),s){const qt=kt+40;J.setFontSize(10),J.text("Bank Transfer Information:",20,qt),J.text(`Bank: ${s.bankName}`,20,qt+10),J.text(`Branch: ${s.branchName}`,20,qt+20),J.text(`Account Type: ${s.accountType==="checking"?"Checking":"Savings"}`,20,qt+30),J.text(`Account No: ${s.accountNumber}`,20,qt+40),J.text(`Account Holder: ${s.accountHolder}`,20,qt+50)}if(M.notes){const qt=kt+100;J.text("Notes:",20,qt);const et=J.splitTextToSize(M.notes,170);J.text(et,20,qt+10)}J.save(`${M.number}.pdf`),le("success","PDFをダウンロードしました")}catch(J){console.error("PDF生成エラー:",J),le("error","PDF生成中にエラーが発生しました")}},ut=()=>{const J={id:Date.now().toString(),description:"",quantity:1,unitPrice:0,taxRate:10,amount:0};ce([...H,J])},tt=(J,_e,kt)=>{ce(qt=>qt.map(et=>{if(et.id===J){const Tr={...et,[_e]:kt};return(_e==="quantity"||_e==="unitPrice")&&(Tr.amount=Tr.quantity*Tr.unitPrice),Tr}return et}))},Pt=J=>{H.length>1?ce(_e=>_e.filter(kt=>kt.id!==J)):le("error","最低1つの項目が必要です")},ht=()=>{if(!n){le("error","請求先を選択してください");return}if(H.some(J=>!J.description||J.quantity<=0||J.unitPrice<0)){le("error","請求項目を正しく入力してください");return}f(!0)},Ze=()=>{if(!n){le("error","請求先を選択してください");return}y(!0)},st=()=>{const J={id:Date.now().toString(),number:M.number,date:M.date,dueDate:M.dueDate,customer:n,items:H,subtotal:X(),taxAmount:Oe(),total:De(),status:"draft",notes:M.notes,bankAccount:s};E([J,...V]),y(!1),le("success","請求書を保存しました")},Je=()=>{if(!n){le("error","請求先を選択してください");return}if(!n.email){le("error","顧客のメールアドレスが設定されていません");return}x(!0)},Mt=()=>{setTimeout(()=>{x(!1),le("success",`${n==null?void 0:n.email} に請求書を送信しました`);const J={id:Date.now().toString(),number:M.number,date:M.date,dueDate:M.dueDate,customer:n,items:H,subtotal:X(),taxAmount:Oe(),total:De(),status:"sent",notes:M.notes,bankAccount:s};E([J,...V])},1500)},jt=()=>{_(!0)},Ve=()=>{if(!k.trim()){le("error","テンプレート名を入力してください");return}const J={id:Date.now().toString(),name:k,description:`カスタムテンプレート - ${new Date().toLocaleDateString()}`,items:H,notes:M.notes};se([...B,J]),R(""),_(!1),le("success","テンプレートを保存しました")},ot=J=>{ce(J.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Y(_e=>({..._e,notes:J.notes})),le("success",`テンプレート「${J.name}」を読み込みました`)},Ot=J=>{se(B.filter(_e=>_e.id!==J)),le("success","テンプレートを削除しました")},nt=()=>{if(V.length>0){const J=V[0];r(J.customer),i(J.bankAccount),ce(J.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Y(_e=>({..._e,notes:J.notes,number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`})),le("success","前回の請求書をコピーしました")}else le("error","コピーする請求書がありません")},vt=J=>{le("success",`${J.number} をダウンロードしました`)},lt=J=>{var _e;(_e=J.customer)!=null&&_e.email?le("success",`${J.customer.email} に再送信しました`):le("error","メールアドレスが設定されていません")},sn=J=>{r(J.customer),i(J.bankAccount),ce(J.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Y(_e=>({..._e,notes:J.notes,number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`})),e("create"),le("success","請求書を複製しました")},fn=O.filter(J=>J.name.toLowerCase().includes(I.toLowerCase())||J.company.toLowerCase().includes(I.toLowerCase())||J.email.toLowerCase().includes(I.toLowerCase())),Tt=V.filter(J=>{var _e;return J.number.toLowerCase().includes(I.toLowerCase())||((_e=J.customer)==null?void 0:_e.company.toLowerCase().includes(I.toLowerCase()))||""}),it=J=>{switch(J){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Et=J=>{switch(J){case"draft":return"下書き";case"sent":return"送信済み";case"paid":return"支払済み";case"overdue":return"期限超過";default:return"不明"}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A&&o.jsx("div",{className:`fixed top-20 right-4 z-50 px-4 py-3 rounded-md shadow-lg ${A.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[A.type==="success"?o.jsx(Cs,{className:"w-5 h-5 mr-2"}):o.jsx(Ht,{className:"w-5 h-5 mr-2"}),A.message]})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:ml-16 transition-all duration-300",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"請求書作成"}),o.jsx("p",{className:"text-gray-600",children:"プロフェッショナルな請求書を簡単に作成・送信"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:bt,className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[o.jsx(_i,{className:"w-4 h-4 mr-1"}),"PDF"]}),o.jsxs("button",{onClick:ht,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm",children:[o.jsx(gl,{className:"w-4 h-4 mr-1"}),"プレビュー"]}),o.jsxs("button",{onClick:Ze,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(jc,{className:"w-4 h-4 mr-1"}),"保存"]}),o.jsxs("button",{onClick:Je,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[o.jsx(pc,{className:"w-4 h-4 mr-1"}),"送信"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex flex-wrap gap-4 px-4 py-2",children:[o.jsx("button",{onClick:()=>e("create"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"請求書作成"}),o.jsx("button",{onClick:()=>e("bank"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="bank"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"振込先管理"}),o.jsx("button",{onClick:()=>e("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"テンプレート"}),o.jsx("button",{onClick:()=>e("history"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"請求書履歴"})]})})}),t==="create"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"基本情報"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"請求書番号"}),o.jsx("input",{type:"text",value:M.number,onChange:J=>Y(_e=>({..._e,number:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"発行日"}),o.jsx("input",{type:"date",value:M.date,onChange:J=>Y(_e=>({..._e,date:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"支払期限"}),o.jsx("input",{type:"date",value:M.dueDate,onChange:J=>Y(_e=>({..._e,dueDate:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求先"}),o.jsxs("button",{onClick:()=>{l(!0)},className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Uc,{className:"w-4 h-4 mr-2"}),"顧客選択"]})]}),n?o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:n.company}),o.jsx("p",{className:"text-sm text-gray-600",children:n.name}),o.jsx("p",{className:"text-sm text-gray-600",children:n.address}),o.jsxs("p",{className:"text-sm text-gray-600",children:["法人番号: ",n.taxNumber]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[o.jsx(l3,{className:"w-4 h-4 mr-1"}),n.email]}),o.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[o.jsx(T7,{className:"w-4 h-4 mr-1"}),n.phone]})]})]})}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx(sl,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"請求先を選択してください"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求項目"}),o.jsxs("button",{onClick:ut,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"項目追加"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full md:hidden",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"項目"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"数量"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"単価"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"税率"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"金額"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"操作"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:H.map(J=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"text",value:J.description,onChange:_e=>tt(J.id,"description",_e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"項目名"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",value:J.quantity,onChange:_e=>tt(J.id,"quantity",Number(_e.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",value:J.unitPrice,onChange:_e=>tt(J.id,"unitPrice",Number(_e.target.value)),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("select",{value:J.taxRate,onChange:_e=>tt(J.id,"taxRate",Number(_e.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:0,children:"0%"}),o.jsx("option",{value:8,children:"8%"}),o.jsx("option",{value:10,children:"10%"})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:"text-sm font-medium",children:["¥",J.amount.toLocaleString()]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{onClick:()=>Pt(J.id),className:"text-red-600 hover:text-red-800 transition-colors",disabled:H.length===1,children:o.jsx(js,{className:"w-4 h-4"})})})]},J.id))})]}),o.jsx("div",{className:"md:hidden space-y-4",children:H.map(J=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"項目"}),o.jsx("input",{type:"text",value:J.description,onChange:_e=>tt(J.id,"description",_e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"項目名"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"数量"}),o.jsx("input",{type:"number",value:J.quantity,onChange:_e=>tt(J.id,"quantity",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"単価"}),o.jsx("input",{type:"number",value:J.unitPrice,onChange:_e=>tt(J.id,"unitPrice",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"税率"}),o.jsxs("select",{value:J.taxRate,onChange:_e=>tt(J.id,"taxRate",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:0,children:"0%"}),o.jsx("option",{value:8,children:"8%"}),o.jsx("option",{value:10,children:"10%"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"金額"}),o.jsxs("span",{className:"text-sm font-medium",children:["¥",J.amount.toLocaleString()]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>Pt(J.id),className:"text-red-600 hover:text-red-800 transition-colors",disabled:H.length===1,children:o.jsx(js,{className:"w-4 h-4"})})})]},J.id))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"振込先"}),o.jsxs("button",{onClick:()=>{e("bank")},className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(Nf,{className:"w-4 h-4 mr-2"}),"振込先選択"]})]}),s?o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:s.bankName}),o.jsx("p",{className:"text-sm text-gray-600",children:s.branchName}),o.jsxs("p",{className:"text-sm text-gray-600",children:[s.accountType==="checking"?"当座":"普通"," ",s.accountNumber]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"口座名義"}),o.jsx("p",{className:"font-medium",children:s.accountHolder}),s.isDefault&&o.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full mt-1",children:"デフォルト"})]})]})}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx(e7,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"振込先を選択してください"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"備考・特記事項"}),o.jsx("textarea",{value:M.notes,onChange:J=>Y(_e=>({..._e,notes:J.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"支払い条件、納期、その他の特記事項を記載してください"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(Qd,{className:"w-5 h-5 mr-2 text-blue-600"}),"金額計算"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"小計"}),o.jsxs("span",{className:"font-medium",children:["¥",X().toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"消費税"}),o.jsxs("span",{className:"font-medium",children:["¥",Oe().toLocaleString()]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-3",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-lg font-semibold",children:"合計"}),o.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["¥",De().toLocaleString()]})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"送信オプション"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:he.sendPdf,onChange:J=>me(_e=>({..._e,sendPdf:J.target.checked}))}),o.jsx("span",{className:"text-sm",children:"PDFで送信"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:he.sendMail,onChange:J=>me(_e=>({..._e,sendMail:J.target.checked}))}),o.jsx("span",{className:"text-sm",children:"郵送も併用"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:he.confirmationEmail,onChange:J=>me(_e=>({..._e,confirmationEmail:J.target.checked}))}),o.jsx("span",{className:"text-sm",children:"確認メールを送信"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:he.reminderEmail,onChange:J=>me(_e=>({..._e,reminderEmail:J.target.checked}))}),o.jsx("span",{className:"text-sm",children:"リマインダーメールを送信"})]})]})]})]})]}),t==="bank"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"振込先管理"}),o.jsxs("button",{onClick:()=>Ie(),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"振込先追加"]})]}),o.jsx("div",{className:"space-y-4",children:te.map(J=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:J.bankName}),o.jsx("p",{className:"text-sm text-gray-600",children:J.branchName}),o.jsxs("p",{className:"text-sm text-gray-600",children:[J.accountType==="checking"?"当座":"普通"," ",J.accountNumber]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>Ie(J),className:"text-blue-600 hover:text-blue-800 transition-colors",children:o.jsx(mc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Me(J.id),className:"text-red-600 hover:text-red-800 transition-colors",children:o.jsx(js,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Ee(J.id),className:`text-sm ${J.isDefault?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} px-2 py-1 rounded-full`,children:J.isDefault?"デフォルト":"デフォルトに設定"})]})]})},J.id))})]}),t==="templates"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"テンプレート"}),o.jsxs("button",{onClick:jt,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"テンプレート保存"]})]}),o.jsx("div",{className:"space-y-4",children:B.map(J=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:J.name}),o.jsx("p",{className:"text-sm text-gray-600",children:J.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>ot(J),className:"text-blue-600 hover:text-blue-800 transition-colors",children:o.jsx(mc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Ot(J.id),className:"text-red-600 hover:text-red-800 transition-colors",children:o.jsx(js,{className:"w-4 h-4"})})]})]})},J.id))})]}),t==="history"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書履歴"}),o.jsxs("button",{onClick:nt,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(wd,{className:"w-4 h-4 mr-2"}),"前回の請求書をコピー"]})]}),o.jsx("div",{className:"space-y-4",children:Tt.map(J=>{var _e;return o.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:J.number}),o.jsx("p",{className:"text-sm text-gray-600",children:(_e=J.customer)==null?void 0:_e.company}),o.jsx("p",{className:"text-sm text-gray-600",children:J.date})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>vt(J),className:"text-blue-600 hover:text-blue-800 transition-colors",children:o.jsx(_i,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>lt(J),className:"text-green-600 hover:text-green-800 transition-colors",children:o.jsx(pc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>sn(J),className:"text-blue-600 hover:text-blue-800 transition-colors",children:o.jsx(wd,{className:"w-4 h-4"})})]})]})},J.id)})})]}),L&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:W?"顧客編集":"顧客追加"}),o.jsx("button",{onClick:()=>F(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"会社名 *"}),o.jsx("input",{type:"text",value:U.company,onChange:J=>ee(_e=>({..._e,company:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"氏名 *"}),o.jsx("input",{type:"text",value:U.name,onChange:J=>ee(_e=>({..._e,name:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス *"}),o.jsx("input",{type:"email",value:U.email,onChange:J=>ee(_e=>({..._e,email:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),o.jsx("input",{type:"tel",value:U.phone,onChange:J=>ee(_e=>({..._e,phone:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"住所"}),o.jsx("input",{type:"text",value:U.address,onChange:J=>ee(_e=>({..._e,address:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"法人番号"}),o.jsx("input",{type:"text",value:U.taxNumber,onChange:J=>ee(_e=>({..._e,taxNumber:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("button",{onClick:He,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})}),t==="bank"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"振込先管理"}),o.jsxs("button",{onClick:()=>Ie(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"新規追加"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[te.map(J=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Nf,{className:"w-5 h-5 text-blue-600 mr-2"}),o.jsx("h3",{className:"font-medium",children:J.bankName}),J.isDefault&&o.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"デフォルト"})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>Ie(J),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"編集",children:o.jsx(mc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Me(J.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"削除",children:o.jsx(js,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsx("p",{children:J.branchName}),o.jsxs("p",{children:[J.accountType==="checking"?"当座":"普通"," ",J.accountNumber]}),o.jsx("p",{className:"font-medium text-gray-900",children:J.accountHolder})]}),!J.isDefault&&o.jsx("button",{onClick:()=>Ee(J.id),className:"mt-3 text-xs text-blue-600 hover:text-blue-800 transition-colors",children:"デフォルトに設定"})]},J.id)),te.length===0&&o.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"振込先情報が登録されていません"})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"振込先選択"}),o.jsx("button",{onClick:()=>u(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:I,onChange:J=>D(J.target.value),placeholder:"銀行名、支店名、口座番号で検索",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),o.jsx("div",{className:"space-y-4",children:te.map(J=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:J.bankName}),o.jsx("p",{className:"text-sm text-gray-600",children:J.branchName}),o.jsxs("p",{className:"text-sm text-gray-600",children:[J.accountType==="checking"?"当座":"普通"," ",J.accountNumber]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"口座名義"}),o.jsx("p",{className:"font-medium",children:J.accountHolder}),J.isDefault&&o.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full mt-1",children:"デフォルト"})]})]}),o.jsxs("button",{onClick:()=>{i(J),u(!1)},className:"mt-4 flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"選択"]})]},J.id))})]})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:T?"振込先編集":"振込先追加"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行名"}),o.jsx("input",{type:"text",value:pe.bankName,onChange:J=>xe(_e=>({..._e,bankName:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"支店名"}),o.jsx("input",{type:"text",value:pe.branchName,onChange:J=>xe(_e=>({..._e,branchName:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座種類"}),o.jsxs("select",{value:pe.accountType,onChange:J=>xe(_e=>({..._e,accountType:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"checking",children:"当座"}),o.jsx("option",{value:"savings",children:"普通"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座番号"}),o.jsx("input",{type:"text",value:pe.accountNumber,onChange:J=>xe(_e=>({..._e,accountNumber:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座名義"}),o.jsx("input",{type:"text",value:pe.accountHolder,onChange:J=>xe(_e=>({..._e,accountHolder:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:pe.isDefault,onChange:J=>xe(_e=>({..._e,isDefault:J.target.checked}))}),o.jsx("span",{className:"text-sm",children:"デフォルト振込先に設定"})]})}),o.jsxs("button",{onClick:je,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(Cs,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書プレビュー"}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"プレビュー内容"}),o.jsx("p",{className:"text-sm text-gray-600",children:"ここにプレビューが表示されます"})]})]})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書送信"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"送信内容"}),o.jsx("p",{className:"text-sm text-gray-600",children:"ここに送信内容が表示されます"})]}),o.jsxs("button",{onClick:Mt,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[o.jsx(pc,{className:"w-4 h-4 mr-2"}),"送信"]})]})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書保存"}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"保存内容"}),o.jsx("p",{className:"text-sm text-gray-600",children:"ここに保存内容が表示されます"})]}),o.jsxs("button",{onClick:st,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(jc,{className:"w-4 h-4 mr-2"}),"保存"]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"テンプレート保存"}),o.jsx("button",{onClick:()=>_(!1),className:"text-gray-600 hover:text-gray-900",children:o.jsx(Ht,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:k,onChange:J=>R(J.target.value),placeholder:"テンプレート名を入力してください",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),o.jsxs("button",{onClick:Ve,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(jc,{className:"w-4 h-4 mr-2"}),"保存"]})]})}),t==="bank"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"振込先管理"}),o.jsxs("button",{onClick:()=>Ie(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"新規追加"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[te.map(J=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Nf,{className:"w-5 h-5 text-blue-600 mr-2"}),o.jsx("h3",{className:"font-medium",children:J.bankName}),J.isDefault&&o.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"デフォルト"})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>Ie(J),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"編集",children:o.jsx(mc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Me(J.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"削除",children:o.jsx(js,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsx("p",{children:J.branchName}),o.jsxs("p",{children:[J.accountType==="checking"?"当座":"普通"," ",J.accountNumber]}),o.jsx("p",{className:"font-medium text-gray-900",children:J.accountHolder})]}),!J.isDefault&&o.jsx("button",{onClick:()=>Ee(J.id),className:"mt-3 text-xs text-blue-600 hover:text-blue-800 transition-colors",children:"デフォルトに設定"})]},J.id)),te.length===0&&o.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"振込先情報が登録されていません"})]})]}),t==="templates"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書テンプレート"}),o.jsxs("button",{onClick:jt,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"新規テンプレート"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:B.map(J=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"bg-gray-100 h-32 rounded mb-3 flex items-center justify-center",children:o.jsx(ti,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"font-medium mb-2",children:J.name}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:J.description}),o.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[J.items.length,"項目"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>ot(J),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"使用"}),o.jsx("button",{onClick:()=>Ot(J.id),className:"px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:o.jsx(js,{className:"w-4 h-4"})})]})]},J.id))})]}),t==="history"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"請求書履歴"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",placeholder:"請求書番号または顧客名で検索",value:I,onChange:J=>D(J.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:()=>D(""),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"クリア"})]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"請求書番号"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"顧客"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"発行日"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"支払期限"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"金額"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ステータス"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"操作"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:Tt.map(J=>{var _e;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:J.number}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(_e=J.customer)==null?void 0:_e.company}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J.date}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J.dueDate}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["¥",J.total.toLocaleString()]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${it(J.status)}`,children:Et(J.status)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{r(J.customer),i(J.bankAccount),ce(J.items),Y(kt=>({...kt,number:J.number,date:J.date,dueDate:J.dueDate,notes:J.notes})),e("create"),le("success","請求書を編集モードで開きました")},className:"text-blue-600 hover:text-blue-900 transition-colors",title:"編集",children:o.jsx(gl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>vt(J),className:"text-green-600 hover:text-green-900 transition-colors",title:"ダウンロード",children:o.jsx(_i,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>lt(J),className:"text-purple-600 hover:text-purple-900 transition-colors",title:"再送信",children:o.jsx(pc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>sn(J),className:"text-orange-600 hover:text-orange-900 transition-colors",title:"複製",children:o.jsx(wd,{className:"w-4 h-4"})})]})})]},J.id)})})]}),Tt.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:I?"検索結果が見つかりません":"請求書履歴がありません"})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"振込先選択"}),o.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-3",children:[te.map(J=>o.jsx("div",{onClick:()=>{i(J),u(!1),le("success",`${J.bankName} を選択しました`)},className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("h4",{className:"font-medium",children:J.bankName}),J.isDefault&&o.jsx("span",{className:"ml-2 inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"デフォルト"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:J.branchName}),o.jsxs("p",{className:"text-sm text-gray-600",children:[J.accountType==="checking"?"当座":"普通"," ",J.accountNumber]}),o.jsx("p",{className:"text-sm text-gray-600",children:J.accountHolder})]}),o.jsx("div",{className:"text-right",children:o.jsx(Nf,{className:"w-5 h-5 text-gray-400"})})]})},J.id)),te.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"振込先情報が登録されていません"})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>{u(!1),Ie()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"新規追加"}),o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"顧客選択"}),o.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",placeholder:"顧客名、会社名、メールアドレスで検索",value:I,onChange:J=>D(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),o.jsxs("div",{className:"space-y-3",children:[fn.map(J=>o.jsx("div",{onClick:()=>{r(J),l(!1),D(""),le("success",`${J.company} を選択しました`)},className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:J.company}),o.jsx("p",{className:"text-sm text-gray-600",children:J.name}),o.jsx("p",{className:"text-sm text-gray-600",children:J.email}),o.jsx("p",{className:"text-sm text-gray-600",children:J.phone})]}),o.jsx("div",{className:"text-right",children:o.jsx(vd,{className:"w-5 h-5 text-gray-400"})})]})},J.id)),fn.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:"検索結果が見つかりません"})]}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>{l(!1),$e()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"新規追加"}),o.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:T?"振込先編集":"振込先登録"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行名"}),o.jsx("input",{type:"text",value:pe.bankName,onChange:J=>xe(_e=>({..._e,bankName:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 三菱UFJ銀行"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"支店名"}),o.jsx("input",{type:"text",value:pe.branchName,onChange:J=>xe(_e=>({..._e,branchName:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 渋谷支店"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座種別"}),o.jsxs("select",{value:pe.accountType,onChange:J=>xe(_e=>({..._e,accountType:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"checking",children:"当座"}),o.jsx("option",{value:"savings",children:"普通"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座番号"}),o.jsx("input",{type:"text",value:pe.accountNumber,onChange:J=>xe(_e=>({..._e,accountNumber:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 1234567"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座名義"}),o.jsx("input",{type:"text",value:pe.accountHolder,onChange:J=>xe(_e=>({..._e,accountHolder:J.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 株式会社サンプル"})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:pe.isDefault,onChange:J=>xe(_e=>({..._e,isDefault:J.target.checked})),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"デフォルト振込先に設定"})]})})]}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{onClick:je,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:T?"更新":"登録"})]})]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"請求書プレビュー"}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"border border-gray-300 p-8 bg-white",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"請求書"}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Invoice"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"請求元"}),o.jsx("p",{className:"text-sm",children:"あなたの会社名"}),o.jsx("p",{className:"text-sm",children:"〒000-0000"}),o.jsx("p",{className:"text-sm",children:"東京都渋谷区1-1-1"}),o.jsx("p",{className:"text-sm",children:"TEL: 03-0000-0000"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"請求先"}),o.jsx("p",{className:"text-sm",children:n==null?void 0:n.company}),o.jsxs("p",{className:"text-sm",children:[n==null?void 0:n.name," 様"]}),o.jsx("p",{className:"text-sm",children:n==null?void 0:n.address}),o.jsxs("p",{className:"text-sm",children:["TEL: ",n==null?void 0:n.phone]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"請求書番号:"})," ",M.number]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"発行日:"})," ",M.date]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"支払期限:"})," ",M.dueDate]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["¥",De().toLocaleString()]}),o.jsx("p",{className:"text-sm text-gray-600",children:"請求金額（税込）"})]})]}),o.jsxs("table",{className:"w-full mb-8 border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"項目"}),o.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"数量"}),o.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"単価"}),o.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"税率"}),o.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right",children:"金額"})]})}),o.jsx("tbody",{children:H.map(J=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 px-4 py-2",children:J.description}),o.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:J.quantity}),o.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["¥",J.unitPrice.toLocaleString()]}),o.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[J.taxRate,"%"]}),o.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-right",children:["¥",J.amount.toLocaleString()]})]},J.id))})]}),o.jsx("div",{className:"flex justify-end mb-8",children:o.jsxs("div",{className:"w-64",children:[o.jsxs("div",{className:"flex justify-between py-1",children:[o.jsx("span",{children:"小計:"}),o.jsxs("span",{children:["¥",X().toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between py-1",children:[o.jsx("span",{children:"消費税:"}),o.jsxs("span",{children:["¥",Oe().toLocaleString()]})]}),o.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:o.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[o.jsx("span",{children:"合計:"}),o.jsxs("span",{children:["¥",De().toLocaleString()]})]})})]})}),s&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"振込先"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"銀行名:"})," ",s.bankName]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"支店名:"})," ",s.branchName]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"口座種別:"})," ",s.accountType==="checking"?"当座":"普通"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"口座番号:"})," ",s.accountNumber]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"口座名義:"})," ",s.accountHolder]})]})]}),M.notes&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"備考"}),o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:M.notes})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"閉じる"}),o.jsx("button",{onClick:()=>{f(!1),bt()},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"PDFダウンロード"}),o.jsx("button",{onClick:()=>{f(!1),Je()},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"送信"})]})]})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"請求書送信"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"以下の宛先に請求書を送信します："}),o.jsx("p",{className:"font-medium mt-2",children:n==null?void 0:n.company}),o.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.email}),o.jsxs("p",{className:"font-medium mt-2",children:["金額: ¥",De().toLocaleString()]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"送信オプション"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[he.sendPdf&&o.jsx("p",{children:"• PDFファイルで送信"}),he.sendMail&&o.jsx("p",{children:"• 郵送も併用"}),he.confirmationEmail&&o.jsx("p",{children:"• 送信確認メールを受信"}),he.reminderEmail&&o.jsx("p",{children:"• 支払期限リマインダーを設定"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{onClick:Mt,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"送信実行"})]})]})}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"請求書保存"}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"請求書を下書きとして保存します。"}),o.jsxs("p",{className:"font-medium mt-2",children:["請求書番号: ",M.number]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["顧客: ",n==null?void 0:n.company]}),o.jsxs("p",{className:"font-medium",children:["金額: ¥",De().toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{onClick:st,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"保存"})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"テンプレート保存"}),o.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テンプレート名"}),o.jsx("input",{type:"text",value:k,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: ウェブ制作標準テンプレート"})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["現在の請求項目（",H.length,"件）をテンプレートとして保存します。"]})}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>{_(!1),R("")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),o.jsx("button",{onClick:Ve,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"保存"})]})]})})]})]})},gU=()=>{const[t,e]=ae.useState("monthly"),[n,r]=ae.useState(new Date().getFullYear().toString()),[s,i]=ae.useState((new Date().getMonth()+1).toString().padStart(2,"0")),[a,l]=ae.useState([]),[c,u]=ae.useState([]),[d,h]=ae.useState([]);ae.useEffect(()=>{const f=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],v=[12e5,15e5,18e5,22e5,25e5,28e5,32e5,35e5,38e5,42e5,45e5,48e5],x=[8e5,9e5,11e5,13e5,15e5,17e5,19e5,21e5,23e5,25e5,27e5,29e5];l(f.map((b,y)=>({month:b,amount:v[y]}))),u(f.map((b,y)=>({month:b,amount:x[y]}))),h(f.map((b,y)=>({month:b,amount:v[y]-x[y]})))},[]);const m=()=>{console.log("レポートをエクスポートしました")};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"経営分析"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 md:mb-0",children:"財務状況"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ty,{className:"w-4 h-4 text-gray-500 mr-2"}),o.jsxs("select",{value:t,onChange:f=>e(f.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"monthly",children:"月次"}),o.jsx("option",{value:"quarterly",children:"四半期"}),o.jsx("option",{value:"yearly",children:"年次"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(o3,{className:"w-4 h-4 text-gray-500 mr-2"}),o.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"2023",children:"2023年"}),o.jsx("option",{value:"2024",children:"2024年"}),o.jsx("option",{value:"2025",children:"2025年"})]})]}),t==="monthly"&&o.jsx("div",{className:"flex items-center",children:o.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"01",children:"1月"}),o.jsx("option",{value:"02",children:"2月"}),o.jsx("option",{value:"03",children:"3月"}),o.jsx("option",{value:"04",children:"4月"}),o.jsx("option",{value:"05",children:"5月"}),o.jsx("option",{value:"06",children:"6月"}),o.jsx("option",{value:"07",children:"7月"}),o.jsx("option",{value:"08",children:"8月"}),o.jsx("option",{value:"09",children:"9月"}),o.jsx("option",{value:"10",children:"10月"}),o.jsx("option",{value:"11",children:"11月"}),o.jsx("option",{value:"12",children:"12月"})]})}),o.jsxs("button",{onClick:m,className:"flex items-center px-3 py-1 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm",children:[o.jsx(_i,{className:"w-4 h-4 mr-1"}),"エクスポート"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(Es,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"売上高"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥4,800,000"}),o.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[o.jsx(Es,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"前月比 12.5%"})]})]})]})}),o.jsx("div",{className:"bg-red-50 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx(zc,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"経費"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥2,900,000"}),o.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[o.jsx(Es,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"前月比 8.2%"})]})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(a3,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"利益"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥1,900,000"}),o.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[o.jsx(Es,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"前月比 18.3%"})]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"売上推移"}),o.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:a.map((f,v)=>o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("div",{className:"w-full bg-blue-500 rounded-t hover:bg-blue-600 transition-colors",style:{height:`${f.amount/5e6*200}px`}}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:f.month})]},v))})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"経費推移"}),o.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:c.map((f,v)=>o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("div",{className:"w-full bg-red-500 rounded-t hover:bg-red-600 transition-colors",style:{height:`${f.amount/5e6*200}px`}}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:f.month})]},v))})]})]}),o.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-5",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"利益推移"}),o.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:d.map((f,v)=>o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("div",{className:`w-full rounded-t hover:opacity-75 transition-opacity ${f.amount>=0?"bg-green-500":"bg-red-500"}`,style:{height:`${Math.abs(f.amount)/5e6*200}px`}}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:f.month})]},v))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"部門別業績"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"部門"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"売上高"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目標比"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"前年比"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"利益"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"製品A"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥2,400,000"}),o.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"120%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"+15%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥800,000"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"製品B"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥1,800,000"}),o.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"90%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-red-600",children:"-5%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥600,000"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"サービス"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥600,000"}),o.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"150%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"+25%"}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥300,000"})]})]})]})})]})]})})},xU=()=>{const[t,e]=ae.useState(!1),[n,r]=ae.useState(""),[s,i]=ae.useState([]),[a,l]=ae.useState(null),[c,u]=ae.useState({}),[d,h]=ae.useState(!1),[m,f]=ae.useState([]),v=ae.useRef(null);ae.useEffect(()=>{if(!("webkitSpeechRecognition"in window)){console.log("Web Speech API is not supported in this browser.");return}const L=new window.webkitSpeechRecognition;return L.continuous=!1,L.interimResults=!0,L.lang="ja-JP",L.onresult=F=>{for(let W=F.resultIndex;W<F.results.length;W++){const oe=F.results[W][0].transcript;F.results[W].isFinal&&r(H=>H+oe+" ")}},L.onerror=F=>{console.error("音声認識エラー:",F.error),e(!1)},L.onend=()=>{e(!1)},v.current=L,()=>{v.current&&v.current.stop()}},[]);const x=()=>{v.current&&(v.current.start(),e(!0))},b=()=>{v.current&&(v.current.stop(),e(!1))},y=L=>{const F=/(\d+(?:万)?(?:千)?(?:円)?)/g,W=L.match(F),oe=[{keywords:["売上"],category:"売上",type:"income",priority:10},{keywords:["給与"],category:"給与",type:"income",priority:9},{keywords:["交通費","電車","バス","タクシー"],category:"交通費",type:"expense",priority:7},{keywords:["食費","ランチ","ディナー","コーヒー"],category:"食費",type:"expense",priority:6},{keywords:["消耗品","文具","コピー"],category:"消耗品費",type:"expense",priority:5},{keywords:["接待","会食"],category:"接待交際費",type:"expense",priority:5},{keywords:["通信費","電話料金"],category:"通信費",type:"expense",priority:4},{keywords:["光熱費","電気","ガス","水道"],category:"水道光熱費",type:"expense",priority:4},{keywords:["費用","費"],category:"雑費",type:"expense",priority:1}];let H="未分類",ce="expense",te=0;for(const xe of oe)for(const U of xe.keywords)L.includes(U)&&xe.priority>te&&(H=xe.category,ce=xe.type,te=xe.priority);let ue=0;if(W&&W.length>0){const xe=W[0];if(xe.includes("万")){const U=parseFloat(xe.replace("万",""));ue=isNaN(U)?0:U*1e4}else if(xe.includes("千")){const U=parseFloat(xe.replace("千",""));ue=isNaN(U)?0:U*1e3}else ue=parseFloat(xe.replace(/[^\d]/g,""))||0}return{date:new Date().toISOString().split("T")[0],description:L,amount:ue,category:H,type:ce}},w=()=>{n.trim()&&(h(!0),setTimeout(()=>{const L=y(n),F={id:Date.now().toString(),...L};i(W=>[F,...W]),r(""),h(!1)},1e3))},_=L=>{l(L.id),u(L)},k=()=>{a&&c&&(i(L=>L.map(F=>F.id===a?{...F,...c}:F)),l(null),u({}))},R=L=>{i(F=>F.filter(W=>W.id!==L)),f(F=>F.filter(W=>W!==L))},I=async L=>{try{const{data:{user:F},error:W}=await Ur.auth.getUser();if(W)throw new Error(`認証エラー: ${W.message}`);if(!F)throw new Error("ユーザーがログインしていません。ログインしてください。");const oe={item:L.description,amount:L.amount,date:L.date,category:L.category,type:L.type,description:L.description,creator:F.id},{data:H,error:ce}=await Ur.from("transactions").insert(oe).select().single();if(ce)throw new Error(`取引の保存に失敗しました: ${ce.message}`);return H}catch(F){throw console.error("取引の保存中にエラーが発生しました:",F),F.message.includes("Failed to fetch")?new Error("ネットワークエラーが発生しました。インターネット接続を確認してください。"):F}},D=async L=>{try{await I(L),i(F=>F.filter(W=>W.id!==L.id)),alert("取引が正常に記録されました")}catch(F){alert("取引の記録に失敗しました: "+F.message)}},A=async()=>{const L=s.filter(F=>m.includes(F.id));if(L.length===0){alert("記録する取引を選択してください");return}try{const F=L.map(ue=>I(ue)),W=await Promise.allSettled(F),oe=W.filter(ue=>ue.status==="fulfilled").length,H=W.filter(ue=>ue.status==="rejected").length;H>0?alert(`${oe}件の取引が正常に記録されましたが、${H}件の取引の記録に失敗しました`):alert(`${oe}件の取引が正常に記録されました`);const te=L.slice(0,oe).map(ue=>ue.id);i(ue=>ue.filter(pe=>!te.includes(pe.id))),f(ue=>ue.filter(pe=>!te.includes(pe)))}catch(F){alert("取引の一括記録に失敗しました: "+F.message)}},j=L=>{f(F=>F.includes(L)?F.filter(W=>W!==L):[...F,L])},T=()=>{m.length===s.length&&s.length>0?f([]):f(s.map(L=>L.id))},C=()=>{const L=[["日付","説明","金額","カテゴリ","タイプ"],...s.map(H=>[H.date,`"${H.description}"`,H.amount.toString(),H.category,H.type])].map(H=>H.join(",")).join(`
`),F=new Blob(["\uFEFF",L],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(F),oe=document.createElement("a");oe.setAttribute("href",W),oe.setAttribute("download",`取引データ_${new Date().toISOString().split("T")[0]}.csv`),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CHAT-TO-BOOK"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"音声入力"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("button",{onClick:t?b:x,className:`flex items-center justify-center w-16 h-16 rounded-full ${t?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white transition-colors`,children:t?o.jsx(q1,{className:"w-8 h-8"}):o.jsx(E7,{className:"w-8 h-8"})})}),o.jsx("div",{className:"text-center mb-4",children:o.jsx("p",{className:"text-sm text-gray-600",children:t?"音声認識中...":"マイクボタンをクリックして開始"})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"認識テキスト"}),o.jsx("textarea",{value:n,onChange:L=>r(L.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"音声認識されたテキストがここに表示されます..."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:w,disabled:!n.trim()||d,className:`flex items-center px-4 py-2 rounded-md transition-colors ${!n.trim()||d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"処理中..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pc,{className:"w-4 h-4 mr-2"}),"取引に変換"]})})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"取引一覧"}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[s.length,"件の取引"]}),m.length>0&&o.jsxs("span",{className:"text-sm text-blue-600",children:[m.length,"件選択中"]})]}),o.jsxs("div",{className:"flex space-x-2",children:[m.length>0&&o.jsxs("button",{onClick:A,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 transition-colors",children:[o.jsx(bd,{className:"w-4 h-4 mr-1"}),"一括記録 (",m.length,")"]}),o.jsxs("button",{onClick:C,disabled:s.length===0,className:`flex items-center px-3 py-1 rounded-md text-sm transition-colors ${s.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[o.jsx(_i,{className:"w-4 h-4 mr-1"}),"CSVエクスポート"]})]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o.jsx("button",{onClick:T,className:"flex items-center",children:m.length===s.length&&s.length>0?o.jsx(bd,{className:"w-4 h-4 text-blue-600"}):o.jsx(pb,{className:"w-4 h-4 text-gray-400"})})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日付"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"説明"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(L=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm",children:o.jsx("button",{onClick:()=>j(L.id),className:"flex items-center",children:m.includes(L.id)?o.jsx(bd,{className:"w-5 h-5 text-blue-600"}):o.jsx(pb,{className:"w-5 h-5 text-gray-400"})})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===L.id?o.jsx("input",{type:"date",value:c.date||L.date,onChange:F=>u(W=>({...W,date:F.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):L.date}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs",children:a===L.id?o.jsx("input",{type:"text",value:c.description||L.description,onChange:F=>u(W=>({...W,description:F.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):L.description}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===L.id?o.jsx("input",{type:"number",value:c.amount||L.amount,onChange:F=>u(W=>({...W,amount:Number(F.target.value)})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):o.jsxs("span",{className:L.type==="income"?"text-green-600":"text-red-600",children:[L.type==="income"?"+":"-","¥",L.amount.toLocaleString()]})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===L.id?o.jsxs("select",{value:c.category||L.category,onChange:F=>u(W=>({...W,category:F.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"売上",children:"売上"}),o.jsx("option",{value:"給与",children:"給与"}),o.jsx("option",{value:"交通費",children:"交通費"}),o.jsx("option",{value:"食費",children:"食費"}),o.jsx("option",{value:"消耗品費",children:"消耗品費"}),o.jsx("option",{value:"接待交際費",children:"接待交際費"}),o.jsx("option",{value:"通信費",children:"通信費"}),o.jsx("option",{value:"水道光熱費",children:"水道光熱費"}),o.jsx("option",{value:"雑費",children:"雑費"}),o.jsx("option",{value:"未分類",children:"未分類"})]}):L.category}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:a===L.id?o.jsx("button",{onClick:k,className:"text-green-600 hover:text-green-900 mr-2",children:o.jsx(jc,{className:"w-4 h-4"})}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>D(L),className:"text-green-600 hover:text-green-900 mr-2",children:o.jsx(Br,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>_(L),className:"text-blue-600 hover:text-blue-900 mr-2",children:o.jsx(u3,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>R(L.id),className:"text-red-600 hover:text-red-900",children:o.jsx(js,{className:"w-4 h-4"})})]})})]},L.id))})]}),s.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"まだ取引がありません"}),o.jsx("p",{className:"text-sm mt-2",children:"音声入力で取引を追加してください"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"使い方"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"音声入力開始"}),o.jsx("p",{className:"text-sm text-gray-600",children:"マイクボタンをクリックして、取引内容を話してください。"})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"テキスト確認"}),o.jsx("p",{className:"text-sm text-gray-600",children:"認識されたテキストを確認・編集してください。"})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"取引に変換"}),o.jsx("p",{className:"text-sm text-gray-600",children:"「取引に変換」ボタンをクリックして、取引を登録してください。"})]})]})]})]})})},yU=[{id:"1",title:"確定申告書",description:"年次確定申告書（個人事業主用）",deadline:"2024-03-15",required:!0,template_url:"/templates/individual/kakutei_shinkoku.pdf"},{id:"2",title:"青色申告決算書",description:"青色申告専用の決算書類",deadline:"2024-03-15",required:!0,template_url:"/templates/individual/seiroku_kessan.pdf"},{id:"3",title:"給与所得者の扶養控除等申告書",description:"従業員が提出する扶養控除申告書",deadline:"2024-01-31",required:!1,template_url:"/templates/individual/fuyou_koujo.pdf"}],vU=()=>{const[t,e]=ae.useState({_id:"1",business_type:"individual",company_name:"個人事業主"}),[n,r]=ae.useState(yU.map(O=>({...O,status:"not_started",data_imported:!1,versions:[{id:"1",version:1,content:"初期バージョン",createdAt:new Date().toISOString(),createdBy:"ユーザー1"}],tags:[],comments:[]}))),[s,i]=ae.useState(!1),[a,l]=ae.useState(null),[c,u]=ae.useState(""),[d,h]=ae.useState("all"),[m,f]=ae.useState("all"),[v,x]=ae.useState(!1),b=Array.from(new Set(n.flatMap(O=>O.tags||[]))),y=(O,Z)=>{r(B=>B.map(se=>se.id===O?{...se,status:Z}:se))},w=O=>{r(Z=>Z.filter(B=>B.id!==O))},_=()=>{const O={id:Date.now().toString(),title:"新しい申告書類",description:"説明を入力してください",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,content:"",versions:[{id:"1",version:1,content:"初期バージョン",createdAt:new Date().toISOString(),createdBy:"ユーザー1"}],tags:[],comments:[]};r(Z=>[O,...Z])},[k,R]=ae.useState(null),[I,D]=ae.useState({}),A=O=>{R(O.id),D(O)},j=()=>{k&&I&&(r(O=>O.map(Z=>Z.id===k?{...Z,...I}:Z)),R(null),D({}))},T=[{id:1,title:"売上・経費の集計",description:"取引履歴から売上と経費を分類して集計します",icon:Qd},{id:2,title:"青色申告決算書の作成",description:"集計したデータをもとに決算書を作成します",icon:ti},{id:3,title:"確定申告書の作成",description:"決算書のデータをもとに確定申告書を作成します",icon:$1},{id:4,title:"電子申告または郵送",description:"e-Taxで電子申告するか、郵送で提出します",icon:_i}],C=[{id:1,title:"第2会社の設立手続き",description:"新しい会社の設立登記と税務登記を行います",icon:Br},{id:2,title:"取引の分離と記録",description:"第1会社と第2会社の取引を明確に分離して記録します",icon:Qd},{id:3,title:"各社の決算書作成",description:"各会社ごとに決算書を作成します",icon:ti},{id:4,title:"法人税申告書の作成",description:"各会社の決算データをもとに法人税申告書を作成します",icon:$1},{id:5,title:"電子申告または郵送",description:"e-Taxで電子申告するか、郵送で提出します",icon:_i}],L=t.business_type==="individual"?T:C,F=O=>{const Z=document.createElement("a");Z.href=O.template_url||"#",Z.download=`${O.title}.pdf`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),y(O.id,"in_progress")},W=O=>{r(Z=>Z.map(B=>B.id===O?{...B,data_imported:!0}:B)),y(O,"in_progress")},oe=O=>{y(O,"completed")},H=O=>{l(O),i(!0)},ce=(O,Z)=>{r(B=>B.map(se=>{if(se.id===O){const V={id:Date.now().toString(),content:Z,createdAt:new Date().toISOString(),createdBy:"ユーザー1"};return{...se,comments:[...se.comments||[],V]}}return se}))},te=(O,Z)=>{r(B=>B.map(se=>{if(se.id===O){const V=se.tags?[...se.tags,Z]:[Z];return{...se,tags:V}}return se}))},ue=n.filter(O=>{const Z=O.title.toLowerCase().includes(c.toLowerCase())||O.description.toLowerCase().includes(c.toLowerCase())||O.content&&O.content.toLowerCase().includes(c.toLowerCase()),B=d==="all"||O.status===d,se=m==="all"||O.tags&&O.tags.includes(m);return Z&&B&&se}),pe=O=>{window.print()},xe=O=>{navigator.share?navigator.share({title:O.title,text:O.description,url:window.location.href}).catch(Z=>console.log("共有エラー:",Z)):alert("このブラウザでは共有機能がサポートされていません")},U=async()=>{try{alert("政府の公式ウェブサイトからテンプレートをダウンロードします。しばらくお待ちください...");const O="https://www.nta.go.jp/taxes/shiraberu/taxanswer/shotoku/1150.htm";try{const Z=await fetch(O);if(!Z.ok)throw new Error(`政府ウェブサイトからのダウンロードに失敗しました: ${Z.status} ${Z.statusText}`);const B=await Z.text(),se=ee(B);if(se.length>0){const V=se[0],E=await fetch(V);if(!E.ok)throw new Error(`PDFのダウンロードに失敗しました: ${E.status} ${E.statusText}`);const M=await E.blob(),Y=`政府テンプレート_${new Date().toISOString().split("T")[0]}.pdf`,he=URL.createObjectURL(M),me=document.createElement("a");me.href=he,me.download=Y,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(he);const le={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府の公式ウェブサイトからダウンロードしたテンプレート",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:V,content:`政府ウェブサイトからダウンロードしたテンプレート: ${V}`,versions:[{id:"1",version:1,content:`初期バージョン: ${V}`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート"],comments:[]};r(X=>[le,...X]),alert("政府の公式ウェブサイトからテンプレートをダウンロードしました")}else{alert("政府ウェブサイトからPDFリンクが見つかりませんでした。代替処理としてサンプルテンプレートを作成します。");const V={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府ウェブサイトからダウンロードしたテンプレート（サンプル）",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:O,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${O} からダウンロードしてください。`,versions:[{id:"1",version:1,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${O} からダウンロードしてください。`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート","サンプル"],comments:[]};r(E=>[V,...E])}}catch(Z){console.error("政府ウェブサイトからのテンプレートダウンロードエラー:",Z),alert(`政府ウェブサイトからの直接ダウンロードに失敗しました。代替処理としてサンプルテンプレートを作成します。エラー: ${Z instanceof Error?Z.message:"不明なエラー"}`);const B={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府ウェブサイトからダウンロードしたテンプレート（サンプル）",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:O,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${O} からダウンロードしてください。`,versions:[{id:"1",version:1,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${O} からダウンロードしてください。`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート","サンプル"],comments:[]};r(se=>[B,...se])}}catch(O){console.error("政府ウェブサイトからのテンプレートダウンロードエラー:",O),alert(`テンプレートのダウンロードに失敗しました: ${O instanceof Error?O.message:"不明なエラー"}`)}},ee=O=>{const Z=[];return new DOMParser().parseFromString(O,"text/html").querySelectorAll('a[href$=".pdf"]').forEach(E=>{const M=E.getAttribute("href");if(M)try{const Y=new URL(M,"https://www.nta.go.jp").href;Z.push(Y)}catch{console.warn("無効なPDFリンクをスキップしました:",M)}}),Z};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(kn,{to:"/dashboard",className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[o.jsx(po,{className:"h-5 w-5 mr-2"}),"ダッシュボードに戻る"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"業態変換"}),o.jsx("p",{className:"text-gray-600",children:"個人事業主から法人（2社目）への変換手順をシミュレーションします"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"変換手順"}),o.jsx("div",{className:"space-y-4",children:L.map(O=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(O.icon,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:O.title}),o.jsx("p",{className:"text-gray-600",children:O.description})]})]},O.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"必要な書類テンプレート"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[o.jsx(Br,{className:"h-4 w-4 mr-2"}),"新しい書類"]}),o.jsxs("button",{onClick:U,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[o.jsx(_i,{className:"h-4 w-4 mr-2"}),"政府テンプレート"]})]})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",placeholder:"書類を検索...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:c,onChange:O=>u(O.target.value)})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:O=>h(O.target.value),children:[o.jsx("option",{value:"all",children:"すべてのステータス"}),o.jsx("option",{value:"not_started",children:"未開始"}),o.jsx("option",{value:"in_progress",children:"進行中"}),o.jsx("option",{value:"completed",children:"完了"})]}),o.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:O=>f(O.target.value),children:[o.jsx("option",{value:"all",children:"すべてのタグ"}),b.map(O=>o.jsx("option",{value:O,children:O},O))]})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:ue.map(O=>{var Z;return o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:k===O.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:I.title||"",onChange:B=>D({...I,title:B.target.value}),placeholder:"タイトル"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:I.description||"",onChange:B=>D({...I,description:B.target.value}),placeholder:"説明",rows:2}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>{R(null),D({})},className:"px-3 py-1 text-gray-600 hover:text-gray-800",children:"キャンセル"}),o.jsx("button",{onClick:j,className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"保存"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:O.title}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>A(O),className:"p-1 text-gray-500 hover:text-blue-600",title:"編集",children:o.jsx(u3,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>w(O.id),className:"p-1 text-gray-500 hover:text-red-600",title:"削除",children:o.jsx(js,{className:"h-4 w-4"})})]})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:O.description}),o.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(Z=O.tags)==null?void 0:Z.map(B=>o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:B},B)),o.jsx("button",{onClick:()=>{const B=prompt("新しいタグを入力してください:");B&&te(O.id,B)},className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full hover:bg-gray-200",children:"+"})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[o.jsx(Ty,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:["期限: ",O.deadline]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${O.status==="not_started"?"bg-gray-100 text-gray-800":O.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:O.status==="not_started"?"未開始":O.status==="in_progress"?"進行中":"完了"}),O.data_imported&&o.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"データインポート済み"})]}),o.jsxs("div",{className:"flex space-x-1",children:[O.template_url&&o.jsx("button",{onClick:()=>F(O),className:"p-2 text-gray-500 hover:text-blue-600",title:"テンプレートダウンロード",children:o.jsx(_i,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>W(O.id),className:"p-2 text-gray-500 hover:text-green-600",title:"データインポート",disabled:O.data_imported,children:o.jsx(Ry,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>H(O),className:"p-2 text-gray-500 hover:text-purple-600",title:"プレビュー",children:o.jsx(gl,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>{O.status==="completed"?alert("この書類はすでに提出されています"):oe(O.id)},className:"p-2 text-gray-500 hover:text-green-600",title:"提出",children:o.jsx(pc,{className:"h-4 w-4"})})]})]})]})},O.id)})})]})]}),s&&a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.title}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>pe(),className:"p-2 text-gray-500 hover:text-gray-700",title:"印刷",children:o.jsx(R7,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>xe(a),className:"p-2 text-gray-500 hover:text-gray-700",title:"共有",children:o.jsx(d3,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-500 hover:text-gray-700",title:"閉じる",children:o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-100px)]",children:[a.content?o.jsx("div",{className:"prose max-w-none",children:o.jsx("p",{children:a.content})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ti,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"プレビューするコンテンツがありません"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"データをインポートするか、コンテンツを追加してください"})]}),a.versions&&a.versions.length>0&&o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{className:"text-md font-semibold mb-3",children:"バージョン履歴"}),o.jsx("div",{className:"space-y-2",children:a.versions.map(O=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:["バージョン ",O.version]}),o.jsx("span",{className:"text-gray-500 text-sm ml-2",children:new Date(O.createdAt).toLocaleString()})]}),o.jsx("span",{className:"text-gray-500 text-sm",children:O.createdBy})]},O.id))})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{className:"text-md font-semibold mb-3",children:"コメント"}),a.comments&&a.comments.length>0?o.jsx("div",{className:"space-y-3",children:a.comments.map(O=>o.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:O.createdBy}),o.jsx("span",{className:"text-gray-500 text-sm",children:new Date(O.createdAt).toLocaleString()})]}),o.jsx("p",{className:"mt-1 text-gray-700",children:O.content})]},O.id))}):o.jsx("p",{className:"text-gray-500 text-center py-4",children:"コメントはありません"}),o.jsxs("div",{className:"mt-4",children:[o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"コメントを追加...",rows:3}),o.jsx("div",{className:"mt-2 flex justify-end",children:o.jsx("button",{onClick:()=>{const O=document.querySelector('textarea[placeholder="コメントを追加..."]');O&&O.value.trim()!==""&&(ce(a.id,O.value),O.value="")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"コメントを追加"})})]})]})]}),o.jsx("div",{className:"flex justify-end p-4 border-t",children:o.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"閉じる"})})]})})]})},bU=()=>{const[t,e]=ae.useState("integrations"),[n,r]=ae.useState({}),[s]=ae.useState([{id:"1",name:"三菱UFJ銀行",type:"bank",status:"connected",lastSync:"2024-01-15 09:30",description:"普通預金口座の取引履歴を自動取得",logo:"🏦",features:["残高照会","取引履歴","自動仕訳"]},{id:"2",name:"楽天カード",type:"credit",status:"connected",lastSync:"2024-01-15 08:45",description:"クレジットカード利用明細を自動取得",logo:"💳",features:["利用明細","自動分類","レシート連携"]},{id:"3",name:"Amazon",type:"ecommerce",status:"error",lastSync:"2024-01-14 15:20",description:"Amazon販売データの自動取得",logo:"📦",features:["売上データ","手数料計算","在庫管理"]},{id:"4",name:"Square POS",type:"pos",status:"disconnected",lastSync:"未接続",description:"POS売上データの自動取得",logo:"🛒",features:["売上データ","商品管理","レシート発行"]},{id:"5",name:"PayPal",type:"payment",status:"connected",lastSync:"2024-01-15 10:15",description:"PayPal決済データの自動取得",logo:"💰",features:["決済履歴","手数料計算","返金処理"]},{id:"6",name:"freee",type:"accounting",status:"pending",lastSync:"設定中",description:"会計ソフトとのデータ連携",logo:"📊",features:["仕訳同期","レポート","税務申告"]}]),[i]=ae.useState([{id:"1",name:"メインAPI",key:"ak_live_1234567890abcdef...",permissions:["read","write","admin"],created:"2024-01-01",lastUsed:"2024-01-15 09:30",status:"active"},{id:"2",name:"モバイルアプリ",key:"ak_test_abcdef1234567890...",permissions:["read"],created:"2024-01-10",lastUsed:"2024-01-14 16:45",status:"active"},{id:"3",name:"開発用",key:"ak_dev_fedcba0987654321...",permissions:["read","write"],created:"2024-01-05",lastUsed:"2024-01-12 11:20",status:"inactive"}]),a=[{name:"みずほ銀行",type:"bank",logo:"🏦"},{name:"りそな銀行",type:"bank",logo:"🏦"},{name:"イオンカード",type:"credit",logo:"💳"},{name:"JCBカード",type:"credit",logo:"💳"},{name:"Shopify",type:"ecommerce",logo:"🛍️"},{name:"BASE",type:"ecommerce",logo:"🛍️"},{name:"Airレジ",type:"pos",logo:"📱"},{name:"Stripe",type:"payment",logo:"💳"},{name:"マネーフォワード",type:"accounting",logo:"📈"}],l=[{time:"2024-01-15 10:15",source:"PayPal",type:"決済データ",count:15,status:"success"},{time:"2024-01-15 09:30",source:"三菱UFJ銀行",type:"取引履歴",count:8,status:"success"},{time:"2024-01-15 08:45",source:"楽天カード",type:"利用明細",count:23,status:"success"},{time:"2024-01-14 15:20",source:"Amazon",type:"売上データ",count:0,status:"error"},{time:"2024-01-14 14:30",source:"三菱UFJ銀行",type:"取引履歴",count:12,status:"success"}],c=x=>{switch(x){case"connected":return"text-green-600 bg-green-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},u=x=>{switch(x){case"connected":return"接続済み";case"disconnected":return"未接続";case"error":return"エラー";case"pending":return"設定中";default:return"不明"}},d=x=>{r(b=>({...b,[x]:!b[x]}))},h=x=>{navigator.clipboard.writeText(x)},m=x=>{console.log("Connecting to:",x)},f=x=>{console.log("Disconnecting from:",x)},v=x=>{console.log("Syncing:",x)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(J0,{}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"連携設定"}),o.jsx("p",{className:"text-gray-600",children:"外部サービスとの連携を管理します"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex space-x-8 px-6",children:[o.jsx("button",{onClick:()=>e("integrations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="integrations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"サービス連携"}),o.jsx("button",{onClick:()=>e("api"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="api"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"API管理"}),o.jsx("button",{onClick:()=>e("sync"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="sync"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"同期履歴"})]})})}),t==="integrations"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"接続済みサービス"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.map(x=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-2xl mr-3",children:x.logo}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),o.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(x.status)}`,children:u(x.status)})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["最終同期: ",x.lastSync]}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:x.features.map((b,y)=>o.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b},y))})]}),o.jsxs("div",{className:"flex space-x-2",children:[x.status==="connected"?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>v(x.id),className:"flex-1 bg-blue-600 text-white text-xs py-2 px-3 rounded hover:bg-blue-700",children:[o.jsx(W0,{className:"w-3 h-3 inline mr-1"}),"同期"]}),o.jsx("button",{onClick:()=>f(x.id),className:"flex-1 bg-gray-600 text-white text-xs py-2 px-3 rounded hover:bg-gray-700",children:"切断"})]}):o.jsx("button",{onClick:()=>m(x.id),className:"w-full bg-green-600 text-white text-xs py-2 px-3 rounded hover:bg-green-700",children:"接続"}),o.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800",children:o.jsx(Zu,{className:"w-4 h-4"})})]})]},x.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"利用可能なサービス"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.map((x,b)=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-2xl mr-3",children:x.logo}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),o.jsx("p",{className:"text-sm text-gray-600 capitalize",children:x.type})]})]}),o.jsxs("button",{className:"bg-blue-600 text-white text-xs py-2 px-3 rounded hover:bg-blue-700",children:[o.jsx(Br,{className:"w-3 h-3 inline mr-1"}),"追加"]})]})},b))})]})]}),t==="api"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"APIキー管理"}),o.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[o.jsx(Br,{className:"w-4 h-4 inline mr-2"}),"新しいAPIキー"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"名前"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"APIキー"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"権限"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最終使用"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(x=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:n[x.id]?x.key:"••••••••••••••••"}),o.jsx("button",{onClick:()=>d(x.id),className:"text-gray-600 hover:text-gray-800",children:n[x.id]?o.jsx(a7,{className:"w-4 h-4"}):o.jsx(gl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>h(x.key),className:"text-gray-600 hover:text-gray-800",children:o.jsx(wd,{className:"w-4 h-4"})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:x.permissions.map((b,y)=>o.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b},y))})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.lastUsed}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status==="active"?"アクティブ":"無効"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"編集"}),o.jsx("button",{className:"text-red-600 hover:text-red-900",children:"削除"})]})})]},x.id))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API使用状況"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-blue-900",children:"今月のリクエスト数"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:"12,547"}),o.jsx("p",{className:"text-sm text-blue-700",children:"上限: 50,000"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-green-900",children:"成功率"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:"99.2%"}),o.jsx("p",{className:"text-sm text-green-700",children:"12,447 / 12,547"})]}),o.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-yellow-900",children:"平均レスポンス時間"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:"245ms"}),o.jsx("p",{className:"text-sm text-yellow-700",children:"過去24時間"})]})]})]})]}),t==="sync"&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"同期履歴"}),o.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[o.jsx(W0,{className:"w-4 h-4 inline mr-2"}),"全て同期"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"時刻"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"サービス"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"データ種別"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"件数"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((x,b)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.time}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.source}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.type}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.count,"件"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[x.status==="success"?o.jsx(Cs,{className:"w-4 h-4 text-green-500 mr-2"}):o.jsx(Oy,{className:"w-4 h-4 text-red-500 mr-2"}),o.jsx("span",{className:`text-sm ${x.status==="success"?"text-green-600":"text-red-600"}`,children:x.status==="success"?"成功":"エラー"})]})})]},b))})]})})]})]})]})},wU=()=>{const{transactions:t,loading:e,createTransaction:n,updateTransaction:r,deleteTransaction:s}=Vj(),[i,a]=ae.useState(""),[l,c]=ae.useState(!1),[u,d]=ae.useState(null),[h,m]=ae.useState([]),[f,v]=ae.useState(!1),[x,b]=ae.useState(""),[y,w]=ae.useState({start:"",end:""}),[_,k]=ae.useState({min:"",max:""}),[R,I]=ae.useState("date"),[D,A]=ae.useState("desc"),[j,T]=ae.useState(1),C=10,L=ae.useMemo(()=>{const O=t.map(Z=>Z.category);return Array.from(new Set(O)).filter(Boolean)},[t]),F=ae.useMemo(()=>{let O=[...t];return i&&(O=O.filter(Z=>Z.item&&Z.item.toLowerCase().includes(i.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(i.toLowerCase())||Z.category&&Z.category.toLowerCase().includes(i.toLowerCase()))),x&&(O=O.filter(Z=>Z.category===x)),y.start&&(O=O.filter(Z=>Z.date>=y.start)),y.end&&(O=O.filter(Z=>Z.date<=y.end)),_.min&&(O=O.filter(Z=>Z.amount>=Number(_.min))),_.max&&(O=O.filter(Z=>Z.amount<=Number(_.max))),O.sort((Z,B)=>{let se,V;switch(R){case"amount":se=Z.amount,V=B.amount;break;case"item":se=Z.item.toLowerCase(),V=B.item.toLowerCase();break;default:se=new Date(Z.date),V=new Date(B.date)}return D==="asc"?se>V?1:-1:se<V?1:-1}),O},[t,i,x,y,_,R,D]),W=Math.ceil(F.length/C),oe=ae.useMemo(()=>{const O=(j-1)*C,Z=O+C;return F.slice(O,Z)},[F,j]),H=ae.useMemo(()=>{const O=t.filter(B=>parseFloat(B.amount)>0).reduce((B,se)=>B+Math.abs(parseFloat(se.amount)),0),Z=t.filter(B=>parseFloat(B.amount)<0).reduce((B,se)=>B+Math.abs(parseFloat(se.amount)),0);return{total:t.length,income:O,expense:Z,balance:O-Z}},[t]),ce=()=>{h.length===oe.length?m([]):m(oe.map(O=>O.id))},te=O=>{h.includes(O)?m(h.filter(Z=>Z!==O)):m([...h,O])},ue=async()=>{if(window.confirm(`${h.length}件の取引を削除してもよろしいですか？`))try{for(const O of h)await s(O);m([])}catch(O){console.error("一括削除に失敗:",O)}},pe=async O=>{try{const Z=localStorage.getItem("user");if(Z)try{const B=JSON.parse(Z);O.creator=B.id}catch(B){console.error("ユーザー情報の解析に失敗しました:",B)}await n(O),c(!1)}catch(Z){console.error("取引の作成に失敗:",Z)}},xe=async O=>{if(u)try{await r(u.id,O),d(null)}catch(Z){console.error("取引の更新に失敗:",Z)}},U=()=>{b(""),w({start:"",end:""}),k({min:"",max:""}),a("")},ee=ae.useMemo(()=>{let O=0;return x&&O++,(y.start||y.end)&&O++,(_.min||_.max)&&O++,O},[x,y,_]);return e?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"データを読み込んでいます..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"取引履歴"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"すべての取引履歴を確認・管理できます"})]})]})}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center shadow-sm font-medium",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"新規取引"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-6",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-500",children:"総取引数"}),o.jsx("div",{className:"text-2xl font-bold mt-1 text-gray-900",children:H.total})]}),o.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:o.jsx(ti,{className:"w-6 h-6 text-blue-500"})})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-500",children:"収入"}),o.jsxs("div",{className:"text-2xl font-bold mt-1 text-green-600",children:["¥",H.income.toLocaleString()]})]}),o.jsx("div",{className:"rounded-lg bg-green-50 p-3",children:o.jsx(Es,{className:"w-6 h-6 text-green-500"})})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-500",children:"支出"}),o.jsxs("div",{className:"text-2xl font-bold mt-1 text-red-600",children:["¥",H.expense.toLocaleString()]})]}),o.jsx("div",{className:"rounded-lg bg-red-50 p-3",children:o.jsx(zc,{className:"w-6 h-6 text-red-500"})})]})}),o.jsx("div",{className:`rounded-xl shadow-sm p-5 border hover:shadow-md transition-shadow ${H.balance>=0?"border-green-100 bg-green-50":"border-red-100 bg-red-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-500",children:"収支"}),o.jsxs("div",{className:`text-2xl font-bold mt-1 ${H.balance>=0?"text-green-600":"text-red-600"}`,children:["¥",H.balance.toLocaleString()]})]}),o.jsx("div",{className:`rounded-lg p-3 ${H.balance>=0?"bg-green-100":"bg-red-100"}`,children:o.jsx(a3,{className:`w-6 h-6 ${H.balance>=0?"text-green-500":"text-red-500"}`})})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6 overflow-hidden",children:[o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{className:"flex-1 max-w-md",children:o.jsxs("div",{className:"relative",children:[o.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",value:i,onChange:O=>a(O.target.value),placeholder:"取引内容、カテゴリなどで検索...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>v(!f),className:`px-4 py-2.5 text-sm rounded-lg transition-colors flex items-center space-x-2 ${f?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(o3,{className:"w-4 h-4"}),o.jsx("span",{children:"フィルタ"}),ee>0&&o.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ee}),o.jsx(s3,{className:`w-4 h-4 transition-transform ${f?"rotate-180":""}`})]}),(x||y.start||y.end||_.min||_.max)&&o.jsxs("button",{onClick:U,className:"px-4 py-2.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[o.jsx(Ht,{className:"w-4 h-4 mr-1"}),"クリア"]})]})]})}),f&&o.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:o.jsx("div",{className:"pt-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カテゴリ"}),o.jsxs("select",{value:x,onChange:O=>b(O.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors",children:[o.jsx("option",{value:"",children:"すべて"}),L.map(O=>o.jsx("option",{value:O,children:O},O))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日"}),o.jsx("input",{type:"date",value:y.start,onChange:O=>w({...y,start:O.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"終了日"}),o.jsx("input",{type:"date",value:y.end,onChange:O=>w({...y,end:O.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小金額"}),o.jsx("input",{type:"number",value:_.min,onChange:O=>k({..._,min:O.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大金額"}),o.jsx("input",{type:"number",value:_.max,onChange:O=>k({..._,max:O.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]})]})})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6 overflow-hidden",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("label",{className:"text-sm text-gray-700 mr-2",children:"ソート:"}),o.jsxs("select",{value:R,onChange:O=>I(O.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors",children:[o.jsx("option",{value:"date",children:"日付"}),o.jsx("option",{value:"amount",children:"金額"}),o.jsx("option",{value:"item",children:"項目"})]})]}),o.jsx("button",{onClick:()=>A(D==="asc"?"desc":"asc"),className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:D==="asc"?"昇順":"降順"})]}),h.length>0&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[h.length,"件選択中"]}),o.jsxs("button",{onClick:ue,className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors flex items-center",children:[o.jsx(js,{className:"w-4 h-4 mr-1"}),"削除"]})]})]})})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:o.jsx("input",{type:"checkbox",checked:h.length===oe.length&&oe.length>0,onChange:ce,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-4 w-4"})}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"項目"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"日付"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),o.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:oe.length>0?oe.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:h.includes(O.id),onChange:()=>te(O.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-4 w-4"})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.item}),o.jsx("div",{className:"text-sm text-gray-500 sm:hidden",children:new Date(O.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end",children:[O.type==="income"?o.jsx(Es,{className:"w-4 h-4 text-green-500 mr-1"}):o.jsx(zc,{className:"w-4 h-4 text-red-500 mr-1"}),o.jsxs("span",{className:O.type==="income"?"text-green-600":"text-red-600",children:[O.type==="expense"?"-":"",O.amount.toLocaleString()]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:new Date(O.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-medium rounded-full ${O.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.category})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>{d(O),c(!0)},className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",children:o.jsx(mc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>s(O.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(js,{className:"w-4 h-4"})})]})})]},O.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(ti,{className:"w-12 h-12 text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"取引が見つかりません"}),o.jsx("p",{className:"text-gray-500",children:"条件に一致する取引がありません"})]})})})})]})}),oe.length>0&&o.jsxs("div",{className:"bg-white px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-gray-100",children:[o.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[o.jsx("button",{onClick:()=>T(Math.max(1,j-1)),disabled:j===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"前へ"}),o.jsx("button",{onClick:()=>T(Math.min(W,j+1)),disabled:j===W,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"次へ"})]}),o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:Math.min((j-1)*C+1,F.length)})," 件から ",o.jsx("span",{className:"font-medium",children:Math.min(j*C,F.length)})," 件までを表示中（全 ",o.jsx("span",{className:"font-medium",children:F.length})," 件）"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[o.jsxs("button",{onClick:()=>T(Math.max(1,j-1)),disabled:j===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[o.jsx("span",{className:"sr-only",children:"前へ"}),"<"]}),[...Array(Math.min(5,W))].map((O,Z)=>{const B=Math.max(1,Math.min(j-2,W-4))+Z;return o.jsx("button",{onClick:()=>T(B),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${j===B?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:B},B)}),o.jsxs("button",{onClick:()=>T(Math.min(W,j+1)),disabled:j===W,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[o.jsx("span",{className:"sr-only",children:"次へ"}),">"]})]})})]})]})]})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u?"取引を編集":"新規取引"}),o.jsx("button",{onClick:()=>{c(!1),d(null)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Ht,{className:"w-5 h-5 text-gray-500"})})]}),o.jsx(vj,{transaction:u,onSubmit:u?xe:pe,onCancel:()=>{c(!1),d(null)}})]})})})]})},_U=()=>{const[t,e]=ae.useState([]),[n,r]=ae.useState([]),[s,i]=ae.useState(!1),a=ae.useCallback(async()=>{i(!0);try{const{data:h,error:m}=await Ur.from("transactions").select("*").order("date",{ascending:!1});if(m)throw new Error(`取引履歴の取得に失敗しました: ${m.message}`);const{data:f,error:v}=await Ur.from("ai_transactions").select("*").order("created_at",{ascending:!1});if(v)throw new Error(`AI取引履歴の取得に失敗しました: ${v.message}`);e(h||[]),r(f||[])}catch(h){console.error("データの取得に失敗:",h),Vn.error(`データの取得に失敗しました: ${h.message}`)}finally{i(!1)}},[]),l=async h=>{var m;try{const v={...h,creator:"mock_user_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:x,error:b}=await Ur.from("transactions").insert(v).select();if(b){const y=JSON.stringify(b);throw new Error(`取引の作成に失敗しました: ${b.message} - ${y}`)}return await a(),Vn.success("取引が正常に作成されました"),(m=x==null?void 0:x[0])==null?void 0:m.id}catch(f){throw console.error("取引の作成に失敗:",f),Vn.error(`取引の作成に失敗しました: ${f.message}`),f}},c=async(h,m)=>{try{const{data:f,error:v}=await Ur.from("transactions").update({...m,updated_at:new Date().toISOString()}).eq("id",h).select();if(v){const x=JSON.stringify(v);throw new Error(`取引の更新に失敗しました: ${v.message} - ${x}`)}await a(),Vn.success("取引が正常に更新されました")}catch(f){throw console.error("取引の更新に失敗:",f),Vn.error(`取引の更新に失敗しました: ${f.message}`),f}},u=async h=>{try{const{error:m}=await Ur.from("transactions").delete().eq("id",h);if(m){const f=JSON.stringify(m);throw new Error(`取引の削除に失敗しました: ${m.message} - ${f}`)}await a(),Vn.success("取引が正常に削除されました")}catch(m){throw console.error("取引の削除に失敗:",m),Vn.error(`取引の削除に失敗しました: ${m.message}`),m}},d=async(h,m,f)=>{try{const{data:v,error:x}=await Ur.from("ai_transactions").update({manual_verified:m,learning_feedback:f,updated_at:new Date().toISOString()}).eq("id",h).select();if(x){const b=JSON.stringify(x);throw new Error(`AI取引の確認に失敗しました: ${x.message} - ${b}`)}await a(),Vn.success(m?"AI分類を承認しました":"AI分類を却下しました")}catch(v){throw console.error("AI取引の確認に失敗:",v),Vn.error(`AI取引の確認に失敗しました: ${v.message}`),v}};return ae.useEffect(()=>{a()},[a]),{transactions:t,aiTransactions:n,loading:s,fetchAllData:a,createTransaction:l,updateTransaction:c,deleteTransaction:u,verifyAITransaction:d}},NU=()=>{const{aiTransactions:t,loading:e,verifyAITransaction:n}=_U(),[r,s]=ae.useState(""),[i,a]=ae.useState(""),[l,c]=ae.useState(""),[u,d]=ae.useState(""),[h,m]=ae.useState([]),[f,v]=ae.useState(!0),[x,b]=ae.useState(!0),[y,w]=ae.useState(""),[_,k]=ae.useState([]),[R,I]=ae.useState({min:"",max:""});ae.useEffect(()=>{const H=t.flatMap(te=>te.ai_suggestions||[]),ce=Array.from(new Set(H));k(ce)},[t]);const D=()=>{s(""),a(""),c(""),d("")};ae.useEffect(()=>{m([])},[r,i,l,u,R]);const A=ae.useMemo(()=>t.filter(H=>{var U,ee;const ce=H.item.toLowerCase().includes(r.toLowerCase())||((U=H.location)==null?void 0:U.toLowerCase().includes(r.toLowerCase()))||((ee=H.original_text)==null?void 0:ee.toLowerCase().includes(r.toLowerCase())),te=!i||H.ai_category===i;let ue=!0;if(l){const O=H.confidence;switch(l){case"high":ue=O>=90;break;case"medium":ue=O>=70&&O<90;break;case"low":ue=O<70;break}}let pe=!0;if(u)switch(u){case"verified":pe=H.manual_verified===!0;break;case"unverified":pe=H.manual_verified===!1;break}let xe=!0;if(R.min||R.max){const O=Number(R.min)||0,Z=Number(R.max)||1/0;xe=H.amount>=O&&H.amount<=Z}return ce&&te&&ue&&pe&&xe}),[t,r,i,l,u,R]),j=ae.useMemo(()=>{const H=A.length,ce=A.filter(E=>E.manual_verified).length,te=H>0?A.reduce((E,M)=>E+M.confidence,0)/H:0,ue=A.filter(E=>E.confidence>=90).length,pe=A.filter(E=>E.confidence>=70&&E.confidence<90).length,xe=A.filter(E=>E.confidence<70).length,U=A.reduce((E,M)=>(E[M.ai_category]||(E[M.ai_category]={total:0,verified:0,totalConfidence:0}),E[M.ai_category].total++,E[M.ai_category].totalConfidence+=M.confidence,M.manual_verified&&E[M.ai_category].verified++,E),{}),ee=Math.min(100,ce/Math.max(H,1)*100),O=te*(ee/100),Z=H>0?A.reduce((E,M)=>E+(M.processing_time||.5),0)/H:0,B=A.filter(E=>new Date(E.created_at)>new Date(Date.now()-7*24*60*60*1e3)),V=(B.length>0?B.reduce((E,M)=>E+M.confidence,0)/B.length:0)-te;return{totalTransactions:H,verifiedCount:ce,verificationRate:H>0?ce/H*100:0,averageConfidence:te,highConfidenceCount:ue,mediumConfidenceCount:pe,lowConfidenceCount:xe,highConfidenceRate:H>0?ue/H*100:0,categoryAccuracy:U,learningProgress:ee,aiMaturity:O,averageProcessingTime:Z,weeklyImprovement:V,recentTransactions:B.length}},[A]),T=H=>H>=90?"text-green-600 bg-green-100":H>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",C=H=>H>=95?{color:"bg-emerald-500",label:"最高精度"}:H>=90?{color:"bg-green-500",label:"高精度"}:H>=80?{color:"bg-blue-500",label:"良好"}:H>=70?{color:"bg-yellow-500",label:"中程度"}:{color:"bg-red-500",label:"要確認"},L=H=>{m(ce=>ce.includes(H)?ce.filter(te=>te!==H):[...ce,H])},F=()=>{h.length===A.length?m([]):m(A.map(H=>H.id))},W=async(H,ce)=>{await n(H,ce,y),w("")},oe=()=>{const H=A.filter(ce=>ce.confidence>=90&&!ce.manual_verified).map(ce=>ce.id);if(H.length===0){alert("高信頼度の未確認取引がありません");return}confirm(`信頼度90%以上の${H.length}件を一括承認しますか？`)&&H.forEach(ce=>n(ce,!0,"スマート一括承認"))};return e?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(J0,{}),o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(J0,{}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["AI自動仕分けシステム",o.jsx("span",{className:"ml-3 text-sm bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full",children:"v2.0 Pro"})]}),o.jsx("p",{className:"text-gray-600",children:"次世代機械学習による高精度な取引分類と継続的な学習改善"}),o.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[o.jsx(NC,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"リアルタイム学習"})]}),o.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[o.jsx(mb,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"ニューラルネットワーク"})]}),o.jsxs("div",{className:"flex items-center text-sm text-purple-600",children:[o.jsx(n7,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:"ビッグデータ分析"})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 lg:mt-0",children:[o.jsxs("button",{onClick:()=>b(!x),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-colors flex items-center space-x-2",children:[o.jsx(f7,{size:18}),o.jsx("span",{children:"パフォーマンス"})]}),o.jsxs("button",{onClick:()=>v(!f),className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-colors flex items-center space-x-2",children:[o.jsx(yd,{size:18}),o.jsx("span",{children:"学習詳細"})]}),o.jsxs("button",{onClick:oe,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center space-x-2",children:[o.jsx(Q7,{size:18}),o.jsx("span",{children:"スマート承認"})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-red-100 px-4 py-2 rounded-lg border border-orange-200",children:[o.jsx($7,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"text-orange-800 font-medium",children:"AI分析システム稼働中"})]})]})]}),f&&o.jsxs("div",{className:"mb-8 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-full -mr-10 -mt-10"}),o.jsxs("div",{className:"relative",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"AI分析総数"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalTransactions}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(yd,{className:"w-4 h-4 text-blue-500 mr-1"}),o.jsx("span",{className:"text-xs text-blue-600",children:"自動分析"})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-full -mr-10 -mt-10"}),o.jsxs("div",{className:"relative",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"学習完了率"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[j.verificationRate.toFixed(1),"%"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(Cs,{className:"w-4 h-4 text-green-500 mr-1"}),o.jsxs("span",{className:"text-xs text-green-600",children:[j.verifiedCount,"件確認済み"]})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-full -mr-10 -mt-10"}),o.jsxs("div",{className:"relative",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"平均信頼度"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[j.averageConfidence.toFixed(1),"%"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(yb,{className:"w-4 h-4 text-purple-500 mr-1"}),o.jsx("span",{className:"text-xs text-purple-600",children:"AI精度"})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-full -mr-10 -mt-10"}),o.jsxs("div",{className:"relative",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"AI成熟度"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[j.aiMaturity.toFixed(1),"%"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(CC,{className:"w-4 h-4 text-orange-500 mr-1"}),o.jsx("span",{className:"text-xs text-orange-600",children:"総合スコア"})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-full -mr-10 -mt-10"}),o.jsxs("div",{className:"relative",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"週間改善"}),o.jsxs("p",{className:`text-2xl font-bold ${j.weeklyImprovement>=0?"text-green-600":"text-red-600"}`,children:[j.weeklyImprovement>=0?"+":"",j.weeklyImprovement.toFixed(1),"%"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(Es,{className:"w-4 h-4 text-indigo-500 mr-1"}),o.jsx("span",{className:"text-xs text-indigo-600",children:"学習速度"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(mb,{className:"w-5 h-5 mr-2 text-blue-600"}),"処理パフォーマンス"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"平均処理時間"}),o.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[j.averageProcessingTime.toFixed(2),"秒"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"処理済み件数"}),o.jsx("span",{className:"text-lg font-bold text-blue-600",children:j.totalTransactions.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"精度向上率"}),o.jsxs("span",{className:"text-lg font-bold text-green-600",children:["+",j.weeklyImprovement.toFixed(1),"%"]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(yb,{className:"w-5 h-5 mr-2 text-purple-600"}),"信頼度分析"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"高信頼度 (90%+)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg font-bold text-green-600",children:j.highConfidenceCount}),o.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${j.highConfidenceCount/Math.max(j.totalTransactions,1)*100}%`}})})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"中信頼度 (70-89%)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg font-bold text-yellow-600",children:j.mediumConfidenceCount}),o.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${j.mediumConfidenceCount/Math.max(j.totalTransactions,1)*100}%`}})})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"低信頼度 (70%未満)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg font-bold text-red-600",children:j.lowConfidenceCount}),o.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${j.lowConfidenceCount/Math.max(j.totalTransactions,1)*100}%`}})})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(dE,{className:"w-5 h-5 mr-2 text-green-600"}),"学習成果"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"全体精度"}),o.jsxs("span",{className:"text-lg font-bold text-green-600",children:[j.averageConfidence.toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"学習進捗"}),o.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[j.learningProgress.toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"今週の分析"}),o.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[j.recentTransactions,"件"]})]})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[o.jsx(zC,{className:"w-5 h-5 mr-2"}),"カテゴリ別AI精度分析"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(j.categoryAccuracy).map(([H,ce])=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:H}),o.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[(ce.totalConfidence/ce.total).toFixed(1),"%"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"処理件数:"}),o.jsxs("span",{className:"font-medium",children:[ce.total,"件"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"確認済み:"}),o.jsxs("span",{className:"font-medium text-green-600",children:[ce.verified,"件"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:`${ce.totalConfidence/ce.total}%`}})})]})]},H))})]})]}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"項目・場所・元テキストで検索...",value:r,onChange:H=>s(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("select",{value:i,onChange:H=>a(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"すべてのカテゴリ"}),o.jsx("option",{value:"交通費",children:"交通費"}),o.jsx("option",{value:"食費",children:"食費"}),o.jsx("option",{value:"消耗品費",children:"消耗品費"}),o.jsx("option",{value:"通信費",children:"通信費"}),o.jsx("option",{value:"光熱費",children:"光熱費"}),o.jsx("option",{value:"その他",children:"その他"})]}),o.jsxs("select",{value:l,onChange:H=>c(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"すべての信頼度"}),o.jsx("option",{value:"high",children:"高信頼度 (90%以上)"}),o.jsx("option",{value:"medium",children:"中信頼度 (70-89%)"}),o.jsx("option",{value:"low",children:"低信頼度 (70%未満)"})]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsxs("select",{value:u,onChange:H=>d(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"すべての状態"}),o.jsx("option",{value:"verified",children:"確認済み"}),o.jsx("option",{value:"unverified",children:"未確認"})]}),o.jsx(SU,{onSelect:(H,ce)=>{}})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"金額範囲"}),o.jsx(jU,{min:R.min,max:R.max,onMinChange:H=>I(ce=>({...ce,min:H})),onMaxChange:H=>I(ce=>({...ce,max:H}))})]}),(r||i||l||u)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:D,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[o.jsx(W0,{className:"w-4 h-4 mr-1"}),"フィルターをクリア"]})}),h.length>0&&o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-4 border-t",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[h.length,"件選択中"]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center space-x-2",children:[o.jsx(Cs,{size:16}),o.jsx("span",{children:"一括承認"})]}),o.jsxs("button",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-red-700 hover:to-pink-700 transition-colors flex items-center space-x-2",children:[o.jsx(Ht,{size:16}),o.jsx("span",{children:"一括却下"})]})]})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left",children:o.jsxs("button",{onClick:F,className:"flex items-center space-x-2 text-sm font-medium text-gray-900",children:[h.length===A.length&&A.length>0?o.jsx(xb,{className:"w-4 h-4 text-blue-600"}):o.jsx(q1,{className:"w-4 h-4"}),o.jsx("span",{children:"選択"})]})}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"取引項目"}),o.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:"金額"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"AI分類"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"信頼度"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"詳細情報"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"確認状態"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"操作"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:A.length>0?A.map(H=>{const ce=C(H.confidence);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>L(H.id),className:"flex items-center",children:h.includes(H.id)?o.jsx(xb,{className:"w-4 h-4 text-blue-600"}):o.jsx(q1,{className:"w-4 h-4 text-gray-400"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[H.item,o.jsx("div",{className:`ml-2 w-2 h-2 rounded-full ${ce.color}`})]}),H.original_text&&o.jsxs("div",{className:"text-sm text-gray-500 mt-1 bg-gray-50 px-2 py-1 rounded",children:["元: ",H.original_text]}),H.ai_suggestions&&H.ai_suggestions.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:H.ai_suggestions.slice(0,2).map((te,ue)=>o.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded",children:te},ue))}),H.receipt_url&&o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(gl,{className:"w-3 h-3 text-gray-400 mr-1"}),o.jsx("span",{className:"text-xs text-gray-500",children:"レシート添付"})]})]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-medium text-gray-900 text-lg",children:["¥",H.amount.toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800",children:H.ai_category})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:`inline-flex px-3 py-1 text-sm font-bold rounded-full ${T(H.confidence)}`,children:[H.confidence,"%"]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full text-white ${ce.color}`,children:ce.label})]}),o.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${H.confidence>=90?"bg-gradient-to-r from-green-400 to-green-600":H.confidence>=70?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${H.confidence}%`}})}),H.processing_time&&o.jsxs("div",{className:"text-xs text-gray-500",children:[H.processing_time.toFixed(2),"秒"]})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:o.jsxs("div",{className:"space-y-1",children:[H.location&&o.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[o.jsx(m7,{className:"w-3 h-3 mr-1"}),H.location]}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(H.created_at).toLocaleDateString("ja-JP")})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:H.manual_verified?o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-green-100 to-emerald-100 text-green-800",children:[o.jsx(Cs,{size:12,className:"mr-1"}),"確認済み"]}),H.learning_feedback&&o.jsx("div",{className:"text-xs text-gray-500 max-w-20 truncate",title:H.learning_feedback,children:"フィードバック有り"})]}):o.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800",children:[o.jsx(i3,{size:12,className:"mr-1"}),"未確認"]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:!H.manual_verified&&o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx("button",{onClick:()=>W(H.id,!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-2 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-colors",title:"承認",children:o.jsx(Cs,{size:16})}),o.jsx("button",{onClick:()=>W(H.id,!1),className:"bg-gradient-to-r from-red-500 to-pink-500 text-white p-2 rounded-lg hover:from-red-600 hover:to-pink-600 transition-colors",title:"却下",children:o.jsx(Ht,{size:16})})]})})]},H.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(yd,{className:"w-16 h-16 text-gray-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI分析データが見つかりません"}),o.jsx("p",{className:"text-gray-500 max-w-md",children:"検索条件に一致するAI分析データがありません。検索条件を変更するか、新しいデータの分析をお待ちください。"}),o.jsx("button",{onClick:D,className:"mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-colors",children:"フィルターをクリア"})]})})})})]})})}),o.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 p-8 rounded-xl border border-blue-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(w7,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI学習システム"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"確認済み取引:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[j.verifiedCount,"件"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"平均精度:"}),o.jsxs("span",{className:"font-semibold text-purple-600",children:[j.averageConfidence.toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"高精度分析:"}),o.jsxs("span",{className:"font-semibold text-green-600",children:[j.highConfidenceCount,"件"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"処理速度:"}),o.jsxs("span",{className:"font-semibold text-blue-600",children:[j.averageProcessingTime.toFixed(2),"秒"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(Es,{className:"w-5 h-5 mr-2 text-blue-500"}),"学習進捗"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"全体進捗"}),o.jsxs("span",{className:"font-semibold text-blue-600",children:[j.learningProgress.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-white rounded-full h-4 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-4 rounded-full transition-all duration-1000 relative overflow-hidden",style:{width:`${j.learningProgress}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-gray-600",children:"AI成熟度"}),o.jsxs("span",{className:"font-semibold text-orange-600",children:[j.aiMaturity.toFixed(1),"%"]})]}),o.jsx("div",{className:"w-full bg-white rounded-full h-4 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-4 rounded-full transition-all duration-1000 relative overflow-hidden",style:{width:`${j.aiMaturity}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(V0,{className:"w-5 h-5 mr-2 text-yellow-500"}),"今週のハイライト"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"新規分析"}),o.jsxs("span",{className:"font-bold text-blue-600",children:[j.recentTransactions,"件"]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:"過去7日間"})]}),o.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"精度向上"}),o.jsxs("span",{className:`font-bold ${j.weeklyImprovement>=0?"text-green-600":"text-red-600"}`,children:[j.weeklyImprovement>=0?"+":"",j.weeklyImprovement.toFixed(1),"%"]})]}),o.jsx("div",{className:"text-xs text-gray-500",children:"前週比較"})]})]})]})]})}),o.jsxs("div",{className:"mt-6 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(h3,{className:"w-5 h-5 mr-2"}),"AI学習フィードバック"]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("input",{type:"text",value:y,onChange:H=>w(H.target.value),placeholder:"AIの分類についてフィードバックを入力してください...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("button",{onClick:()=>w(""),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"クリア"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"フィードバックはAIの学習に活用され、将来の分類精度向上に貢献します。"})]})]})]})},jU=({min:t,max:e,onMinChange:n,onMaxChange:r})=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[o.jsxs("span",{children:["最小金額: ¥",t||0]}),o.jsxs("span",{children:["最大金額: ¥",e||"∞"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"range",min:"0",max:"1000000",step:"1000",value:t||0,onChange:s=>n(s.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsx("input",{type:"range",min:"0",max:"1000000",step:"1000",value:e||1e6,onChange:s=>r(s.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),SU=({onSelect:t})=>{const e=r=>{const s=new Date;return s.setDate(s.getDate()+r),s.toISOString().split("T")[0]},n=r=>{const s=e(0),i=e(-r);t(i,s)};return o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[o.jsx("button",{onClick:()=>n(0),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"今日"}),o.jsx("button",{onClick:()=>n(6),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去7日間"}),o.jsx("button",{onClick:()=>n(29),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去30日間"}),o.jsx("button",{onClick:()=>n(89),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去90日間"})]})},kU=()=>{const[t,e]=ae.useState("individual"),[n,r]=ae.useState("2024"),[s,i]=ae.useState([{id:1,name:"確定申告書A",type:"individual",status:"completed",required:!0},{id:2,name:"青色申告決算書",type:"individual",status:"pending",required:!0},{id:3,name:"給与所得者の扶養控除等申告書",type:"individual",status:"pending",required:!1},{id:4,name:"法人税申告書",type:"corporate",status:"completed",required:!0},{id:5,name:"決算短信",type:"corporate",status:"pending",required:!0},{id:6,name:"株主名簿",type:"corporate",status:"pending",required:!1}]),a=["2024","2023","2022","2021"],l=s.filter(h=>h.type===t&&(t==="individual"||t==="corporate")),c=h=>{console.log(`Document ${h} downloaded`)},u=h=>{console.log(`Document ${h} uploaded`)},d=h=>{console.log(`Document ${h} auto-imported`)};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(kn,{to:"/dashboard",className:"mr-4",children:o.jsx(po,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"申告サポート"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"業態選択"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>e("individual"),className:`px-4 py-2 rounded-md ${t==="individual"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"個人事業主"}),o.jsx("button",{onClick:()=>e("corporate"),className:`px-4 py-2 rounded-md ${t==="corporate"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"法人"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"確定申告年度"}),o.jsx("select",{value:n,onChange:h=>r(h.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.map(h=>o.jsxs("option",{value:h,children:[h,"年分"]},h))})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"書類名"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"必須"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:h.name}),o.jsx("td",{className:"px-4 py-3 text-sm",children:h.status==="completed"?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(bd,{className:"w-3 h-3 mr-1"}),"完了"]}):o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o.jsx(Oy,{className:"w-3 h-3 mr-1"}),"未完了"]})}),o.jsx("td",{className:"px-4 py-3 text-sm",children:h.required?o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"必須"}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"任意"})}),o.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>c(h.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(_i,{className:"w-4 h-4 mr-1"}),"ダウンロード"]}),o.jsxs("button",{onClick:()=>u(h.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50",children:[o.jsx(Ry,{className:"w-4 h-4 mr-1"}),"アップロード"]}),o.jsxs("button",{onClick:()=>d(h.id),className:"inline-flex items-center px-3 py-1 border border-blue-300 rounded-md text-sm text-blue-700 bg-blue-50 hover:bg-blue-100",children:[o.jsx(ti,{className:"w-4 h-4 mr-1"}),"自動取り込み"]})]})})]},h.id))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"申告手順"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"必要な書類をダウンロード"}),o.jsx("p",{className:"text-sm text-gray-600",children:"上記の書類をダウンロードし、印刷してください。"})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データを入力・アップロード"}),o.jsx("p",{className:"text-sm text-gray-600",children:"書類に必要事項を記入し、スキャンしてアップロードしてください。"})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"自動取り込みと確認"}),o.jsx("p",{className:"text-sm text-gray-600",children:"アップロードした書類からデータを自動取り込みし、内容を確認してください。"})]})]})]})]})})};function AU(){const[t,e]=ae.useState(!0),n=r=>{e(r)};return o.jsx(aC,{children:o.jsx(gC,{children:o.jsxs("div",{className:"App",children:[o.jsx(J0,{showPcSideMenu:!1,onPcSideMenuToggle:n,isPcSideMenuExpanded:t,showSideMenus:!1}),o.jsx("div",{className:"flex",children:o.jsx("div",{className:"flex-1",children:o.jsxs(ZA,{children:[o.jsx(rs,{path:"/",element:o.jsx(BP,{})}),o.jsx(rs,{path:"/dashboard",element:o.jsx(fi,{children:o.jsx(DD,{})})}),o.jsx(rs,{path:"/receipt-processing",element:o.jsx(fi,{children:o.jsx($D,{})})}),o.jsx(rs,{path:"/invoice-creation",element:o.jsx(fi,{children:o.jsx(mU,{})})}),o.jsx(rs,{path:"/business-analysis",element:o.jsx(fi,{children:o.jsx(gU,{})})}),o.jsx(rs,{path:"/chat-to-book",element:o.jsx(fi,{children:o.jsx(xU,{})})}),o.jsx(rs,{path:"/business-conversion",element:o.jsx(fi,{children:o.jsx(vU,{})})}),o.jsx(rs,{path:"/integration-settings",element:o.jsx(fi,{children:o.jsx(bU,{})})}),o.jsx(rs,{path:"/transaction-history",element:o.jsx(fi,{children:o.jsx(wU,{})})}),o.jsx(rs,{path:"/ai-transaction-list",element:o.jsx(fi,{children:o.jsx(NU,{})})}),o.jsx(rs,{path:"/tax-filing-support",element:o.jsx(fi,{children:o.jsx(kU,{})})}),o.jsx(rs,{path:"*",element:o.jsx(t3,{to:"/",replace:!0})})]})})})]})})})}HN(document.getElementById("root")).render(o.jsx(AU,{}));export{$t as _,Pn as c,Kc as g};

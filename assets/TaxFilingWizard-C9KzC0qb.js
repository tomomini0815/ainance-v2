const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-0N2qkU5h.js","assets/index-Dotk837K.css"])))=>i.map(i=>d[i]);
import{c as ve,a as ye,e as we,l as ke,r as p,j as e,L as D,F as v,P as L,S as A,n as Ce,d as f,x as W,C as Ie,q as _e,_ as k}from"./index-0N2qkU5h.js";import{D as De}from"./DepreciationCalculator-shZj6pwx.js";import{g as $e,c as Fe,f as o,A as J,a as Se,b as Ae}from"./TaxFilingService-DpsiWJTE.js";import{g as Ee,a as Pe,d as Re}from"./eTaxExportService-DEuuuqQn.js";import{e as Le}from"./CorporateTaxService-BzRMdiLF.js";import{d as $,p as F}from"./pdfAutoFillService-34BIRZFS.js";import{a as Te,b as ze,c as Me,d as Oe}from"./pdfJapaneseService-D1N1wNyh.js";import{A as q}from"./arrow-left-B0TMViCY.js";import{C as G}from"./calculator-D8eOG1Ma.js";import{D as y}from"./download-B1A3RFjc.js";import{A as Xe}from"./arrow-right-YBay0vsy.js";import{C as K}from"./circle-check-big-DmSb12v6.js";import{C as N}from"./copy-C6Q9fCnQ.js";import{E as P}from"./external-link-BKzxM7gl.js";import{R}from"./refresh-cw-Bn714JZc.js";import{I as Ue}from"./info-BRD8O0HW.js";import"./circle-question-mark-C5sOGnto.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Ye=ve("file-code",Ve),S=[{id:1,title:"åŸºæœ¬æƒ…å ±",icon:v,description:"ç”³å‘Šã®åŸºæœ¬è¨­å®š"},{id:2,title:"åæ”¯ç¢ºèª",icon:G,description:"å£²ä¸Šãƒ»çµŒè²»ã®ç¢ºèª"},{id:3,title:"æ¸›ä¾¡å„Ÿå´",icon:G,description:"å›ºå®šè³‡ç”£ã®å„Ÿå´è¨ˆç®—"},{id:4,title:"æ§é™¤å…¥åŠ›",icon:L,description:"å„ç¨®æ§é™¤ã®å…¥åŠ›"},{id:5,title:"AIè¨ºæ–­",icon:A,description:"AIã«ã‚ˆã‚‹ç¯€ç¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹"},{id:6,title:"ç”³å‘Šæ›¸ä½œæˆ",icon:y,description:"PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰"}],ct=()=>{const{user:u}=ye(),{currentBusinessType:s}=we(),j=(s==null?void 0:s.business_type)==="corporation",{transactions:w}=ke(u==null?void 0:u.id,s==null?void 0:s.business_type),[m,T]=p.useState(1),[z,M]=p.useState(!1),C=new Date().getFullYear(),[i,Z]=p.useState(C-1),[x,O]=p.useState(!0),[h,I]=p.useState([]),[X,B]=p.useState([]),[U,Q]=p.useState(0),[g,ee]=p.useState(0),[te,V]=p.useState([]),[b,_]=p.useState({name:"",address:"",idNumber:""});p.useEffect(()=>{I($e(x))},[x]);const a=p.useMemo(()=>{const t=Fe(w,i,(s==null?void 0:s.business_type)||"individual",h),n=[...t.expensesByCategory],l=t.totalExpenses+g;return g>0&&(n.push({category:"æ¸›ä¾¡å„Ÿå´è²»",amount:g,percentage:l>0?g/l*100:0}),n.forEach(r=>{r.percentage=l>0?r.amount/l*100:0}),n.sort((r,c)=>c.amount-r.amount)),{...t,totalExpenses:l,expensesByCategory:n,netIncome:t.netIncome-g,taxableIncome:Math.max(0,t.taxableIncome-g)}},[w,i,s,h,g]),se=()=>{m<S.length&&T(m+1)},ae=()=>{m>1&&T(m-1)},ne=()=>{if(!s){k(()=>import("./index-0N2qkU5h.js").then(t=>t.a2),__vite__mapDeps([0,1])).then(t=>t.default.error("ç™»éŒ²ã•ã‚ŒãŸäº‹æ¥­æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚é€£æºè¨­å®šã§ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚"));return}_({name:j?s.company_name:s.representative_name,address:s.address||"",idNumber:s.tax_number||""}),k(()=>import("./index-0N2qkU5h.js").then(t=>t.a2),__vite__mapDeps([0,1])).then(t=>t.default.success("äº‹æ¥­æƒ…å ±ã‚’è»¢è¨˜ã—ã¾ã—ãŸ"))},re=()=>{if(!w||w.length===0){k(()=>import("./index-0N2qkU5h.js").then(n=>n.a2),__vite__mapDeps([0,1])).then(n=>n.default.error("å–å¼•ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚"));return}const t=Le(w,i);if(t.length===0){k(()=>import("./index-0N2qkU5h.js").then(n=>n.a2),__vite__mapDeps([0,1])).then(n=>n.default.error("è»¢è¨˜å¯èƒ½ãªæ¸›ä¾¡å„Ÿå´è³‡ç”£ï¼ˆã‚¿ã‚°: depreciation_assetï¼‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚"));return}V(t),k(()=>import("./index-0N2qkU5h.js").then(n=>n.a2),__vite__mapDeps([0,1])).then(n=>n.default.success(`${t.length}ä»¶ã®æ¸›ä¾¡å„Ÿå´è³‡ç”£ã‚’è»¢è¨˜ã—ã¾ã—ãŸ`))},ie=(t,n)=>{ee(t),V(n)},le=t=>{const n=J.find(l=>l.type===t);n&&!h.find(l=>l.type===t)&&I([...h,{id:Date.now().toString(),...n,amount:0,isApplicable:!0}])},ce=t=>{I(h.filter(n=>n.id!==t))},oe=(t,n)=>{I(h.map(l=>l.id===t?{...l,amount:n}:l))},de=async()=>{M(!0);try{const t=await Ae(a,{});B(t.suggestions),Q(t.estimatedSavings)}catch(t){console.error("AIè¨ºæ–­ã‚¨ãƒ©ãƒ¼:",t)}finally{M(!1)}},Y=()=>{const t=`
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
           ${j?"æ³•äººç¨ç”³å‘Šæ›¸":"ç¢ºå®šç”³å‘Šæ›¸"}ï¼ˆ${i}å¹´åº¦ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ°å:       ${b.name||"ï¼ˆæœªå…¥åŠ›ï¼‰"}
ç´ç¨åœ°:     ${b.address||"ï¼ˆæœªå…¥åŠ›ï¼‰"}
${j?"æ³•äººç•ªå·":"å€‹äººç•ªå·"}:   ${b.idNumber||"ï¼ˆæœªå…¥åŠ›ï¼‰"}

ç”³å‘Šæ–¹æ³•: ${x?"é’è‰²ç”³å‘Š":"ç™½è‰²ç”³å‘Š"}
ä½œæˆæ—¥æ™‚: ${new Date().toLocaleString("ja-JP")}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€åæ”¯å†…è¨³ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
å£²ä¸Šé«˜:     ${o(a.totalRevenue)}
çµŒè²»åˆè¨ˆ:   ${o(a.totalExpenses)}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
äº‹æ¥­æ‰€å¾—:   ${o(a.netIncome)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€æ§é™¤å†…è¨³ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
${h.filter(d=>d.isApplicable).map(d=>`${d.name.padEnd(20,"ã€€")}: ${o(d.amount)}`).join(`
`)}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ§é™¤åˆè¨ˆ:   ${o(a.totalDeductions)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€ç¨é¡è¨ˆç®—ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
èª²ç¨æ‰€å¾—:   ${o(a.taxableIncome)}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ‰€å¾—ç¨é¡:   ${o(a.estimatedTax)}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€»ã“ã®æ›¸é¡ã¯Ainanceã§ç”Ÿæˆã•ã‚ŒãŸæ¦‚ç®—è³‡æ–™ã§ã™ã€‚
  æ­£å¼ãªç¢ºå®šç”³å‘Šã¯å›½ç¨åºã®e-Taxã§ãŠæ‰‹ç¶šããã ã•ã„ã€‚
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
`.trim(),n=new Blob(["\uFEFF"+t],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(n),r=document.createElement("a");r.href=l,r.download=`ç¢ºå®šç”³å‘Šæ›¸_${i}å¹´åº¦.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r);const c=window.open("","_blank");c&&(c.document.write(`
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¢ºå®šç”³å‘Šæ›¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ - ${i}å¹´åº¦</title>
    <style>
        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            padding: 40px;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            color: #60a5fa;
            margin-bottom: 8px;
            font-size: 24px;
        }
        .subtitle {
            text-align: center;
            color: #9ca3af;
            margin-bottom: 32px;
            font-size: 14px;
        }
        pre {
            background: rgba(0,0,0,0.3);
            padding: 24px;
            border-radius: 12px;
            font-family: 'SFMono-Regular', 'Consolas', 'Menlo', monospace;
            font-size: 14px;
            line-height: 1.8;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 32px;
        }
        button {
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }
        .print-btn {
            background: #3b82f6;
            color: white;
        }
        .print-btn:hover {
            background: #2563eb;
        }
        .close-btn {
            background: rgba(255,255,255,0.1);
            color: #e0e0e0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        @media print {
            body {
                background: white;
                color: black;
            }
            .container {
                background: white;
                box-shadow: none;
            }
            pre {
                background: #f5f5f5;
            }
            .actions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ ç¢ºå®šç”³å‘Šæ›¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h1>
        <p class="subtitle">${i}å¹´åº¦ | ${x?"é’è‰²ç”³å‘Š":"ç™½è‰²ç”³å‘Š"} | ä½œæˆæ—¥: ${new Date().toLocaleDateString("ja-JP")}</p>
        <pre>${t}</pre>
        <div class="actions">
            <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ å°åˆ·ã™ã‚‹</button>
            <button class="close-btn" onclick="window.close()">âœ• é–‰ã˜ã‚‹</button>
        </div>
    </div>
</body>
</html>
            `),c.document.close()),setTimeout(()=>URL.revokeObjectURL(l),1e3)},me=()=>e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:S.map((t,n)=>e.jsxs(Ce.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${m>t.id?"bg-success text-white":m===t.id?"bg-primary text-white":"bg-surface-highlight text-text-muted"}`,children:m>t.id?e.jsx(f,{className:"w-4 h-4"}):e.jsx(t.icon,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-xs mt-2 hidden sm:block ${m>=t.id?"text-text-main font-medium":"text-text-muted"}`,children:t.title})]}),n<S.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${m>t.id?"bg-success":"bg-surface-highlight"}`})]},t.id))})}),xe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-main mb-1",children:[j?"æ³•äººç¨ç”³å‘Š":"ç¢ºå®šç”³å‘Š","ã®åŸºæœ¬è¨­å®š"]}),e.jsx("p",{className:"text-text-muted",children:"ç”³å‘Šå¹´åº¦ã€æ–¹æ³•ã€ãŠã‚ˆã³åŸºæœ¬æƒ…å ±ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚"})]}),e.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary/10 border border-primary/20 rounded-lg hover:bg-primary/20 transition-colors text-primary text-sm font-medium whitespace-nowrap",children:[e.jsx(R,{className:"w-4 h-4"}),"ç™»éŒ²ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è»¢è¨˜"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"æ°å / æ°åï¼ˆåç§°ï¼‰"}),e.jsx("input",{type:"text",value:b.name,onChange:t=>_({...b,name:t.target.value}),className:"input-base",placeholder:"å±±ç”° å¤ªéƒ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ç´ç¨åœ° / ä½æ‰€"}),e.jsx("input",{type:"text",value:b.address,onChange:t=>_({...b,address:t.target.value}),className:"input-base",placeholder:"æ±äº¬éƒ½æ¸‹è°·åŒº..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:j?"æ³•äººç•ªå·":"å€‹äººç•ªå·"}),e.jsx("input",{type:"text",value:b.idNumber,onChange:t=>_({...b,idNumber:t.target.value}),className:"input-base",placeholder:"123456789012"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ç”³å‘Šå¹´åº¦"}),e.jsx("select",{value:i,onChange:t=>Z(Number(t.target.value)),className:"input-base",children:[C,...Array.from({length:4},(t,n)=>C-1-n)].map(t=>e.jsxs("option",{value:t,children:[t,"å¹´åº¦ï¼ˆ",t,"å¹´1æœˆã€œ12æœˆï¼‰",t===C&&" â€»é€²è¡Œä¸­"]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ç”³å‘Šæ–¹æ³•"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-4 border border-border rounded-lg cursor-pointer hover:bg-surface-highlight transition-colors",children:[e.jsx("input",{type:"radio",checked:x,onChange:()=>O(!0),className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"font-medium text-text-main",children:"é’è‰²ç”³å‘Š"}),e.jsx("span",{className:"ml-2 text-xs text-success",children:"æœ€å¤§65ä¸‡å††æ§é™¤"}),e.jsx("p",{className:"text-sm text-text-muted mt-1",children:"è¤‡å¼ç°¿è¨˜ã§æœ€å¤§65ä¸‡å††ã®æ§é™¤ãŒå—ã‘ã‚‰ã‚Œã¾ã™"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border border-border rounded-lg cursor-pointer hover:bg-surface-highlight transition-colors",children:[e.jsx("input",{type:"radio",checked:!x,onChange:()=>O(!1),className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"font-medium text-text-main",children:"ç™½è‰²ç”³å‘Š"}),e.jsx("p",{className:"text-sm text-text-muted mt-1",children:"ç°¡æ˜“çš„ãªå¸³ç°¿ã§ç”³å‘Šã§ãã¾ã™"})]})]})]})]})]}),e.jsxs("div",{className:"bg-info-light border border-info/20 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Ue,{className:"w-5 h-5 text-info flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"é’è‰²ç”³å‘ŠãŒãŠã™ã™ã‚ï¼"}),e.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Ainanceã§å–å¼•ã‚’è¨˜éŒ²ã—ã¦ã„ã‚Œã°ã€è¤‡å¼ç°¿è¨˜ã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã¾ã™ã€‚ 65ä¸‡å††ã®æ§é™¤ã§ç¨é‡‘ãŒãŠå¾—ã«ãªã‚Šã¾ã™ã€‚"})]})]})]}),pe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-main mb-4",children:"åæ”¯ã®ç¢ºèª"}),e.jsxs("p",{className:"text-text-muted mb-6",children:[i,"å¹´åº¦ã®å–å¼•ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è‡ªå‹•é›†è¨ˆã—ãŸçµæœã§ã™ã€‚"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-success-light border border-success/20 rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-success font-medium",children:"å£²ä¸Šé«˜"}),e.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:o(a.totalRevenue)})]}),e.jsxs("div",{className:"bg-error-light border border-error/20 rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-error font-medium",children:"çµŒè²»åˆè¨ˆ"}),e.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:o(a.totalExpenses)})]}),e.jsxs("div",{className:"bg-primary-light border border-primary/20 rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-primary font-medium",children:"äº‹æ¥­æ‰€å¾—"}),e.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:o(a.netIncome)})]})]}),e.jsxs("div",{className:"bg-surface border border-border rounded-xl p-5",children:[e.jsx("h4",{className:"font-medium text-text-main mb-4",children:"çµŒè²»å†…è¨³ï¼ˆä¸Šä½5ä»¶ï¼‰"}),a.expensesByCategory.length>0?e.jsx("div",{className:"space-y-3",children:a.expensesByCategory.slice(0,5).map((t,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-surface-highlight rounded-lg flex items-center justify-center text-sm font-medium text-text-muted",children:n+1}),e.jsx("span",{className:"text-text-main",children:t.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-medium text-text-main",children:o(t.amount)}),e.jsxs("span",{className:"text-text-muted text-sm ml-2",children:["(",Se(t.percentage),")"]})]})]},n))}):e.jsxs("p",{className:"text-text-muted text-center py-4",children:[i,"å¹´åº¦ã®çµŒè²»ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“"]})]}),a.totalRevenue===0&&a.totalExpenses===0&&e.jsxs("div",{className:"bg-warning-light border border-warning/20 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(W,{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"å–å¼•ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“"}),e.jsxs("p",{className:"text-sm text-text-muted mt-1",children:[i,"å¹´åº¦ã®å–å¼•ã‚’ç™»éŒ²ã—ã¦ã‹ã‚‰ç¢ºå®šç”³å‘Šã‚’è¡Œã£ã¦ãã ã•ã„ã€‚",e.jsx(D,{to:"/transactions",className:"text-primary hover:underline ml-1",children:"å–å¼•ã‚’ç™»éŒ²ã™ã‚‹ â†’"})]})]})]})]}),he=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-main mb-1",children:"æ¸›ä¾¡å„Ÿå´è³‡ç”£ã®ç™»éŒ²"}),e.jsx("p",{className:"text-text-muted",children:"å›ºå®šè³‡ç”£ã®ç™»éŒ²ã¨ä»ŠæœŸã®å„Ÿå´é¡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚"})]}),e.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary/10 border border-primary/20 rounded-lg hover:bg-primary/20 transition-colors text-primary text-sm font-medium whitespace-nowrap",children:[e.jsx(R,{className:"w-4 h-4"}),"å–å¼•ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è»¢è¨˜"]})]}),e.jsx(De,{initialAssets:te,onCalculate:ie})]}),ue=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-main mb-4",children:"å„ç¨®æ§é™¤ã®å…¥åŠ›"}),e.jsx("p",{className:"text-text-muted mb-6",children:"è©²å½“ã™ã‚‹æ§é™¤ã‚’è¿½åŠ ã—ã¦é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚æ§é™¤ãŒå¤šã„ã»ã©ç¨é‡‘ãŒå®‰ããªã‚Šã¾ã™ã€‚"})]}),e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-success"}),e.jsx("span",{className:"font-medium text-text-main",children:t.name})]}),e.jsx("p",{className:"text-sm text-text-muted mt-1 ml-7",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-7 sm:ml-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:t.amount,onChange:n=>oe(t.id,Number(n.target.value)),className:"input-base pr-8 w-40",placeholder:"é‡‘é¡",disabled:t.type==="basic"||t.type==="blue_return"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted pointer-events-none",children:"å††"})]}),t.type!=="basic"&&t.type!=="blue_return"&&e.jsx("button",{onClick:()=>ce(t.id),className:"p-2 text-error hover:bg-error-light rounded-lg transition-colors",children:e.jsx(_e,{className:"w-5 h-5"})})]})]},t.id))}),e.jsxs("div",{className:"bg-surface-highlight border border-border rounded-xl p-5",children:[e.jsxs("h4",{className:"font-medium text-text-main mb-4 flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),"æ§é™¤ã‚’è¿½åŠ "]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:J.filter(t=>!h.find(n=>n.type===t.type)).map(t=>e.jsxs("button",{onClick:()=>le(t.type),className:"flex items-center gap-3 p-3 bg-surface border border-border rounded-lg hover:border-primary hover:bg-primary-light transition-colors text-left",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-light rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-main text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-text-muted",children:t.description})]})]},t.type))})]}),e.jsxs("div",{className:"bg-success-light border border-success/20 rounded-xl p-5 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-text-main",children:"æ§é™¤åˆè¨ˆ"}),e.jsx("span",{className:"text-2xl font-bold text-success",children:o(a.totalDeductions)})]})]}),be=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-main mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-primary"}),"AIã«ã‚ˆã‚‹ç¯€ç¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹"]}),e.jsx("p",{className:"text-text-muted mb-6",children:"AIãŒã‚ãªãŸã®åæ”¯ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€ç¯€ç¨ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-surface border border-border rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-text-muted",children:"èª²ç¨æ‰€å¾—"}),e.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:o(a.taxableIncome)}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"äº‹æ¥­æ‰€å¾— - å„ç¨®æ§é™¤"})]}),e.jsxs("div",{className:"bg-primary-light border border-primary/20 rounded-xl p-5",children:[e.jsx("p",{className:"text-sm text-primary font-medium",children:"äºˆæƒ³æ‰€å¾—ç¨é¡"}),e.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:o(a.estimatedTax)}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"â€»æ¦‚ç®—ã§ã™ã€‚å®Ÿéš›ã®ç¨é¡ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™"})]})]}),X.length===0?e.jsx("button",{onClick:de,disabled:z,className:"btn-primary w-full py-4",children:z?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-5 h-5 animate-spin"}),"AIåˆ†æä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-5 h-5"}),"AIã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’å—ã‘ã‚‹"]})}):e.jsxs("div",{className:"bg-surface border border-border rounded-xl p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"AIã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹"})]}),e.jsx("ul",{className:"space-y-3",children:X.map((t,n)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-text-main",children:t})]},n))}),U>0&&e.jsx("div",{className:"bg-success-light border border-success/20 rounded-lg p-4 mt-4",children:e.jsxs("p",{className:"text-sm text-success font-medium",children:["æ¨å®šç¯€ç¨å¯èƒ½é¡: ",o(U)]})})]})]}),ge=()=>{const t={fiscalYear:i,revenue:a.totalRevenue,expenses:a.totalExpenses,netIncome:a.netIncome,expensesByCategory:a.expensesByCategory,deductions:h.filter(c=>c.isApplicable).map(c=>({type:c.type,name:c.name,amount:c.amount})),totalDeductions:a.totalDeductions,taxableIncome:a.taxableIncome,estimatedTax:a.estimatedTax},n=x?Ee(t):Pe(t),l=x?`é’è‰²ç”³å‘Šæ±ºç®—æ›¸_${i}å¹´åº¦.xtx`:`åæ”¯å†…è¨³æ›¸_${i}å¹´åº¦.xml`;Re(n,l);const r=window.open("","_blank");r&&(r.document.write(`
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>e-Taxç”¨ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ - ${i}å¹´åº¦</title>
    <style>
        body { font-family: 'Hiragino Sans', sans-serif; background: #1a1a2e; color: #e0e0e0; padding: 40px; margin: 0; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: #60a5fa; text-align: center; }
        .info { background: rgba(96,165,250,0.1); border: 1px solid rgba(96,165,250,0.3); padding: 16px; border-radius: 8px; margin-bottom: 24px; }
        pre { background: #0d1117; padding: 20px; border-radius: 8px; overflow-x: auto; font-size: 12px; line-height: 1.6; }
        .actions { display: flex; gap: 16px; justify-content: center; margin-top: 24px; }
        button { padding: 12px 24px; border-radius: 8px; border: none; cursor: pointer; font-size: 14px; font-weight: 600; }
        .primary { background: #3b82f6; color: white; }
        .secondary { background: rgba(255,255,255,0.1); color: #e0e0e0; border: 1px solid rgba(255,255,255,0.2); }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ ${x?"é’è‰²ç”³å‘Šæ±ºç®—æ›¸":"åæ”¯å†…è¨³æ›¸"}ï¼ˆ${i}å¹´åº¦ï¼‰</h1>
        <div class="info">
            <p>âš ï¸ <strong>ã“ã®XMLãƒ•ã‚¡ã‚¤ãƒ«ã¯å‚è€ƒè³‡æ–™ã§ã™ã€‚</strong></p>
            <p>æ­£å¼ãªç¢ºå®šç”³å‘Šã¯ã€å›½ç¨åºã®ç¢ºå®šç”³å‘Šæ›¸ç­‰ä½œæˆã‚³ãƒ¼ãƒŠãƒ¼ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚XMLãƒ‡ãƒ¼ã‚¿ã¯å…¥åŠ›ã®å‚è€ƒã«ãŠä½¿ã„ã„ãŸã ã‘ã¾ã™ã€‚</p>
        </div>
        <pre>${n.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre>
        <div class="actions">
            <button class="secondary" onclick="window.close()">âœ• é–‰ã˜ã‚‹</button>
        </div>
    </div>
</body>
</html>
            `),r.document.close())},fe=()=>{const[t,n]=p.useState(null),l=async(r,c)=>{try{await navigator.clipboard.writeText(String(r).replace(/[Â¥,]/g,"")),n(c),setTimeout(()=>n(null),2e3)}catch(d){console.error("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:",d)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-main mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary"}),j?"æ³•äººç¨ç”³å‘Šæ›¸":"ç¢ºå®šç”³å‘Šæ›¸","ã®ä½œæˆ"]}),e.jsx("p",{className:"text-text-muted mb-2",children:"å…¥åŠ›å†…å®¹ã‚’ç¢ºèªã—ã¦ã€æ›¸é¡ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚"}),e.jsx("p",{className:"text-xs text-text-muted",children:"ğŸ’¡ å„é …ç›®ã®å³å´ã®ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã§ã€e-Taxå…¥åŠ›æ™‚ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã§ãã¾ã™"})]}),e.jsxs("div",{className:"bg-surface border border-border rounded-xl divide-y divide-border",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"ç”³å‘Šå¹´åº¦"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"font-medium text-text-main",children:[i,"å¹´åº¦"]})})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"ç”³å‘Šæ–¹æ³•"}),e.jsx("span",{className:"font-medium text-text-main",children:x?"é’è‰²ç”³å‘Š":"ç™½è‰²ç”³å‘Š"})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"å£²ä¸Šé«˜"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-success",children:o(a.totalRevenue)}),e.jsx("button",{onClick:()=>l(a.totalRevenue,"revenue"),className:`p-1.5 rounded transition-colors ${t==="revenue"?"bg-success text-white":"hover:bg-surface-highlight text-text-muted"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="revenue"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"çµŒè²»åˆè¨ˆ"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-error",children:o(a.totalExpenses)}),e.jsx("button",{onClick:()=>l(a.totalExpenses,"expenses"),className:`p-1.5 rounded transition-colors ${t==="expenses"?"bg-success text-white":"hover:bg-surface-highlight text-text-muted"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="expenses"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"äº‹æ¥­æ‰€å¾—"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-text-main",children:o(a.netIncome)}),e.jsx("button",{onClick:()=>l(a.netIncome,"netIncome"),className:`p-1.5 rounded transition-colors ${t==="netIncome"?"bg-success text-white":"hover:bg-surface-highlight text-text-muted"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="netIncome"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"æ§é™¤åˆè¨ˆ"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-primary",children:o(a.totalDeductions)}),e.jsx("button",{onClick:()=>l(a.totalDeductions,"deductions"),className:`p-1.5 rounded transition-colors ${t==="deductions"?"bg-success text-white":"hover:bg-surface-highlight text-text-muted"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="deductions"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-text-muted",children:"èª²ç¨æ‰€å¾—"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-text-main",children:o(a.taxableIncome)}),e.jsx("button",{onClick:()=>l(a.taxableIncome,"taxableIncome"),className:`p-1.5 rounded transition-colors ${t==="taxableIncome"?"bg-success text-white":"hover:bg-surface-highlight text-text-muted"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="taxableIncome"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-4 flex justify-between items-center bg-primary-light",children:[e.jsx("span",{className:"font-medium text-text-main",children:"äºˆæƒ³æ‰€å¾—ç¨é¡"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-primary text-lg",children:o(a.estimatedTax)}),e.jsx("button",{onClick:()=>l(a.estimatedTax,"tax"),className:`p-1.5 rounded transition-colors ${t==="tax"?"bg-success text-white":"hover:bg-primary/20 text-primary"}`,title:"ã‚³ãƒ”ãƒ¼",children:t==="tax"?e.jsx(f,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h4",{className:"text-md font-semibold text-text-main flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5 text-slate-400"}),"ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ç”³å‘Š"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:Y,className:"px-4 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"ç”³å‘Šæ›¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼"]}),e.jsxs("button",{onClick:ge,className:"px-4 py-3 border border-slate-500 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4"}),"e-Taxç”¨XMLãƒ•ã‚¡ã‚¤ãƒ«"]})]}),e.jsxs("div",{className:"bg-slate-800/50 border border-slate-600/50 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-[10px] font-bold px-2 py-0.5 rounded-full",children:"NEW"}),e.jsx("h5",{className:"text-sm font-semibold text-text-main",children:"æ—¥æœ¬èªPDFè‡ªå‹•ç”Ÿæˆ"})]}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:(s==null?void 0:s.business_type)==="corporation"?"æ³•äººç¨ç”³å‘Šæ›¸ãƒ»æ±ºç®—å ±å‘Šæ›¸ï¼ˆè²¡å‹™ä¸‰è¡¨ï¼‰ã‚’æ—¥æœ¬èªPDFã§ç”Ÿæˆ":"ç¢ºå®šç”³å‘Šæ›¸Bãƒ»é’è‰²ç”³å‘Šæ±ºç®—æ›¸ã‚’æ—¥æœ¬èªPDFã§ç”Ÿæˆ"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(s==null?void 0:s.business_type)!=="corporation"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:async()=>{var r,c;try{const d={name:(s==null?void 0:s.representative_name)||(u==null?void 0:u.name)||"",address:(s==null?void 0:s.address)||"",tradeName:(s==null?void 0:s.company_name)||"",phone:(s==null?void 0:s.phone)||"",revenue:a.totalRevenue,expenses:a.totalExpenses,netIncome:a.netIncome,expensesByCategory:a.expensesByCategory,deductions:{basic:((r=h.find(E=>E.type==="basic"))==null?void 0:r.amount)||48e4,blueReturn:x?65e4:0,socialInsurance:(c=h.find(E=>E.type==="socialInsurance"))==null?void 0:c.amount},taxableIncome:a.taxableIncome,estimatedTax:a.estimatedTax,fiscalYear:i,isBlueReturn:x},H=await Te(d),Ne=`ç¢ºå®šç”³å‘Šæ›¸B_${i}å¹´åº¦.pdf`;$(H,Ne),F(H)}catch(d){console.error("PDFç”Ÿæˆã‚¨ãƒ©ãƒ¼:",d),alert("PDFç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")}},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"ç¢ºå®šç”³å‘Šæ›¸B"]}),x&&e.jsxs("button",{onClick:async()=>{try{const r={name:u==null?void 0:u.name,address:(s==null?void 0:s.address)||"",tradeName:(s==null?void 0:s.company_name)||"",revenue:a.totalRevenue,expenses:a.totalExpenses,netIncome:a.netIncome,expensesByCategory:a.expensesByCategory,deductions:{blueReturn:65e4},taxableIncome:a.taxableIncome,estimatedTax:a.estimatedTax,fiscalYear:i,isBlueReturn:!0},c=await ze(r),d=`é’è‰²ç”³å‘Šæ±ºç®—æ›¸_${i}å¹´åº¦.pdf`;$(c,d),F(c)}catch(r){console.error("PDFç”Ÿæˆã‚¨ãƒ©ãƒ¼:",r),alert("PDFç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")}},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"é’è‰²ç”³å‘Šæ±ºç®—æ›¸"]})]}),(s==null?void 0:s.business_type)==="corporation"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:async()=>{try{const r={companyName:(s==null?void 0:s.company_name)||"ä¼šç¤¾å",representativeName:(s==null?void 0:s.representative_name)||"",address:(s==null?void 0:s.address)||"",revenue:a.totalRevenue,expenses:a.totalExpenses,netIncome:a.netIncome,expensesByCategory:a.expensesByCategory,taxableIncome:a.taxableIncome,estimatedTax:a.estimatedTax,fiscalYear:i,businessType:"corporation"},c=await Me(r),d=`æ³•äººç¨ç”³å‘Šæ›¸_${i}å¹´åº¦.pdf`;$(c,d),F(c)}catch(r){console.error("PDFç”Ÿæˆã‚¨ãƒ©ãƒ¼:",r),alert("PDFç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")}},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"æ³•äººç¨ç”³å‘Šæ›¸"]}),e.jsxs("button",{onClick:async()=>{try{const r={revenue:a.totalRevenue,expenses:a.totalExpenses,netIncome:a.netIncome,expensesByCategory:a.expensesByCategory,taxableIncome:a.taxableIncome,estimatedTax:a.estimatedTax,fiscalYear:i,businessType:"corporation",companyName:(s==null?void 0:s.company_name)||"ä¼šç¤¾å",representativeName:(s==null?void 0:s.representative_name)||"",capital:1e6},c=await Oe(r),d=`æ±ºç®—å ±å‘Šæ›¸_${i}å¹´åº¦.pdf`;$(c,d),F(c)}catch(r){console.error("PDFç”Ÿæˆã‚¨ãƒ©ãƒ¼:",r),alert("PDFç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")}},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"æ±ºç®—å ±å‘Šæ›¸ï¼ˆè²¡å‹™ä¸‰è¡¨ï¼‰"]})]})]})]}),(s==null?void 0:s.business_type)==="corporation"&&e.jsxs("div",{className:"bg-slate-800/30 border border-slate-600/30 rounded-xl p-5",children:[e.jsx("h5",{className:"text-sm font-semibold text-text-main mb-1",children:"å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ"}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"å›½ç¨åºã®æ³•äººç¨ç”³å‘Šæ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆä»¤å’Œ6å¹´4æœˆ1æ—¥ä»¥å¾Œçµ‚äº†äº‹æ¥­å¹´åº¦åˆ†ï¼‰"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[e.jsxs("a",{href:"https://www.nta.go.jp/taxes/tetsuzuki/shinsei/annai/hojin/shinkoku/itiran2024/pdf/01_01.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2.5 border border-slate-500/50 text-slate-300 rounded-lg hover:bg-slate-700/50 hover:border-slate-400 transition-all text-xs font-medium flex items-center justify-center gap-1.5",children:[e.jsx(y,{className:"w-3.5 h-3.5"}),"åˆ¥è¡¨ä¸€ï¼ˆä¸€ï¼‰"]}),e.jsxs("a",{href:"https://www.nta.go.jp/taxes/tetsuzuki/shinsei/annai/hojin/shinkoku/itiran2024/pdf/01_02.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2.5 border border-slate-500/50 text-slate-300 rounded-lg hover:bg-slate-700/50 hover:border-slate-400 transition-all text-xs font-medium flex items-center justify-center gap-1.5",children:[e.jsx(y,{className:"w-3.5 h-3.5"}),"åˆ¥è¡¨ä¸€ï¼ˆäºŒï¼‰"]}),e.jsxs("a",{href:"https://www.nta.go.jp/taxes/tetsuzuki/shinsei/annai/hojin/shinkoku/itiran2024/pdf/04.pdf",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2.5 border border-slate-500/50 text-slate-300 rounded-lg hover:bg-slate-700/50 hover:border-slate-400 transition-all text-xs font-medium flex items-center justify-center gap-1.5",children:[e.jsx(y,{className:"w-3.5 h-3.5"}),"åˆ¥è¡¨å››"]}),e.jsxs("a",{href:"https://www.nta.go.jp/taxes/tetsuzuki/shinsei/annai/hojin/shinkoku/itiran2024/01.htm",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2.5 border border-slate-500/50 text-slate-300 rounded-lg hover:bg-slate-700/50 hover:border-slate-400 transition-all text-xs font-medium flex items-center justify-center gap-1.5",children:[e.jsx(P,{className:"w-3.5 h-3.5"}),"å…¨åˆ¥è¡¨ä¸€è¦§"]})]})]})]}),e.jsxs("div",{className:"bg-slate-800/30 border border-slate-600/30 rounded-xl p-5",children:[e.jsxs("h4",{className:"text-sm font-semibold text-text-main mb-3 flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-slate-400"}),"e-Taxã§ç›´æ¥ç”³å‘Šã™ã‚‹"]}),e.jsxs("ol",{className:"text-xs text-slate-400 space-y-2 mb-4",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-slate-600 text-slate-200 rounded-full flex items-center justify-center text-[10px] font-medium",children:"1"}),"ä¸Šã®ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã§å„æ•°å€¤ã‚’ã‚³ãƒ”ãƒ¼"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-slate-600 text-slate-200 rounded-full flex items-center justify-center text-[10px] font-medium",children:"2"}),"ç¢ºå®šç”³å‘Šæ›¸ç­‰ä½œæˆã‚³ãƒ¼ãƒŠãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-slate-600 text-slate-200 rounded-full flex items-center justify-center text-[10px] font-medium",children:"3"}),"ã‚³ãƒ”ãƒ¼ã—ãŸæ•°å€¤ã‚’è²¼ã‚Šä»˜ã‘ã¦å…¥åŠ›"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-slate-600 text-slate-200 rounded-full flex items-center justify-center text-[10px] font-medium",children:"4"}),"ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ã§é›»å­ç½²å â†’ é€ä¿¡å®Œäº†ï¼"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("a",{href:"https://www.keisan.nta.go.jp/kyoutu/ky/smsp/top",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm font-medium",children:[e.jsx(P,{className:"w-4 h-4"}),"ç¢ºå®šç”³å‘Šæ›¸ç­‰ä½œæˆã‚³ãƒ¼ãƒŠãƒ¼"]}),e.jsx(D,{to:"/tax-filing-guide",className:"inline-flex items-center gap-2 px-4 py-2.5 border border-slate-500 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors text-sm font-medium",children:"ğŸ“– è©³ã—ã„ç”³å‘Šã‚¬ã‚¤ãƒ‰"})]})]}),e.jsxs("div",{className:"bg-slate-800/30 border border-slate-600/30 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(W,{className:"w-5 h-5 text-slate-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-300 font-medium",children:"ã”æ³¨æ„ãã ã•ã„"}),e.jsxs("ul",{className:"text-xs text-slate-400 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"ã“ã®è¨ˆç®—ã¯æ¦‚ç®—ã§ã™ã€‚æ­£ç¢ºãªç¨é¡ã¯ç¨å‹™ç½²ã«ã”ç¢ºèªãã ã•ã„"}),e.jsx("li",{children:"ç¢ºå®šç”³å‘Šã®æœŸé™ã¯ç¿Œå¹´3æœˆ15æ—¥ã§ã™ï¼ˆä¾‹ï¼š2025å¹´åº¦åˆ†ã¯2026å¹´3æœˆ15æ—¥ã¾ã§ï¼‰"}),e.jsx("li",{children:"é’è‰²ç”³å‘Šç‰¹åˆ¥æ§é™¤65ä¸‡å††ã®é©ç”¨ã«ã¯é›»å­ç”³å‘ŠãŒå¿…è¦ã§ã™"})]})]})]})]})},je=()=>{switch(m){case 1:return e.jsx(xe,{});case 2:return e.jsx(pe,{});case 3:return e.jsx(he,{});case 4:return e.jsx(ue,{});case 5:return e.jsx(be,{});case 6:return e.jsx(fe,{});default:return null}};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(D,{to:"/dashboard",className:"flex items-center text-xs text-primary hover:text-primary-hover",children:[e.jsx(q,{className:"h-4 w-4 mr-1.5"}),"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]}),e.jsx(D,{to:"/tax-filing-guide",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-xs font-medium",children:"ğŸ“– ç”³å‘Šã‚¬ã‚¤ãƒ‰"})]}),e.jsx("h1",{className:"text-xl font-bold text-text-main mb-1",children:"ç¢ºå®šç”³å‘Šã‚µãƒãƒ¼ãƒˆ"}),e.jsx("p",{className:"text-xs text-text-muted",children:"6ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ç°¡å˜ã«ç¢ºå®šç”³å‘Šã‚’å®Œäº†ã§ãã¾ã™"})]}),e.jsx(me,{}),e.jsx("div",{className:"bg-surface border border-border rounded-xl p-3 mb-6",children:je()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:ae,disabled:m===1,className:`btn-ghost ${m===1?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(q,{className:"w-5 h-5"}),"æˆ»ã‚‹"]}),m<S.length?e.jsxs("button",{onClick:se,className:"btn-primary",children:["æ¬¡ã¸",e.jsx(Xe,{className:"w-5 h-5"})]}):e.jsxs("button",{onClick:Y,className:"btn-success",children:[e.jsx(K,{className:"w-5 h-5"}),"å®Œäº†"]})]})]})})};export{ct as default};

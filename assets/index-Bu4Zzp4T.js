var mk=Object.defineProperty;var yk=(t,e,n)=>e in t?mk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ie=(t,e,n)=>yk(t,typeof e!="symbol"?e+"":e,n);function xk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ry(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var G_={exports:{}},x0={},Y_={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),vk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),wk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),Nk=Symbol.for("react.provider"),jk=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),kk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),rv=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=rv&&t[rv]||t["@@iterator"],typeof t=="function"?t:null)}var J_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X_=Object.assign,Q_={};function Vc(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||J_}Vc.prototype.isReactComponent={};Vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z_(){}Z_.prototype=Vc.prototype;function My(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||J_}var Dy=My.prototype=new Z_;Dy.constructor=My;X_(Dy,Vc.prototype);Dy.isPureReactComponent=!0;var sv=Array.isArray,e4=Object.prototype.hasOwnProperty,Fy={current:null},t4={key:!0,ref:!0,__self:!0,__source:!0};function n4(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)e4.call(e,r)&&!t4.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:lh,type:t,key:i,ref:a,props:s,_owner:Fy.current}}function Pk(t,e){return{$$typeof:lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===lh}function Lk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iv=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lk(""+t.key):e.toString(36)}function Xf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lh:case vk:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+jg(a,0):r,sv(s)?(n="",t!=null&&(n=t.replace(iv,"$&/")+"/"),Xf(s,e,n,"",function(u){return u})):s!=null&&(By(s)&&(s=Pk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(iv,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",sv(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+jg(i,o);a+=Xf(i,e,n,c,s)}else if(c=Ek(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+jg(i,o++),a+=Xf(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function tf(t,e,n){if(t==null)return t;var r=[],s=0;return Xf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Tk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},Qf={transition:null},Ok={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:Fy};function r4(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=Vc;jt.Fragment=bk;jt.Profiler=_k;jt.PureComponent=My;jt.StrictMode=wk;jt.Suspense=kk;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;jt.act=r4;jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Fy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)e4.call(e,c)&&!t4.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:lh,type:t.type,key:s,ref:i,props:r,_owner:a}};jt.createContext=function(t){return t={$$typeof:jk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nk,_context:t},t.Consumer=t};jt.createElement=n4;jt.createFactory=function(t){var e=n4.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:Sk,render:t}};jt.isValidElement=By;jt.lazy=function(t){return{$$typeof:Ck,_payload:{_status:-1,_result:t},_init:Tk}};jt.memo=function(t,e){return{$$typeof:Ak,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=Qf.transition;Qf.transition={};try{t()}finally{Qf.transition=e}};jt.unstable_act=r4;jt.useCallback=function(t,e){return Pr.current.useCallback(t,e)};jt.useContext=function(t){return Pr.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Pr.current.useEffect(t,e)};jt.useId=function(){return Pr.current.useId()};jt.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};jt.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Pr.current.useMemo(t,e)};jt.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};jt.useRef=function(t){return Pr.current.useRef(t)};jt.useState=function(t){return Pr.current.useState(t)};jt.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};jt.useTransition=function(){return Pr.current.useTransition()};jt.version="18.3.1";Y_.exports=jt;var oe=Y_.exports;const v0=Wc(oe),Ik=xk({__proto__:null,default:v0},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=oe,Mk=Symbol.for("react.element"),Dk=Symbol.for("react.fragment"),Fk=Object.prototype.hasOwnProperty,Bk=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function s4(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Fk.call(e,r)&&!$k.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Mk,type:t,key:i,ref:a,props:s,_owner:Bk.current}}x0.Fragment=Dk;x0.jsx=s4;x0.jsxs=s4;G_.exports=x0;var l=G_.exports,i4={exports:{}},cs={},a4={exports:{}},o4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ce){var ge=te.length;te.push(ce);e:for(;0<ge;){var xe=ge-1>>>1,z=te[xe];if(0<s(z,ce))te[xe]=ce,te[ge]=z,ge=xe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],ge=te.pop();if(ge!==ce){te[0]=ge;e:for(var xe=0,z=te.length,Q=z>>>1;xe<Q;){var T=2*(xe+1)-1,Z=te[T],F=T+1,re=te[F];if(0>s(Z,ge))F<z&&0>s(re,Z)?(te[xe]=re,te[F]=ge,xe=F):(te[xe]=Z,te[T]=ge,xe=T);else if(F<z&&0>s(re,ge))te[xe]=re,te[F]=ge,xe=F;else break e}}return ce}function s(te,ce){var ge=te.sortIndex-ce.sortIndex;return ge!==0?ge:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,g=3,h=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(te){for(var ce=n(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=te)r(u),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(u)}}function k(te){if(y=!1,N(te),!v)if(n(c)!==null)v=!0,q(R);else{var ce=n(u);ce!==null&&le(k,ce.startTime-te)}}function R(te,ce){v=!1,y&&(y=!1,x(j),j=-1),h=!0;var ge=g;try{for(N(ce),f=n(c);f!==null&&(!(f.expirationTime>ce)||te&&!C());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,g=f.priorityLevel;var z=xe(f.expirationTime<=ce);ce=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),N(ce)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var T=n(u);T!==null&&le(k,T.startTime-ce),Q=!1}return Q}finally{f=null,g=ge,h=!1}}var I=!1,M=null,j=-1,A=5,L=-1;function C(){return!(t.unstable_now()-L<A)}function O(){if(M!==null){var te=t.unstable_now();L=te;var ce=!0;try{ce=M(!0,te)}finally{ce?H():(I=!1,M=null)}}else I=!1}var H;if(typeof w=="function")H=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ee=U.port2;U.port1.onmessage=O,H=function(){ee.postMessage(null)}}else H=function(){b(O,0)};function q(te){M=te,I||(I=!0,H())}function le(te,ce){j=b(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,q(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var ce=3;break;default:ce=g}var ge=g;g=ce;try{return te()}finally{g=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ge=g;g=te;try{return ce()}finally{g=ge}},t.unstable_scheduleCallback=function(te,ce,ge){var xe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?xe+ge:xe):ge=xe,te){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ge+z,te={id:d++,callback:ce,priorityLevel:te,startTime:ge,expirationTime:z,sortIndex:-1},ge>xe?(te.sortIndex=ge,e(u,te),n(c)===null&&te===n(u)&&(y?(x(j),j=-1):y=!0,le(k,ge-xe))):(te.sortIndex=z,e(c,te),v||h||(v=!0,q(R))),te},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(te){var ce=g;return function(){var ge=g;g=ce;try{return te.apply(this,arguments)}finally{g=ge}}}})(o4);a4.exports=o4;var Uk=a4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk=oe,ls=Uk;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l4=new Set,Pd={};function bl(t,e){Pc(t,e),Pc(t+"Capture",e)}function Pc(t,e){for(Pd[t]=e,t=0;t<e.length;t++)l4.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,av={},ov={};function Hk(t){return Vm.call(ov,t)?!0:Vm.call(av,t)?!1:qk.test(t)?ov[t]=!0:(av[t]=!0,!1)}function Wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vk(t,e,n,r){if(e===null||typeof e>"u"||Wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $y=/[\-:]([a-z])/g;function Uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($y,Uy);dr[e]=new Lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($y,Uy);dr[e]=new Lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($y,Uy);dr[e]=new Lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function zy(t,e,n,r){var s=dr.hasOwnProperty(e)?dr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,n,s,r)&&(n=null),r||s===null?Hk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var da=zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),c4=Symbol.for("react.provider"),u4=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),d4=Symbol.for("react.offscreen"),lv=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var gn=Object.assign,Sg;function Vu(t){if(Sg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sg=e&&e[1]||""}return`
`+Sg+t}var kg=!1;function Ag(t,e){if(!t||kg)return"";kg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{kg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vu(t):""}function Kk(t){switch(t.tag){case 5:return Vu(t.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function Jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case tc:return"Portal";case Km:return"Profiler";case qy:return"StrictMode";case Gm:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u4:return(t.displayName||"Context")+".Consumer";case c4:return(t._context.displayName||"Context")+".Provider";case Hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wy:return e=t.displayName||null,e!==null?e:Jm(t.type)||"Memo";case Ma:e=t._payload,t=t._init;try{return Jm(t(e))}catch{}}return null}function Gk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(e);case 8:return e===qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yk(t){var e=h4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rf(t){t._valueTracker||(t._valueTracker=Yk(t))}function f4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _p(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xm(t,e){var n=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=so(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p4(t,e){e=e.checked,e!=null&&zy(t,"checked",e,!1)}function Qm(t,e){p4(t,e);var n=so(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zm(t,e.type,so(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zm(t,e,n){(e!=="number"||_p(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ku=Array.isArray;function gc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+so(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function e1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(Ku(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:so(n)}}function g4(t,e){var n=so(e.value),r=so(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sf,y4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ld(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jk=["Webkit","ms","Moz","O"];Object.keys(ad).forEach(function(t){Jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ad[e]=ad[t]})});function x4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ad.hasOwnProperty(t)&&ad[t]?(""+e).trim():e+"px"}function v4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=x4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Xk=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n1(t,e){if(e){if(Xk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function r1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=null;function Vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i1=null,mc=null,yc=null;function fv(t){if(t=dh(t)){if(typeof i1!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=j0(e),i1(t.stateNode,t.type,e))}}function b4(t){mc?yc?yc.push(t):yc=[t]:mc=t}function w4(){if(mc){var t=mc,e=yc;if(yc=mc=null,fv(t),e)for(t=0;t<e.length;t++)fv(e[t])}}function _4(t,e){return t(e)}function N4(){}var Cg=!1;function j4(t,e,n){if(Cg)return t(e,n);Cg=!0;try{return _4(t,e,n)}finally{Cg=!1,(mc!==null||yc!==null)&&(N4(),w4())}}function Td(t,e){var n=t.stateNode;if(n===null)return null;var r=j0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var a1=!1;if(ia)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){a1=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{a1=!1}function Qk(t,e,n,r,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var od=!1,Np=null,jp=!1,o1=null,Zk={onError:function(t){od=!0,Np=t}};function e8(t,e,n,r,s,i,a,o,c){od=!1,Np=null,Qk.apply(Zk,arguments)}function t8(t,e,n,r,s,i,a,o,c){if(e8.apply(this,arguments),od){if(od){var u=Np;od=!1,Np=null}else throw Error(Te(198));jp||(jp=!0,o1=u)}}function wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pv(t){if(wl(t)!==t)throw Error(Te(188))}function n8(t){var e=t.alternate;if(!e){if(e=wl(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pv(s),t;if(i===r)return pv(s),e;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function k4(t){return t=n8(t),t!==null?A4(t):null}function A4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=A4(t);if(e!==null)return e;t=t.sibling}return null}var C4=ls.unstable_scheduleCallback,gv=ls.unstable_cancelCallback,r8=ls.unstable_shouldYield,s8=ls.unstable_requestPaint,En=ls.unstable_now,i8=ls.unstable_getCurrentPriorityLevel,Ky=ls.unstable_ImmediatePriority,E4=ls.unstable_UserBlockingPriority,Sp=ls.unstable_NormalPriority,a8=ls.unstable_LowPriority,P4=ls.unstable_IdlePriority,b0=null,_i=null;function o8(t){if(_i&&typeof _i.onCommitFiberRoot=="function")try{_i.onCommitFiberRoot(b0,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:u8,l8=Math.log,c8=Math.LN2;function u8(t){return t>>>=0,t===0?32:31-(l8(t)/c8|0)|0}var af=64,of=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Gu(o):(i&=a,i!==0&&(r=Gu(i)))}else a=n&~s,a!==0?r=Gu(a):i!==0&&(r=Gu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xs(e),s=1<<n,r|=t[n],e&=~s;return r}function d8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Xs(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=d8(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function l1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L4(){var t=af;return af<<=1,!(af&4194240)&&(af=64),t}function Eg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ch(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xs(e),t[e]=n}function f8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ht=0;function T4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O4,Yy,I4,R4,M4,c1=!1,lf=[],Ga=null,Ya=null,Ja=null,Od=new Map,Id=new Map,Fa=[],p8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(e.pointerId)}}function Ou(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dh(e),e!==null&&Yy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function g8(t,e,n,r,s){switch(e){case"focusin":return Ga=Ou(Ga,t,e,n,r,s),!0;case"dragenter":return Ya=Ou(Ya,t,e,n,r,s),!0;case"mouseover":return Ja=Ou(Ja,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Od.set(i,Ou(Od.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Id.set(i,Ou(Id.get(i)||null,t,e,n,r,s)),!0}return!1}function D4(t){var e=tl(t.target);if(e!==null){var n=wl(e);if(n!==null){if(e=n.tag,e===13){if(e=S4(n),e!==null){t.blockedOn=e,M4(t.priority,function(){I4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);s1=r,n.target.dispatchEvent(r),s1=null}else return e=dh(n),e!==null&&Yy(e),t.blockedOn=n,!1;e.shift()}return!0}function yv(t,e,n){Zf(t)&&n.delete(e)}function m8(){c1=!1,Ga!==null&&Zf(Ga)&&(Ga=null),Ya!==null&&Zf(Ya)&&(Ya=null),Ja!==null&&Zf(Ja)&&(Ja=null),Od.forEach(yv),Id.forEach(yv)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,c1||(c1=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,m8)))}function Rd(t){function e(s){return Iu(s,t)}if(0<lf.length){Iu(lf[0],t);for(var n=1;n<lf.length;n++){var r=lf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ga!==null&&Iu(Ga,t),Ya!==null&&Iu(Ya,t),Ja!==null&&Iu(Ja,t),Od.forEach(e),Id.forEach(e),n=0;n<Fa.length;n++)r=Fa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fa.length&&(n=Fa[0],n.blockedOn===null);)D4(n),n.blockedOn===null&&Fa.shift()}var xc=da.ReactCurrentBatchConfig,Ap=!0;function y8(t,e,n,r){var s=Ht,i=xc.transition;xc.transition=null;try{Ht=1,Jy(t,e,n,r)}finally{Ht=s,xc.transition=i}}function x8(t,e,n,r){var s=Ht,i=xc.transition;xc.transition=null;try{Ht=4,Jy(t,e,n,r)}finally{Ht=s,xc.transition=i}}function Jy(t,e,n,r){if(Ap){var s=u1(t,e,n,r);if(s===null)Bg(t,e,r,Cp,n),mv(t,r);else if(g8(s,t,e,n,r))r.stopPropagation();else if(mv(t,r),e&4&&-1<p8.indexOf(t)){for(;s!==null;){var i=dh(s);if(i!==null&&O4(i),i=u1(t,e,n,r),i===null&&Bg(t,e,r,Cp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bg(t,e,r,null,n)}}var Cp=null;function u1(t,e,n,r){if(Cp=null,t=Vy(r),t=tl(t),t!==null)if(e=wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cp=t,null}function F4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i8()){case Ky:return 1;case E4:return 4;case Sp:case a8:return 16;case P4:return 536870912;default:return 16}default:return 16}}var za=null,Xy=null,ep=null;function B4(){if(ep)return ep;var t,e=Xy,n=e.length,r,s="value"in za?za.value:za.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ep=s.slice(t,1<r?1-r:void 0)}function tp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cf(){return!0}function xv(){return!1}function us(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cf:xv,this.isPropagationStopped=xv,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),e}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=us(Kc),uh=gn({},Kc,{view:0,detail:0}),v8=us(uh),Pg,Lg,Ru,w0=gn({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(Pg=t.screenX-Ru.screenX,Lg=t.screenY-Ru.screenY):Lg=Pg=0,Ru=t),Pg)},movementY:function(t){return"movementY"in t?t.movementY:Lg}}),vv=us(w0),b8=gn({},w0,{dataTransfer:0}),w8=us(b8),_8=gn({},uh,{relatedTarget:0}),Tg=us(_8),N8=gn({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),j8=us(N8),S8=gn({},Kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k8=us(S8),A8=gn({},Kc,{data:0}),bv=us(A8),C8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P8[t])?!!e[t]:!1}function Zy(){return L8}var T8=gn({},uh,{key:function(t){if(t.key){var e=C8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(t){return t.type==="keypress"?tp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O8=us(T8),I8=gn({},w0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=us(I8),R8=gn({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),M8=us(R8),D8=gn({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),F8=us(D8),B8=gn({},w0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$8=us(B8),U8=[9,13,27,32],ex=ia&&"CompositionEvent"in window,ld=null;ia&&"documentMode"in document&&(ld=document.documentMode);var z8=ia&&"TextEvent"in window&&!ld,$4=ia&&(!ex||ld&&8<ld&&11>=ld),_v=" ",Nv=!1;function U4(t,e){switch(t){case"keyup":return U8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function q8(t,e){switch(t){case"compositionend":return z4(e);case"keypress":return e.which!==32?null:(Nv=!0,_v);case"textInput":return t=e.data,t===_v&&Nv?null:t;default:return null}}function H8(t,e){if(rc)return t==="compositionend"||!ex&&U4(t,e)?(t=B4(),ep=Xy=za=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $4&&e.locale!=="ko"?null:e.data;default:return null}}var W8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W8[t.type]:e==="textarea"}function q4(t,e,n,r){b4(r),e=Ep(e,"onChange"),0<e.length&&(n=new Qy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cd=null,Md=null;function V8(t){e3(t,0)}function _0(t){var e=ac(t);if(f4(e))return t}function K8(t,e){if(t==="change")return e}var H4=!1;if(ia){var Og;if(ia){var Ig="oninput"in document;if(!Ig){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),Ig=typeof Sv.oninput=="function"}Og=Ig}else Og=!1;H4=Og&&(!document.documentMode||9<document.documentMode)}function kv(){cd&&(cd.detachEvent("onpropertychange",W4),Md=cd=null)}function W4(t){if(t.propertyName==="value"&&_0(Md)){var e=[];q4(e,Md,t,Vy(t)),j4(V8,e)}}function G8(t,e,n){t==="focusin"?(kv(),cd=e,Md=n,cd.attachEvent("onpropertychange",W4)):t==="focusout"&&kv()}function Y8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _0(Md)}function J8(t,e){if(t==="click")return _0(e)}function X8(t,e){if(t==="input"||t==="change")return _0(e)}function Q8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:Q8;function Dd(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vm.call(e,s)||!ei(t[s],e[s]))return!1}return!0}function Av(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cv(t,e){var n=Av(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function V4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K4(){for(var t=window,e=_p();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_p(t.document)}return e}function tx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z8(t){var e=K4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V4(n.ownerDocument.documentElement,n)){if(r!==null&&tx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Cv(n,i);var a=Cv(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eA=ia&&"documentMode"in document&&11>=document.documentMode,sc=null,d1=null,ud=null,h1=!1;function Ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h1||sc==null||sc!==_p(r)||(r=sc,"selectionStart"in r&&tx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Dd(ud,r)||(ud=r,r=Ep(d1,"onSelect"),0<r.length&&(e=new Qy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sc)))}function uf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ic={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},Rg={},G4={};ia&&(G4=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function N0(t){if(Rg[t])return Rg[t];if(!ic[t])return t;var e=ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G4)return Rg[t]=e[n];return t}var Y4=N0("animationend"),J4=N0("animationiteration"),X4=N0("animationstart"),Q4=N0("transitionend"),Z4=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){Z4.set(t,e),bl(e,[t])}for(var Mg=0;Mg<Pv.length;Mg++){var Dg=Pv[Mg],tA=Dg.toLowerCase(),nA=Dg[0].toUpperCase()+Dg.slice(1);lo(tA,"on"+nA)}lo(Y4,"onAnimationEnd");lo(J4,"onAnimationIteration");lo(X4,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(Q4,"onTransitionEnd");Pc("onMouseEnter",["mouseout","mouseover"]);Pc("onMouseLeave",["mouseout","mouseover"]);Pc("onPointerEnter",["pointerout","pointerover"]);Pc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function Lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t8(r,e,void 0,t),t.currentTarget=null}function e3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Lv(s,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Lv(s,o,u),i=c}}}if(jp)throw t=o1,jp=!1,o1=null,t}function nn(t,e){var n=e[y1];n===void 0&&(n=e[y1]=new Set);var r=t+"__bubble";n.has(r)||(t3(e,t,2,!1),n.add(r))}function Fg(t,e,n){var r=0;e&&(r|=4),t3(n,t,r,e)}var df="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[df]){t[df]=!0,l4.forEach(function(n){n!=="selectionchange"&&(rA.has(n)||Fg(n,!1,t),Fg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[df]||(e[df]=!0,Fg("selectionchange",!1,e))}}function t3(t,e,n,r){switch(F4(e)){case 1:var s=y8;break;case 4:s=x8;break;default:s=Jy}n=s.bind(null,e,n,t),s=void 0,!a1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=tl(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}j4(function(){var u=i,d=Vy(n),f=[];e:{var g=Z4.get(t);if(g!==void 0){var h=Qy,v=t;switch(t){case"keypress":if(tp(n)===0)break e;case"keydown":case"keyup":h=O8;break;case"focusin":v="focus",h=Tg;break;case"focusout":v="blur",h=Tg;break;case"beforeblur":case"afterblur":h=Tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=w8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=M8;break;case Y4:case J4:case X4:h=j8;break;case Q4:h=F8;break;case"scroll":h=v8;break;case"wheel":h=$8;break;case"copy":case"cut":case"paste":h=k8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=wv}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?g!==null?g+"Capture":null:g;y=[];for(var w=u,N;w!==null;){N=w;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,x!==null&&(k=Td(w,x),k!=null&&y.push(Bd(w,k,N)))),b)break;w=w.return}0<y.length&&(g=new h(g,v,null,n,d),f.push({event:g,listeners:y}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",g&&n!==s1&&(v=n.relatedTarget||n.fromElement)&&(tl(v)||v[aa]))break e;if((h||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?tl(v):null,v!==null&&(b=wl(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=vv,k="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=wv,k="onPointerLeave",x="onPointerEnter",w="pointer"),b=h==null?g:ac(h),N=v==null?g:ac(v),g=new y(k,w+"leave",h,n,d),g.target=b,g.relatedTarget=N,k=null,tl(d)===u&&(y=new y(x,w+"enter",v,n,d),y.target=N,y.relatedTarget=b,k=y),b=k,h&&v)t:{for(y=h,x=v,w=0,N=y;N;N=$l(N))w++;for(N=0,k=x;k;k=$l(k))N++;for(;0<w-N;)y=$l(y),w--;for(;0<N-w;)x=$l(x),N--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=$l(y),x=$l(x)}y=null}else y=null;h!==null&&Tv(f,g,h,y,!1),v!==null&&b!==null&&Tv(f,b,v,y,!0)}}e:{if(g=u?ac(u):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var R=K8;else if(jv(g))if(H4)R=X8;else{R=Y8;var I=G8}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=J8);if(R&&(R=R(t,u))){q4(f,R,n,d);break e}I&&I(t,g,u),t==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&Zm(g,"number",g.value)}switch(I=u?ac(u):window,t){case"focusin":(jv(I)||I.contentEditable==="true")&&(sc=I,d1=u,ud=null);break;case"focusout":ud=d1=sc=null;break;case"mousedown":h1=!0;break;case"contextmenu":case"mouseup":case"dragend":h1=!1,Ev(f,n,d);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Ev(f,n,d)}var M;if(ex)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rc?U4(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&($4&&n.locale!=="ko"&&(rc||j!=="onCompositionStart"?j==="onCompositionEnd"&&rc&&(M=B4()):(za=d,Xy="value"in za?za.value:za.textContent,rc=!0)),I=Ep(u,j),0<I.length&&(j=new bv(j,t,null,n,d),f.push({event:j,listeners:I}),M?j.data=M:(M=z4(n),M!==null&&(j.data=M)))),(M=z8?q8(t,n):H8(t,n))&&(u=Ep(u,"onBeforeInput"),0<u.length&&(d=new bv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=M))}e3(f,e)})}function Bd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ep(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Td(t,n),i!=null&&r.unshift(Bd(t,i,s)),i=Td(t,e),i!=null&&r.push(Bd(t,i,s))),t=t.return}return r}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Td(n,i),c!=null&&a.unshift(Bd(n,c,o))):s||(c=Td(n,i),c!=null&&a.push(Bd(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(iA,"")}function hf(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(Te(425))}function Pp(){}var f1=null,p1=null;function g1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m1=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(lA)}:m1;function lA(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rd(e)}function Xa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gc=Math.random().toString(36).slice(2),vi="__reactFiber$"+Gc,$d="__reactProps$"+Gc,aa="__reactContainer$"+Gc,y1="__reactEvents$"+Gc,cA="__reactListeners$"+Gc,uA="__reactHandles$"+Gc;function tl(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[aa]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rv(t);t!==null;){if(n=t[vi])return n;t=Rv(t)}return e}t=n,n=t.parentNode}return null}function dh(t){return t=t[vi]||t[aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function j0(t){return t[$d]||null}var x1=[],oc=-1;function co(t){return{current:t}}function an(t){0>oc||(t.current=x1[oc],x1[oc]=null,oc--)}function Zt(t,e){oc++,x1[oc]=t.current,t.current=e}var io={},Nr=co(io),$r=co(!1),dl=io;function Lc(t,e){var n=t.type.contextTypes;if(!n)return io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ur(t){return t=t.childContextTypes,t!=null}function Lp(){an($r),an(Nr)}function Mv(t,e,n){if(Nr.current!==io)throw Error(Te(168));Zt(Nr,e),Zt($r,n)}function n3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Te(108,Gk(t)||"Unknown",s));return gn({},n,r)}function Tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,dl=Nr.current,Zt(Nr,t),Zt($r,$r.current),!0}function Dv(t,e,n){var r=t.stateNode;if(!r)throw Error(Te(169));n?(t=n3(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,an($r),an(Nr),Zt(Nr,t)):an($r),Zt($r,n)}var Vi=null,S0=!1,Ug=!1;function r3(t){Vi===null?Vi=[t]:Vi.push(t)}function dA(t){S0=!0,r3(t)}function uo(){if(!Ug&&Vi!==null){Ug=!0;var t=0,e=Ht;try{var n=Vi;for(Ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vi=null,S0=!1}catch(s){throw Vi!==null&&(Vi=Vi.slice(t+1)),C4(Ky,uo),s}finally{Ht=e,Ug=!1}}return null}var lc=[],cc=0,Op=null,Ip=0,Ns=[],js=0,hl=null,Ji=1,Xi="";function Wo(t,e){lc[cc++]=Ip,lc[cc++]=Op,Op=t,Ip=e}function s3(t,e,n){Ns[js++]=Ji,Ns[js++]=Xi,Ns[js++]=hl,hl=t;var r=Ji;t=Xi;var s=32-Xs(r)-1;r&=~(1<<s),n+=1;var i=32-Xs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ji=1<<32-Xs(e)+s|n<<s|r,Xi=i+t}else Ji=1<<i|n<<s|r,Xi=t}function nx(t){t.return!==null&&(Wo(t,1),s3(t,1,0))}function rx(t){for(;t===Op;)Op=lc[--cc],lc[cc]=null,Ip=lc[--cc],lc[cc]=null;for(;t===hl;)hl=Ns[--js],Ns[js]=null,Xi=Ns[--js],Ns[js]=null,Ji=Ns[--js],Ns[js]=null}var os=null,is=null,ln=!1,Js=null;function i3(t,e){var n=Ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,os=t,is=Xa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,os=t,is=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Ji,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,os=t,is=null,!0):!1;default:return!1}}function v1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function b1(t){if(ln){var e=is;if(e){var n=e;if(!Fv(t,e)){if(v1(t))throw Error(Te(418));e=Xa(n.nextSibling);var r=os;e&&Fv(t,e)?i3(r,n):(t.flags=t.flags&-4097|2,ln=!1,os=t)}}else{if(v1(t))throw Error(Te(418));t.flags=t.flags&-4097|2,ln=!1,os=t}}}function Bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;os=t}function ff(t){if(t!==os)return!1;if(!ln)return Bv(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!g1(t.type,t.memoizedProps)),e&&(e=is)){if(v1(t))throw a3(),Error(Te(418));for(;e;)i3(t,e),e=Xa(e.nextSibling)}if(Bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){is=Xa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}is=null}}else is=os?Xa(t.stateNode.nextSibling):null;return!0}function a3(){for(var t=is;t;)t=Xa(t.nextSibling)}function Tc(){is=os=null,ln=!1}function sx(t){Js===null?Js=[t]:Js.push(t)}var hA=da.ReactCurrentBatchConfig;function Mu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function pf(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $v(t){var e=t._init;return e(t._payload)}function o3(t){function e(x,w){if(t){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=to(x,w),x.index=0,x.sibling=null,x}function i(x,w,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=2,w):N):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,N,k){return w===null||w.tag!==6?(w=Gg(N,x.mode,k),w.return=x,w):(w=s(w,N),w.return=x,w)}function c(x,w,N,k){var R=N.type;return R===nc?d(x,w,N.props.children,k,N.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ma&&$v(R)===w.type)?(k=s(w,N.props),k.ref=Mu(x,w,N),k.return=x,k):(k=lp(N.type,N.key,N.props,null,x.mode,k),k.ref=Mu(x,w,N),k.return=x,k)}function u(x,w,N,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Yg(N,x.mode,k),w.return=x,w):(w=s(w,N.children||[]),w.return=x,w)}function d(x,w,N,k,R){return w===null||w.tag!==7?(w=ol(N,x.mode,k,R),w.return=x,w):(w=s(w,N),w.return=x,w)}function f(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Gg(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:return N=lp(w.type,w.key,w.props,null,x.mode,N),N.ref=Mu(x,null,w),N.return=x,N;case tc:return w=Yg(w,x.mode,N),w.return=x,w;case Ma:var k=w._init;return f(x,k(w._payload),N)}if(Ku(w)||Lu(w))return w=ol(w,x.mode,N,null),w.return=x,w;pf(x,w)}return null}function g(x,w,N,k){var R=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:o(x,w,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case nf:return N.key===R?c(x,w,N,k):null;case tc:return N.key===R?u(x,w,N,k):null;case Ma:return R=N._init,g(x,w,R(N._payload),k)}if(Ku(N)||Lu(N))return R!==null?null:d(x,w,N,k,null);pf(x,N)}return null}function h(x,w,N,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(N)||null,o(w,x,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nf:return x=x.get(k.key===null?N:k.key)||null,c(w,x,k,R);case tc:return x=x.get(k.key===null?N:k.key)||null,u(w,x,k,R);case Ma:var I=k._init;return h(x,w,N,I(k._payload),R)}if(Ku(k)||Lu(k))return x=x.get(N)||null,d(w,x,k,R,null);pf(w,k)}return null}function v(x,w,N,k){for(var R=null,I=null,M=w,j=w=0,A=null;M!==null&&j<N.length;j++){M.index>j?(A=M,M=null):A=M.sibling;var L=g(x,M,N[j],k);if(L===null){M===null&&(M=A);break}t&&M&&L.alternate===null&&e(x,M),w=i(L,w,j),I===null?R=L:I.sibling=L,I=L,M=A}if(j===N.length)return n(x,M),ln&&Wo(x,j),R;if(M===null){for(;j<N.length;j++)M=f(x,N[j],k),M!==null&&(w=i(M,w,j),I===null?R=M:I.sibling=M,I=M);return ln&&Wo(x,j),R}for(M=r(x,M);j<N.length;j++)A=h(M,x,j,N[j],k),A!==null&&(t&&A.alternate!==null&&M.delete(A.key===null?j:A.key),w=i(A,w,j),I===null?R=A:I.sibling=A,I=A);return t&&M.forEach(function(C){return e(x,C)}),ln&&Wo(x,j),R}function y(x,w,N,k){var R=Lu(N);if(typeof R!="function")throw Error(Te(150));if(N=R.call(N),N==null)throw Error(Te(151));for(var I=R=null,M=w,j=w=0,A=null,L=N.next();M!==null&&!L.done;j++,L=N.next()){M.index>j?(A=M,M=null):A=M.sibling;var C=g(x,M,L.value,k);if(C===null){M===null&&(M=A);break}t&&M&&C.alternate===null&&e(x,M),w=i(C,w,j),I===null?R=C:I.sibling=C,I=C,M=A}if(L.done)return n(x,M),ln&&Wo(x,j),R;if(M===null){for(;!L.done;j++,L=N.next())L=f(x,L.value,k),L!==null&&(w=i(L,w,j),I===null?R=L:I.sibling=L,I=L);return ln&&Wo(x,j),R}for(M=r(x,M);!L.done;j++,L=N.next())L=h(M,x,j,L.value,k),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?j:L.key),w=i(L,w,j),I===null?R=L:I.sibling=L,I=L);return t&&M.forEach(function(O){return e(x,O)}),ln&&Wo(x,j),R}function b(x,w,N,k){if(typeof N=="object"&&N!==null&&N.type===nc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case nf:e:{for(var R=N.key,I=w;I!==null;){if(I.key===R){if(R=N.type,R===nc){if(I.tag===7){n(x,I.sibling),w=s(I,N.props.children),w.return=x,x=w;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ma&&$v(R)===I.type){n(x,I.sibling),w=s(I,N.props),w.ref=Mu(x,I,N),w.return=x,x=w;break e}n(x,I);break}else e(x,I);I=I.sibling}N.type===nc?(w=ol(N.props.children,x.mode,k,N.key),w.return=x,x=w):(k=lp(N.type,N.key,N.props,null,x.mode,k),k.ref=Mu(x,w,N),k.return=x,x=k)}return a(x);case tc:e:{for(I=N.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(x,w.sibling),w=s(w,N.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Yg(N,x.mode,k),w.return=x,x=w}return a(x);case Ma:return I=N._init,b(x,w,I(N._payload),k)}if(Ku(N))return v(x,w,N,k);if(Lu(N))return y(x,w,N,k);pf(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,N),w.return=x,x=w):(n(x,w),w=Gg(N,x.mode,k),w.return=x,x=w),a(x)):n(x,w)}return b}var Oc=o3(!0),l3=o3(!1),Rp=co(null),Mp=null,uc=null,ix=null;function ax(){ix=uc=Mp=null}function ox(t){var e=Rp.current;an(Rp),t._currentValue=e}function w1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vc(t,e){Mp=t,ix=uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(ix!==t)if(t={context:t,memoizedValue:e,next:null},uc===null){if(Mp===null)throw Error(Te(308));uc=t,Mp.dependencies={lanes:0,firstContext:t}}else uc=uc.next=t;return e}var nl=null;function lx(t){nl===null?nl=[t]:nl.push(t)}function c3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lx(e)):(n.next=s.next,s.next=n),e.interleaved=n,oa(t,r)}function oa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Da=!1;function cx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function na(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,oa(t,n)}return s=r.interleaved,s===null?(e.next=e,lx(r)):(e.next=s.next,s.next=e),r.interleaved=e,oa(t,n)}function np(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}function Uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dp(t,e,n,r){var s=t.updateQueue;Da=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,o=i;do{var g=o.lane,h=o.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(g=e,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(h,f,g);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,g=typeof v=="function"?v.call(h,f,g):v,g==null)break e;f=gn({},f,g);break e;case 2:Da=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[o]:g.push(o))}else h={eventTime:h,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,a|=g;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pl|=a,t.lanes=a,t.memoizedState=f}}function zv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Te(191,s));s.call(r)}}}var hh={},Ni=co(hh),Ud=co(hh),zd=co(hh);function rl(t){if(t===hh)throw Error(Te(174));return t}function ux(t,e){switch(Zt(zd,e),Zt(Ud,t),Zt(Ni,hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t1(e,t)}an(Ni),Zt(Ni,e)}function Ic(){an(Ni),an(Ud),an(zd)}function d3(t){rl(zd.current);var e=rl(Ni.current),n=t1(e,t.type);e!==n&&(Zt(Ud,t),Zt(Ni,n))}function dx(t){Ud.current===t&&(an(Ni),an(Ud))}var fn=co(0);function Fp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zg=[];function hx(){for(var t=0;t<zg.length;t++)zg[t]._workInProgressVersionPrimary=null;zg.length=0}var rp=da.ReactCurrentDispatcher,qg=da.ReactCurrentBatchConfig,fl=0,pn=null,Jn=null,Zn=null,Bp=!1,dd=!1,qd=0,fA=0;function pr(){throw Error(Te(321))}function fx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function px(t,e,n,r,s,i){if(fl=i,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rp.current=t===null||t.memoizedState===null?yA:xA,t=n(r,s),dd){i=0;do{if(dd=!1,qd=0,25<=i)throw Error(Te(301));i+=1,Zn=Jn=null,e.updateQueue=null,rp.current=vA,t=n(r,s)}while(dd)}if(rp.current=$p,e=Jn!==null&&Jn.next!==null,fl=0,Zn=Jn=pn=null,Bp=!1,e)throw Error(Te(300));return t}function gx(){var t=qd!==0;return qd=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?pn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function Ps(){if(Jn===null){var t=pn.alternate;t=t!==null?t.memoizedState:null}else t=Jn.next;var e=Zn===null?pn.memoizedState:Zn.next;if(e!==null)Zn=e,Jn=t;else{if(t===null)throw Error(Te(310));Jn=t,t={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},Zn===null?pn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function Hd(t,e){return typeof e=="function"?e(t):e}function Hg(t){var e=Ps(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=Jn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((fl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,pn.lanes|=d,pl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,ei(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,pn.lanes|=i,pl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wg(t){var e=Ps(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ei(i,e.memoizedState)||(Br=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function h3(){}function f3(t,e){var n=pn,r=Ps(),s=e(),i=!ei(r.memoizedState,s);if(i&&(r.memoizedState=s,Br=!0),r=r.queue,mx(m3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,Wd(9,g3.bind(null,n,r,s,e),void 0,null),nr===null)throw Error(Te(349));fl&30||p3(n,e,s)}return s}function p3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g3(t,e,n,r){e.value=n,e.getSnapshot=r,y3(e)&&x3(t)}function m3(t,e,n){return n(function(){y3(e)&&x3(t)})}function y3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function x3(t){var e=oa(t,1);e!==null&&Qs(e,t,1,-1)}function qv(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},e.queue=t,t=t.dispatch=mA.bind(null,pn,t),[e.memoizedState,t]}function Wd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v3(){return Ps().memoizedState}function sp(t,e,n,r){var s=yi();pn.flags|=t,s.memoizedState=Wd(1|e,n,void 0,r===void 0?null:r)}function k0(t,e,n,r){var s=Ps();r=r===void 0?null:r;var i=void 0;if(Jn!==null){var a=Jn.memoizedState;if(i=a.destroy,r!==null&&fx(r,a.deps)){s.memoizedState=Wd(e,n,i,r);return}}pn.flags|=t,s.memoizedState=Wd(1|e,n,i,r)}function Hv(t,e){return sp(8390656,8,t,e)}function mx(t,e){return k0(2048,8,t,e)}function b3(t,e){return k0(4,2,t,e)}function w3(t,e){return k0(4,4,t,e)}function _3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N3(t,e,n){return n=n!=null?n.concat([t]):null,k0(4,4,_3.bind(null,e,t),n)}function yx(){}function j3(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S3(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k3(t,e,n){return fl&21?(ei(n,e)||(n=L4(),pn.lanes|=n,pl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=n)}function pA(t,e){var n=Ht;Ht=n!==0&&4>n?n:4,t(!0);var r=qg.transition;qg.transition={};try{t(!1),e()}finally{Ht=n,qg.transition=r}}function A3(){return Ps().memoizedState}function gA(t,e,n){var r=eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C3(t))E3(e,n);else if(n=c3(t,e,n,r),n!==null){var s=Er();Qs(n,t,r,s),P3(n,e,r)}}function mA(t,e,n){var r=eo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C3(t))E3(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,ei(o,a)){var c=e.interleaved;c===null?(s.next=s,lx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=c3(t,e,s,r),n!==null&&(s=Er(),Qs(n,t,r,s),P3(n,e,r))}}function C3(t){var e=t.alternate;return t===pn||e!==null&&e===pn}function E3(t,e){dd=Bp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}var $p={readContext:Es,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},yA={readContext:Es,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:Es,useEffect:Hv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sp(4194308,4,_3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return sp(4,2,t,e)},useMemo:function(t,e){var n=yi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gA.bind(null,pn,t),[r.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:qv,useDebugValue:yx,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=qv(!1),e=t[0];return t=pA.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pn,s=yi();if(ln){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),nr===null)throw Error(Te(349));fl&30||p3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Hv(m3.bind(null,r,i,t),[t]),r.flags|=2048,Wd(9,g3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yi(),e=nr.identifierPrefix;if(ln){var n=Xi,r=Ji;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xA={readContext:Es,useCallback:j3,useContext:Es,useEffect:mx,useImperativeHandle:N3,useInsertionEffect:b3,useLayoutEffect:w3,useMemo:S3,useReducer:Hg,useRef:v3,useState:function(){return Hg(Hd)},useDebugValue:yx,useDeferredValue:function(t){var e=Ps();return k3(e,Jn.memoizedState,t)},useTransition:function(){var t=Hg(Hd)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:h3,useSyncExternalStore:f3,useId:A3,unstable_isNewReconciler:!1},vA={readContext:Es,useCallback:j3,useContext:Es,useEffect:mx,useImperativeHandle:N3,useInsertionEffect:b3,useLayoutEffect:w3,useMemo:S3,useReducer:Wg,useRef:v3,useState:function(){return Wg(Hd)},useDebugValue:yx,useDeferredValue:function(t){var e=Ps();return Jn===null?e.memoizedState=t:k3(e,Jn.memoizedState,t)},useTransition:function(){var t=Wg(Hd)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:h3,useSyncExternalStore:f3,useId:A3,unstable_isNewReconciler:!1};function Hs(t,e){if(t&&t.defaultProps){e=gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var A0={isMounted:function(t){return(t=t._reactInternals)?wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Er(),s=eo(t),i=na(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qa(t,i,s),e!==null&&(Qs(e,t,s,r),np(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Er(),s=eo(t),i=na(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qa(t,i,s),e!==null&&(Qs(e,t,s,r),np(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Er(),r=eo(t),s=na(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qa(t,s,r),e!==null&&(Qs(e,t,r,n),np(e,t,r))}};function Wv(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Dd(n,r)||!Dd(s,i):!0}function L3(t,e,n){var r=!1,s=io,i=e.contextType;return typeof i=="object"&&i!==null?i=Es(i):(s=Ur(e)?dl:Nr.current,r=e.contextTypes,i=(r=r!=null)?Lc(t,s):io),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=A0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&A0.enqueueReplaceState(e,e.state,null)}function N1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Es(i):(i=Ur(e)?dl:Nr.current,s.context=Lc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_1(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&A0.enqueueReplaceState(s,s.state,null),Dp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rc(t,e){try{var n="",r=e;do n+=Kk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function j1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bA=typeof WeakMap=="function"?WeakMap:Map;function T3(t,e,n){n=na(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zp||(zp=!0,I1=r),j1(t,e)},n}function O3(t,e,n){n=na(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){j1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){j1(t,e),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=IA.bind(null,t,e,n),e.then(t,t))}function Gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=na(-1,1),e.tag=2,Qa(n,e,1))),n.lanes|=1),t)}var wA=da.ReactCurrentOwner,Br=!1;function Ar(t,e,n,r){e.child=t===null?l3(e,null,n,r):Oc(e,t.child,n,r)}function Jv(t,e,n,r,s){n=n.render;var i=e.ref;return vc(e,s),r=px(t,e,n,r,i,s),n=gx(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,la(t,e,s)):(ln&&n&&nx(e),e.flags|=1,Ar(t,e,r,s),e.child)}function Xv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,I3(t,e,i,r,s)):(t=lp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dd,n(a,r)&&t.ref===e.ref)return la(t,e,s)}return e.flags|=1,t=to(i,r),t.ref=e.ref,t.return=e,e.child=t}function I3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dd(i,r)&&t.ref===e.ref)if(Br=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,la(t,e,s)}return S1(t,e,n,r,s)}function R3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(hc,ns),ns|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(hc,ns),ns|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Zt(hc,ns),ns|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Zt(hc,ns),ns|=r;return Ar(t,e,s,n),e.child}function M3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function S1(t,e,n,r,s){var i=Ur(n)?dl:Nr.current;return i=Lc(e,i),vc(e,s),n=px(t,e,n,r,i,s),r=gx(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,la(t,e,s)):(ln&&r&&nx(e),e.flags|=1,Ar(t,e,n,s),e.child)}function Qv(t,e,n,r,s){if(Ur(n)){var i=!0;Tp(e)}else i=!1;if(vc(e,s),e.stateNode===null)ip(t,e),L3(e,n,r),N1(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Ur(n)?dl:Nr.current,u=Lc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Vv(e,a,r,u),Da=!1;var g=e.memoizedState;a.state=g,Dp(e,r,a,s),c=e.memoizedState,o!==r||g!==c||$r.current||Da?(typeof d=="function"&&(_1(e,n,d,r),c=e.memoizedState),(o=Da||Wv(e,n,o,r,g,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,u3(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Hs(e.type,o),a.props=u,f=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Es(c):(c=Ur(n)?dl:Nr.current,c=Lc(e,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||g!==c)&&Vv(e,a,r,c),Da=!1,g=e.memoizedState,a.state=g,Dp(e,r,a,s);var v=e.memoizedState;o!==f||g!==v||$r.current||Da?(typeof h=="function"&&(_1(e,n,h,r),v=e.memoizedState),(u=Da||Wv(e,n,u,r,g,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return k1(t,e,n,r,i,s)}function k1(t,e,n,r,s,i){M3(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Dv(e,n,!1),la(t,e,i);r=e.stateNode,wA.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Oc(e,t.child,null,i),e.child=Oc(e,null,o,i)):Ar(t,e,o,i),e.memoizedState=r.state,s&&Dv(e,n,!0),e.child}function D3(t){var e=t.stateNode;e.pendingContext?Mv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mv(t,e.context,!1),ux(t,e.containerInfo)}function Zv(t,e,n,r,s){return Tc(),sx(s),e.flags|=256,Ar(t,e,n,r),e.child}var A1={dehydrated:null,treeContext:null,retryLane:0};function C1(t){return{baseLanes:t,cachePool:null,transitions:null}}function F3(t,e,n){var r=e.pendingProps,s=fn.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Zt(fn,s&1),t===null)return b1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=P0(a,r,0,null),t=ol(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=C1(n),e.memoizedState=A1,t):xx(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return _A(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=to(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=to(o,i):(i=ol(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?C1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=A1,r}return i=t.child,t=i.sibling,r=to(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xx(t,e){return e=P0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gf(t,e,n,r){return r!==null&&sx(r),Oc(e,t.child,null,n),t=xx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _A(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Vg(Error(Te(422))),gf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=P0({mode:"visible",children:r.children},s,0,null),i=ol(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oc(e,t.child,null,a),e.child.memoizedState=C1(a),e.memoizedState=A1,i);if(!(e.mode&1))return gf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Te(419)),r=Vg(i,r,void 0),gf(t,e,a,r)}if(o=(a&t.childLanes)!==0,Br||o){if(r=nr,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,oa(t,s),Qs(r,t,s,-1))}return jx(),r=Vg(Error(Te(421))),gf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,is=Xa(s.nextSibling),os=e,ln=!0,Js=null,t!==null&&(Ns[js++]=Ji,Ns[js++]=Xi,Ns[js++]=hl,Ji=t.id,Xi=t.overflow,hl=e),e=xx(e,r.children),e.flags|=4096,e)}function eb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),w1(t.return,e,n)}function Kg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function B3(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ar(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eb(t,n,e);else if(t.tag===19)eb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(fn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Kg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Kg(e,!0,n,null,i);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function la(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=to(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=to(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NA(t,e,n){switch(e.tag){case 3:D3(e),Tc();break;case 5:d3(e);break;case 1:Ur(e.type)&&Tp(e);break;case 4:ux(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Zt(Rp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?F3(t,e,n):(Zt(fn,fn.current&1),t=la(t,e,n),t!==null?t.sibling:null);Zt(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return B3(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Zt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,R3(t,e,n)}return la(t,e,n)}var $3,E1,U3,z3;$3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E1=function(){};U3=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rl(Ni.current);var i=null;switch(n){case"input":s=Xm(t,s),r=Xm(t,r),i=[];break;case"select":s=gn({},s,{value:void 0}),r=gn({},r,{value:void 0}),i=[];break;case"textarea":s=e1(t,s),r=e1(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pp)}n1(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nn("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};z3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Du(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jA(t,e,n){var r=e.pendingProps;switch(rx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return Ur(e.type)&&Lp(),gr(e),null;case 3:return r=e.stateNode,Ic(),an($r),an(Nr),hx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ff(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Js!==null&&(D1(Js),Js=null))),E1(t,e),gr(e),null;case 5:dx(e);var s=rl(zd.current);if(n=e.type,t!==null&&e.stateNode!=null)U3(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Te(166));return gr(e),null}if(t=rl(Ni.current),ff(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vi]=e,r[$d]=i,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(s=0;s<Yu.length;s++)nn(Yu[s],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":cv(r,i),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nn("invalid",r);break;case"textarea":dv(r,i),nn("invalid",r)}n1(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&hf(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&hf(r.textContent,o,t),s=["children",""+o]):Pd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nn("scroll",r)}switch(n){case"input":rf(r),uv(r,i,!0);break;case"textarea":rf(r),hv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vi]=e,t[$d]=r,$3(t,e,!1,!1),e.stateNode=t;e:{switch(a=r1(n,r),n){case"dialog":nn("cancel",t),nn("close",t),s=r;break;case"iframe":case"object":case"embed":nn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yu.length;s++)nn(Yu[s],t);s=r;break;case"source":nn("error",t),s=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),s=r;break;case"details":nn("toggle",t),s=r;break;case"input":cv(t,r),s=Xm(t,r),nn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":dv(t,r),s=e1(t,r),nn("invalid",t);break;default:s=r}n1(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?v4(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&y4(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ld(t,c):typeof c=="number"&&Ld(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nn("scroll",t):c!=null&&zy(t,i,c,a))}switch(n){case"input":rf(t),uv(t,r,!1);break;case"textarea":rf(t),hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+so(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?gc(t,!!r.multiple,i,!1):r.defaultValue!=null&&gc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)z3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Te(166));if(n=rl(zd.current),rl(Ni.current),ff(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(i=r.nodeValue!==n)&&(t=os,t!==null))switch(t.tag){case 3:hf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return gr(e),null;case 13:if(an(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&is!==null&&e.mode&1&&!(e.flags&128))a3(),Tc(),e.flags|=98560,i=!1;else if(i=ff(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[vi]=e}else Tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),i=!1}else Js!==null&&(D1(Js),Js=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?Xn===0&&(Xn=3):jx())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return Ic(),E1(t,e),t===null&&Fd(e.stateNode.containerInfo),gr(e),null;case 10:return ox(e.type._context),gr(e),null;case 17:return Ur(e.type)&&Lp(),gr(e),null;case 19:if(an(fn),i=e.memoizedState,i===null)return gr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Du(i,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Fp(t),a!==null){for(e.flags|=128,Du(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(fn,fn.current&1|2),e.child}t=t.sibling}i.tail!==null&&En()>Mc&&(e.flags|=128,r=!0,Du(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Du(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ln)return gr(e),null}else 2*En()-i.renderingStartTime>Mc&&n!==1073741824&&(e.flags|=128,r=!0,Du(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=En(),e.sibling=null,n=fn.current,Zt(fn,r?n&1|2:n&1),e):(gr(e),null);case 22:case 23:return Nx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ns&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function SA(t,e){switch(rx(e),e.tag){case 1:return Ur(e.type)&&Lp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ic(),an($r),an(Nr),hx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dx(e),null;case 13:if(an(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(fn),null;case 4:return Ic(),null;case 10:return ox(e.type._context),null;case 22:case 23:return Nx(),null;case 24:return null;default:return null}}var mf=!1,wr=!1,kA=typeof WeakSet=="function"?WeakSet:Set,qe=null;function dc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function P1(t,e,n){try{n()}catch(r){bn(t,e,r)}}var tb=!1;function AA(t,e){if(f1=Ap,t=K4(),tx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)g=f,f=h;for(;;){if(f===t)break t;if(g===n&&++u===s&&(o=a),g===i&&++d===r&&(c=a),(h=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=h}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(p1={focusedElem:t,selectionRange:n},Ap=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hs(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(k){bn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return v=tb,tb=!1,v}function hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&P1(e,n,i)}s=s.next}while(s!==r)}}function C0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function L1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q3(t){var e=t.alternate;e!==null&&(t.alternate=null,q3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[$d],delete e[y1],delete e[cA],delete e[uA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H3(t){return t.tag===5||t.tag===3||t.tag===4}function nb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pp));else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}function O1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(O1(t,e,n),t=t.sibling;t!==null;)O1(t,e,n),t=t.sibling}var lr=null,Vs=!1;function Ea(t,e,n){for(n=n.child;n!==null;)W3(t,e,n),n=n.sibling}function W3(t,e,n){if(_i&&typeof _i.onCommitFiberUnmount=="function")try{_i.onCommitFiberUnmount(b0,n)}catch{}switch(n.tag){case 5:wr||dc(n,e);case 6:var r=lr,s=Vs;lr=null,Ea(t,e,n),lr=r,Vs=s,lr!==null&&(Vs?(t=lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lr.removeChild(n.stateNode));break;case 18:lr!==null&&(Vs?(t=lr,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Rd(t)):$g(lr,n.stateNode));break;case 4:r=lr,s=Vs,lr=n.stateNode.containerInfo,Vs=!0,Ea(t,e,n),lr=r,Vs=s;break;case 0:case 11:case 14:case 15:if(!wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&P1(n,e,a),s=s.next}while(s!==r)}Ea(t,e,n);break;case 1:if(!wr&&(dc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bn(n,e,o)}Ea(t,e,n);break;case 21:Ea(t,e,n);break;case 22:n.mode&1?(wr=(r=wr)||n.memoizedState!==null,Ea(t,e,n),wr=r):Ea(t,e,n);break;default:Ea(t,e,n)}}function rb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kA),e.forEach(function(r){var s=MA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Us(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:lr=o.stateNode,Vs=!1;break e;case 3:lr=o.stateNode.containerInfo,Vs=!0;break e;case 4:lr=o.stateNode.containerInfo,Vs=!0;break e}o=o.return}if(lr===null)throw Error(Te(160));W3(i,a,s),lr=null,Vs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){bn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V3(e,t),e=e.sibling}function V3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Us(e,t),di(t),r&4){try{hd(3,t,t.return),C0(3,t)}catch(y){bn(t,t.return,y)}try{hd(5,t,t.return)}catch(y){bn(t,t.return,y)}}break;case 1:Us(e,t),di(t),r&512&&n!==null&&dc(n,n.return);break;case 5:if(Us(e,t),di(t),r&512&&n!==null&&dc(n,n.return),t.flags&32){var s=t.stateNode;try{Ld(s,"")}catch(y){bn(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&p4(s,i),r1(o,a);var u=r1(o,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?v4(s,f):d==="dangerouslySetInnerHTML"?y4(s,f):d==="children"?Ld(s,f):zy(s,d,f,u)}switch(o){case"input":Qm(s,i);break;case"textarea":g4(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?gc(s,!!i.multiple,h,!1):g!==!!i.multiple&&(i.defaultValue!=null?gc(s,!!i.multiple,i.defaultValue,!0):gc(s,!!i.multiple,i.multiple?[]:"",!1))}s[$d]=i}catch(y){bn(t,t.return,y)}}break;case 6:if(Us(e,t),di(t),r&4){if(t.stateNode===null)throw Error(Te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){bn(t,t.return,y)}}break;case 3:if(Us(e,t),di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rd(e.containerInfo)}catch(y){bn(t,t.return,y)}break;case 4:Us(e,t),di(t);break;case 13:Us(e,t),di(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wx=En())),r&4&&rb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wr=(u=wr)||d,Us(e,t),wr=u):Us(e,t),di(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(qe=t,d=t.child;d!==null;){for(f=qe=d;qe!==null;){switch(g=qe,h=g.child,g.tag){case 0:case 11:case 14:case 15:hd(4,g,g.return);break;case 1:dc(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){bn(r,n,y)}}break;case 5:dc(g,g.return);break;case 22:if(g.memoizedState!==null){ib(f);continue}}h!==null?(h.return=g,qe=h):ib(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=x4("display",a))}catch(y){bn(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){bn(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Us(e,t),di(t),r&4&&rb(t);break;case 21:break;default:Us(e,t),di(t)}}function di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H3(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ld(s,""),r.flags&=-33);var i=nb(t);O1(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=nb(t);T1(t,o,a);break;default:throw Error(Te(161))}}catch(c){bn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CA(t,e,n){qe=t,K3(t)}function K3(t,e,n){for(var r=(t.mode&1)!==0;qe!==null;){var s=qe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||mf;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||wr;o=mf;var u=wr;if(mf=a,(wr=c)&&!u)for(qe=s;qe!==null;)a=qe,c=a.child,a.tag===22&&a.memoizedState!==null?ab(s):c!==null?(c.return=a,qe=c):ab(s);for(;i!==null;)qe=i,K3(i),i=i.sibling;qe=s,mf=o,wr=u}sb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,qe=i):sb(t)}}function sb(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||C0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zv(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zv(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}wr||e.flags&512&&L1(e)}catch(g){bn(e,e.return,g)}}if(e===t){qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}}function ib(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qe=n;break}qe=e.return}}function ab(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{C0(4,e)}catch(c){bn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){bn(e,s,c)}}var i=e.return;try{L1(e)}catch(c){bn(e,i,c)}break;case 5:var a=e.return;try{L1(e)}catch(c){bn(e,a,c)}}}catch(c){bn(e,e.return,c)}if(e===t){qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,qe=o;break}qe=e.return}}var EA=Math.ceil,Up=da.ReactCurrentDispatcher,vx=da.ReactCurrentOwner,Cs=da.ReactCurrentBatchConfig,Lt=0,nr=null,Un=null,ur=0,ns=0,hc=co(0),Xn=0,Vd=null,pl=0,E0=0,bx=0,fd=null,Mr=null,wx=0,Mc=1/0,Hi=null,zp=!1,I1=null,Za=null,yf=!1,qa=null,qp=0,pd=0,R1=null,ap=-1,op=0;function Er(){return Lt&6?En():ap!==-1?ap:ap=En()}function eo(t){return t.mode&1?Lt&2&&ur!==0?ur&-ur:hA.transition!==null?(op===0&&(op=L4()),op):(t=Ht,t!==0||(t=window.event,t=t===void 0?16:F4(t.type)),t):1}function Qs(t,e,n,r){if(50<pd)throw pd=0,R1=null,Error(Te(185));ch(t,n,r),(!(Lt&2)||t!==nr)&&(t===nr&&(!(Lt&2)&&(E0|=n),Xn===4&&Ba(t,ur)),zr(t,r),n===1&&Lt===0&&!(e.mode&1)&&(Mc=En()+500,S0&&uo()))}function zr(t,e){var n=t.callbackNode;h8(t,e);var r=kp(t,t===nr?ur:0);if(r===0)n!==null&&gv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gv(n),e===1)t.tag===0?dA(ob.bind(null,t)):r3(ob.bind(null,t)),oA(function(){!(Lt&6)&&uo()}),n=null;else{switch(T4(r)){case 1:n=Ky;break;case 4:n=E4;break;case 16:n=Sp;break;case 536870912:n=P4;break;default:n=Sp}n=tN(n,G3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G3(t,e){if(ap=-1,op=0,Lt&6)throw Error(Te(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var r=kp(t,t===nr?ur:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hp(t,r);else{e=r;var s=Lt;Lt|=2;var i=J3();(nr!==t||ur!==e)&&(Hi=null,Mc=En()+500,al(t,e));do try{TA();break}catch(o){Y3(t,o)}while(!0);ax(),Up.current=i,Lt=s,Un!==null?e=0:(nr=null,ur=0,e=Xn)}if(e!==0){if(e===2&&(s=l1(t),s!==0&&(r=s,e=M1(t,s))),e===1)throw n=Vd,al(t,0),Ba(t,r),zr(t,En()),n;if(e===6)Ba(t,r);else{if(s=t.current.alternate,!(r&30)&&!PA(s)&&(e=Hp(t,r),e===2&&(i=l1(t),i!==0&&(r=i,e=M1(t,i))),e===1))throw n=Vd,al(t,0),Ba(t,r),zr(t,En()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Te(345));case 2:Vo(t,Mr,Hi);break;case 3:if(Ba(t,r),(r&130023424)===r&&(e=wx+500-En(),10<e)){if(kp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Er(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=m1(Vo.bind(null,t,Mr,Hi),e);break}Vo(t,Mr,Hi);break;case 4:if(Ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Xs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EA(r/1960))-r,10<r){t.timeoutHandle=m1(Vo.bind(null,t,Mr,Hi),r);break}Vo(t,Mr,Hi);break;case 5:Vo(t,Mr,Hi);break;default:throw Error(Te(329))}}}return zr(t,En()),t.callbackNode===n?G3.bind(null,t):null}function M1(t,e){var n=fd;return t.current.memoizedState.isDehydrated&&(al(t,e).flags|=256),t=Hp(t,e),t!==2&&(e=Mr,Mr=n,e!==null&&D1(e)),t}function D1(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function PA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ei(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e){for(e&=~bx,e&=~E0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xs(e),r=1<<n;t[n]=-1,e&=~r}}function ob(t){if(Lt&6)throw Error(Te(327));bc();var e=kp(t,0);if(!(e&1))return zr(t,En()),null;var n=Hp(t,e);if(t.tag!==0&&n===2){var r=l1(t);r!==0&&(e=r,n=M1(t,r))}if(n===1)throw n=Vd,al(t,0),Ba(t,e),zr(t,En()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,Mr,Hi),zr(t,En()),null}function _x(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(Mc=En()+500,S0&&uo())}}function gl(t){qa!==null&&qa.tag===0&&!(Lt&6)&&bc();var e=Lt;Lt|=1;var n=Cs.transition,r=Ht;try{if(Cs.transition=null,Ht=1,t)return t()}finally{Ht=r,Cs.transition=n,Lt=e,!(Lt&6)&&uo()}}function Nx(){ns=hc.current,an(hc)}function al(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aA(n)),Un!==null)for(n=Un.return;n!==null;){var r=n;switch(rx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lp();break;case 3:Ic(),an($r),an(Nr),hx();break;case 5:dx(r);break;case 4:Ic();break;case 13:an(fn);break;case 19:an(fn);break;case 10:ox(r.type._context);break;case 22:case 23:Nx()}n=n.return}if(nr=t,Un=t=to(t.current,null),ur=ns=e,Xn=0,Vd=null,bx=E0=pl=0,Mr=fd=null,nl!==null){for(e=0;e<nl.length;e++)if(n=nl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}nl=null}return t}function Y3(t,e){do{var n=Un;try{if(ax(),rp.current=$p,Bp){for(var r=pn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bp=!1}if(fl=0,Zn=Jn=pn=null,dd=!1,qd=0,vx.current=null,n===null||n.return===null){Xn=1,Vd=e,Un=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=ur,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Gv(a);if(h!==null){h.flags&=-257,Yv(h,a,o,i,e),h.mode&1&&Kv(i,u,e),e=h,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Kv(i,u,e),jx();break e}c=Error(Te(426))}}else if(ln&&o.mode&1){var b=Gv(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yv(b,a,o,i,e),sx(Rc(c,o));break e}}i=c=Rc(c,o),Xn!==4&&(Xn=2),fd===null?fd=[i]:fd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=T3(i,c,e);Uv(i,x);break e;case 1:o=c;var w=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Za===null||!Za.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=O3(i,o,e);Uv(i,k);break e}}i=i.return}while(i!==null)}Q3(n)}catch(R){e=R,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(!0)}function J3(){var t=Up.current;return Up.current=$p,t===null?$p:t}function jx(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),nr===null||!(pl&268435455)&&!(E0&268435455)||Ba(nr,ur)}function Hp(t,e){var n=Lt;Lt|=2;var r=J3();(nr!==t||ur!==e)&&(Hi=null,al(t,e));do try{LA();break}catch(s){Y3(t,s)}while(!0);if(ax(),Lt=n,Up.current=r,Un!==null)throw Error(Te(261));return nr=null,ur=0,Xn}function LA(){for(;Un!==null;)X3(Un)}function TA(){for(;Un!==null&&!r8();)X3(Un)}function X3(t){var e=eN(t.alternate,t,ns);t.memoizedProps=t.pendingProps,e===null?Q3(t):Un=e,vx.current=null}function Q3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SA(n,e),n!==null){n.flags&=32767,Un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Un=null;return}}else if(n=jA(n,e,ns),n!==null){Un=n;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=t}while(e!==null);Xn===0&&(Xn=5)}function Vo(t,e,n){var r=Ht,s=Cs.transition;try{Cs.transition=null,Ht=1,OA(t,e,n,r)}finally{Cs.transition=s,Ht=r}return null}function OA(t,e,n,r){do bc();while(qa!==null);if(Lt&6)throw Error(Te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(f8(t,i),t===nr&&(Un=nr=null,ur=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yf||(yf=!0,tN(Sp,function(){return bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cs.transition,Cs.transition=null;var a=Ht;Ht=1;var o=Lt;Lt|=4,vx.current=null,AA(t,n),V3(n,t),Z8(p1),Ap=!!f1,p1=f1=null,t.current=n,CA(n),s8(),Lt=o,Ht=a,Cs.transition=i}else t.current=n;if(yf&&(yf=!1,qa=t,qp=s),i=t.pendingLanes,i===0&&(Za=null),o8(n.stateNode),zr(t,En()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zp)throw zp=!1,t=I1,I1=null,t;return qp&1&&t.tag!==0&&bc(),i=t.pendingLanes,i&1?t===R1?pd++:(pd=0,R1=t):pd=0,uo(),null}function bc(){if(qa!==null){var t=T4(qp),e=Cs.transition,n=Ht;try{if(Cs.transition=null,Ht=16>t?16:t,qa===null)var r=!1;else{if(t=qa,qa=null,qp=0,Lt&6)throw Error(Te(331));var s=Lt;for(Lt|=4,qe=t.current;qe!==null;){var i=qe,a=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:hd(8,d,i)}var f=d.child;if(f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;var g=d.sibling,h=d.return;if(q3(d),d===u){qe=null;break}if(g!==null){g.return=h,qe=g;break}qe=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}qe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,qe=a;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,qe=x;break e}qe=i.return}}var w=t.current;for(qe=w;qe!==null;){a=qe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,qe=N;else e:for(a=w;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:C0(9,o)}}catch(R){bn(o,o.return,R)}if(o===a){qe=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,qe=k;break e}qe=o.return}}if(Lt=s,uo(),_i&&typeof _i.onPostCommitFiberRoot=="function")try{_i.onPostCommitFiberRoot(b0,t)}catch{}r=!0}return r}finally{Ht=n,Cs.transition=e}}return!1}function lb(t,e,n){e=Rc(n,e),e=T3(t,e,1),t=Qa(t,e,1),e=Er(),t!==null&&(ch(t,1,e),zr(t,e))}function bn(t,e,n){if(t.tag===3)lb(t,t,n);else for(;e!==null;){if(e.tag===3){lb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){t=Rc(n,t),t=O3(e,t,1),e=Qa(e,t,1),t=Er(),e!==null&&(ch(e,1,t),zr(e,t));break}}e=e.return}}function IA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Er(),t.pingedLanes|=t.suspendedLanes&n,nr===t&&(ur&n)===n&&(Xn===4||Xn===3&&(ur&130023424)===ur&&500>En()-wx?al(t,0):bx|=n),zr(t,e)}function Z3(t,e){e===0&&(t.mode&1?(e=of,of<<=1,!(of&130023424)&&(of=4194304)):e=1);var n=Er();t=oa(t,e),t!==null&&(ch(t,e,n),zr(t,n))}function RA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z3(t,n)}function MA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(e),Z3(t,n)}var eN;eN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$r.current)Br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Br=!1,NA(t,e,n);Br=!!(t.flags&131072)}else Br=!1,ln&&e.flags&1048576&&s3(e,Ip,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ip(t,e),t=e.pendingProps;var s=Lc(e,Nr.current);vc(e,n),s=px(null,e,r,t,s,n);var i=gx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ur(r)?(i=!0,Tp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cx(e),s.updater=A0,e.stateNode=s,s._reactInternals=e,N1(e,r,t,n),e=k1(null,e,r,!0,i,n)):(e.tag=0,ln&&i&&nx(e),Ar(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ip(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FA(r),t=Hs(r,t),s){case 0:e=S1(null,e,r,t,n);break e;case 1:e=Qv(null,e,r,t,n);break e;case 11:e=Jv(null,e,r,t,n);break e;case 14:e=Xv(null,e,r,Hs(r.type,t),n);break e}throw Error(Te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hs(r,s),S1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hs(r,s),Qv(t,e,r,s,n);case 3:e:{if(D3(e),t===null)throw Error(Te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,u3(t,e),Dp(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Rc(Error(Te(423)),e),e=Zv(t,e,r,n,s);break e}else if(r!==s){s=Rc(Error(Te(424)),e),e=Zv(t,e,r,n,s);break e}else for(is=Xa(e.stateNode.containerInfo.firstChild),os=e,ln=!0,Js=null,n=l3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tc(),r===s){e=la(t,e,n);break e}Ar(t,e,r,n)}e=e.child}return e;case 5:return d3(e),t===null&&b1(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,g1(r,s)?a=null:i!==null&&g1(r,i)&&(e.flags|=32),M3(t,e),Ar(t,e,a,n),e.child;case 6:return t===null&&b1(e),null;case 13:return F3(t,e,n);case 4:return ux(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oc(e,null,r,n):Ar(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hs(r,s),Jv(t,e,r,s,n);case 7:return Ar(t,e,e.pendingProps,n),e.child;case 8:return Ar(t,e,e.pendingProps.children,n),e.child;case 12:return Ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Zt(Rp,r._currentValue),r._currentValue=a,i!==null)if(ei(i.value,a)){if(i.children===s.children&&!$r.current){e=la(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=na(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),w1(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Te(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),w1(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ar(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vc(e,n),s=Es(s),r=r(s),e.flags|=1,Ar(t,e,r,n),e.child;case 14:return r=e.type,s=Hs(r,e.pendingProps),s=Hs(r.type,s),Xv(t,e,r,s,n);case 15:return I3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hs(r,s),ip(t,e),e.tag=1,Ur(r)?(t=!0,Tp(e)):t=!1,vc(e,n),L3(e,r,s),N1(e,r,s,n),k1(null,e,r,!0,t,n);case 19:return B3(t,e,n);case 22:return R3(t,e,n)}throw Error(Te(156,e.tag))};function tN(t,e){return C4(t,e)}function DA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,n,r){return new DA(t,e,n,r)}function Sx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FA(t){if(typeof t=="function")return Sx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hy)return 11;if(t===Wy)return 14}return 2}function to(t,e){var n=t.alternate;return n===null?(n=Ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lp(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Sx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nc:return ol(n.children,s,i,e);case qy:a=8,s|=8;break;case Km:return t=Ss(12,n,e,s|2),t.elementType=Km,t.lanes=i,t;case Gm:return t=Ss(13,n,e,s),t.elementType=Gm,t.lanes=i,t;case Ym:return t=Ss(19,n,e,s),t.elementType=Ym,t.lanes=i,t;case d4:return P0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c4:a=10;break e;case u4:a=9;break e;case Hy:a=11;break e;case Wy:a=14;break e;case Ma:a=16,r=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=Ss(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ol(t,e,n,r){return t=Ss(7,t,r,e),t.lanes=n,t}function P0(t,e,n,r){return t=Ss(22,t,r,e),t.elementType=d4,t.lanes=n,t.stateNode={isHidden:!1},t}function Gg(t,e,n){return t=Ss(6,t,null,e),t.lanes=n,t}function Yg(t,e,n){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kx(t,e,n,r,s,i,a,o,c){return t=new BA(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ss(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cx(i),t}function $A(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nN(t){if(!t)return io;t=t._reactInternals;e:{if(wl(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(Ur(n))return n3(t,n,e)}return e}function rN(t,e,n,r,s,i,a,o,c){return t=kx(n,r,!0,t,s,i,a,o,c),t.context=nN(null),n=t.current,r=Er(),s=eo(n),i=na(r,s),i.callback=e??null,Qa(n,i,s),t.current.lanes=s,ch(t,s,r),zr(t,r),t}function L0(t,e,n,r){var s=e.current,i=Er(),a=eo(s);return n=nN(n),e.context===null?e.context=n:e.pendingContext=n,e=na(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qa(s,e,a),t!==null&&(Qs(t,s,a,i),np(t,s,a)),a}function Wp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ax(t,e){cb(t,e),(t=t.alternate)&&cb(t,e)}function UA(){return null}var sN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cx(t){this._internalRoot=t}T0.prototype.render=Cx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));L0(t,e,null,null)};T0.prototype.unmount=Cx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){L0(null,t,null,null)}),e[aa]=null}};function T0(t){this._internalRoot=t}T0.prototype.unstable_scheduleHydration=function(t){if(t){var e=R4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fa.length&&e!==0&&e<Fa[n].priority;n++);Fa.splice(n,0,t),n===0&&D4(t)}};function Ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ub(){}function zA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wp(a);i.call(u)}}var a=rN(e,r,t,0,null,!1,!1,"",ub);return t._reactRootContainer=a,t[aa]=a.current,Fd(t.nodeType===8?t.parentNode:t),gl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Wp(c);o.call(u)}}var c=kx(t,0,!1,null,null,!1,!1,"",ub);return t._reactRootContainer=c,t[aa]=c.current,Fd(t.nodeType===8?t.parentNode:t),gl(function(){L0(e,c,n,r)}),c}function I0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Wp(a);o.call(c)}}L0(e,a,t,s)}else a=zA(n,e,t,s,r);return Wp(a)}O4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gu(e.pendingLanes);n!==0&&(Gy(e,n|1),zr(e,En()),!(Lt&6)&&(Mc=En()+500,uo()))}break;case 13:gl(function(){var r=oa(t,1);if(r!==null){var s=Er();Qs(r,t,1,s)}}),Ax(t,1)}};Yy=function(t){if(t.tag===13){var e=oa(t,134217728);if(e!==null){var n=Er();Qs(e,t,134217728,n)}Ax(t,134217728)}};I4=function(t){if(t.tag===13){var e=eo(t),n=oa(t,e);if(n!==null){var r=Er();Qs(n,t,e,r)}Ax(t,e)}};R4=function(){return Ht};M4=function(t,e){var n=Ht;try{return Ht=t,e()}finally{Ht=n}};i1=function(t,e,n){switch(e){case"input":if(Qm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=j0(r);if(!s)throw Error(Te(90));f4(r),Qm(r,s)}}}break;case"textarea":g4(t,n);break;case"select":e=n.value,e!=null&&gc(t,!!n.multiple,e,!1)}};_4=_x;N4=gl;var qA={usingClientEntryPoint:!1,Events:[dh,ac,j0,b4,w4,_x]},Fu={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HA={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k4(t),t===null?null:t.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||UA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{b0=xf.inject(HA),_i=xf}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA;cs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ex(e))throw Error(Te(200));return $A(t,e,null,n)};cs.createRoot=function(t,e){if(!Ex(t))throw Error(Te(299));var n=!1,r="",s=sN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kx(t,1,!1,null,null,n,!1,r,s),t[aa]=e.current,Fd(t.nodeType===8?t.parentNode:t),new Cx(e)};cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=k4(e),t=t===null?null:t.stateNode,t};cs.flushSync=function(t){return gl(t)};cs.hydrate=function(t,e,n){if(!O0(e))throw Error(Te(200));return I0(null,t,e,!0,n)};cs.hydrateRoot=function(t,e,n){if(!Ex(t))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=sN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rN(e,null,t,1,n??null,s,!1,i,a),t[aa]=e.current,Fd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new T0(e)};cs.render=function(t,e,n){if(!O0(e))throw Error(Te(200));return I0(null,t,e,!1,n)};cs.unmountComponentAtNode=function(t){if(!O0(t))throw Error(Te(40));return t._reactRootContainer?(gl(function(){I0(null,null,t,!1,function(){t._reactRootContainer=null,t[aa]=null})}),!0):!1};cs.unstable_batchedUpdates=_x;cs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!O0(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return I0(t,e,n,!1,r)};cs.version="18.3.1-next-f1338f8080-20240426";function iN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iN)}catch(t){console.error(t)}}iN(),i4.exports=cs;var WA=i4.exports,aN,db=WA;aN=db.createRoot,db.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}var Ha;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ha||(Ha={}));const hb="popstate";function VA(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:o="",hash:c=""}=_l(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),F1("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:Vp(i))}function r(s,i){Px(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return GA(e,n,r,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Px(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substr(2,8)}function fb(t,e){return{usr:t.state,key:t.key,idx:e}}function F1(t,e,n,r){return n===void 0&&(n=null),Kd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:n,key:e&&e.key||r||KA()})}function Vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Ha.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Kd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ha.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:o,location:y.location,delta:x})}function g(b,x){o=Ha.Push;let w=F1(y.location,b,x);n&&n(w,b),u=d()+1;let N=fb(w,u),k=y.createHref(w);try{a.pushState(N,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&c&&c({action:o,location:y.location,delta:1})}function h(b,x){o=Ha.Replace;let w=F1(y.location,b,x);n&&n(w,b),u=d();let N=fb(w,u),k=y.createHref(w);a.replaceState(N,"",k),i&&c&&c({action:o,location:y.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Vp(b);return w=w.replace(/ $/,"%20"),In(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return o},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hb,f),c=b,()=>{s.removeEventListener(hb,f),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:h,go(b){return a.go(b)}};return y}var pb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pb||(pb={}));function YA(t,e,n){return n===void 0&&(n="/"),JA(t,e,n)}function JA(t,e,n,r){let s=typeof e=="string"?_l(e):e,i=Lx(s.pathname||"/",n);if(i==null)return null;let a=oN(t);XA(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=cC(i);o=aC(a[c],u)}return o}function oN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(In(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=no([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(In(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oN(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:sC(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of lN(i.path))s(i,a,c)}),e}function lN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=lN(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function XA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QA=/^:[\w-]+$/,ZA=3,eC=2,tC=1,nC=10,rC=-2,gb=t=>t==="*";function sC(t,e){let n=t.split("/"),r=n.length;return n.some(gb)&&(r+=rC),e&&(r+=eC),n.filter(s=>!gb(s)).reduce((s,i)=>s+(QA.test(i)?ZA:i===""?tC:nC),r)}function iC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function aC(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=oC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:no([i,f.pathname]),pathnameBase:fC(no([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=no([i,f.pathnameBase]))}return a}function oC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:h}=d;if(g==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?u[g]=void 0:u[g]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function lC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Px(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Px(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:dC(n,e):e,search:pC(r),hash:gC(s)}}function dC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tx(t,e){let n=hC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ox(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_l(t):(s=Kd({},t),In(!s.pathname||!s.pathname.includes("?"),Jg("?","pathname","search",s)),In(!s.pathname||!s.pathname.includes("#"),Jg("#","pathname","hash",s)),In(!s.search||!s.search.includes("#"),Jg("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}o=f>=0?e[f]:"/"}let c=uC(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const no=t=>t.join("/").replace(/\/\/+/g,"/"),fC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cN=["post","put","patch","delete"];new Set(cN);const yC=["get",...cN];new Set(yC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}const Ix=oe.createContext(null),xC=oe.createContext(null),ho=oe.createContext(null),R0=oe.createContext(null),fo=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),uN=oe.createContext(null);function vC(t,e){let{relative:n}=e===void 0?{}:e;Yc()||In(!1);let{basename:r,navigator:s}=oe.useContext(ho),{hash:i,pathname:a,search:o}=hN(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:no([r,a])),s.createHref({pathname:c,search:o,hash:i})}function Yc(){return oe.useContext(R0)!=null}function Jc(){return Yc()||In(!1),oe.useContext(R0).location}function dN(t){oe.useContext(ho).static||oe.useLayoutEffect(t)}function fh(){let{isDataRoute:t}=oe.useContext(fo);return t?TC():bC()}function bC(){Yc()||In(!1);let t=oe.useContext(Ix),{basename:e,future:n,navigator:r}=oe.useContext(ho),{matches:s}=oe.useContext(fo),{pathname:i}=Jc(),a=JSON.stringify(Tx(s,n.v7_relativeSplatPath)),o=oe.useRef(!1);return dN(()=>{o.current=!0}),oe.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Ox(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:no([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function hN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(ho),{matches:s}=oe.useContext(fo),{pathname:i}=Jc(),a=JSON.stringify(Tx(s,r.v7_relativeSplatPath));return oe.useMemo(()=>Ox(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function wC(t,e){return _C(t,e)}function _C(t,e,n,r){Yc()||In(!1);let{navigator:s}=oe.useContext(ho),{matches:i}=oe.useContext(fo),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Jc(),d;if(e){var f;let b=typeof e=="string"?_l(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||In(!1),d=b}else d=u;let g=d.pathname||"/",h=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=YA(t,{pathname:h}),y=AC(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:no([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:no([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?oe.createElement(R0.Provider,{value:{location:Gd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ha.Pop}},y):y}function NC(){let t=LC(),e=mC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:s},n):null,null)}const jC=oe.createElement(NC,null);class SC extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(fo.Provider,{value:this.props.routeContext},oe.createElement(uN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kC(t){let{routeContext:e,match:n,children:r}=t,s=oe.useContext(Ix);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(fo.Provider,{value:e},r)}function AC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||In(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:h}=n,v=f.route.loader&&g[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let h,v=!1,y=null,b=null;n&&(h=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||jC,c&&(u<0&&g===0?(OC("route-fallback"),v=!0,b=null):u===g&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,g+1)),w=()=>{let N;return h?N=y:v?N=b:f.route.Component?N=oe.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,oe.createElement(kC,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?oe.createElement(SC,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var fN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fN||{}),pN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pN||{});function CC(t){let e=oe.useContext(Ix);return e||In(!1),e}function EC(t){let e=oe.useContext(xC);return e||In(!1),e}function PC(t){let e=oe.useContext(fo);return e||In(!1),e}function gN(t){let e=PC(),n=e.matches[e.matches.length-1];return n.route.id||In(!1),n.route.id}function LC(){var t;let e=oe.useContext(uN),n=EC(),r=gN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TC(){let{router:t}=CC(fN.UseNavigateStable),e=gN(pN.UseNavigateStable),n=oe.useRef(!1);return dN(()=>{n.current=!0}),oe.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gd({fromRouteId:e},i)))},[t,e])}const mb={};function OC(t,e,n){mb[t]||(mb[t]=!0)}function IC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function yb(t){let{to:e,replace:n,state:r,relative:s}=t;Yc()||In(!1);let{future:i,static:a}=oe.useContext(ho),{matches:o}=oe.useContext(fo),{pathname:c}=Jc(),u=fh(),d=Ox(e,Tx(o,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return oe.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function es(t){In(!1)}function RC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ha.Pop,navigator:i,static:a=!1,future:o}=t;Yc()&&In(!1);let c=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:c,navigator:i,static:a,future:Gd({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=_l(r));let{pathname:d="/",search:f="",hash:g="",state:h=null,key:v="default"}=r,y=oe.useMemo(()=>{let b=Lx(d,c);return b==null?null:{location:{pathname:b,search:f,hash:g,state:h,key:v},navigationType:s}},[c,d,f,g,h,v,s]);return y==null?null:oe.createElement(ho.Provider,{value:u},oe.createElement(R0.Provider,{children:n,value:y}))}function MC(t){let{children:e,location:n}=t;return wC(B1(e),n)}new Promise(()=>{});function B1(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,s)=>{if(!oe.isValidElement(r))return;let i=[...e,s];if(r.type===oe.Fragment){n.push.apply(n,B1(r.props.children,i));return}r.type!==es&&In(!1),!r.props.index||!r.props.children||In(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=B1(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(this,arguments)}function DC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BC(t,e){return t.button===0&&(!e||e==="_self")&&!FC(t)}const $C=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UC="6";try{window.__reactRouterVersion=UC}catch{}const zC="startTransition",xb=Ik[zC];function qC(t){let{basename:e,children:n,future:r,window:s}=t,i=oe.useRef();i.current==null&&(i.current=VA({window:s,v5Compat:!0}));let a=i.current,[o,c]=oe.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=oe.useCallback(f=>{u&&xb?xb(()=>c(f)):c(f)},[c,u]);return oe.useLayoutEffect(()=>a.listen(d),[a,d]),oe.useEffect(()=>IC(r),[r]),oe.createElement(RC,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const HC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=oe.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=DC(e,$C),{basename:h}=oe.useContext(ho),v,y=!1;if(typeof u=="string"&&WC.test(u)&&(v=u,HC))try{let N=new URL(window.location.href),k=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=Lx(k.pathname,h);k.origin===N.origin&&R!=null?u=R+k.search+k.hash:y=!0}catch{}let b=vC(u,{relative:s}),x=VC(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(N){r&&r(N),N.defaultPrevented||x(N)}return oe.createElement("a",$1({},g,{href:v||b,onClick:y||i?r:w,ref:n,target:c}))});var vb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vb||(vb={}));var bb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bb||(bb={}));function VC(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=fh(),u=Jc(),d=hN(t,{relative:a});return oe.useCallback(f=>{if(BC(f,n)){f.preventDefault();let g=r!==void 0?r:Vp(u)===Vp(d);c(t,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,s,n,t,i,a,o])}var U1=function(t,e){return U1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},U1(t,e)};function mN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kp=function(){return Kp=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kp.apply(this,arguments)};function Xc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yN(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(i=(s<3?a(i):s>3?a(e,n,i):a(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function xN(t,e){return function(n,r){e(n,r,t)}}function vN(t,e,n,r,s,i){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,g=!1,h=n.length-1;h>=0;h--){var v={};for(var y in r)v[y]=y==="access"?{}:r[y];for(var y in r.access)v.access[y]=r.access[y];v.addInitializer=function(x){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(x||null))};var b=(0,n[h])(o==="accessor"?{get:d.get,set:d.set}:d[c],v);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=a(b.get))&&(d.get=f),(f=a(b.set))&&(d.set=f),(f=a(b.init))&&s.unshift(f)}else(f=a(b))&&(o==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,r.name,d),g=!0}function bN(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function wN(t){return typeof t=="symbol"?t:"".concat(t)}function _N(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function NN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Je(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}function jN(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var M0=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function SN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&M0(e,t,n)}function Gp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rx(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function kN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rx(arguments[e]));return t}function AN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function CN(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Dc(t){return this instanceof Dc?(this.v=t,this):new Dc(t)}function EN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(h){return function(v){return Promise.resolve(v).then(h,f)}}function o(h,v){r[h]&&(s[h]=function(y){return new Promise(function(b,x){i.push([h,y,b,x])>1||c(h,y)})},v&&(s[h]=v(s[h])))}function c(h,v){try{u(r[h](v))}catch(y){g(i[0][3],y)}}function u(h){h.value instanceof Dc?Promise.resolve(h.value.v).then(d,f):g(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function g(h,v){h(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function PN(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(a){return(n=!n)?{value:Dc(t[s](a)),done:!1}:i?i(a):a}:i}}function LN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gp=="function"?Gp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},a)}}function TN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var KC=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},z1=function(t){return z1=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},z1(t)};function ON(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=z1(t),r=0;r<n.length;r++)n[r]!=="default"&&M0(e,t,n[r]);return KC(e,t),e}function IN(t){return t&&t.__esModule?t:{default:t}}function RN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function MN(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function DN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function FN(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var GC=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function BN(t){function e(i){t.error=t.hasError?new GC(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function $N(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,a){return r?e?".jsx":".js":s&&(!i||!a)?n:s+i+"."+a.toLowerCase()+"js"}):t}const YC={__extends:mN,__assign:Kp,__rest:Xc,__decorate:yN,__param:xN,__esDecorate:vN,__runInitializers:bN,__propKey:wN,__setFunctionName:_N,__metadata:NN,__awaiter:Je,__generator:jN,__createBinding:M0,__exportStar:SN,__values:Gp,__read:Rx,__spread:kN,__spreadArrays:AN,__spreadArray:CN,__await:Dc,__asyncGenerator:EN,__asyncDelegator:PN,__asyncValues:LN,__makeTemplateObject:TN,__importStar:ON,__importDefault:IN,__classPrivateFieldGet:RN,__classPrivateFieldSet:MN,__classPrivateFieldIn:DN,__addDisposableResource:FN,__disposeResources:BN,__rewriteRelativeImportExtension:$N},JC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:FN,get __assign(){return Kp},__asyncDelegator:PN,__asyncGenerator:EN,__asyncValues:LN,__await:Dc,__awaiter:Je,__classPrivateFieldGet:RN,__classPrivateFieldIn:DN,__classPrivateFieldSet:MN,__createBinding:M0,__decorate:yN,__disposeResources:BN,__esDecorate:vN,__exportStar:SN,__extends:mN,__generator:jN,__importDefault:IN,__importStar:ON,__makeTemplateObject:TN,__metadata:NN,__param:xN,__propKey:wN,__read:Rx,__rest:Xc,__rewriteRelativeImportExtension:$N,__runInitializers:bN,__setFunctionName:_N,__spread:kN,__spreadArray:CN,__spreadArrays:AN,__values:Gp,default:YC},Symbol.toStringTag,{value:"Module"})),XC="modulepreload",QC=function(t){return"/ainance-v2/"+t},wb={},ra=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=QC(c),c in wb)return;wb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":XC,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((g,h)=>{f.addEventListener("load",g),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},ZC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ra(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Mx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _b extends Mx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nb extends Mx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jb extends Mx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var q1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(q1||(q1={}));class e7{constructor(e,{headers:n={},customFetch:r,region:s=q1.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=ZC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Je(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:a,body:o,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let g;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(u["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(u["Content-Type"]="application/json",g=JSON.stringify(o)):g=o;const h=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:g,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new _b(x)}),v=h.headers.get("x-relay-error");if(v&&v==="true")throw new Nb(h);if(!h.ok)throw new jb(h);let y=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield h.json():y==="application/octet-stream"||y==="application/pdf"?b=yield h.blob():y==="text/event-stream"?b=h:y==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new _b(i)}:{data:null,error:i,response:i instanceof jb||i instanceof Nb?i.context:void 0}}})}}var Dr={};const Qc=Ry(JC);var vf={},bf={},wf={},_f={},Nf={},t7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fc=t7();const n7=Fc.fetch,UN=Fc.fetch.bind(Fc),zN=Fc.Headers,r7=Fc.Request,s7=Fc.Response,Nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:zN,Request:r7,Response:s7,default:UN,fetch:n7},Symbol.toStringTag,{value:"Module"})),i7=Ry(Nl);var jf={},Sb;function qN(){if(Sb)return jf;Sb=1,Object.defineProperty(jf,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jf.default=t,jf}var kb;function HN(){if(kb)return Nf;kb=1,Object.defineProperty(Nf,"__esModule",{value:!0});const t=Qc,e=t.__importDefault(i7),n=t.__importDefault(qN());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,g,h;let v=null,y=null,b=null,x=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const I=await u.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=I:y=JSON.parse(I))}const k=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");k&&R&&R.length>1&&(b=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,x=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const k=await u.text();try{v=JSON.parse(k),Array.isArray(v)&&u.status===404&&(y=[],v=null,x=200,w="OK")}catch{u.status===404&&k===""?(x=204,w="No Content"):v={message:k}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,x=200,w="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:y,count:b,status:x,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,g;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return Nf.default=r,Nf}var Ab;function WN(){if(Ab)return _f;Ab=1,Object.defineProperty(_f,"__esModule",{value:!0});const e=Qc.__importDefault(HN());class n extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return _f.default=n,_f}var Cb;function Dx(){if(Cb)return wf;Cb=1,Object.defineProperty(wf,"__esModule",{value:!0});const e=Qc.__importDefault(WN());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const a=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(s,i,a){return this.url.searchParams.append(s,`not.${i}.${a}`),this}or(s,{foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,i,a){return this.url.searchParams.append(s,`${i}.${a}`),this}}return wf.default=n,wf}var Eb;function VN(){if(Eb)return bf;Eb=1,Object.defineProperty(bf,"__esModule",{value:!0});const e=Qc.__importDefault(Dx());class n{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=o}select(s,i){const{head:a=!1,count:o}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((g,h)=>g.concat(Object.keys(h)),[]);if(f.length>0){const g=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return bf.default=n,bf}var Pb;function a7(){if(Pb)return vf;Pb=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=Qc,e=t.__importDefault(VN()),n=t.__importDefault(Dx());class r{constructor(i,{headers:a={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const g=new URL(`${this.url}/rpc/${i}`);let h;o||c?(f=o?"HEAD":"GET",Object.entries(a).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{g.searchParams.append(y,b)})):(f="POST",h=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:f,url:g,headers:v,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return vf.default=r,vf}Object.defineProperty(Dr,"__esModule",{value:!0});Dr.PostgrestError=Dr.PostgrestBuilder=Dr.PostgrestTransformBuilder=Dr.PostgrestFilterBuilder=Dr.PostgrestQueryBuilder=Dr.PostgrestClient=void 0;const Zc=Qc,KN=Zc.__importDefault(a7());Dr.PostgrestClient=KN.default;const GN=Zc.__importDefault(VN());Dr.PostgrestQueryBuilder=GN.default;const YN=Zc.__importDefault(Dx());Dr.PostgrestFilterBuilder=YN.default;const JN=Zc.__importDefault(WN());Dr.PostgrestTransformBuilder=JN.default;const XN=Zc.__importDefault(HN());Dr.PostgrestBuilder=XN.default;const QN=Zc.__importDefault(qN());Dr.PostgrestError=QN.default;var o7=Dr.default={PostgrestClient:KN.default,PostgrestQueryBuilder:GN.default,PostgrestFilterBuilder:YN.default,PostgrestTransformBuilder:JN.default,PostgrestBuilder:XN.default,PostgrestError:QN.default};const{PostgrestClient:l7,PostgrestQueryBuilder:QU,PostgrestFilterBuilder:ZU,PostgrestTransformBuilder:ez,PostgrestBuilder:tz,PostgrestError:nz}=o7;class c7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const u7="2.76.1",d7=`realtime-js/${u7}`,h7="1.0.0",H1=1e4,f7=1e3,p7=100;var gd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gd||(gd={}));var Gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gn||(Gn={}));var Ks;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ks||(Ks={}));var W1;(function(t){t.websocket="websocket"})(W1||(W1={}));var Qo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qo||(Qo={}));class g7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class ZN{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qt||(Qt={}));const Lb=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=m7(a,t,e,s),i),{}):{}},m7=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?ej(i,a):V1(a)},ej=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return b7(e,n)}switch(t){case Qt.bool:return y7(e);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return x7(e);case Qt.json:case Qt.jsonb:return v7(e);case Qt.timestamp:return w7(e);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return V1(e);default:return V1(e)}},V1=t=>t,y7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},x7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},v7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},b7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ej(e,o))}return t},w7=t=>typeof t=="string"?t.replace(" ","T"):t,tj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xg{constructor(e,n,r={},s=H1){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tb||(Tb={}));class md{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=md.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=md.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=md.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const g=d.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),v=d.filter(b=>h.indexOf(b.presence_ref)<0),y=f.filter(b=>g.indexOf(b.presence_ref)<0);v.length>0&&(o[u]=v),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const f=e[o].map(h=>h.presence_ref),g=d.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...g)}r(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ob;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ob||(Ob={}));var yd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yd||(yd={}));var Wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class Fx{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xg(this,Ks.join,this.params,this.timeout),this.rejoinTimer=new ZN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ks.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new md(this),this.broadcastEndpointURL=tj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Gn.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[yd.PRESENCE]&&this.bindings[yd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Wi.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){e==null||e(Wi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<b;w++){const N=y[w],{filter:{event:k,schema:R,table:I,filter:M}}=N,j=h&&h[w];if(j&&j.event===k&&j.schema===R&&j.table===I&&j.filter===M)x.push(Object.assign(Object.assign({},N),{id:j.id}));else{this.unsubscribe(),this.state=Gn.errored,e==null||e(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Wi.SUBSCRIBED);return}}).receive("error",h=>{this.state=Gn.errored,e==null||e(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Gn.joined&&e===yd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ks.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xg(this,Ks.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>p7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ks;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var v,y,b;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=h.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(h=>h.callback(g,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var v,y,b,x,w,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const k=h.id,R=(v=h.filter)===null||v===void 0?void 0:v.event;return k&&((y=n.ids)===null||y===void 0?void 0:y.includes(k))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(w=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:y,table:b,commit_timestamp:x,type:w,errors:N}=v;g=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(v))}h.callback(g,r)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fx.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ks.close,{},e)}_onError(e){this._on(Ks.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Lb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Lb(e.columns,e.old_record)),n}}const Qg=()=>{},Sf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_7=[1e3,2e3,5e3,1e4],N7=1e4,j7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S7{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H1,this.transport=null,this.heartbeatIntervalMs=Sf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qg,this.ref=0,this.reconnectTimer=null,this.logger=Qg,this.conn=null,this.sendBuffer=[],this.serializer=new g7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>ra(async()=>{const{default:o}=await Promise.resolve().then(()=>Nl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${W1.websocket}`,this.httpEndpoint=tj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gd.connecting:return Qo.Connecting;case gd.open:return Qo.Open;case gd.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Fx(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(f7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ks.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([j7],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:d7};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ks.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ZN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:H1,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Sf.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Qg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>_7[f-1]||N7,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,g)=>g(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Bx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class k7 extends Bx{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class K1 extends Bx{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const $x=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ra(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},A7=()=>Je(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ra(()=>Promise.resolve().then(()=>Nl),void 0)).Response:Response}),G1=t=>{if(Array.isArray(t))return t.map(n=>G1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=G1(r)}),e},C7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E7=(t,e,n)=>Je(void 0,void 0,void 0,function*(){const r=yield A7();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new k7(Zg(s),i,a))}).catch(s=>{e(new K1(Zg(s),s))}):e(new K1(Zg(t),t))}),P7=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(C7(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ph(t,e,n,r,s,i){return Je(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,P7(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>E7(c,o,r))})})}function Yd(t,e,n,r){return Je(this,void 0,void 0,function*(){return ph(t,"GET",e,n,r)})}function Ws(t,e,n,r,s){return Je(this,void 0,void 0,function*(){return ph(t,"POST",e,r,s,n)})}function Y1(t,e,n,r,s){return Je(this,void 0,void 0,function*(){return ph(t,"PUT",e,r,s,n)})}function L7(t,e,n,r){return Je(this,void 0,void 0,function*(){return ph(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ux(t,e,n,r,s){return Je(this,void 0,void 0,function*(){return ph(t,"DELETE",e,r,s,n)})}class T7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Je(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}}var nj;class O7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[nj]="BlobDownloadBuilder",this.promise=null}asStream(){return new T7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Je(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}}nj=Symbol.toStringTag;const I7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R7{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=$x(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Je(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ib),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?Y1:Ws)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Ib.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Y1(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ws(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Bx("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Je(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield Ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ws(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Je(this,void 0,void 0,function*(){try{const s=yield Ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",o=this._getFinalPath(e),c=()=>Yd(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new O7(c,this.shouldThrowOnError)}info(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Yd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:G1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}exists(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield L7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r)&&r instanceof K1){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Ux(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},I7),n),{prefix:e||""});return{data:yield Ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}listV2(e,n){return Je(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ws(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rj="2.76.1",sj={"X-Client-Info":`storage-js/${rj}`};class M7{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),n),this.fetch=$x(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Je(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dn(e))return{data:null,error:e};throw e}})}getBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}createBucket(e){return Je(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dn(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Je(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Ux(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}class D7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),n),this.fetch=$x(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}listBuckets(e){return Je(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield Yd(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Ux(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dn(n))return{data:null,error:n};throw n}})}}const zx={"X-Client-Info":`storage-js/${rj}`,"Content-Type":"application/json"};class ij extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class em extends ij{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F7 extends ij{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Rb;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Rb||(Rb={}));const qx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ra(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$7=(t,e,n)=>Je(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new em(Mb(a),s,o))}).catch(()=>{const a=s+"",o=i.statusText||`HTTP ${s} error`;e(new em(o,s,a))});else{const a=s+"",o=i.statusText||`HTTP ${s} error`;e(new em(o,s,a))}}else e(new F7(Mb(t),t))}),U7=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(B7(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function z7(t,e,n,r,s,i){return Je(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,U7(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>$7(c,o,r))})})}function ss(t,e,n,r,s){return Je(this,void 0,void 0,function*(){return z7(t,"POST",e,r,s,n)})}class q7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zx),n),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Je(this,void 0,void 0,function*(){try{return{data:(yield ss(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Je(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}listIndexes(e){return Je(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Je(this,void 0,void 0,function*(){try{return{data:(yield ss(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}}class H7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zx),n),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Je(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ss(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}getVectors(e){return Je(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}listVectors(e){return Je(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ss(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}queryVectors(e){return Je(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Je(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ss(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}}class W7{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zx),n),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:(yield ss(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}getBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}listBuckets(){return Je(this,arguments,void 0,function*(e={}){try{return{data:yield ss(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Je(this,void 0,void 0,function*(){try{return{data:(yield ss(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}}class V7 extends W7{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new K7(this.url,this.headers,e,this.fetch)}}class K7 extends q7{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Je(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Je(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Je(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Je(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new G7(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class G7 extends H7{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Je(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Je(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Je(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Je(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Je(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Y7 extends M7{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new R7(this.url,this.headers,e,this.fetch)}get vectors(){return new V7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D7(this.url+"/iceberg",this.headers,this.fetch)}}const J7="2.76.1";let Ju="";typeof Deno<"u"?Ju="deno":typeof document<"u"?Ju="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ju="react-native":Ju="node";const X7={"X-Client-Info":`supabase-js-${Ju}/${J7}`},Q7={headers:X7},Z7={schema:"public"},eE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tE={},nE=t=>{let e;return t?e=t:typeof fetch>"u"?e=UN:e=fetch,(...n)=>e(...n)},rE=()=>typeof Headers>"u"?zN:Headers,sE=(t,e,n)=>{const r=nE(n),s=rE();return async(i,a)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))}};function iE(t){return t.endsWith("/")?t:t+"/"}function aE(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:f}=e,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function oE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aj="2.76.1",Xl=30*1e3,J1=3,tm=J1*Xl,lE="http://localhost:9999",cE="supabase.auth.token",uE={"X-Client-Info":`gotrue-js/${aj}`},X1="X-Supabase-Api-Version",oj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hE=10*60*1e3;class Jd extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function st(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fE extends Jd{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pE(t){return st(t)&&t.name==="AuthApiError"}class Zo extends Jd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class po extends Jd{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ra extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gE(t){return st(t)&&t.name==="AuthSessionMissingError"}class Ul extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kf extends po{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Af extends po{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mE(t){return st(t)&&t.name==="AuthImplicitGrantRedirectError"}class Db extends po{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Q1 extends po{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function nm(t){return st(t)&&t.name==="AuthRetryableFetchError"}class Fb extends po{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Z1 extends po{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bb=` 	
\r=`.split(""),yE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bb.length;e+=1)t[Bb[e].charCodeAt(0)]=-2;for(let e=0;e<Yp.length;e+=1)t[Yp[e].charCodeAt(0)]=e;return t})();function $b(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Yp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Yp[r]),e.queuedBits-=6}}function lj(t,e,n){const r=yE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ub(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{bE(a,r,n)};for(let a=0;a<t.length;a+=1)lj(t.charCodeAt(a),s,i);return e.join("")}function xE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xE(r,e)}}function bE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function wc(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)lj(t.charCodeAt(s),n,r);return new Uint8Array(e)}function wE(t){const e=[];return vE(t,n=>e.push(n)),new Uint8Array(e)}function sl(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>$b(s,n,r)),$b(null,n,r),e.join("")}function _E(t){return Math.round(Date.now()/1e3)+t}function NE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ts=()=>typeof window<"u"&&typeof document<"u",$o={tested:!1,writable:!1},cj=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($o.tested)return $o.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$o.tested=!0,$o.writable=!0}catch{$o.tested=!0,$o.writable=!1}return $o.writable};function jE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const uj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ra(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},SE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ql=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Uo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pa=async(t,e)=>{await t.removeItem(e)};class D0{constructor(){this.promise=new D0.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}D0.promiseConstructor=Promise;function rm(t){const e=t.split(".");if(e.length!==3)throw new Z1("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dE.test(e[r]))throw new Z1("JWT not in base64url format");return{header:JSON.parse(Ub(e[0])),payload:JSON.parse(Ub(e[1])),signature:wc(e[2]),raw:{header:e[0],payload:e[1]}}}async function kE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function CE(t){return("0"+t.toString(16)).substr(-2)}function EE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,CE).join("")}async function PE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function LE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await PE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zl(t,e,n=!1){const r=EE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ql(t,`${e}-code-verifier`,s);const i=await LE(r);return[i,r===i?"plain":"s256"]}const TE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OE(t){const e=t.headers.get(X1);if(!e||!e.match(TE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ME=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ql(t){if(!ME.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zb(t){return JSON.parse(JSON.stringify(t))}const Ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DE=[502,503,504];async function qb(t){var e;if(!SE(t))throw new Q1(Ko(t),0);if(DE.includes(t.status))throw new Q1(Ko(t),t.status);let n;try{n=await t.json()}catch(i){throw new Zo(Ko(i),i)}let r;const s=OE(t);if(s&&s.getTime()>=oj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fb(Ko(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Fb(Ko(n),t.status,n.weak_password.reasons);throw new fE(Ko(n),t.status||500,r)}const FE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function xt(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[X1]||(i[X1]=oj["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await BE(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function BE(t,e,n,r,s,i){const a=FE(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new Q1(Ko(c),0)}if(o.ok||await qb(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await qb(c)}}function qs(t){var e;let n=null;zE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_E(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hb(t){const e=qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $a(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $E(t){return{data:t,error:null}}function UE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Xc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function Wb(t){return t}function zE(t){return t.access_token&&t.refresh_token&&t.expires_in}const im=["global","local","others"];class qE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=im[0]){if(im.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$a})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Xc(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(st(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$a})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wb});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(st(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ql(e);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$a})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ql(e);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$a})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ql(e);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$a})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ql(e.userId);try{const{data:n,error:r}=await xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ql(e.userId),ql(e.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Wb});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(st(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}}function Vb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Hl={debug:!!(globalThis&&cj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HE extends dj{}async function WE(t,e,n){Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function VE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KE(t){return parseInt(t,16)}function GE(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function YE(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=hj(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${h}

${y}`;let x=`URI: ${f}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const N of u){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);w+=`
- ${N}`}x+=w}return`${b}
${x}`}class Fn extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Jp extends Fn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function JE({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Fn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(fj(a)){if(i.rp.id!==a)return new Fn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function XE({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Fn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(fj(r)){if(n.rpId!==r)return new Fn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZE=new QE;function eP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Xc(t,["challenge","user","excludeCredentials"]),i=wc(e).buffer,a=Object.assign(Object.assign({},n),{id:wc(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function tP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Xc(t,["challenge","allowCredentials"]),s=wc(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:wc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function nP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:sl(new Uint8Array(t.response.attestationObject)),clientDataJSON:sl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sl(new Uint8Array(s.authenticatorData)),clientDataJSON:sl(new Uint8Array(s.clientDataJSON)),signature:sl(new Uint8Array(s.signature)),userHandle:s.userHandle?sl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Kb(){var t,e;return!!(ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function sP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jp("Browser returned unexpected credential type",e)}:{data:null,error:new Jp("Empty credential response",e)}}catch(e){return{data:null,error:JE({error:e,options:t})}}}async function iP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jp("Browser returned unexpected credential type",e)}:{data:null,error:new Jp("Empty credential response",e)}}catch(e){return{data:null,error:XE({error:e,options:t})}}}const aP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},oP={userVerification:"preferred",hints:["security-key"]};function Xp(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=Xp(o,a):r[i]=Xp(a)}else r[i]=a}return r}function lP(t,e){return Xp(aP,t,e||{})}function cP(t,e){return Xp(oP,t,e||{})}class uP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const c=s??ZE.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=lP(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await sP({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=cP(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await iP(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new Jd("rpId is required for WebAuthn authentication")};try{if(!Kb())return{data:null,error:new Zo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new Jd("rpId is required for WebAuthn registration")};try{if(!Kb())return{data:null,error:new Zo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Zo("Unexpected error in register",a)}}}}VE();const dP={url:lE,storageKey:cE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gb(t,e,n){return await n()}const Wl={};class Xd{get jwks(){var e,n;return(n=(e=Wl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Wl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wl[this.storageKey]=Object.assign(Object.assign({},Wl[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xd.nextInstanceID,Xd.nextInstanceID+=1,this.instanceID>0&&ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dP),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uj(s.fetch),this.lock=s.lock||Gb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ts()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WE:this.lock=Gb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uP(this)},this.persistSession?(s.storage?this.storage=s.storage:cj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=jE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ts()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mE(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return st(n)?{error:n}:{error:new Zo("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qs}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:g}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await zl(this.storage,this.storageKey)),i=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:v},xform:qs})}else if("phone"in e){const{phone:d,password:f,options:g}=e;i=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:qs})}else throw new kf("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Hb})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Hb})}else throw new kf("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ul}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(st(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,c,u,d,f,g;let h,v;if("message"in e)h=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let N;if(ts())if(typeof b=="object")N=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")N=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const k=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),R=await N.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=hj(R[0]);let M=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const A=await N.request({method:"eth_chainId"});M=KE(A)}const j={domain:k.host,address:I,statement:x,uri:k.href,version:"1",chainId:M,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=YE(j),v=await N.request({method:"personal_sign",params:[GE(h),I]})}try{const{data:y,error:b}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qs});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ul}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(st(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,r,s,i,a,o,c,u,d,f,g,h;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:x,statement:w,options:N}=e;let k;if(ts())if(typeof x=="object")k=x;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))k=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const R=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const I=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),w?{statement:w}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)v=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${R.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=N==null?void 0:N.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((f=(d=N==null?void 0:N.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...N.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=I}}try{const{data:b,error:x}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sl(y)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qs});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ul}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(st(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qs});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ul}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(st(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qs}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ul}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(st(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zl(this.storage,this.storageKey));const{error:f}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new kf("You must provide either an email or phone number.")}catch(o){if(st(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await zl(this.storage,this.storageKey)),await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:$E})}catch(i){if(st(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ra;const{error:s}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(st(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new kf("You must provide either an email or phone number and a type")}catch(n){if(st(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Uo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=sm()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$a}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ra}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$a})})}catch(n){if(st(n))return gE(n)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ra;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await zl(this.storage,this.storageKey));const{data:u,error:d}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:$a});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ra;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=rm(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(st(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ra;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(st(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ts())throw new Af("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Af(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Af("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Db("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!a||!u)throw new Af("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let g=d+f;c&&(g=parseInt(c));const h=g-d;h*1e3<=Xl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=g-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(st(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(pE(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=NE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await zl(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(st(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:f,error:g}=i;if(g)throw g;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ts()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(st(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=e,f=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qs}),{data:g,error:h}=f;return h?{data:{user:null,session:null},error:h}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ul}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:h})}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AE(async s=>(s>0&&await kE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&nm(i)&&Date.now()+a-r<Xl})}catch(r){if(this._debug(n,"error",r),st(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ts()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Uo(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ql(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:sm()}else if(s&&!s.user&&!s.user){const a=await Uo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Pa(this.storage,this.storageKey+"-user"),await Ql(this.storage,this.storageKey,s)):s.user=sm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${tm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),nm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new D0;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ra;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),st(i)){const a={data:null,error:i};return nm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ql(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=zb(s);await Ql(this.storage,this.storageKey,i)}else{const s=zb(n);await Ql(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Pa(this.storage,this.storageKey),await Pa(this.storage,this.storageKey+"-code-verifier"),await Pa(this.storage,this.storageKey+"-user"),this.userStorage&&await Pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Xl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xl}ms, refresh threshold is ${J1} ticks`),s<=J1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await zl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nP(e.webauthn.credential_response):rP(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(st(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=await xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:eP(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:tP(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(st(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rm(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+hE>s)return r;const{data:i,error:a}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};r=h.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=rm(r);n!=null&&n.allowExpired||IE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:a},error:null}}const d=RE(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,wE(`${o}.${c}`)))throw new Z1("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}}Xd.nextInstanceID=0;const hP=Xd;class fP extends hP{constructor(e){super(e)}}class pP{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const o=oE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Z7,realtime:tE,auth:Object.assign(Object.assign({},eE),{storageKey:c}),global:Q7},d=aE(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=sE(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new l7(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Y7(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new e7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:o,lock:c,debug:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fP({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new S7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gP=(t,e,n)=>new pP(t,e,n);function mP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yP="https://naglswzaljvnoazkasfr.supabase.co",xP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5hZ2xzd3phbGp2bm9hemthc2ZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NjQyMjgsImV4cCI6MjA3NjI0MDIyOH0.uZC9KmpavWV3GC4hyVUn5ndfDoxGU8LDplxQNnKEgv0",wn=gP(yP,xP),pj=()=>{const[t,e]=oe.useState(null),[n,r]=oe.useState(!0),[s,i]=oe.useState(!0),a=oe.useCallback(async()=>{var d;try{const{data:{session:f},error:g}=await wn.auth.getSession();if(g)throw g;if(console.log("セッション情報:",f),f){const{data:h,error:v}=await wn.from("profiles").select("name").eq("id",f.user.id).single();v&&console.warn("プロファイルの取得に失敗しました:",v);const y={id:f.user.id,email:f.user.email||"",name:(h==null?void 0:h.name)||((d=f.user.email)==null?void 0:d.split("@")[0])||"",created_at:f.user.created_at};console.log("ユーザー情報:",y),e(y)}else console.log("セッションが存在しません"),e(null)}catch(f){console.error("セッションの更新に失敗しました:",f),e(null)}finally{s&&(r(!1),i(!1))}},[s]);oe.useEffect(()=>{console.log("セッション監視を開始します"),a();const{data:{subscription:d}}=wn.auth.onAuthStateChange((f,g)=>{console.log("認証状態が変化しました:",f,g),g?wn.from("profiles").select("name").eq("id",g.user.id).single().then(({data:h,error:v})=>{var b;v&&console.warn("プロファイルの取得に失敗しました:",v);const y={id:g.user.id,email:g.user.email||"",name:(h==null?void 0:h.name)||((b=g.user.email)==null?void 0:b.split("@")[0])||"",created_at:g.user.created_at};e(x=>!x||x.id!==y.id||x.email!==y.email||x.name!==y.name?(console.log("ユーザー情報を更新しました:",y),y):x)}):(console.log("セッションがクリアされました"),e(null)),s&&(r(!1),i(!1))});return()=>{console.log("セッション監視を解除します"),d.unsubscribe()}},[a,s]);const o=oe.useCallback(async(d,f)=>{var g;r(!0);try{const{data:h,error:v}=await wn.auth.signInWithPassword({email:d,password:f});if(v)throw v;if(console.log("ログイン成功:",h),h.session){const{data:y,error:b}=await wn.from("profiles").select("name").eq("id",h.session.user.id).single();b&&console.warn("プロファイルの取得に失敗しました:",b);const x={id:h.session.user.id,email:h.session.user.email||"",name:(y==null?void 0:y.name)||((g=h.session.user.email)==null?void 0:g.split("@")[0])||"",created_at:h.session.user.created_at};console.log("ログイン後のユーザー情報:",x),e(x)}return h}catch(h){throw console.error("ログインエラー:",h),h}finally{r(!1)}},[]),c=oe.useCallback(async(d,f,g)=>{r(!0);try{const{data:h,error:v}=await wn.auth.signUp({email:f,password:g,options:{data:{name:d}}});if(v)throw v;if(console.log("サインアップ成功:",h),h.user){const{error:y}=await wn.from("profiles").insert([{id:h.user.id,name:d,email:f,created_at:h.user.created_at}]);y&&console.warn("プロファイルの作成に失敗しました:",y);const b={id:h.user.id,email:h.user.email||"",name:d,created_at:h.user.created_at};console.log("サインアップ後のユーザー情報:",b),e(b)}return h}catch(h){throw console.error("サインアップエラー:",h),h}finally{r(!1)}},[]),u=oe.useCallback(async()=>{r(!0);try{await wn.auth.signOut(),console.log("ログアウトしました"),e(null)}catch(d){throw console.error("ログアウトエラー:",d),d}finally{r(!1)}},[]);return console.log("useSessionの状態:",{user:t,loading:n}),{user:t,isAuthenticated:!!t,loading:n,signIn:o,signUp:c,signOut:u}},vP=oe.createContext(void 0),bP=({children:t})=>{const e=pj();console.log("AuthProviderの状態:",e);const n=oe.useMemo(()=>({...e}),[e]);return l.jsx(vP.Provider,{value:n,children:t})},Hx=pj,hi=({children:t,fallback:e})=>{const n=Hx(),{loading:r}=n||{};return console.log("ProtectedRouteの認証状態:",{loading:r,auth:n}),r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):l.jsx(l.Fragment,{children:t})};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_P=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Yb=t=>{const e=_P(t);return e.charAt(0).toUpperCase()+e.slice(1)},gj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),NP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=oe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>oe.createElement("svg",{ref:c,...jP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gj("lucide",s),...!i&&!NP(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>oe.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=oe.forwardRef(({className:r,...s},i)=>oe.createElement(SP,{ref:i,iconNode:e,className:gj(`lucide-${wP(Yb(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Yb(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AP=Fe("activity",kP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],go=Fe("arrow-left",CP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],PP=Fe("award",EP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],TP=Fe("banknote",LP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],IP=Fe("bell",OP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ey=Fe("book-open",RP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],xd=Fe("brain",MP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],cp=Fe("building",DP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Qp=Fe("calculator",FP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wx=Fe("calendar",BP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vx=Fe("camera",$P);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zP=Fe("chart-column",UP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],HP=Fe("chart-no-axes-column",qP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],VP=Fe("chart-pie",WP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qi=Fe("check",KP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mj=Fe("chevron-down",GP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jb=Fe("chevron-left",YP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ll=Fe("chevron-right",JP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kx=Fe("circle-alert",XP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vd=Fe("circle-check-big",QP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xb=Fe("circle",ZP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yj=Fe("clock",eL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bd=Fe("copy",tL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Qb=Fe("cpu",nL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sL=Fe("credit-card",rL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aL=Fe("database",iL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xj=Fe("dollar-sign",oL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bi=Fe("download",lL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uL=Fe("eye-off",cL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bc=Fe("eye",dL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],fL=Fe("file-image",hL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sa=Fe("file-text",pL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vj=Fe("funnel",gL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],yL=Fe("gauge",mL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vL=Fe("globe",xL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wL=Fe("house",bL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],NL=Fe("image",_L);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],SL=Fe("lightbulb",jL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],AL=Fe("link",kL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],am=Fe("log-out",CL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],PL=Fe("mail",EL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],TL=Fe("menu",LL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],IL=Fe("message-square",OL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ML=Fe("mic",RL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bj=Fe("pen-line",DL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],BL=Fe("phone",FL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zs=Fe("plus",$L);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zL=Fe("printer",UL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],HL=Fe("receipt",qL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zp=Fe("refresh-cw",WL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],KL=Fe("rocket",VL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ty=Fe("rotate-ccw",GL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],F0=Fe("save",YL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$c=Fe("search",JL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wd=Fe("send",XL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],up=Fe("settings",QL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wj=Fe("share-2",ZL);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tT=Fe("sparkles",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zb=Fe("square-check",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],e0=Fe("square-pen",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ny=Fe("square",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ry=Fe("star",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],oT=Fe("tag",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],e5=Fe("target",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zi=Fe("trash-2",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Uc=Fe("trending-down",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ks=Fe("trending-up",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],t5=Fe("triangle-alert",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pT=Fe("trophy",fT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gx=Fe("upload",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xu=Fe("user",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_j=Fe("users",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vT=Fe("wallet",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$n=Fe("x",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_T=Fe("zap",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jT=Fe("zoom-in",NT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kT=Fe("zoom-out",ST),or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function AT(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let om;const CT=new Uint8Array(16);function ET(){if(!om){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");om=crypto.getRandomValues.bind(crypto)}return om(CT)}const PT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),n5={randomUUID:PT};function LT(t,e,n){var s;if(n5.randomUUID&&!t)return n5.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??ET();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,AT(r)}var Nj={exports:{}};function Qu(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lm={exports:{}};const TT={},OT=Object.freeze(Object.defineProperty({__proto__:null,default:TT},Symbol.toStringTag,{value:"Module"})),IT=Ry(OT);var r5;function gh(){return r5||(r5=1,function(t,e){(function(n,r){t.exports=r()})(Yi,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Yi<"u"&&Yi.crypto&&(i=Yi.crypto),!i&&typeof Qu=="function")try{i=IT}catch{}var a=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function w(){}return function(N){var k;return w.prototype=N,k=new w,w.prototype=null,k}}(),c={},u=c.lib={},d=u.Base=function(){return{extend:function(w){var N=o(this);return w&&N.mixIn(w),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var N in w)w.hasOwnProperty(N)&&(this[N]=w[N]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=d.extend({init:function(w,N){w=this.words=w||[],N!=s?this.sigBytes=N:this.sigBytes=w.length*4},toString:function(w){return(w||h).stringify(this)},concat:function(w){var N=this.words,k=w.words,R=this.sigBytes,I=w.sigBytes;if(this.clamp(),R%4)for(var M=0;M<I;M++){var j=k[M>>>2]>>>24-M%4*8&255;N[R+M>>>2]|=j<<24-(R+M)%4*8}else for(var A=0;A<I;A+=4)N[R+A>>>2]=k[A>>>2];return this.sigBytes+=I,this},clamp:function(){var w=this.words,N=this.sigBytes;w[N>>>2]&=4294967295<<32-N%4*8,w.length=r.ceil(N/4)},clone:function(){var w=d.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var N=[],k=0;k<w;k+=4)N.push(a());return new f.init(N,w)}}),g=c.enc={},h=g.Hex={stringify:function(w){for(var N=w.words,k=w.sigBytes,R=[],I=0;I<k;I++){var M=N[I>>>2]>>>24-I%4*8&255;R.push((M>>>4).toString(16)),R.push((M&15).toString(16))}return R.join("")},parse:function(w){for(var N=w.length,k=[],R=0;R<N;R+=2)k[R>>>3]|=parseInt(w.substr(R,2),16)<<24-R%8*4;return new f.init(k,N/2)}},v=g.Latin1={stringify:function(w){for(var N=w.words,k=w.sigBytes,R=[],I=0;I<k;I++){var M=N[I>>>2]>>>24-I%4*8&255;R.push(String.fromCharCode(M))}return R.join("")},parse:function(w){for(var N=w.length,k=[],R=0;R<N;R++)k[R>>>2]|=(w.charCodeAt(R)&255)<<24-R%4*8;return new f.init(k,N)}},y=g.Utf8={stringify:function(w){try{return decodeURIComponent(escape(v.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return v.parse(unescape(encodeURIComponent(w)))}},b=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=y.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var N,k=this._data,R=k.words,I=k.sigBytes,M=this.blockSize,j=M*4,A=I/j;w?A=r.ceil(A):A=r.max((A|0)-this._minBufferSize,0);var L=A*M,C=r.min(L*4,I);if(L){for(var O=0;O<L;O+=M)this._doProcessBlock(R,O);N=R.splice(0,L),k.sigBytes-=C}return new f.init(N,C)},clone:function(){var w=d.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=b.extend({cfg:d.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(w){return function(N,k){return new w.init(k).finalize(N)}},_createHmacHelper:function(w){return function(N,k){return new x.HMAC.init(w,k).finalize(N)}}});var x=c.algo={};return c}(Math);return n})}(lm)),lm.exports}(function(t,e){(function(n,r){t.exports=r(gh())})(Yi,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,a=r.enc;a.Base64={stringify:function(c){var u=c.words,d=c.sigBytes,f=this._map;c.clamp();for(var g=[],h=0;h<d;h+=3)for(var v=u[h>>>2]>>>24-h%4*8&255,y=u[h+1>>>2]>>>24-(h+1)%4*8&255,b=u[h+2>>>2]>>>24-(h+2)%4*8&255,x=v<<16|y<<8|b,w=0;w<4&&h+w*.75<d;w++)g.push(f.charAt(x>>>6*(3-w)&63));var N=f.charAt(64);if(N)for(;g.length%4;)g.push(N);return g.join("")},parse:function(c){var u=c.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var g=0;g<d.length;g++)f[d.charCodeAt(g)]=g}var h=d.charAt(64);if(h){var v=c.indexOf(h);v!==-1&&(u=v)}return o(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(c,u,d){for(var f=[],g=0,h=0;h<u;h++)if(h%4){var v=d[c.charCodeAt(h-1)]<<h%4*2,y=d[c.charCodeAt(h)]>>>6-h%4*2,b=v|y;f[g>>>2]|=b<<24-g%4*8,g++}return i.create(f,g)}}(),n.enc.Base64})})(Nj);var RT=Nj.exports;const MT=Wc(RT);var jj={exports:{}};(function(t,e){(function(n,r){t.exports=r(gh())})(Yi,function(n){return n.enc.Hex})})(jj);var DT=jj.exports;const FT=Wc(DT);var Sj={exports:{}},cm={exports:{}},s5;function kj(){return s5||(s5=1,function(t,e){(function(n,r){t.exports=r(gh())})(Yi,function(n){return function(r){var s=n,i=s.lib,a=i.WordArray,o=i.Hasher,c=s.algo,u=[],d=[];(function(){function h(x){for(var w=r.sqrt(x),N=2;N<=w;N++)if(!(x%N))return!1;return!0}function v(x){return(x-(x|0))*4294967296|0}for(var y=2,b=0;b<64;)h(y)&&(b<8&&(u[b]=v(r.pow(y,1/2))),d[b]=v(r.pow(y,1/3)),b++),y++})();var f=[],g=c.SHA256=o.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(h,v){for(var y=this._hash.words,b=y[0],x=y[1],w=y[2],N=y[3],k=y[4],R=y[5],I=y[6],M=y[7],j=0;j<64;j++){if(j<16)f[j]=h[v+j]|0;else{var A=f[j-15],L=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,C=f[j-2],O=(C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10;f[j]=L+f[j-7]+O+f[j-16]}var H=k&R^~k&I,U=b&x^b&w^x&w,ee=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),q=(k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25),le=M+q+H+d[j]+f[j],te=ee+U;M=I,I=R,R=k,k=N+le|0,N=w,w=x,x=b,b=le+te|0}y[0]=y[0]+b|0,y[1]=y[1]+x|0,y[2]=y[2]+w|0,y[3]=y[3]+N|0,y[4]=y[4]+k|0,y[5]=y[5]+R|0,y[6]=y[6]+I|0,y[7]=y[7]+M|0},_doFinalize:function(){var h=this._data,v=h.words,y=this._nDataBytes*8,b=h.sigBytes*8;return v[b>>>5]|=128<<24-b%32,v[(b+64>>>9<<4)+14]=r.floor(y/4294967296),v[(b+64>>>9<<4)+15]=y,h.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA256=o._createHelper(g),s.HmacSHA256=o._createHmacHelper(g)}(Math),n.SHA256})}(cm)),cm.exports}var um={exports:{}},i5;function BT(){return i5||(i5=1,function(t,e){(function(n,r){t.exports=r(gh())})(Yi,function(n){(function(){var r=n,s=r.lib,i=s.Base,a=r.enc,o=a.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=o.parse(d));var f=u.blockSize,g=f*4;d.sigBytes>g&&(d=u.finalize(d)),d.clamp();for(var h=this._oKey=d.clone(),v=this._iKey=d.clone(),y=h.words,b=v.words,x=0;x<f;x++)y[x]^=1549556828,b[x]^=909522486;h.sigBytes=v.sigBytes=g,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,f=d.finalize(u);d.reset();var g=d.finalize(this._oKey.clone().concat(f));return g}})})()})}(um)),um.exports}(function(t,e){(function(n,r,s){t.exports=r(gh(),kj(),BT())})(Yi,function(n){return n.HmacSHA256})})(Sj);var $T=Sj.exports;const UT=Wc($T);var zT=kj();const qT=Wc(zT);var Aj={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(u,d){if(!s[u]){if(!r[u]){var f=typeof Qu=="function"&&Qu;if(!d&&f)return f(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}d=s[u]={exports:{}},r[u][0].call(d.exports,function(g){var h=r[u][1][g];return a(h||g)},d,d.exports,n,r,s,i)}return s[u].exports}for(var o=typeof Qu=="function"&&Qu,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){var v=n("crypto");function y(I,M){M=w(I,M);var j;return(j=M.algorithm!=="passthrough"?v.createHash(M.algorithm):new R).write===void 0&&(j.write=j.update,j.end=j.update),k(M,j).dispatch(I),j.update||j.end(""),j.digest?j.digest(M.encoding==="buffer"?void 0:M.encoding):(I=j.read(),M.encoding!=="buffer"?I.toString(M.encoding):I)}(s=r.exports=y).sha1=function(I){return y(I)},s.keys=function(I){return y(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(I){return y(I,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(I){return y(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=v.getHashes?v.getHashes().slice():["sha1","md5"],x=(b.push("passthrough"),["buffer","hex","binary","base64"]);function w(I,M){var j={};if(j.algorithm=(M=M||{}).algorithm||"sha1",j.encoding=M.encoding||"hex",j.excludeValues=!!M.excludeValues,j.algorithm=j.algorithm.toLowerCase(),j.encoding=j.encoding.toLowerCase(),j.ignoreUnknown=M.ignoreUnknown===!0,j.respectType=M.respectType!==!1,j.respectFunctionNames=M.respectFunctionNames!==!1,j.respectFunctionProperties=M.respectFunctionProperties!==!1,j.unorderedArrays=M.unorderedArrays===!0,j.unorderedSets=M.unorderedSets!==!1,j.unorderedObjects=M.unorderedObjects!==!1,j.replacer=M.replacer||void 0,j.excludeKeys=M.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var A=0;A<b.length;++A)b[A].toLowerCase()===j.algorithm.toLowerCase()&&(j.algorithm=b[A]);if(b.indexOf(j.algorithm)===-1)throw new Error('Algorithm "'+j.algorithm+'"  not supported. supported values: '+b.join(", "));if(x.indexOf(j.encoding)===-1&&j.algorithm!=="passthrough")throw new Error('Encoding "'+j.encoding+'"  not supported. supported values: '+x.join(", "));return j}function N(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function k(I,M,j){j=j||[];function A(L){return M.update?M.update(L,"utf8"):M.write(L,"utf8")}return{dispatch:function(L){return this["_"+((L=I.replacer?I.replacer(L):L)===null?"null":typeof L)](L)},_object:function(L){var C,O=Object.prototype.toString.call(L),H=/\[object (.*)\]/i.exec(O);if(H=(H=H?H[1]:"unknown:["+O+"]").toLowerCase(),0<=(O=j.indexOf(L)))return this.dispatch("[CIRCULAR:"+O+"]");if(j.push(L),o!==void 0&&o.isBuffer&&o.isBuffer(L))return A("buffer:"),A(L);if(H==="object"||H==="function"||H==="asyncfunction")return O=Object.keys(L),I.unorderedObjects&&(O=O.sort()),I.respectType===!1||N(L)||O.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(O=O.filter(function(U){return!I.excludeKeys(U)})),A("object:"+O.length+":"),C=this,O.forEach(function(U){C.dispatch(U),A(":"),I.excludeValues||C.dispatch(L[U]),A(",")});if(!this["_"+H]){if(I.ignoreUnknown)return A("["+H+"]");throw new Error('Unknown object type "'+H+'"')}this["_"+H](L)},_array:function(L,U){U=U!==void 0?U:I.unorderedArrays!==!1;var O=this;if(A("array:"+L.length+":"),!U||L.length<=1)return L.forEach(function(ee){return O.dispatch(ee)});var H=[],U=L.map(function(ee){var q=new R,le=j.slice();return k(I,q,le).dispatch(ee),H=H.concat(le.slice(j.length)),q.read().toString()});return j=j.concat(H),U.sort(),this._array(U,!1)},_date:function(L){return A("date:"+L.toJSON())},_symbol:function(L){return A("symbol:"+L.toString())},_error:function(L){return A("error:"+L.toString())},_boolean:function(L){return A("bool:"+L.toString())},_string:function(L){A("string:"+L.length+":"),A(L.toString())},_function:function(L){A("fn:"),N(L)?this.dispatch("[native]"):this.dispatch(L.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(L.name)),I.respectFunctionProperties&&this._object(L)},_number:function(L){return A("number:"+L.toString())},_xml:function(L){return A("xml:"+L.toString())},_null:function(){return A("Null")},_undefined:function(){return A("Undefined")},_regexp:function(L){return A("regex:"+L.toString())},_uint8array:function(L){return A("uint8array:"),this.dispatch(Array.prototype.slice.call(L))},_uint8clampedarray:function(L){return A("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(L))},_int8array:function(L){return A("int8array:"),this.dispatch(Array.prototype.slice.call(L))},_uint16array:function(L){return A("uint16array:"),this.dispatch(Array.prototype.slice.call(L))},_int16array:function(L){return A("int16array:"),this.dispatch(Array.prototype.slice.call(L))},_uint32array:function(L){return A("uint32array:"),this.dispatch(Array.prototype.slice.call(L))},_int32array:function(L){return A("int32array:"),this.dispatch(Array.prototype.slice.call(L))},_float32array:function(L){return A("float32array:"),this.dispatch(Array.prototype.slice.call(L))},_float64array:function(L){return A("float64array:"),this.dispatch(Array.prototype.slice.call(L))},_arraybuffer:function(L){return A("arraybuffer:"),this.dispatch(new Uint8Array(L))},_url:function(L){return A("url:"+L.toString())},_map:function(L){return A("map:"),L=Array.from(L),this._array(L,I.unorderedSets!==!1)},_set:function(L){return A("set:"),L=Array.from(L),this._array(L,I.unorderedSets!==!1)},_file:function(L){return A("file:"),this.dispatch([L.name,L.size,L.type,L.lastModfied])},_blob:function(){if(I.ignoreUnknown)return A("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return A("domwindow")},_bigint:function(L){return A("bigint:"+L.toString())},_process:function(){return A("process")},_timer:function(){return A("timer")},_pipe:function(){return A("pipe")},_tcp:function(){return A("tcp")},_udp:function(){return A("udp")},_tty:function(){return A("tty")},_statwatcher:function(){return A("statwatcher")},_securecontext:function(){return A("securecontext")},_connection:function(){return A("connection")},_zlib:function(){return A("zlib")},_context:function(){return A("context")},_nodescript:function(){return A("nodescript")},_httpparser:function(){return A("httpparser")},_dataview:function(){return A("dataview")},_signal:function(){return A("signal")},_fsevent:function(){return A("fsevent")},_tlswrap:function(){return A("tlswrap")}}}function R(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}s.writeToStream=function(I,M,j){return j===void 0&&(j=M,M={}),k(M=w(I,M),j).dispatch(I)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){(function(v){var y=typeof Uint8Array<"u"?Uint8Array:Array,b=43,x=47,w=48,N=97,k=65,R=45,I=95;function M(j){return j=j.charCodeAt(0),j===b||j===R?62:j===x||j===I?63:j<w?-1:j<w+10?j-w+26+26:j<k+26?j-k:j<N+26?j-N+26:void 0}v.toByteArray=function(j){var A,L;if(0<j.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=j.length,C=j.charAt(C-2)==="="?2:j.charAt(C-1)==="="?1:0,O=new y(3*j.length/4-C),H=0<C?j.length-4:j.length,U=0;function ee(q){O[U++]=q}for(A=0;A<H;A+=4,0)ee((16711680&(L=M(j.charAt(A))<<18|M(j.charAt(A+1))<<12|M(j.charAt(A+2))<<6|M(j.charAt(A+3))))>>16),ee((65280&L)>>8),ee(255&L);return C==2?ee(255&(L=M(j.charAt(A))<<2|M(j.charAt(A+1))>>4)):C==1&&(ee((L=M(j.charAt(A))<<10|M(j.charAt(A+1))<<4|M(j.charAt(A+2))>>2)>>8&255),ee(255&L)),O},v.fromByteArray=function(j){var A,L,C,O,H=j.length%3,U="";function ee(q){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(q)}for(A=0,C=j.length-H;A<C;A+=3)L=(j[A]<<16)+(j[A+1]<<8)+j[A+2],U+=ee((O=L)>>18&63)+ee(O>>12&63)+ee(O>>6&63)+ee(63&O);switch(H){case 1:U=(U+=ee((L=j[j.length-1])>>2))+ee(L<<4&63)+"==";break;case 2:U=(U=(U+=ee((L=(j[j.length-2]<<8)+j[j.length-1])>>10))+ee(L>>4&63))+ee(L<<2&63)+"="}return U}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,s){(function(i,a,b,c,u,d,f,g,h){var v=n("base64-js"),y=n("ieee754");function b(E,D,G){if(!(this instanceof b))return new b(E,D,G);var he,pe,ue,J,Re=typeof E;if(D==="base64"&&Re=="string")for(E=(J=E).trim?J.trim():J.replace(/^\s+|\s+$/g,"");E.length%4!=0;)E+="=";if(Re=="number")he=te(E);else if(Re=="string")he=b.byteLength(E,D);else{if(Re!="object")throw new Error("First argument needs to be a number, array or string.");he=te(E.length)}if(b._useTypedArrays?pe=b._augment(new Uint8Array(he)):((pe=this).length=he,pe._isBuffer=!0),b._useTypedArrays&&typeof E.byteLength=="number")pe._set(E);else if(ce(J=E)||b.isBuffer(J)||J&&typeof J=="object"&&typeof J.length=="number")for(ue=0;ue<he;ue++)b.isBuffer(E)?pe[ue]=E.readUInt8(ue):pe[ue]=E[ue];else if(Re=="string")pe.write(E,0,D);else if(Re=="number"&&!b._useTypedArrays&&!G)for(ue=0;ue<he;ue++)pe[ue]=0;return pe}function x(E,D,G,he){return b._charsWritten=Q(function(pe){for(var ue=[],J=0;J<pe.length;J++)ue.push(255&pe.charCodeAt(J));return ue}(D),E,G,he)}function w(E,D,G,he){return b._charsWritten=Q(function(pe){for(var ue,J,Re=[],Be=0;Be<pe.length;Be++)J=pe.charCodeAt(Be),ue=J>>8,J=J%256,Re.push(J),Re.push(ue);return Re}(D),E,G,he)}function N(E,D,G){var he="";G=Math.min(E.length,G);for(var pe=D;pe<G;pe++)he+=String.fromCharCode(E[pe]);return he}function k(E,D,G,ue){ue||(V(typeof G=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+1<E.length,"Trying to read beyond buffer length"));var pe,ue=E.length;if(!(ue<=D))return G?(pe=E[D],D+1<ue&&(pe|=E[D+1]<<8)):(pe=E[D]<<8,D+1<ue&&(pe|=E[D+1])),pe}function R(E,D,G,ue){ue||(V(typeof G=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+3<E.length,"Trying to read beyond buffer length"));var pe,ue=E.length;if(!(ue<=D))return G?(D+2<ue&&(pe=E[D+2]<<16),D+1<ue&&(pe|=E[D+1]<<8),pe|=E[D],D+3<ue&&(pe+=E[D+3]<<24>>>0)):(D+1<ue&&(pe=E[D+1]<<16),D+2<ue&&(pe|=E[D+2]<<8),D+3<ue&&(pe|=E[D+3]),pe+=E[D]<<24>>>0),pe}function I(E,D,G,he){if(he||(V(typeof G=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+1<E.length,"Trying to read beyond buffer length")),!(E.length<=D))return he=k(E,D,G,!0),32768&he?-1*(65535-he+1):he}function M(E,D,G,he){if(he||(V(typeof G=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+3<E.length,"Trying to read beyond buffer length")),!(E.length<=D))return he=R(E,D,G,!0),2147483648&he?-1*(4294967295-he+1):he}function j(E,D,G,he){return he||(V(typeof G=="boolean","missing or invalid endian"),V(D+3<E.length,"Trying to read beyond buffer length")),y.read(E,D,G,23,4)}function A(E,D,G,he){return he||(V(typeof G=="boolean","missing or invalid endian"),V(D+7<E.length,"Trying to read beyond buffer length")),y.read(E,D,G,52,8)}function L(E,D,G,he,pe){if(pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+1<E.length,"trying to write beyond buffer length"),Z(D,65535)),pe=E.length,!(pe<=G))for(var ue=0,J=Math.min(pe-G,2);ue<J;ue++)E[G+ue]=(D&255<<8*(he?ue:1-ue))>>>8*(he?ue:1-ue)}function C(E,D,G,he,pe){if(pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+3<E.length,"trying to write beyond buffer length"),Z(D,4294967295)),pe=E.length,!(pe<=G))for(var ue=0,J=Math.min(pe-G,4);ue<J;ue++)E[G+ue]=D>>>8*(he?ue:3-ue)&255}function O(E,D,G,he,pe){pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+1<E.length,"Trying to write beyond buffer length"),F(D,32767,-32768)),E.length<=G||L(E,0<=D?D:65535+D+1,G,he,pe)}function H(E,D,G,he,pe){pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+3<E.length,"Trying to write beyond buffer length"),F(D,2147483647,-2147483648)),E.length<=G||C(E,0<=D?D:4294967295+D+1,G,he,pe)}function U(E,D,G,he,pe){pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+3<E.length,"Trying to write beyond buffer length"),re(D,34028234663852886e22,-34028234663852886e22)),E.length<=G||y.write(E,D,G,he,23,4)}function ee(E,D,G,he,pe){pe||(V(D!=null,"missing value"),V(typeof he=="boolean","missing or invalid endian"),V(G!=null,"missing offset"),V(G+7<E.length,"Trying to write beyond buffer length"),re(D,17976931348623157e292,-17976931348623157e292)),E.length<=G||y.write(E,D,G,he,52,8)}s.Buffer=b,s.SlowBuffer=b,s.INSPECT_MAX_BYTES=50,b.poolSize=8192,b._useTypedArrays=function(){try{var E=new ArrayBuffer(0),D=new Uint8Array(E);return D.foo=function(){return 42},D.foo()===42&&typeof D.subarray=="function"}catch{return!1}}(),b.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.isBuffer=function(E){return!(E==null||!E._isBuffer)},b.byteLength=function(E,D){var G;switch(E+="",D||"utf8"){case"hex":G=E.length/2;break;case"utf8":case"utf-8":G=xe(E).length;break;case"ascii":case"binary":case"raw":G=E.length;break;case"base64":G=z(E).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":G=2*E.length;break;default:throw new Error("Unknown encoding")}return G},b.concat=function(E,D){if(V(ce(E),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),E.length===0)return new b(0);if(E.length===1)return E[0];if(typeof D!="number")for(pe=D=0;pe<E.length;pe++)D+=E[pe].length;for(var G=new b(D),he=0,pe=0;pe<E.length;pe++){var ue=E[pe];ue.copy(G,he),he+=ue.length}return G},b.prototype.write=function(E,D,G,he){isFinite(D)?isFinite(G)||(he=G,G=void 0):(Be=he,he=D,D=G,G=Be),D=Number(D)||0;var pe,ue,J,Re,Be=this.length-D;switch((!G||Be<(G=Number(G)))&&(G=Be),he=String(he||"utf8").toLowerCase()){case"hex":pe=function(Me,Se,Oe,Ce){Oe=Number(Oe)||0;var $e=Me.length-Oe;(!Ce||$e<(Ce=Number(Ce)))&&(Ce=$e),V(($e=Se.length)%2==0,"Invalid hex string"),$e/2<Ce&&(Ce=$e/2);for(var ze=0;ze<Ce;ze++){var He=parseInt(Se.substr(2*ze,2),16);V(!isNaN(He),"Invalid hex string"),Me[Oe+ze]=He}return b._charsWritten=2*ze,ze}(this,E,D,G);break;case"utf8":case"utf-8":ue=this,J=D,Re=G,pe=b._charsWritten=Q(xe(E),ue,J,Re);break;case"ascii":case"binary":pe=x(this,E,D,G);break;case"base64":ue=this,J=D,Re=G,pe=b._charsWritten=Q(z(E),ue,J,Re);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":pe=w(this,E,D,G);break;default:throw new Error("Unknown encoding")}return pe},b.prototype.toString=function(E,D,G){var he,pe,ue,J,Re=this;if(E=String(E||"utf8").toLowerCase(),D=Number(D)||0,(G=G!==void 0?Number(G):Re.length)===D)return"";switch(E){case"hex":he=function(Be,Me,Se){var Oe=Be.length;(!Me||Me<0)&&(Me=0),(!Se||Se<0||Oe<Se)&&(Se=Oe);for(var Ce="",$e=Me;$e<Se;$e++)Ce+=ge(Be[$e]);return Ce}(Re,D,G);break;case"utf8":case"utf-8":he=function(Be,Me,Se){var Oe="",Ce="";Se=Math.min(Be.length,Se);for(var $e=Me;$e<Se;$e++)Be[$e]<=127?(Oe+=T(Ce)+String.fromCharCode(Be[$e]),Ce=""):Ce+="%"+Be[$e].toString(16);return Oe+T(Ce)}(Re,D,G);break;case"ascii":case"binary":he=N(Re,D,G);break;case"base64":pe=Re,J=G,he=(ue=D)===0&&J===pe.length?v.fromByteArray(pe):v.fromByteArray(pe.slice(ue,J));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":he=function(Be,Me,Se){for(var Oe=Be.slice(Me,Se),Ce="",$e=0;$e<Oe.length;$e+=2)Ce+=String.fromCharCode(Oe[$e]+256*Oe[$e+1]);return Ce}(Re,D,G);break;default:throw new Error("Unknown encoding")}return he},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.copy=function(E,D,G,he){if(D=D||0,(he=he||he===0?he:this.length)!==(G=G||0)&&E.length!==0&&this.length!==0){V(G<=he,"sourceEnd < sourceStart"),V(0<=D&&D<E.length,"targetStart out of bounds"),V(0<=G&&G<this.length,"sourceStart out of bounds"),V(0<=he&&he<=this.length,"sourceEnd out of bounds"),he>this.length&&(he=this.length);var pe=(he=E.length-D<he-G?E.length-D+G:he)-G;if(pe<100||!b._useTypedArrays)for(var ue=0;ue<pe;ue++)E[ue+D]=this[ue+G];else E._set(this.subarray(G,G+pe),D)}},b.prototype.slice=function(E,D){var G=this.length;if(E=le(E,G,0),D=le(D,G,G),b._useTypedArrays)return b._augment(this.subarray(E,D));for(var he=D-E,pe=new b(he,void 0,!0),ue=0;ue<he;ue++)pe[ue]=this[ue+E];return pe},b.prototype.get=function(E){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(E)},b.prototype.set=function(E,D){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(E,D)},b.prototype.readUInt8=function(E,D){if(D||(V(E!=null,"missing offset"),V(E<this.length,"Trying to read beyond buffer length")),!(E>=this.length))return this[E]},b.prototype.readUInt16LE=function(E,D){return k(this,E,!0,D)},b.prototype.readUInt16BE=function(E,D){return k(this,E,!1,D)},b.prototype.readUInt32LE=function(E,D){return R(this,E,!0,D)},b.prototype.readUInt32BE=function(E,D){return R(this,E,!1,D)},b.prototype.readInt8=function(E,D){if(D||(V(E!=null,"missing offset"),V(E<this.length,"Trying to read beyond buffer length")),!(E>=this.length))return 128&this[E]?-1*(255-this[E]+1):this[E]},b.prototype.readInt16LE=function(E,D){return I(this,E,!0,D)},b.prototype.readInt16BE=function(E,D){return I(this,E,!1,D)},b.prototype.readInt32LE=function(E,D){return M(this,E,!0,D)},b.prototype.readInt32BE=function(E,D){return M(this,E,!1,D)},b.prototype.readFloatLE=function(E,D){return j(this,E,!0,D)},b.prototype.readFloatBE=function(E,D){return j(this,E,!1,D)},b.prototype.readDoubleLE=function(E,D){return A(this,E,!0,D)},b.prototype.readDoubleBE=function(E,D){return A(this,E,!1,D)},b.prototype.writeUInt8=function(E,D,G){G||(V(E!=null,"missing value"),V(D!=null,"missing offset"),V(D<this.length,"trying to write beyond buffer length"),Z(E,255)),D>=this.length||(this[D]=E)},b.prototype.writeUInt16LE=function(E,D,G){L(this,E,D,!0,G)},b.prototype.writeUInt16BE=function(E,D,G){L(this,E,D,!1,G)},b.prototype.writeUInt32LE=function(E,D,G){C(this,E,D,!0,G)},b.prototype.writeUInt32BE=function(E,D,G){C(this,E,D,!1,G)},b.prototype.writeInt8=function(E,D,G){G||(V(E!=null,"missing value"),V(D!=null,"missing offset"),V(D<this.length,"Trying to write beyond buffer length"),F(E,127,-128)),D>=this.length||(0<=E?this.writeUInt8(E,D,G):this.writeUInt8(255+E+1,D,G))},b.prototype.writeInt16LE=function(E,D,G){O(this,E,D,!0,G)},b.prototype.writeInt16BE=function(E,D,G){O(this,E,D,!1,G)},b.prototype.writeInt32LE=function(E,D,G){H(this,E,D,!0,G)},b.prototype.writeInt32BE=function(E,D,G){H(this,E,D,!1,G)},b.prototype.writeFloatLE=function(E,D,G){U(this,E,D,!0,G)},b.prototype.writeFloatBE=function(E,D,G){U(this,E,D,!1,G)},b.prototype.writeDoubleLE=function(E,D,G){ee(this,E,D,!0,G)},b.prototype.writeDoubleBE=function(E,D,G){ee(this,E,D,!1,G)},b.prototype.fill=function(E,D,G){if(D=D||0,G=G||this.length,V(typeof(E=typeof(E=E||0)=="string"?E.charCodeAt(0):E)=="number"&&!isNaN(E),"value is not a number"),V(D<=G,"end < start"),G!==D&&this.length!==0){V(0<=D&&D<this.length,"start out of bounds"),V(0<=G&&G<=this.length,"end out of bounds");for(var he=D;he<G;he++)this[he]=E}},b.prototype.inspect=function(){for(var E=[],D=this.length,G=0;G<D;G++)if(E[G]=ge(this[G]),G===s.INSPECT_MAX_BYTES){E[G+1]="...";break}return"<Buffer "+E.join(" ")+">"},b.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(b._useTypedArrays)return new b(this).buffer;for(var E=new Uint8Array(this.length),D=0,G=E.length;D<G;D+=1)E[D]=this[D];return E.buffer};var q=b.prototype;function le(E,D,G){return typeof E!="number"?G:D<=(E=~~E)?D:0<=E||0<=(E+=D)?E:0}function te(E){return(E=~~Math.ceil(+E))<0?0:E}function ce(E){return(Array.isArray||function(D){return Object.prototype.toString.call(D)==="[object Array]"})(E)}function ge(E){return E<16?"0"+E.toString(16):E.toString(16)}function xe(E){for(var D=[],G=0;G<E.length;G++){var he=E.charCodeAt(G);if(he<=127)D.push(E.charCodeAt(G));else for(var pe=G,ue=(55296<=he&&he<=57343&&G++,encodeURIComponent(E.slice(pe,G+1)).substr(1).split("%")),J=0;J<ue.length;J++)D.push(parseInt(ue[J],16))}return D}function z(E){return v.toByteArray(E)}function Q(E,D,G,he){for(var pe=0;pe<he&&!(pe+G>=D.length||pe>=E.length);pe++)D[pe+G]=E[pe];return pe}function T(E){try{return decodeURIComponent(E)}catch{return"�"}}function Z(E,D){V(typeof E=="number","cannot write a non-number as a number"),V(0<=E,"specified a negative value for writing an unsigned value"),V(E<=D,"value is larger than maximum value for type"),V(Math.floor(E)===E,"value has a fractional component")}function F(E,D,G){V(typeof E=="number","cannot write a non-number as a number"),V(E<=D,"value larger than maximum allowed value"),V(G<=E,"value smaller than minimum allowed value"),V(Math.floor(E)===E,"value has a fractional component")}function re(E,D,G){V(typeof E=="number","cannot write a non-number as a number"),V(E<=D,"value larger than maximum allowed value"),V(G<=E,"value smaller than minimum allowed value")}function V(E,D){if(!E)throw new Error(D||"Failed assertion")}b._augment=function(E){return E._isBuffer=!0,E._get=E.get,E._set=E.set,E.get=q.get,E.set=q.set,E.write=q.write,E.toString=q.toString,E.toLocaleString=q.toString,E.toJSON=q.toJSON,E.copy=q.copy,E.slice=q.slice,E.readUInt8=q.readUInt8,E.readUInt16LE=q.readUInt16LE,E.readUInt16BE=q.readUInt16BE,E.readUInt32LE=q.readUInt32LE,E.readUInt32BE=q.readUInt32BE,E.readInt8=q.readInt8,E.readInt16LE=q.readInt16LE,E.readInt16BE=q.readInt16BE,E.readInt32LE=q.readInt32LE,E.readInt32BE=q.readInt32BE,E.readFloatLE=q.readFloatLE,E.readFloatBE=q.readFloatBE,E.readDoubleLE=q.readDoubleLE,E.readDoubleBE=q.readDoubleBE,E.writeUInt8=q.writeUInt8,E.writeUInt16LE=q.writeUInt16LE,E.writeUInt16BE=q.writeUInt16BE,E.writeUInt32LE=q.writeUInt32LE,E.writeUInt32BE=q.writeUInt32BE,E.writeInt8=q.writeInt8,E.writeInt16LE=q.writeInt16LE,E.writeInt16BE=q.writeInt16BE,E.writeInt32LE=q.writeInt32LE,E.writeInt32BE=q.writeInt32BE,E.writeFloatLE=q.writeFloatLE,E.writeFloatBE=q.writeFloatBE,E.writeDoubleLE=q.writeDoubleLE,E.writeDoubleBE=q.writeDoubleBE,E.fill=q.fill,E.inspect=q.inspect,E.toArrayBuffer=q.toArrayBuffer,E}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,s){(function(i,a,v,c,u,d,f,g,h){var v=n("buffer").Buffer,y=4,b=new v(y);b.fill(0),r.exports={hash:function(x,w,N,k){for(var R=w(function(L,C){L.length%y!=0&&(O=L.length+(y-L.length%y),L=v.concat([L,b],O));for(var O,H=[],U=C?L.readInt32BE:L.readInt32LE,ee=0;ee<L.length;ee+=y)H.push(U.call(L,ee));return H}(x=v.isBuffer(x)?x:new v(x),k),8*x.length),w=k,I=new v(N),M=w?I.writeInt32BE:I.writeInt32LE,j=0;j<R.length;j++)M.call(I,R[j],4*j,!0);return I}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,s){(function(i,a,v,c,u,d,f,g,h){var v=n("buffer").Buffer,y=n("./sha"),b=n("./sha256"),x=n("./rng"),w={sha1:y,sha256:b,md5:n("./md5")},N=64,k=new v(N);function R(L,C){var O=w[L=L||"sha1"],H=[];return O||I("algorithm:",L,"is not yet supported"),{update:function(U){return v.isBuffer(U)||(U=new v(U)),H.push(U),U.length,this},digest:function(U){var ee=v.concat(H),ee=C?function(q,le,te){v.isBuffer(le)||(le=new v(le)),v.isBuffer(te)||(te=new v(te)),le.length>N?le=q(le):le.length<N&&(le=v.concat([le,k],N));for(var ce=new v(N),ge=new v(N),xe=0;xe<N;xe++)ce[xe]=54^le[xe],ge[xe]=92^le[xe];return te=q(v.concat([ce,te])),q(v.concat([ge,te]))}(O,C,ee):O(ee);return H=null,U?ee.toString(U):ee}}}function I(){var L=[].slice.call(arguments).join(" ");throw new Error([L,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}k.fill(0),s.createHash=function(L){return R(L)},s.createHmac=R,s.randomBytes=function(L,C){if(!C||!C.call)return new v(x(L));try{C.call(this,void 0,new v(x(L)))}catch(O){C(O)}};var M,j=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],A=function(L){s[L]=function(){I("sorry,",L,"is not implemented yet")}};for(M in j)A(j[M])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){var v=n("./helpers");function y(I,M){I[M>>5]|=128<<M%32,I[14+(M+64>>>9<<4)]=M;for(var j=1732584193,A=-271733879,L=-1732584194,C=271733878,O=0;O<I.length;O+=16){var H=j,U=A,ee=L,q=C,j=x(j,A,L,C,I[O+0],7,-680876936),C=x(C,j,A,L,I[O+1],12,-389564586),L=x(L,C,j,A,I[O+2],17,606105819),A=x(A,L,C,j,I[O+3],22,-1044525330);j=x(j,A,L,C,I[O+4],7,-176418897),C=x(C,j,A,L,I[O+5],12,1200080426),L=x(L,C,j,A,I[O+6],17,-1473231341),A=x(A,L,C,j,I[O+7],22,-45705983),j=x(j,A,L,C,I[O+8],7,1770035416),C=x(C,j,A,L,I[O+9],12,-1958414417),L=x(L,C,j,A,I[O+10],17,-42063),A=x(A,L,C,j,I[O+11],22,-1990404162),j=x(j,A,L,C,I[O+12],7,1804603682),C=x(C,j,A,L,I[O+13],12,-40341101),L=x(L,C,j,A,I[O+14],17,-1502002290),j=w(j,A=x(A,L,C,j,I[O+15],22,1236535329),L,C,I[O+1],5,-165796510),C=w(C,j,A,L,I[O+6],9,-1069501632),L=w(L,C,j,A,I[O+11],14,643717713),A=w(A,L,C,j,I[O+0],20,-373897302),j=w(j,A,L,C,I[O+5],5,-701558691),C=w(C,j,A,L,I[O+10],9,38016083),L=w(L,C,j,A,I[O+15],14,-660478335),A=w(A,L,C,j,I[O+4],20,-405537848),j=w(j,A,L,C,I[O+9],5,568446438),C=w(C,j,A,L,I[O+14],9,-1019803690),L=w(L,C,j,A,I[O+3],14,-187363961),A=w(A,L,C,j,I[O+8],20,1163531501),j=w(j,A,L,C,I[O+13],5,-1444681467),C=w(C,j,A,L,I[O+2],9,-51403784),L=w(L,C,j,A,I[O+7],14,1735328473),j=N(j,A=w(A,L,C,j,I[O+12],20,-1926607734),L,C,I[O+5],4,-378558),C=N(C,j,A,L,I[O+8],11,-2022574463),L=N(L,C,j,A,I[O+11],16,1839030562),A=N(A,L,C,j,I[O+14],23,-35309556),j=N(j,A,L,C,I[O+1],4,-1530992060),C=N(C,j,A,L,I[O+4],11,1272893353),L=N(L,C,j,A,I[O+7],16,-155497632),A=N(A,L,C,j,I[O+10],23,-1094730640),j=N(j,A,L,C,I[O+13],4,681279174),C=N(C,j,A,L,I[O+0],11,-358537222),L=N(L,C,j,A,I[O+3],16,-722521979),A=N(A,L,C,j,I[O+6],23,76029189),j=N(j,A,L,C,I[O+9],4,-640364487),C=N(C,j,A,L,I[O+12],11,-421815835),L=N(L,C,j,A,I[O+15],16,530742520),j=k(j,A=N(A,L,C,j,I[O+2],23,-995338651),L,C,I[O+0],6,-198630844),C=k(C,j,A,L,I[O+7],10,1126891415),L=k(L,C,j,A,I[O+14],15,-1416354905),A=k(A,L,C,j,I[O+5],21,-57434055),j=k(j,A,L,C,I[O+12],6,1700485571),C=k(C,j,A,L,I[O+3],10,-1894986606),L=k(L,C,j,A,I[O+10],15,-1051523),A=k(A,L,C,j,I[O+1],21,-2054922799),j=k(j,A,L,C,I[O+8],6,1873313359),C=k(C,j,A,L,I[O+15],10,-30611744),L=k(L,C,j,A,I[O+6],15,-1560198380),A=k(A,L,C,j,I[O+13],21,1309151649),j=k(j,A,L,C,I[O+4],6,-145523070),C=k(C,j,A,L,I[O+11],10,-1120210379),L=k(L,C,j,A,I[O+2],15,718787259),A=k(A,L,C,j,I[O+9],21,-343485551),j=R(j,H),A=R(A,U),L=R(L,ee),C=R(C,q)}return Array(j,A,L,C)}function b(I,M,j,A,L,C){return R((M=R(R(M,I),R(A,C)))<<L|M>>>32-L,j)}function x(I,M,j,A,L,C,O){return b(M&j|~M&A,I,M,L,C,O)}function w(I,M,j,A,L,C,O){return b(M&A|j&~A,I,M,L,C,O)}function N(I,M,j,A,L,C,O){return b(M^j^A,I,M,L,C,O)}function k(I,M,j,A,L,C,O){return b(j^(M|~A),I,M,L,C,O)}function R(I,M){var j=(65535&I)+(65535&M);return(I>>16)+(M>>16)+(j>>16)<<16|65535&j}r.exports=function(I){return v.hash(I,y,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){r.exports=function(v){for(var y,b=new Array(v),x=0;x<v;x++)!(3&x)&&(y=4294967296*Math.random()),b[x]=y>>>((3&x)<<3)&255;return b}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){var v=n("./helpers");function y(w,N){w[N>>5]|=128<<24-N%32,w[15+(N+64>>9<<4)]=N;for(var k,R,I,M=Array(80),j=1732584193,A=-271733879,L=-1732584194,C=271733878,O=-1009589776,H=0;H<w.length;H+=16){for(var U=j,ee=A,q=L,le=C,te=O,ce=0;ce<80;ce++){M[ce]=ce<16?w[H+ce]:x(M[ce-3]^M[ce-8]^M[ce-14]^M[ce-16],1);var ge=b(b(x(j,5),(ge=A,R=L,I=C,(k=ce)<20?ge&R|~ge&I:!(k<40)&&k<60?ge&R|ge&I|R&I:ge^R^I)),b(b(O,M[ce]),(k=ce)<20?1518500249:k<40?1859775393:k<60?-1894007588:-899497514)),O=C,C=L,L=x(A,30),A=j,j=ge}j=b(j,U),A=b(A,ee),L=b(L,q),C=b(C,le),O=b(O,te)}return Array(j,A,L,C,O)}function b(w,N){var k=(65535&w)+(65535&N);return(w>>16)+(N>>16)+(k>>16)<<16|65535&k}function x(w,N){return w<<N|w>>>32-N}r.exports=function(w){return v.hash(w,y,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){function v(N,k){var R=(65535&N)+(65535&k);return(N>>16)+(k>>16)+(R>>16)<<16|65535&R}function y(N,k){var R,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),M=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),j=new Array(64);N[k>>5]|=128<<24-k%32,N[15+(k+64>>9<<4)]=k;for(var A,L,C=0;C<N.length;C+=16){for(var O=M[0],H=M[1],U=M[2],ee=M[3],q=M[4],le=M[5],te=M[6],ce=M[7],ge=0;ge<64;ge++)j[ge]=ge<16?N[ge+C]:v(v(v((L=j[ge-2],x(L,17)^x(L,19)^w(L,10)),j[ge-7]),(L=j[ge-15],x(L,7)^x(L,18)^w(L,3))),j[ge-16]),R=v(v(v(v(ce,x(L=q,6)^x(L,11)^x(L,25)),q&le^~q&te),I[ge]),j[ge]),A=v(x(A=O,2)^x(A,13)^x(A,22),O&H^O&U^H&U),ce=te,te=le,le=q,q=v(ee,R),ee=U,U=H,H=O,O=v(R,A);M[0]=v(O,M[0]),M[1]=v(H,M[1]),M[2]=v(U,M[2]),M[3]=v(ee,M[3]),M[4]=v(q,M[4]),M[5]=v(le,M[5]),M[6]=v(te,M[6]),M[7]=v(ce,M[7])}return M}var b=n("./helpers"),x=function(N,k){return N>>>k|N<<32-k},w=function(N,k){return N>>>k};r.exports=function(N){return b.hash(N,y,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){s.read=function(v,y,b,x,C){var N,k,R=8*C-x-1,I=(1<<R)-1,M=I>>1,j=-7,A=b?C-1:0,L=b?-1:1,C=v[y+A];for(A+=L,N=C&(1<<-j)-1,C>>=-j,j+=R;0<j;N=256*N+v[y+A],A+=L,j-=8);for(k=N&(1<<-j)-1,N>>=-j,j+=x;0<j;k=256*k+v[y+A],A+=L,j-=8);if(N===0)N=1-M;else{if(N===I)return k?NaN:1/0*(C?-1:1);k+=Math.pow(2,x),N-=M}return(C?-1:1)*k*Math.pow(2,N-x)},s.write=function(v,y,b,x,w,O){var k,R,I=8*O-w-1,M=(1<<I)-1,j=M>>1,A=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=x?0:O-1,C=x?1:-1,O=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(R=isNaN(y)?1:0,k=M):(k=Math.floor(Math.log(y)/Math.LN2),y*(x=Math.pow(2,-k))<1&&(k--,x*=2),2<=(y+=1<=k+j?A/x:A*Math.pow(2,1-j))*x&&(k++,x/=2),M<=k+j?(R=0,k=M):1<=k+j?(R=(y*x-1)*Math.pow(2,w),k+=j):(R=y*Math.pow(2,j-1)*Math.pow(2,w),k=0));8<=w;v[b+L]=255&R,L+=C,R/=256,w-=8);for(k=k<<w|R,I+=w;0<I;v[b+L]=255&k,L+=C,k/=256,I-=8);v[b+L-C]|=128*O}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,s){(function(i,a,o,c,u,d,f,g,h){var v,y,b;function x(){}(i=r.exports={}).nextTick=(y=typeof window<"u"&&window.setImmediate,b=typeof window<"u"&&window.postMessage&&window.addEventListener,y?function(w){return window.setImmediate(w)}:b?(v=[],window.addEventListener("message",function(w){var N=w.source;N!==window&&N!==null||w.data!=="process-tick"||(w.stopPropagation(),0<v.length&&v.shift()())},!0),function(w){v.push(w),window.postMessage("process-tick","*")}):function(w){setTimeout(w,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=x,i.addListener=x,i.once=x,i.off=x,i.removeListener=x,i.removeAllListeners=x,i.emit=x,i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Aj);var HT=Aj.exports;const WT=Wc(HT),VT=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,KT=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,GT=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function YT(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){JT(t);return}return e}function JT(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function XT(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!GT.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(VT.test(t)||KT.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,YT)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const QT=/#/g,ZT=/&/g,eO=/\//g,tO=/=/g,Yx=/\+/g,nO=/%5e/gi,rO=/%60/gi,sO=/%7c/gi,iO=/%20/gi;function aO(t){return encodeURI(""+t).replace(sO,"|")}function sy(t){return aO(typeof t=="string"?t:JSON.stringify(t)).replace(Yx,"%2B").replace(iO,"+").replace(QT,"%23").replace(ZT,"%26").replace(rO,"`").replace(nO,"^").replace(eO,"%2F")}function dm(t){return sy(t).replace(tO,"%3D")}function Cj(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function oO(t){return Cj(t.replace(Yx," "))}function lO(t){return Cj(t.replace(Yx," "))}function cO(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=oO(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=lO(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function uO(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${dm(t)}=${sy(n)}`).join("&"):`${dm(t)}=${sy(e)}`:dm(t)}function dO(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>uO(e,t[e])).filter(Boolean).join("&")}const hO=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,fO=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,pO=/^([/\\]\s*){2,}[^/\\]/,gO=/^\.?\//;function Ej(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?hO.test(t):fO.test(t)||(e.acceptRelative?pO.test(t):!1)}function mO(t="",e){return t.endsWith("/")}function yO(t="",e){return(mO(t)?t.slice(0,-1):t)||"/"}function xO(t="",e){return t.endsWith("/")?t:t+"/"}function vO(t,e){if(wO(e)||Ej(t))return t;const n=yO(e);return t.startsWith(n)?t:NO(n,t)}function bO(t,e){const n=jO(t),r={...cO(n.search),...e};return n.search=dO(r),SO(n)}function wO(t){return!t||t==="/"}function _O(t){return t&&t!=="/"}function NO(t,...e){let n=t||"";for(const r of e.filter(s=>_O(s)))if(n){const s=r.replace(gO,"");n=xO(n)+s}else n=r;return n}const Pj=Symbol.for("ufo:protocolRelative");function jO(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,g=""]=n;return{protocol:f.toLowerCase(),pathname:g,href:f+g,auth:"",host:"",search:"",hash:""}}if(!Ej(t,{acceptRelative:!0}))return a5(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:d}=a5(o);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:a,pathname:c,search:u,hash:d,[Pj]:!r}}function a5(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function SO(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[Pj]?(t.protocol||"")+"//":"")+s+i+e+n+r}class kO extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function AO(t){var c,u,d,f,g;const e=((c=t.error)==null?void 0:c.message)||((u=t.error)==null?void 0:u.toString())||"",n=((d=t.request)==null?void 0:d.method)||((f=t.options)==null?void 0:f.method)||"GET",r=((g=t.request)==null?void 0:g.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${s}: ${i}${e?` ${e}`:""}`,o=new kO(a,t.error?{cause:t.error}:void 0);for(const h of["request","options","response"])Object.defineProperty(o,h,{get(){return t[h]}});for(const[h,v]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,h,{get(){return t.response&&t.response[v]}});return o}const CO=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function o5(t="GET"){return CO.has(t.toUpperCase())}function EO(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const PO=new Set(["image/svg","application/xml","application/xhtml","application/html"]),LO=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function TO(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return LO.test(e)?"json":PO.has(e)||e.startsWith("text/")?"text":"blob"}function OO(t,e,n,r){const s=IO((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function IO(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function Cf(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const RO=new Set([408,409,425,429,500,502,503,504]),MO=new Set([101,204,205,304]);function Lj(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(o){const c=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!c){let d;typeof o.options.retry=="number"?d=o.options.retry:d=o5(o.options.method)?0:1;const f=o.response&&o.response.status||500;if(d>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(f):RO.has(f))){const g=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return g>0&&await new Promise(h=>setTimeout(h,g)),i(o.request,{...o.options,retry:d-1})}}const u=AO(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(c,u={}){const d={request:c,options:OO(c,u,t.defaults,n),response:void 0,error:void 0};d.options.method&&(d.options.method=d.options.method.toUpperCase()),d.options.onRequest&&await Cf(d,d.options.onRequest),typeof d.request=="string"&&(d.options.baseURL&&(d.request=vO(d.request,d.options.baseURL)),d.options.query&&(d.request=bO(d.request,d.options.query),delete d.options.query),"query"in d.options&&delete d.options.query,"params"in d.options&&delete d.options.params),d.options.body&&o5(d.options.method)&&(EO(d.options.body)?(d.options.body=typeof d.options.body=="string"?d.options.body:JSON.stringify(d.options.body),d.options.headers=new n(d.options.headers||{}),d.options.headers.has("content-type")||d.options.headers.set("content-type","application/json"),d.options.headers.has("accept")||d.options.headers.set("accept","application/json")):("pipeTo"in d.options.body&&typeof d.options.body.pipeTo=="function"||typeof d.options.body.pipe=="function")&&("duplex"in d.options||(d.options.duplex="half")));let f;if(!d.options.signal&&d.options.timeout){const h=new r;f=setTimeout(()=>{const v=new Error("[TimeoutError]: The operation was aborted due to timeout");v.name="TimeoutError",v.code=23,h.abort(v)},d.options.timeout),d.options.signal=h.signal}try{d.response=await e(d.request,d.options)}catch(h){return d.error=h,d.options.onRequestError&&await Cf(d,d.options.onRequestError),await s(d)}finally{f&&clearTimeout(f)}if((d.response.body||d.response._bodyInit)&&!MO.has(d.response.status)&&d.options.method!=="HEAD"){const h=(d.options.parseResponse?"json":d.options.responseType)||TO(d.response.headers.get("content-type")||"");switch(h){case"json":{const v=await d.response.text(),y=d.options.parseResponse||XT;d.response._data=y(v);break}case"stream":{d.response._data=d.response.body||d.response._bodyInit;break}default:d.response._data=await d.response[h]()}}return d.options.onResponse&&await Cf(d,d.options.onResponse),!d.options.ignoreResponseError&&d.response.status>=400&&d.response.status<600?(d.options.onResponseError&&await Cf(d,d.options.onResponseError),await s(d)):d.response},a=async function(c,u){return(await i(c,u))._data};return a.raw=i,a.native=(...o)=>e(...o),a.create=(o={},c={})=>Lj({...t,...c,defaults:{...t.defaults,...c.defaults,...o}}),a}const t0=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),DO=t0.fetch?(...t)=>t0.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),FO=t0.Headers,BO=t0.AbortController,$O=Lj({fetch:DO,Headers:FO,AbortController:BO});var UO=Object.defineProperty,zO=Object.defineProperties,qO=Object.getOwnPropertyDescriptors,l5=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,Tj=t=>{throw TypeError(t)},c5=(t,e,n)=>e in t?UO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n0=(t,e)=>{for(var n in e||(e={}))HO.call(e,n)&&c5(t,n,e[n]);if(l5)for(var n of l5(e))WO.call(e,n)&&c5(t,n,e[n]);return t},Oj=(t,e)=>zO(t,qO(e)),Ij=(t,e,n)=>e.has(t)||Tj("Cannot "+n),hn=(t,e,n)=>(Ij(t,e,"read from private field"),n?n.call(t):e.get(t)),ml=(t,e,n)=>e.has(t)?Tj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),eu=(t,e,n,r)=>(Ij(t,e,"write to private field"),e.set(t,n),n),Gs=(t,e,n)=>new Promise((r,s)=>{var i=c=>{try{o(n.next(c))}catch(u){s(u)}},a=c=>{try{o(n.throw(c))}catch(u){s(u)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,a);o((n=n.apply(t,e)).next())}),r0=class extends Error{constructor(e,n){super(n),this.name="LumiError",this.code=e}},VO="6QrJZ7pFCmBZAeIJF7IArvkCz+EtzA0RVcpHkiQIsQyhs7QtCS9P+CueZdHfB2OtJcgX3BbqY9pfpWeAVTqCwQ==";function u5(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)}function KO(t){return e=>{let{options:n}=e,r=Math.floor(Date.now()/1e3).toString(),s=Math.random().toString(36).substring(2,15),i=n0({},n.query),a=Object.keys(i).sort().map(v=>`${u5(v)}=${u5(String(i[v]))}`).join("&"),o={"x-timestamp":r,"x-nonce":s},c=Object.keys(o).sort().map(v=>`${v}:${o[v]}`).join(`
`),u=n.body&&!(n.body instanceof FormData)?JSON.stringify(n.body):"",d=qT(u).toString(FT),f=[a,c,d].join(`
`);console.warn(`Client-side Canonical Request V3:
`,f);let g=MT.stringify(UT(f,t)),h=new Headers(n.headers);Object.entries(o).forEach(([v,y])=>{h.set(v,y)}),h.set("X-Sign",g),n.headers=h}}var d5=new Map;function GO(t,e){var n;e.body instanceof FormData&&(e=Oj(n0({},e),{body:Array.from(e.body.entries())}));let r=WT([t,e]),s=Date.now(),i=((n=d5.get(r))==null?void 0:n.filter(a=>s-a<1e3))||[];if(i.length>=4)throw new r0(429,"Too many requests");i.push(s),d5.set(r,i)}function _s(t,e,n={}){return t.auth.accessToken&&(n.headers=n0({Authorization:`Bearer ${t.auth.accessToken}`},n.headers)),GO(e,n),$O(e,Oj(n0({baseURL:t.config.apiBaseUrl},n),{onRequest:KO(VO)}))}function YO(){var t,e;return(e=(t=document.querySelector('link[rel="icon"]'))==null?void 0:t.href)!=null?e:null}function JO(){var t;return(t=document.title)!=null?t:null}function h5(t,e,n=localStorage){let r=n.getItem(t),s=e?JSON.stringify(e):null;s?n.setItem(t,s):n.removeItem(t),window.dispatchEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s,storageArea:n}))}function f5(t,e=localStorage){let n=e.getItem(t);try{return n?JSON.parse(n):null}catch{return null}}var Ui,iy,XO=class{constructor(e){ml(this,Ui),ml(this,iy,`lumi-auth-${LT()}`),eu(this,Ui,e)}get accessToken(){return f5("lumi-access-token")}set accessToken(e){h5("lumi-access-token",e)}get user(){return f5("lumi-user")}set user(e){h5("lumi-user",e)}get isAuthenticated(){return!!this.accessToken}signIn(){let e=(window.screen.width-800)/2,n=(window.screen.height-600)/2,r=window.open(hn(this,Ui).config.authOrigin,hn(this,iy),`width=800,height=600,left=${e},top=${n}`),s;return new Promise((i,a)=>{if(!r)return a(new Error("Open auth window failed"));let o=setInterval(()=>{r.closed&&a(new Error("Auth window closed"))},1e3),c=d=>{r.closed||(r.focus(),d.stopPropagation(),d.preventDefault())},u=({data:d,origin:f,source:g})=>{if(!(f!==hn(this,Ui).config.authOrigin||g!==r))switch(d==null?void 0:d.type){case"lumi-ready":{r.postMessage({type:"lumi-init",data:{projectId:hn(this,Ui).config.projectId,icon:YO(),title:JO()}},hn(this,Ui).config.authOrigin);break}case"lumi-sign-in":{if(d.data.projectId!==hn(this,Ui).config.projectId)break;r.close(),window.focus(),this.accessToken=d.data.accessToken,this.user=d.data.user,i(d.data);break}}};window.addEventListener("message",u),document.addEventListener("click",c,!0),s=()=>{clearInterval(o),window.removeEventListener("message",u),document.removeEventListener("click",c,!0)}}).finally(()=>s==null?void 0:s())}signOut(){this.accessToken=null,this.user=null}refreshUser(){return Gs(this,null,function*(){let e=yield _s(hn(this,Ui),"/lm/user/info",{method:"POST"});if(e.code!==200)throw new Error(e.message);return this.user=e.data,e.data})}onAuthChange(e){let n=r=>{(r.key==="lumi-access-token"||r.key==="lumi-user"||r.key===null)&&e({isAuthenticated:this.isAuthenticated,user:this.user})};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}};Ui=new WeakMap,iy=new WeakMap;var ws,QO=class{constructor(e,n){ml(this,ws),eu(this,ws,e),this.entityName=n}list(){return Gs(this,arguments,function*({filter:e,sort:n,limit:r,skip:s}={}){if(r){let i=yield _s(hn(this,ws),this.uri("/find"),{method:"POST",body:{filter:e,sort:n,limit:r,skip:s}});if(i.code!==200)throw new Error(i.message);return i.data}else{let i=yield _s(hn(this,ws),this.uri("/list"),{method:"POST",body:{filter:e,sort:n}});if(i.code!==200)throw new Error(i.message);return{total:i.data.length,list:i.data}}})}get(e){return Gs(this,null,function*(){let n=yield _s(hn(this,ws),this.uri(`/${e}`),{method:"GET"});if(n.code!==200)throw new Error(n.message);return n.data})}create(e){return Gs(this,null,function*(){let n=yield _s(hn(this,ws),this.uri(),{method:"POST",body:e});if(n.code!==200)throw new Error(n.message);return n.data})}createMany(e){return Gs(this,null,function*(){let n=yield _s(hn(this,ws),this.uri("/batch"),{method:"POST",body:e});if(n.code!==200)throw new Error(n.message);return n.data})}update(e,n){return Gs(this,null,function*(){let r=yield _s(hn(this,ws),this.uri(),{method:"PUT",body:{filter:{_id:e},update:n}});if(r.code!==200)throw new Error(r.message);return r.data})}delete(e){return Gs(this,null,function*(){let n=yield _s(hn(this,ws),this.uri(`/${e}`),{method:"DELETE"});if(n.code!==200)throw new Error(n.message)})}deleteMany(e){return Gs(this,null,function*(){let n=yield _s(hn(this,ws),this.uri("/batch-by-ids"),{method:"DELETE",params:{ids:e}});if(n.code!==200)throw new Error(n.message)})}uri(e=""){return`/lm/${hn(this,ws).config.projectId}/${this.entityName}/documents${e}`}};ws=new WeakMap;var dp,ZO=class{constructor(e){return ml(this,dp),eu(this,dp,e),new Proxy(this,{get(n,r){return r in n||(n[r]=new QO(hn(n,dp),r)),n[r]}})}};dp=new WeakMap;var Zu,eI=class{constructor(e){ml(this,Zu),eu(this,Zu,e)}send(e){return Gs(this,arguments,function*({to:n,subject:r,fromName:s,html:i,text:a="",replyTo:o,scheduledAt:c}){if(!n||!r||!i&&!a)throw new Error("Failed to send email: Missing required parameters.");typeof n=="string"&&(n=[n]),typeof o=="string"&&(o=[o]);let u=yield _s(hn(this,Zu),`/lm/${hn(this,Zu).config.projectId}/email/send`,{method:"POST",body:{to:n,subject:r,fromName:s,html:i,text:a,replyTo:o,scheduledAt:c}});if(u.code!==200)throw new r0(u.code,u.message)})}};Zu=new WeakMap;var Go,tI=class{constructor(e){ml(this,Go),eu(this,Go,e)}upload(e){return Gs(this,null,function*(){let n=new FormData;e.forEach(s=>{n.append("files",s)});let r=yield _s(hn(this,Go),`/lm/${hn(this,Go).config.projectId}/file/batch`,{method:"POST",body:n});if(r.code!==200)throw new r0(r.code,r.message);return r.data})}delete(e){return Gs(this,null,function*(){let n=yield _s(hn(this,Go),`/lm/${hn(this,Go).config.projectId}/file/batch`,{method:"DELETE",body:{fileUrls:e}});if(n.code!==200)throw new r0(n.code,n.message)})}};Go=new WeakMap;var ay,nI=class{constructor(e){ml(this,ay),eu(this,ay,e),this.email=new eI(e),this.file=new tI(e)}};ay=new WeakMap;var rI=class{constructor(e){this.config=e,this.auth=new XO(this),this.entities=new ZO(this),this.tools=new nI(this)}};function sI(t){return new rI(t)}const La=sI({projectId:"p364423076073435136",apiBaseUrl:"https://api.lumi.new",authOrigin:"https://auth.lumi.new",debug:!0});let iI={data:""},aI=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||iI},oI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lI=/\/\*[^]*?\*\/|  +/g,p5=/\n+/g,Ua=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Ua(a,i):i+"{"+Ua(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Ua(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ua.p?Ua.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Di={},Rj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Rj(t[n]);return e}return t},cI=(t,e,n,r,s)=>{let i=Rj(t),a=Di[i]||(Di[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Di[a]){let c=i!==t?t:(u=>{let d,f,g=[{}];for(;d=oI.exec(u.replace(lI,""));)d[4]?g.shift():d[3]?(f=d[3].replace(p5," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][d[1]]=d[2].replace(p5," ").trim();return g[0]})(t);Di[a]=Ua(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let o=n&&Di.g?Di.g:null;return n&&(Di.g=Di[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Di[a],e,r,o),a},uI=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let o=a(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":Ua(o,""):o===!1?"":o}return r+s+(a??"")},"");function B0(t){let e=this||{},n=t.call?t(e.p):t;return cI(n.unshift?n.raw?uI(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,aI(e.target),e.g,e.o,e.k)}let Mj,oy,ly;B0.bind({g:1});let ca=B0.bind({k:1});function dI(t,e,n,r){Ua.p=e,Mj=t,oy=n,ly=r}function mo(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let o=Object.assign({},i),c=o.className||s.className;n.p=Object.assign({theme:oy&&oy()},o),n.o=/ *go\d+/.test(c),o.className=B0.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),ly&&u[0]&&ly(o),Mj(u,o)}return s}}var hI=t=>typeof t=="function",cy=(t,e)=>hI(t)?t(e):t,fI=(()=>{let t=0;return()=>(++t).toString()})(),pI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),gI=20,Dj="default",Fj=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Fj(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},mI=[],yI={toasts:[],pausedAt:void 0,settings:{toastLimit:gI}},_c={},Bj=(t,e=Dj)=>{_c[e]=Fj(_c[e]||yI,t),mI.forEach(([n,r])=>{n===e&&r(_c[e])})},$j=t=>Object.keys(_c).forEach(e=>Bj(t,e)),xI=t=>Object.keys(_c).find(e=>_c[e].toasts.some(n=>n.id===t)),Jx=(t=Dj)=>e=>{Bj(e,t)},vI=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||fI()}),mh=t=>(e,n)=>{let r=vI(e,t,n);return Jx(r.toasterId||xI(r.id))({type:2,toast:r}),r.id},cr=(t,e)=>mh("blank")(t,e);cr.error=mh("error");cr.success=mh("success");cr.loading=mh("loading");cr.custom=mh("custom");cr.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Jx(e)(n):$j(n)};cr.dismissAll=t=>cr.dismiss(void 0,t);cr.remove=(t,e)=>{let n={type:4,toastId:t};e?Jx(e)(n):$j(n)};cr.removeAll=t=>cr.remove(void 0,t);cr.promise=(t,e,n)=>{let r=cr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?cy(e.success,s):void 0;return i?cr.success(i,{id:r,...n,...n==null?void 0:n.success}):cr.dismiss(r),s}).catch(s=>{let i=e.error?cy(e.error,s):void 0;i?cr.error(i,{id:r,...n,...n==null?void 0:n.error}):cr.dismiss(r)}),t};var bI=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wI=ca`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_I=ca`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NI=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_I} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jI=ca`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SI=mo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${jI} 1s linear infinite;
`,kI=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AI=ca`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CI=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,EI=mo("div")`
  position: absolute;
`,PI=mo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LI=ca`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TI=mo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OI=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?oe.createElement(TI,null,e):e:n==="blank"?null:oe.createElement(PI,null,oe.createElement(SI,{...r}),n!=="loading"&&oe.createElement(EI,null,n==="error"?oe.createElement(NI,{...r}):oe.createElement(CI,{...r})))},II=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,MI="0%{opacity:0;} 100%{opacity:1;}",DI="0%{opacity:1;} 100%{opacity:0;}",FI=mo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BI=mo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$I=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=pI()?[MI,DI]:[II(n),RI(n)];return{animation:e?`${ca(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ca(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};oe.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?$I(t.position||e||"top-center",t.visible):{opacity:0},i=oe.createElement(OI,{toast:t}),a=oe.createElement(BI,{...t.ariaProps},cy(t.message,t));return oe.createElement(FI,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):oe.createElement(oe.Fragment,null,i,a))});dI(oe.createElement);B0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Yn=cr;const UI=t=>{const[e,n]=oe.useState(null),[r,s]=oe.useState([]),[i,a]=oe.useState(!0),o=oe.useCallback(async()=>{if(!t){a(!1);return}try{const{list:h}=await La.entities.business_type.list({filter:{user_id:t,is_active:!0}});h&&h.length>0&&n(h[0])}catch(h){console.error("業態形態の取得に失敗しました:",h),Yn.error("業態形態の取得に失敗しました")}finally{a(!1)}},[t]),c=oe.useCallback(async()=>{if(t)try{const{list:h}=await La.entities.business_type.list({filter:{user_id:t},sort:{created_at:-1}});s(h||[])}catch(h){console.error("業態形態リストの取得に失敗しました:",h)}},[t]),u=async h=>{if(!t)return Yn.error("ユーザーIDが必要です"),null;try{e&&await La.entities.business_type.update(e._id,{is_active:!1,updated_at:new Date().toISOString()});const v=await La.entities.business_type.create({...h,user_id:t,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return n(v),await c(),Yn.success("業態形態を作成しました"),v}catch(v){return console.error("業態形態の作成に失敗しました:",v),Yn.error("業態形態の作成に失敗しました"),null}},d=async h=>{try{e&&await La.entities.business_type.update(e._id,{is_active:!1,updated_at:new Date().toISOString()});const v=await La.entities.business_type.update(h,{is_active:!0,updated_at:new Date().toISOString()});n(v),Yn.success("業態形態を切り替えました"),window.location.reload()}catch(v){console.error("業態形態の切り替えに失敗しました:",v),Yn.error("業態形態の切り替えに失敗しました")}},f=async(h,v)=>{try{const y=await La.entities.business_type.update(h,{...v,updated_at:new Date().toISOString()});return(e==null?void 0:e._id)===h&&n(y),await c(),Yn.success("業態形態を更新しました"),y}catch(y){return console.error("業態形態の更新に失敗しました:",y),Yn.error("業態形態の更新に失敗しました"),null}},g=async h=>{try{await La.entities.business_type.delete(h),(e==null?void 0:e._id)===h&&n(null),await c(),Yn.success("業態形態を削除しました")}catch(v){console.error("業態形態の削除に失敗しました:",v),Yn.error("業態形態の削除に失敗しました")}};return oe.useEffect(()=>{t&&(o(),c())},[o,c]),{currentBusinessType:e,businessTypes:r,loading:i,createBusinessType:u,switchBusinessType:d,updateBusinessType:f,deleteBusinessType:g,refetch:o}},zI=(t,e)=>{const n=()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(`ローカルストレージから${t}の値を取得できませんでした:`,i),e}},[r,s]=oe.useState(n);return oe.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(`ローカルストレージに${t}の値を保存できませんでした:`,i)}},[t,r]),[r,s]},g5=({userId:t,onBusinessTypeChange:e})=>{const[n,r]=oe.useState(!1),[s]=zI(`businessType_${t}`,null),{businessTypes:i,loading:a,createBusinessType:o,switchBusinessType:c,updateBusinessType:u,deleteBusinessType:d}=UI(t),[f,g]=oe.useState(!1),[h,v]=oe.useState(!1),[y,b]=oe.useState(null),[x,w]=oe.useState("individual"),N=async j=>{j.preventDefault();const A=new FormData(j.currentTarget),L={business_type:A.get("business_type"),company_name:A.get("company_name"),tax_number:A.get("tax_number"),address:A.get("address"),phone:A.get("phone"),email:A.get("email"),representative_name:A.get("representative_name")},C=await o(L);C&&(g(!1),e==null||e(C))},k=async j=>{if(j.preventDefault(),!y)return;const A=new FormData(j.currentTarget),L={company_name:A.get("company_name"),tax_number:A.get("tax_number"),address:A.get("address"),phone:A.get("phone"),email:A.get("email"),representative_name:A.get("representative_name")},C=await u(y._id,L);C&&(v(!1),b(null),e==null||e(C))},R=async j=>{await c(j),r(!1);const A=i.find(L=>L._id===j);e==null||e(A)},I=j=>{b(j),w(j.business_type),v(!0),r(!1)},M=async j=>{confirm("この業態形態を削除してもよろしいですか？")&&(await d(j),r(!1))};return a?l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"読み込み中..."})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 bg-blue-50 border border-blue-200 px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors",children:[s?l.jsxs(l.Fragment,{children:[s.business_type==="individual"?l.jsx(Xu,{className:"w-4 h-4 text-blue-600"}):l.jsx(cp,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-blue-800",children:s.business_type==="individual"?"個人事業主":"法人"}),l.jsxs("span",{className:"text-sm text-blue-600",children:["- ",s.company_name]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Xu,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-500",children:"業態形態を選択"})]}),l.jsx(mj,{className:"w-4 h-4 text-blue-600"})]}),n&&l.jsx("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"p-2",children:[s&&l.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded flex items-center",children:[s.business_type==="individual"?l.jsx(Xu,{className:"w-4 h-4 text-blue-600 mr-2"}):l.jsx(cp,{className:"w-4 h-4 text-green-600 mr-2"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-blue-800",children:s.business_type==="individual"?"個人事業主":"法人"}),l.jsx("div",{className:"text-xs text-blue-600",children:s.company_name})]}),l.jsx(Qi,{className:"w-4 h-4 text-blue-600 ml-auto"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"業態形態"}),l.jsxs("button",{onClick:()=>{g(!0),r(!1)},className:"flex items-center text-xs text-blue-600 hover:text-blue-700",children:[l.jsx(Zs,{className:"w-3 h-3 mr-1"}),"新規作成"]})]}),l.jsx("div",{className:"space-y-1",children:i.map(j=>l.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-gray-50 ${(s==null?void 0:s._id)===j._id?"bg-gray-50":""}`,children:[l.jsxs("button",{onClick:()=>R(j._id),className:"flex items-center space-x-2 flex-1 text-left",children:[j.business_type==="individual"?l.jsx(Xu,{className:"w-4 h-4 text-blue-600"}):l.jsx(cp,{className:"w-4 h-4 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:j.business_type==="individual"?"個人事業主":"法人"}),l.jsx("div",{className:"text-xs text-gray-500",children:j.company_name})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>I(j),className:"p-1 text-gray-400 hover:text-gray-600",title:"編集",children:l.jsx(e0,{className:"w-3 h-3"})}),i.length>1&&l.jsx("button",{onClick:()=>M(j._id),className:"p-1 text-gray-400 hover:text-red-600",title:"削除",children:l.jsx(Zi,{className:"w-3 h-3"})})]})]},j._id))}),i.length===0&&l.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"業態形態が設定されていません"})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"新しい業態形態を作成"}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"業態形態"}),l.jsxs("select",{name:"business_type",value:x,onChange:j=>w(j.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"individual",children:"個人事業主"}),l.jsx("option",{value:"corporation",children:"法人"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:x==="individual"?"屋号":"会社名"}),l.jsx("input",{type:"text",name:"company_name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:x==="individual"?"個人商店":"株式会社サンプル"})]}),x==="corporation"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"法人番号"}),l.jsx("input",{type:"text",name:"tax_number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234567890123"})]}),x==="individual"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"事業者登録番号"}),l.jsx("input",{type:"text",name:"tax_number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"T1234567890123"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"住所"}),l.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"東京都渋谷区1-1-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),l.jsx("input",{type:"tel",name:"phone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"03-1234-5678"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),l.jsx("input",{type:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"info@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:x==="individual"?"事業主名":"代表者名"}),l.jsx("input",{type:"text",name:"representative_name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:x==="individual"?"山田太郎":"田中太郎"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"作成"})]})]})]})}),h&&y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"業態形態を編集"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"業態形態"}),l.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded-md text-sm",children:y.business_type==="individual"?"個人事業主":"法人"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y.business_type==="individual"?"屋号":"会社名"}),l.jsx("input",{type:"text",name:"company_name",defaultValue:y.company_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.business_type==="corporation"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"法人番号"}),l.jsx("input",{type:"text",name:"tax_number",defaultValue:y.tax_number,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.business_type==="individual"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"事業者登録番号"}),l.jsx("input",{type:"text",name:"tax_number",defaultValue:y.tax_number,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"住所"}),l.jsx("input",{type:"text",name:"address",defaultValue:y.address,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),l.jsx("input",{type:"tel",name:"phone",defaultValue:y.phone,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),l.jsx("input",{type:"email",name:"email",defaultValue:y.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:y.business_type==="individual"?"事業主名":"代表者名"}),l.jsx("input",{type:"text",name:"representative_name",defaultValue:y.representative_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>{v(!1),b(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"更新"})]})]})]})})]})},qI=({showPcSideMenu:t=!1,onPcSideMenuToggle:e,isPcSideMenuExpanded:n=!0,showSideMenus:r=!0})=>{const s=Jc(),i=fh(),{user:a,signOut:o}=Hx(),[c,u]=oe.useState(!1),[d,f]=oe.useState(!1),[g,h]=oe.useState(!0),[v,y]=oe.useState(null),[b,x]=oe.useState(""),w=oe.useMemo(()=>(a==null?void 0:a.id)||"user_001",[a==null?void 0:a.id]),N=j=>s.pathname===j,k=j=>{y(j),console.log("業態形態が変更されました:",j)},R=async()=>{try{await o(),i("/")}catch(j){console.error("ログアウトエラー:",j)}},I=j=>{j.preventDefault(),console.log("検索:",b)},M=[{path:"/dashboard",label:"ダッシュボード",icon:wL},{path:"/receipt-processing",label:"レシート",icon:HL},{path:"/invoice-creation",label:"請求書",icon:sa},{path:"/business-analysis",label:"経営分析",icon:zP},{path:"/chat-to-book",label:"CHAT-TO-BOOK",icon:IL},{path:"/business-conversion",label:"申告サポート",icon:_j}];return l.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(Bn,{to:"/dashboard",className:"flex items-center",children:l.jsx("h1",{className:"text-xl font-bold text-blue-600 cursor-pointer hover:text-blue-700",children:"Ainance"})})}),l.jsx("div",{className:"hidden md:block flex-1"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[r&&l.jsx("div",{className:"hidden md:block",children:l.jsxs("form",{onSubmit:I,className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx($c,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"検索...",value:b,onChange:j=>x(j.target.value),className:"block w-48 pl-10 pr-4 py-2 border border-gray-300 rounded-full leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm transition-all duration-200 hover:shadow-sm"})]})}),r&&l.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors hidden md:block",children:[l.jsx(IP,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute top-1 right-1 block h-2 w-2 rounded-full ring-2 ring-white bg-red-400"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors p-1 rounded-full hover:bg-gray-100",children:l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-medium",children:a!=null&&a.name?a.name.charAt(0):"U"})})}),c&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 py-1",children:[l.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 border-b border-gray-100",children:[l.jsx("div",{className:"font-medium",children:a==null?void 0:a.name}),l.jsx("div",{className:"text-gray-500 truncate",children:a==null?void 0:a.email})]}),l.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"業態形態"}),l.jsx(g5,{userId:w,onBusinessTypeChange:k})]}),l.jsxs(Bn,{to:"/integration-settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>u(!1),children:[l.jsx(up,{className:"w-4 h-4 mr-3"}),"設定"]}),l.jsxs("button",{onClick:()=>{u(!1),R()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[l.jsx(am,{className:"w-4 h-4 mr-3"}),"ログアウト"]})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>{f(!d),d||h(!0)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100",children:d?l.jsx($n,{className:"w-5 h-5"}):l.jsx(TL,{className:"w-5 h-5"})})})]})]}),t&&r&&l.jsx("div",{className:`hidden md:block fixed left-0 top-16 h-full bg-white shadow-lg z-40 transition-all duration-300 ease-in-out ${n?"w-64":"w-20"}`,children:l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx("div",{className:"absolute top-4 -right-8 z-10",children:l.jsx("button",{onClick:()=>e&&e(!n),className:"bg-white rounded-r-lg p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":n?"メニューを折りたたむ":"メニューを展開する",children:n?l.jsx(Jb,{className:"h-5 w-5"}):l.jsx(ll,{className:"h-5 w-5"})})}),l.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:l.jsx("nav",{className:`space-y-1 px-2 ${n?"":"flex flex-col items-center space-y-4"}`,children:M.map(j=>{const A=j.icon;return n?l.jsxs(Bn,{to:j.path,className:`flex items-center px-4 py-3 text-base font-medium rounded-lg transition-colors ${N(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[l.jsx(A,{className:"mr-3 h-6 w-6"}),j.label]},j.path):l.jsx(Bn,{to:j.path,className:`flex items-center justify-center p-3 rounded-lg transition-colors ${N(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,title:j.label,"aria-label":j.label,children:l.jsx(A,{className:"h-6 w-6"})},j.path)})})})]})}),l.jsx("div",{className:`md:hidden fixed inset-0 z-50 transition-all duration-300 ease-in-out transform ${d?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),l.jsx("div",{className:"absolute inset-y-0 right-0 max-w-full flex",children:l.jsx("div",{className:`relative h-full ${g?"w-80":"w-20"} transition-all duration-300 ease-in-out`,children:l.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[l.jsx("div",{className:"absolute top-4 -left-8 z-10",children:l.jsx("button",{onClick:()=>h(!g),className:"bg-white rounded-l-lg p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":g?"メニューを折りたたむ":"メニューを展開する",children:g?l.jsx(ll,{className:"h-5 w-5"}):l.jsx(Jb,{className:"h-5 w-5"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsx("div",{className:"px-4 py-6 bg-blue-600 sm:px-6",children:l.jsx("div",{className:"flex items-center justify-between",children:g?l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"メニュー"}),l.jsx("button",{type:"button",className:"text-white hover:text-gray-200",onClick:()=>f(!1),"aria-label":"メニューを閉じる",children:l.jsx($n,{className:"h-6 w-6"})})]}):l.jsx("div",{className:"flex justify-center w-full",children:l.jsx("button",{type:"button",className:"text-white hover:text-gray-200",onClick:()=>f(!1),"aria-label":"メニューを閉じる",children:l.jsx($n,{className:"h-6 w-6"})})})})}),l.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[g&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"業態形態"}),l.jsx(g5,{userId:w,onBusinessTypeChange:k})]}),l.jsx("nav",{className:`space-y-1 mb-8 ${g?"":"flex flex-col items-center space-y-4 py-4"}`,children:M.map(j=>{const A=j.icon;return g?l.jsxs(Bn,{to:j.path,className:`flex items-center px-3 py-3 text-base font-medium rounded-lg transition-colors ${N(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>f(!1),children:[l.jsx(A,{className:"mr-3 h-6 w-6"}),j.label]},j.path):l.jsx(Bn,{to:j.path,className:`flex items-center justify-center p-3 rounded-lg transition-colors ${N(j.path)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>f(!1),title:j.label,"aria-label":j.label,children:l.jsx(A,{className:"h-6 w-6"})},j.path)})}),g&&l.jsx("div",{className:"mb-6",children:l.jsxs("form",{onSubmit:I,className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx($c,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",placeholder:"検索...",value:b,onChange:j=>x(j.target.value),className:"block w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm","aria-label":"検索"})]})}),g?l.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[l.jsxs(Bn,{to:"/integration-settings",className:"flex items-center px-3 py-3 text-base font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors",onClick:()=>f(!1),children:[l.jsx(up,{className:"mr-3 h-6 w-6"}),"設定"]}),l.jsxs("button",{onClick:()=>{f(!1),R()},className:"flex items-center w-full px-3 py-3 text-base font-medium text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors",children:[l.jsx(am,{className:"mr-3 h-6 w-6"}),"ログアウト"]})]}):l.jsxs("div",{className:"pt-6 border-t border-gray-200 flex flex-col items-center space-y-4",children:[l.jsx(Bn,{to:"/integration-settings",className:"flex items-center justify-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors",onClick:()=>f(!1),title:"設定","aria-label":"設定",children:l.jsx(up,{className:"h-6 w-6"})}),l.jsx("button",{onClick:()=>{f(!1),R()},className:"flex items-center justify-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors",title:"ログアウト","aria-label":"ログアウト",children:l.jsx(am,{className:"h-6 w-6"})})]})]})]})]})})})]})})]})})},HI=()=>{const t=[{title:"CHAT-TO-BOOK",description:"音声で取引を記録",icon:Qp,link:"/chat-to-book",color:"bg-purple-100",iconColor:"text-purple-600"},{title:"レシート処理",description:"レシートをスキャンして処理",icon:Vx,link:"/receipt-processing",color:"bg-green-100",iconColor:"text-green-600"},{title:"請求書作成",description:"新しい請求書を作成",icon:sa,link:"/invoice-creation",color:"bg-blue-100",iconColor:"text-blue-600"},{title:"取引履歴",description:"すべての取引を確認",icon:HP,link:"/transaction-history",color:"bg-yellow-100",iconColor:"text-yellow-600"},{title:"申告サポート",description:"税務申告の準備をサポート",icon:ey,link:"/tax-filing-support",color:"bg-red-100",iconColor:"text-red-600"},{title:"連携設定",description:"外部サービスとの連携を設定",icon:AL,link:"/integration-settings",color:"bg-indigo-100",iconColor:"text-indigo-600"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-8",children:t.map((e,n)=>l.jsx(Bn,{to:e.link,className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:`w-12 h-12 ${e.color} rounded-lg flex items-center justify-center mb-3`,children:l.jsx(e.icon,{className:`w-6 h-6 ${e.iconColor}`})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})},n))})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yh(t){return t+.5|0}const Wa=(t,e,n)=>Math.max(Math.min(t,n),e);function ed(t){return Wa(yh(t*2.55),0,255)}function ro(t){return Wa(yh(t*255),0,255)}function Ki(t){return Wa(yh(t/2.55)/100,0,1)}function m5(t){return Wa(yh(t*100),0,100)}const bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uy=[..."0123456789ABCDEF"],WI=t=>uy[t&15],VI=t=>uy[(t&240)>>4]+uy[t&15],Ef=t=>(t&240)>>4===(t&15),KI=t=>Ef(t.r)&&Ef(t.g)&&Ef(t.b)&&Ef(t.a);function GI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&bs[t[1]]*17,g:255&bs[t[2]]*17,b:255&bs[t[3]]*17,a:e===5?bs[t[4]]*17:255}:(e===7||e===9)&&(n={r:bs[t[1]]<<4|bs[t[2]],g:bs[t[3]]<<4|bs[t[4]],b:bs[t[5]]<<4|bs[t[6]],a:e===9?bs[t[7]]<<4|bs[t[8]]:255})),n}const YI=(t,e)=>t<255?e(t):"";function JI(t){var e=KI(t)?WI:VI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+YI(t.a,e):void 0}const XI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uj(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function QI(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function ZI(t,e,n){const r=Uj(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function e9(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Xx(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),c=e9(n,r,s,d,i),c=c*60+.5),[c|0,u||0,o]}function Qx(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ro)}function Zx(t,e,n){return Qx(Uj,t,e,n)}function t9(t,e,n){return Qx(ZI,t,e,n)}function n9(t,e,n){return Qx(QI,t,e,n)}function zj(t){return(t%360+360)%360}function r9(t){const e=XI.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ed(+e[5]):ro(+e[5]));const s=zj(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=t9(s,i,a):e[1]==="hsv"?r=n9(s,i,a):r=Zx(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function s9(t,e){var n=Xx(t);n[0]=zj(n[0]+e),n=Zx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function i9(t){if(!t)return;const e=Xx(t),n=e[0],r=m5(e[1]),s=m5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ki(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const y5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a9(){const t={},e=Object.keys(x5),n=Object.keys(y5);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,y5[i]);i=parseInt(x5[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Pf;function o9(t){Pf||(Pf=a9(),Pf.transparent=[0,0,0,0]);const e=Pf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const l9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function c9(t){const e=l9.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?ed(a):Wa(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?ed(r):Wa(r,0,255)),s=255&(e[4]?ed(s):Wa(s,0,255)),i=255&(e[6]?ed(i):Wa(i,0,255)),{r,g:s,b:i,a:n}}}function u9(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function d9(t,e,n){const r=Vl(Ki(t.r)),s=Vl(Ki(t.g)),i=Vl(Ki(t.b));return{r:ro(hm(r+n*(Vl(Ki(e.r))-r))),g:ro(hm(s+n*(Vl(Ki(e.g))-s))),b:ro(hm(i+n*(Vl(Ki(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Lf(t,e,n){if(t){let r=Xx(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Zx(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qj(t,e){return t&&Object.assign(e||{},t)}function v5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ro(t[3]))):(e=qj(t,{r:0,g:0,b:0,a:1}),e.a=ro(e.a)),e}function h9(t){return t.charAt(0)==="r"?c9(t):r9(t)}class Qd{constructor(e){if(e instanceof Qd)return e;const n=typeof e;let r;n==="object"?r=v5(e):n==="string"&&(r=GI(e)||o9(e)||h9(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qj(this._rgb);return e&&(e.a=Ki(e.a)),e}set rgb(e){this._rgb=v5(e)}rgbString(){return this._valid?u9(this._rgb):void 0}hexString(){return this._valid?JI(this._rgb):void 0}hslString(){return this._valid?i9(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,c=r.a-s.a,u=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=d9(this._rgb,e._rgb,n)),this}clone(){return new Qd(this.rgb)}alpha(e){return this._rgb.a=ro(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=yh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lf(this._rgb,2,e),this}darken(e){return Lf(this._rgb,2,-e),this}saturate(e){return Lf(this._rgb,1,e),this}desaturate(e){return Lf(this._rgb,1,-e),this}rotate(e){return s9(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fi(){}const f9=(()=>{let t=0;return()=>t++})();function en(t){return t==null}function tr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ls(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function fi(t,e){return Ls(t)?t:e}function St(t,e){return typeof t>"u"?e:t}const p9=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Hj=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ut(t,e,n,r){let s,i,a;if(tr(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(Ot(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function s0(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function i0(t){if(tr(t))return t.map(i0);if(Ot(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=i0(t[n[s]]);return e}return t}function Wj(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function g9(t,e,n,r){if(!Wj(t))return;const s=e[t],i=n[t];Ot(s)&&Ot(i)?Zd(s,i,r):e[t]=i0(i)}function Zd(t,e,n){const r=tr(e)?e:[e],s=r.length;if(!Ot(t))return t;n=n||{};const i=n.merger||g9;let a;for(let o=0;o<s;++o){if(a=r[o],!Ot(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function _d(t,e){return Zd(t,e,{merger:m9})}function m9(t,e,n){if(!Wj(t))return;const r=e[t],s=n[t];Ot(r)&&Ot(s)?_d(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=i0(s))}const b5={"":t=>t,x:t=>t.x,y:t=>t.y};function y9(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function x9(t){const e=y9(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function eh(t,e){return(b5[e]||(b5[e]=x9(e)))(t)}function e2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const a0=t=>typeof t<"u",ao=t=>typeof t=="function",w5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function v9(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qt=Math.PI,_n=2*qt,b9=_n+qt,o0=Number.POSITIVE_INFINITY,w9=qt/180,Qn=qt/2,zo=qt/4,_5=qt*2/3,Vj=Math.log10,zc=Math.sign;function Nd(t,e,n){return Math.abs(t-e)<n}function N5(t){const e=Math.round(t);t=Nd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vj(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function _9(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function N9(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function th(t){return!N9(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function j9(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function S9(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ea(t){return t*(qt/180)}function k9(t){return t*(180/qt)}function j5(t){if(!Ls(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Kj(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*qt&&(i+=_n),{angle:i,distance:s}}function dy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A9(t,e){return(t-e+b9)%_n-qt}function Ys(t){return(t%_n+_n)%_n}function nh(t,e,n,r){const s=Ys(t),i=Ys(e),a=Ys(n),o=Ys(i-s),c=Ys(a-s),u=Ys(s-i),d=Ys(s-a);return s===i||s===a||r&&i===a||o>c&&u<d}function Cr(t,e,n){return Math.max(e,Math.min(n,t))}function C9(t){return Cr(t,-32768,32767)}function fc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function t2(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const il=(t,e,n,r)=>t2(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),E9=(t,e,n)=>t2(t,n,r=>t[r][e]>=n);function P9(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const Gj=["push","pop","shift","splice","unshift"];function L9(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Gj.forEach(n=>{const r="_onData"+e2(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function S5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(Gj.forEach(i=>{delete t[i]}),delete t._chartjs)}function T9(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Yj=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Jj(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Yj.call(window,()=>{r=!1,t.apply(e,n)}))}}function O9(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const n2=t=>t==="start"?"left":t==="end"?"right":"center",br=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,I9=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function R9(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:g,minDefined:h,maxDefined:v}=a.getUserBounds();if(h){if(s=Math.min(il(c,d,f).lo,n?r:il(e,d,a.getPixelForValue(f)).lo),u){const y=c.slice(0,s+1).reverse().findIndex(b=>!en(b[o.axis]));s-=Math.max(0,y)}s=Cr(s,0,r-1)}if(v){let y=Math.max(il(c,a.axis,g,!0).hi+1,n?0:il(e,d,a.getPixelForValue(g),!0).hi+1);if(u){const b=c.slice(y-1).findIndex(x=>!en(x[o.axis]));y+=Math.max(0,b)}i=Cr(y,s,r)-s}else i=r-s}return{start:s,count:i}}function M9(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Tf=t=>t===0||t===1,k5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_n/n)),A5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*_n/n)+1,jd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qn)+1,easeOutSine:t=>Math.sin(t*Qn),easeInOutSine:t=>-.5*(Math.cos(qt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tf(t)?t:k5(t,.075,.3),easeOutElastic:t=>Tf(t)?t:A5(t,.075,.3),easeInOutElastic(t){return Tf(t)?t:t<.5?.5*k5(t*2,.1125,.45):.5+.5*A5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jd.easeInBounce(t*2)*.5:jd.easeOutBounce(t*2-1)*.5+.5};function r2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function C5(t){return r2(t)?t:new Qd(t)}function fm(t){return r2(t)?t:new Qd(t).saturate(.5).darken(.1).hexString()}const D9=["x","y","borderWidth","radius","tension"],F9=["color","borderColor","backgroundColor"];function B9(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:F9},numbers:{type:"number",properties:D9}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $9(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const E5=new Map;function U9(t,e){e=e||{};const n=t+JSON.stringify(e);let r=E5.get(n);return r||(r=new Intl.NumberFormat(t,e),E5.set(n,r)),r}function s2(t,e,n){return U9(e,n).format(t)}const z9={values(t){return tr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=q9(t,n)}const a=Vj(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),s2(t,r,c)}};function q9(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Xj={formatters:z9};function H9(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yl=Object.create(null),hy=Object.create(null);function Sd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function pm(t,e,n){return typeof e=="string"?Zd(Sd(t,e),n):Zd(Sd(t,""),e)}class W9{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>fm(s.backgroundColor),this.hoverBorderColor=(r,s)=>fm(s.borderColor),this.hoverColor=(r,s)=>fm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return pm(this,e,n)}get(e){return Sd(this,e)}describe(e,n){return pm(hy,e,n)}override(e,n){return pm(yl,e,n)}route(e,n,r,s){const i=Sd(this,e),a=Sd(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],u=a[s];return Ot(c)?Object.assign({},u,c):St(c,u)},set(c){this[o]=c}}})}apply(e){e.forEach(n=>n(this))}}var On=new W9({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[B9,$9,H9]);function V9(t){return!t||en(t.size)||en(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function P5(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function qo(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function L5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fy(t,e,n,r){Qj(t,e,n,r,null)}function Qj(t,e,n,r,s){let i,a,o,c,u,d,f,g;const h=e.pointStyle,v=e.rotation,y=e.radius;let b=(v||0)*w9;if(h&&typeof h=="object"&&(i=h.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),h){default:s?t.ellipse(n,r,s/2,y,0,0,_n):t.arc(n,r,y,0,_n),t.closePath();break;case"triangle":d=s?s/2:y,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*y),b+=_5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*y),b+=_5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,a=Math.cos(b+zo)*c,f=Math.cos(b+zo)*(s?s/2-u:c),o=Math.sin(b+zo)*c,g=Math.sin(b+zo)*(s?s/2-u:c),t.arc(n-f,r-o,u,b-qt,b-Qn),t.arc(n+g,r-a,u,b-Qn,b),t.arc(n+f,r+o,u,b,b+Qn),t.arc(n-g,r+a,u,b+Qn,b+qt),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*y,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=zo;case"rectRot":f=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,g=Math.sin(b)*(s?s/2:y),t.moveTo(n-f,r-o),t.lineTo(n+g,r-a),t.lineTo(n+f,r+o),t.lineTo(n-g,r+a),t.closePath();break;case"crossRot":b+=zo;case"cross":f=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,g=Math.sin(b)*(s?s/2:y),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a);break;case"star":f=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,g=Math.sin(b)*(s?s/2:y),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a),b+=zo,f=Math.cos(b)*(s?s/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,g=Math.sin(b)*(s?s/2:y),t.moveTo(n-f,r-o),t.lineTo(n+f,r+o),t.moveTo(n+g,r-a),t.lineTo(n-g,r+a);break;case"line":a=s?s/2:Math.cos(b)*y,o=Math.sin(b)*y,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:y),r+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function rh(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function i2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function a2(t){t.restore()}function K9(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function G9(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Y9(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),en(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function J9(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function X9(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sh(t,e,n,r,s,i={}){const a=tr(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,Y9(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&X9(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),en(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),J9(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function py(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*qt,qt,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,qt,Qn,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Qn,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Qn,!0),t.lineTo(n+a.topLeft,r)}const Q9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Z9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eR(t,e){const n=(""+t).match(Q9);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const tR=t=>+t||0;function o2(t,e){const n={},r=Ot(e),s=r?Object.keys(e):e,i=Ot(t)?r?a=>St(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=tR(i(a));return n}function nR(t){return o2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function kd(t){return o2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ts(t){const e=nR(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function _r(t,e){t=t||{},e=e||On.font;let n=St(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=St(t.style,e.style);r&&!(""+r).match(Z9)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:St(t.family,e.family),lineHeight:eR(St(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:St(t.weight,e.weight),string:""};return s.string=V9(s),s}function Of(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function rR(t,e,n){const{min:r,max:s}=t,i=Hj(e,(s-r)/2),a=(o,c)=>n&&o===0?0:o+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function jl(t,e){return Object.assign(Object.create(t),e)}function l2(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=n6("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>l2([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return e6(o,c,()=>dR(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return O5(o).includes(c)},ownKeys(o){return O5(o)},set(o,c,u){const d=o._storage||(o._storage=s());return o[c]=d[c]=u,delete o._keys,!0}})}function qc(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Zj(t,r),setContext:i=>qc(t,i,n,r),override:i=>qc(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return e6(i,a,()=>iR(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function Zj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ao(n)?n:()=>n,isIndexable:ao(r)?r:()=>r}}const sR=(t,e)=>t?t+e2(e):e,c2=(t,e)=>Ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function e6(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function iR(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return ao(o)&&a.isScriptable(e)&&(o=aR(e,o,t,n)),tr(o)&&o.length&&(o=oR(e,o,t,a.isIndexable)),c2(e,o)&&(o=qc(o,s,i&&i[e],a)),o}function aR(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(i,a||r);return o.delete(t),c2(t,c)&&(c=u2(s._scopes,s,t,c)),c}function oR(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Ot(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=u2(u,s,t,d);e.push(qc(f,i,a&&a[t],o))}}return e}function t6(t,e,n){return ao(t)?t(e,n):t}const lR=(t,e)=>t===!0?e:typeof t=="string"?eh(e,t):void 0;function cR(t,e,n,r,s){for(const i of e){const a=lR(n,i);if(a){t.add(a);const o=t6(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function u2(t,e,n,r){const s=e._rootScopes,i=t6(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let c=T5(o,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=T5(o,a,i,c,r),c===null)?!1:l2(Array.from(o),[""],s,i,()=>uR(e,n,r))}function T5(t,e,n,r,s){for(;n;)n=cR(t,e,n,r,s);return n}function uR(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return tr(s)&&Ot(n)?n:s||{}}function dR(t,e,n,r){let s;for(const i of e)if(s=n6(sR(i,t),n),typeof s<"u")return c2(t,s)?u2(n,r,t,s):s}function n6(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function O5(t){let e=t._keys;return e||(e=t._keys=hR(t._scopes)),e}function hR(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const fR=Number.EPSILON||1e-14,Hc=(t,e)=>e<t.length&&!t[e].skip&&t[e],r6=t=>t==="x"?"y":"x";function pR(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=dy(i,s),c=dy(a,i);let u=o/(o+c),d=c/(o+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,g=r*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+g*(a.x-s.x),y:i.y+g*(a.y-s.y)}}}function gR(t,e,n){const r=t.length;let s,i,a,o,c,u=Hc(t,0);for(let d=0;d<r-1;++d)if(c=u,u=Hc(t,d+1),!(!c||!u)){if(Nd(e[d],0,fR)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function mR(t,e,n="x"){const r=r6(n),s=t.length;let i,a,o,c=Hc(t,0);for(let u=0;u<s;++u){if(a=o,o=c,c=Hc(t,u+1),!o)continue;const d=o[n],f=o[r];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${r}`]=f+i*e[u])}}function yR(t,e="x"){const n=r6(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,c,u=Hc(t,0);for(a=0;a<r;++a)if(o=c,c=u,u=Hc(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=o?u?zc(s[a-1])!==zc(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}gR(t,s,i),mR(t,i,e)}function If(t,e,n){return Math.max(Math.min(t,n),e)}function xR(t,e){let n,r,s,i,a,o=rh(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&rh(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=If(s.cp1x,e.left,e.right),s.cp1y=If(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=If(s.cp2x,e.left,e.right),s.cp2y=If(s.cp2y,e.top,e.bottom)))}function vR(t,e,n,r,s){let i,a,o,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")yR(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],c=pR(u,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,u=o}e.capBezierPoints&&xR(t,n)}function d2(){return typeof window<"u"&&typeof document<"u"}function h2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function l0(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const $0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function bR(t,e){return $0(t).getPropertyValue(e)}const wR=["top","right","bottom","left"];function cl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=wR[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const _R=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function NR(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,c;if(_R(s,i,t.target))o=s,c=i;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:o,y:c,box:a}}function Yo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=$0(n),i=s.boxSizing==="border-box",a=cl(s,"padding"),o=cl(s,"border","width"),{x:c,y:u,box:d}=NR(t,n),f=a.left+(d&&o.left),g=a.top+(d&&o.top);let{width:h,height:v}=e;return i&&(h-=a.width+o.width,v-=a.height+o.height),{x:Math.round((c-f)/h*n.width/r),y:Math.round((u-g)/v*n.height/r)}}function jR(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&h2(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=$0(i),c=cl(o,"border","width"),u=cl(o,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=l0(o.maxWidth,i,"clientWidth"),s=l0(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||o0,maxHeight:s||o0}}const Va=t=>Math.round(t*10)/10;function SR(t,e,n,r){const s=$0(t),i=cl(s,"margin"),a=l0(s.maxWidth,t,"clientWidth")||o0,o=l0(s.maxHeight,t,"clientHeight")||o0,c=jR(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const g=cl(s,"border","width"),h=cl(s,"padding");u-=h.width+g.width,d-=h.height+g.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Va(Math.min(u,a,c.maxWidth)),d=Va(Math.min(d,o,c.maxHeight)),u&&!d&&(d=Va(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=Va(Math.floor(d*r))),{width:u,height:d}}function I5(t,e,n){const r=e||1,s=Va(t.height*r),i=Va(t.width*r);t.height=Va(t.height),t.width=Va(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const kR=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};d2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function R5(t,e){const n=bR(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Jo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function AR(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function CR(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Jo(t,s,n),o=Jo(s,i,n),c=Jo(i,e,n),u=Jo(a,o,n),d=Jo(o,c,n);return Jo(u,d,n)}const ER=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},PR=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Nc(t,e,n){return t?ER(e,n):PR()}function s6(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function i6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function a6(t){return t==="angle"?{between:nh,compare:A9,normalize:Ys}:{between:fc,compare:(e,n)=>e-n,normalize:e=>e}}function M5({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function LR(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=a6(r),c=e.length;let{start:u,end:d,loop:f}=t,g,h;if(f){for(u+=c,d+=c,g=0,h=c;g<h&&a(o(e[u%c][r]),s,i);++g)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function TR(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:c,normalize:u}=a6(r),{start:d,end:f,loop:g,style:h}=LR(t,e,n),v=[];let y=!1,b=null,x,w,N;const k=()=>c(s,N,x)&&o(s,N)!==0,R=()=>o(i,x)===0||c(i,N,x),I=()=>y||k(),M=()=>!y||R();for(let j=d,A=d;j<=f;++j)w=e[j%a],!w.skip&&(x=u(w[r]),x!==N&&(y=c(x,s,i),b===null&&I()&&(b=o(x,s)===0?j:A),b!==null&&M()&&(v.push(M5({start:b,end:j,loop:g,count:a,style:h})),b=null),A=j,N=x));return b!==null&&v.push(M5({start:b,end:f,loop:g,count:a,style:h})),v}function OR(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=TR(r[s],t.points,e);i.length&&n.push(...i)}return n}function IR(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function RR(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?o.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,o.skip&&(e=c)),o=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function MR(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=IR(n,s,i,r);if(r===!0)return D5(t,[{start:a,end:o,loop:i}],n,e);const c=o<a?o+s:o,u=!!t._fullLoop&&a===0&&o===s-1;return D5(t,RR(n,a,c,u),n,e)}function D5(t,e,n,r){return!r||!r.setContext||!n?e:DR(t,e,n,r)}function DR(t,e,n,r){const s=t._chart.getContext(),i=F5(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,c=n.length,u=[];let d=i,f=e[0].start,g=f;function h(v,y,b,x){const w=o?-1:1;if(v!==y){for(v+=c;n[v%c].skip;)v-=w;for(;n[y%c].skip;)y+=w;v%c!==y%c&&(u.push({start:v%c,end:y%c,loop:b,style:x}),d=x,f=y%c)}}for(const v of e){f=o?f:v.start;let y=n[f%c],b;for(g=f+1;g<=v.end;g++){const x=n[g%c];b=F5(r.setContext(jl(s,{type:"segment",p0:y,p1:x,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:a}))),FR(b,d)&&h(f,g-1,v.loop,d),y=x,d=b}f<g-1&&h(f,g-1,v.loop,d)}return u}function F5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function FR(t,e){if(!e)return!1;const n=[],r=function(s,i){return r2(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Rf(t,e,n){return t.options.clip?t[n]:e[n]}function BR(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Rf(n,e,"left"),right:Rf(n,e,"right"),top:Rf(r,e,"top"),bottom:Rf(r,e,"bottom")}:e}function $R(t,e){const n=e._clip;if(n.disabled)return!1;const r=BR(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class UR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Yj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zi=new UR;const B5="transparent",zR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=C5(t||B5),s=r.valid&&C5(e||B5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class qR{constructor(e,n,r,s){const i=n[r];s=Of([e.to,s,i,e.from]);const a=Of([e.from,i,s]);this._active=!0,this._fn=e.fn||zR[e.type||typeof a],this._easing=jd[e.easing]||jd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Of([e.to,n,s,e.from]),this._from=Of([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let c;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class o6{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ot(e))return;const n=Object.keys(On.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Ot(i))return;const a={};for(const o of n)a[o]=i[o];(tr(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=WR(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&HR(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const g=r.get(u);if(f)if(g&&f.active()){f.update(g,d,o);continue}else f.cancel();if(!g||!g.duration){e[u]=d;continue}i[u]=f=new qR(g,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return zi.add(this._chart,r),!0}}function HR(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function WR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function $5(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function VR(t,e,n){if(n===!1)return!1;const r=$5(t,n),s=$5(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function KR(t){let e,n,r,s;return Ot(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function l6(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function U5(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,c,u;if(e===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],Ls(u)&&(i||e===0||zc(e)===zc(u))&&(e+=u)}return!d&&!r.all?0:e}function GR(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],o[c]={[s]:d,[i]:t[d]};return o}function gm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function YR(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function JR(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function XR(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function z5(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function q5(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,c=i.axis,u=a.axis,d=YR(i,a,r),f=e.length;let g;for(let h=0;h<f;++h){const v=e[h],{[c]:y,[u]:b}=v,x=v._stacks||(v._stacks={});g=x[u]=XR(s,d,y),g[o]=b,g._top=z5(g,a,!0,r.type),g._bottom=z5(g,a,!1,r.type);const w=g._visualValues||(g._visualValues={});w[o]=b}}function mm(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function QR(t,e){return jl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ZR(t,e,n){return jl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const ym=t=>t==="reset"||t==="none",H5=(t,e)=>e?t:Object.assign({},t),eM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:l6(n,!0),values:null};class jc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,g,h,v)=>f==="x"?g:f==="r"?v:h,i=n.xAxisID=St(r.xAxisID,mm(e,"x")),a=n.yAxisID=St(r.yAxisID,mm(e,"y")),o=n.rAxisID=St(r.rAxisID,mm(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,o),d=n.vAxisID=s(c,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&S5(this._data,this),e._stacked&&Bu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ot(n)){const s=this._cachedMeta;this._data=GR(n,s)}else if(r!==n){if(r){S5(r,this);const s=this._cachedMeta;Bu(s),s._parsed=[]}n&&Object.isExtensible(n)&&L9(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=gm(n.vScale,n),n.stack!==r.stack&&(s=!0,Bu(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(q5(this,n._parsed),n._stacked=gm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{tr(s[e])?g=this.parseArrayData(r,s,e,n):Ot(s[e])?g=this.parseObjectData(r,s,e,n):g=this.parsePrimitiveData(r,s,e,n);const h=()=>f[o]===null||u&&f[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=f=g[d],c&&(h()&&(c=!1),u=f);r._sorted=c}a&&q5(this,g)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let g,h,v;for(g=0,h=s;g<h;++g)v=g+r,f[g]={[o]:d||i.parse(u[v],v),[c]:a.parse(n[v],v)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],o[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,g,h;for(d=0,f=s;d<f;++d)g=d+r,h=n[g],u[d]={x:i.parse(eh(h,o),g),y:a.parse(eh(h,c),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:l6(s,!0),values:n._stacks[e.axis]._visualValues};return U5(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=U5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),c=eM(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=JR(o);let g,h;function v(){h=s[g];const y=h[o.axis];return!Ls(h[e.axis])||d>y||f<y}for(g=0;g<a&&!(!v()&&(this.updateRangeFromParsed(u,e,h,c),i));++g);if(i){for(g=a-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Ls(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=KR(St(this.options.clip,VR(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,c),d=o;d<o+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=ZR(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=QR(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],c=this.enableOptionSharing&&a0(r);if(o)return H5(o,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),d),h=Object.keys(On.elements[e]),v=()=>this.getContext(r,s,n),y=u.resolveNamedOptions(g,h,v,f);return y.$shared&&(y.$shared=c,i[a]=Object.freeze(H5(y,c))),y}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),g=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(g,this.getContext(e,r,n))}const u=new o6(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ym(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){ym(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!ym(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,c,u]of this._syncList)this[o](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const c=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(c(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Bu(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(jc,"defaults",{}),Ie(jc,"datasetElementType",null),Ie(jc,"dataElementType",null);function tM(t,e,n){let r=1,s=1,i=0,a=0;if(e<_n){const o=t,c=o+e,u=Math.cos(o),d=Math.sin(o),f=Math.cos(c),g=Math.sin(c),h=(N,k,R)=>nh(N,o,c,!0)?1:Math.max(k,k*n,R,R*n),v=(N,k,R)=>nh(N,o,c,!0)?-1:Math.min(k,k*n,R,R*n),y=h(0,u,f),b=h(Qn,d,g),x=v(qt,u,f),w=v(qt+Qn,d,g);r=(y-x)/2,s=(b-w)/2,i=-(y+x)/2,a=-(b+w)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class td extends jc{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(Ot(r[e])){const{key:c="value"}=this._parsing;i=u=>+eh(r[u],c)}let a,o;for(a=e,o=e+n;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return ea(this.options.rotation-90)}_getCircumference(){return ea(this.options.circumference)}_getRotationExtents(){let e=_n,n=-_n;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(p9(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:h,offsetX:v,offsetY:y}=tM(f,d,c),b=(r.width-a)/g,x=(r.height-a)/h,w=Math.max(Math.min(b,x)/2,0),N=Hj(this.options.radius,w),k=Math.max(N*c,0),R=(N-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*N,this.offsetY=y*N,s.total=this.calculateTotal(),this.outerRadius=N-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/_n)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,g=i&&u.animateScale,h=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,s);let x=this._getRotation(),w;for(w=0;w<n;++w)x+=this._circumference(w,i);for(w=n;w<n+r;++w){const N=this._circumference(w,i),k=e[w],R={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+N,circumference:N,outerRadius:v,innerRadius:h};b&&(R.options=y||this.resolveDataElementOptions(w,k.active?"active":s)),x+=N,this.updateElement(k,w,R,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?_n*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=s2(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,o,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=o.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(St(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ie(td,"id","doughnut"),Ie(td,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ie(td,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ie(td,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(o||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class hp extends jc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:c}=R9(n,s,a);this._drawStart=o,this._drawCount=c,M9(n)&&(o=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,o,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),g=a.axis,h=o.axis,{spanGaps:v,segment:y}=this.options,b=th(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",w=n+r,N=e.length;let k=n>0&&this.getParsed(n-1);for(let R=0;R<N;++R){const I=e[R],M=x?I:{};if(R<n||R>=w){M.skip=!0;continue}const j=this.getParsed(R),A=en(j[h]),L=M[g]=a.getPixelForValue(j[g],R),C=M[h]=i||A?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,j,c):j[h],R);M.skip=isNaN(L)||isNaN(C)||A,M.stop=R>0&&Math.abs(j[g]-k[g])>b,y&&(M.parsed=j,M.raw=u.data[R]),f&&(M.options=d||this.resolveDataElementOptions(R,I.active?"active":s)),x||this.updateElement(I,R,M,s),k=j}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ie(hp,"id","line"),Ie(hp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ie(hp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class f2{constructor(e){Ie(this,"options");this.options=e||{}}static override(e){Object.assign(f2.prototype,e)}init(){}formats(){return Ho()}parse(){return Ho()}format(){return Ho()}add(){return Ho()}diff(){return Ho()}startOf(){return Ho()}endOf(){return Ho()}}var nM={_date:f2};function rM(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?E9:il;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const g=u(i,e,n-f),h=u(i,e,n+f);return{lo:g.lo,hi:h.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:g}=t,h=g.slice(0,d.lo+1).reverse().findIndex(y=>!en(y[f.axis]));d.lo-=Math.max(0,h);const v=g.slice(d.hi).findIndex(y=>!en(y[f.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:i.length-1}}function U0(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,c=i.length;o<c;++o){const{index:u,data:d}=i[o],{lo:f,hi:g}=rM(i[o],e,a,s);for(let h=f;h<=g;++h){const v=d[h];v.skip||r(v,u,h)}}}function sM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function xm(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||U0(t,n,e,function(o,c,u){!s&&!rh(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:c,index:u})},!0),i}function iM(t,e,n,r){let s=[];function i(a,o,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=Kj(a,{x:e.x,y:e.y});nh(f,u,d)&&s.push({element:a,datasetIndex:o,index:c})}return U0(t,n,e,i),s}function aM(t,e,n,r,s,i){let a=[];const o=sM(n);let c=Number.POSITIVE_INFINITY;function u(d,f,g){const h=d.inRange(e.x,e.y,s);if(r&&!h)return;const v=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!h)return;const b=o(e,v);b<c?(a=[{element:d,datasetIndex:f,index:g}],c=b):b===c&&a.push({element:d,datasetIndex:f,index:g})}return U0(t,n,e,u),a}function vm(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?iM(t,e,n,s):aM(t,e,n,r,s,i)}function W5(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return U0(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),o=o||c.inRange(e.x,e.y,s))}),r&&!o?[]:i}var oM={modes:{index(t,e,n,r){const s=Yo(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?xm(t,s,i,r,a):vm(t,s,i,!1,r,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=Yo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?xm(t,s,i,r,a):vm(t,s,i,!1,r,a);if(o.length>0){const c=o[0].datasetIndex,u=t.getDatasetMeta(c).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:c,index:d})}return o},point(t,e,n,r){const s=Yo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return xm(t,s,i,r,a)},nearest(t,e,n,r){const s=Yo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return vm(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Yo(e,t);return W5(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Yo(e,t);return W5(t,s,"y",n.intersect,r)}}};const c6=["left","top","right","bottom"];function $u(t,e){return t.filter(n=>n.pos===e)}function V5(t,e){return t.filter(n=>c6.indexOf(n.pos)===-1&&n.box.axis===e)}function Uu(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function lM(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function cM(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!c6.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function uM(t,e){const n=cM(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:c}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:c&&e.availableWidth,o.height=s):(o.width=r,o.height=d?d*s:c&&e.availableHeight)}return n}function dM(t){const e=lM(t),n=Uu(e.filter(u=>u.box.fullSize),!0),r=Uu($u(e,"left"),!0),s=Uu($u(e,"right")),i=Uu($u(e,"top"),!0),a=Uu($u(e,"bottom")),o=V5(e,"x"),c=V5(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(o),chartArea:$u(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(o)}}function K5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function u6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hM(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!Ot(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&u6(a,i.getPadding());const o=Math.max(0,e.outerWidth-K5(a,t,"left","right")),c=Math.max(0,e.outerHeight-K5(a,t,"top","bottom")),u=o!==t.w,d=c!==t.h;return t.w=o,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function fM(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function pM(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function nd(t,e,n,r){const s=[];let i,a,o,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],c=o.box,c.update(o.width||e.w,o.height||e.h,pM(o.horizontal,e));const{same:f,other:g}=hM(e,n,o,r);u|=f&&s.length,d=d||g,c.fullSize||s.push(o)}return u&&nd(s,e,n,r)||d}function Mf(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function G5(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const c=o.box,u=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*d,g=u.size||c.height;a0(u.start)&&(a=u.start),c.fullSize?Mf(c,s.left,a,n.outerWidth-s.right-s.left,g):Mf(c,e.left+u.placed,a,f,g),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,g=u.size||c.width;a0(u.start)&&(i=u.start),c.fullSize?Mf(c,i,s.top,g,n.outerHeight-s.bottom-s.top):Mf(c,i,e.top+u.placed,g,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var As={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Ts(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=dM(t.boxes),c=o.vertical,u=o.horizontal;Ut(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),g=Object.assign({},s);u6(g,Ts(r));const h=Object.assign({maxPadding:g,w:i,h:a,x:s.left,y:s.top},s),v=uM(c.concat(u),f);nd(o.fullSize,h,f,v),nd(c,h,f,v),nd(u,h,f,v)&&nd(c,h,f,v),fM(h),G5(o.leftAndTop,h,f,v),h.x+=h.w,h.y+=h.h,G5(o.rightAndBottom,h,f,v),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ut(o.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class d6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class gM extends d6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fp="$chartjs",mM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Y5=t=>t===null||t==="";function yM(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[fp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Y5(s)){const i=R5(t,"width");i!==void 0&&(t.width=i)}if(Y5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=R5(t,"height");i!==void 0&&(t.height=i)}return t}const h6=kR?{passive:!0}:!1;function xM(t,e,n){t&&t.addEventListener(e,n,h6)}function vM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,h6)}function bM(t,e){const n=mM[t.type]||t.type,{x:r,y:s}=Yo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function c0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function wM(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||c0(o.addedNodes,r),a=a&&!c0(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function _M(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||c0(o.removedNodes,r),a=a&&!c0(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ih=new Map;let J5=0;function f6(){const t=window.devicePixelRatio;t!==J5&&(J5=t,ih.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function NM(t,e){ih.size||window.addEventListener("resize",f6),ih.set(t,e)}function jM(t){ih.delete(t),ih.size||window.removeEventListener("resize",f6)}function SM(t,e,n){const r=t.canvas,s=r&&h2(r);if(!s)return;const i=Jj((o,c)=>{const u=s.clientWidth;n(o,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const c=o[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),NM(t,i),a}function bm(t,e,n){n&&n.disconnect(),e==="resize"&&jM(t)}function kM(t,e,n){const r=t.canvas,s=Jj(i=>{t.ctx!==null&&n(bM(i,t))},t);return xM(r,e,s),s}class AM extends d6{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(yM(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[fp])return!1;const r=n[fp].initial;["height","width"].forEach(i=>{const a=r[i];en(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[fp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:wM,detach:_M,resize:SM}[n]||kM;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:bm,detach:bm,resize:bm}[n]||vM)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return SR(e,n,r,s)}isAttached(e){const n=e&&h2(e);return!!(n&&n.isConnected)}}function CM(t){return!d2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?gM:AM}class ji{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return th(this.x)&&th(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Ie(ji,"defaults",{}),Ie(ji,"defaultRoutes");function EM(t,e){const n=t.options.ticks,r=PM(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?TM(e):[],a=i.length,o=i[0],c=i[a-1],u=[];if(a>s)return OM(e,u,i,a/s),u;const d=LM(i,e,s);if(a>0){let f,g;const h=a>1?Math.round((c-o)/(a-1)):null;for(Df(e,u,d,en(h)?0:o-h,o),f=0,g=a-1;f<g;f++)Df(e,u,d,i[f],i[f+1]);return Df(e,u,d,c,en(h)?e.length:c+h),u}return Df(e,u,d),u}function PM(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function LM(t,e,n){const r=IM(t),s=e.length/n;if(!r)return Math.max(s,1);const i=_9(r);for(let a=0,o=i.length-1;a<o;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function TM(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function OM(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Df(t,e,n,r,s){const i=St(r,0),a=Math.min(St(s,t.length),t.length);let o=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function IM(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const RM=t=>t==="left"?"right":t==="right"?"left":t,X5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Q5=(t,e)=>Math.min(e||t,t);function Z5(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function MM(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-o||c>a+o)))return c}function DM(t,e){Ut(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function zu(t){return t.drawTicks?t.tickLength:0}function ew(t,e){if(!t.display)return 0;const n=_r(t.font,e),r=Ts(t.padding);return(tr(t.text)?t.text.length:1)*n.lineHeight+r.height}function FM(t,e){return jl(t,{scale:e,type:"scale"})}function BM(t,e,n){return jl(t,{tick:n,index:e,type:"tick"})}function $M(t,e,n){let r=n2(t);return(n&&e!=="right"||!n&&e==="right")&&(r=RM(r)),r}function UM(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,g,h,v;const y=a-s,b=o-i;if(t.isHorizontal()){if(h=br(r,i,o),Ot(n)){const x=Object.keys(n)[0],w=n[x];v=d[x].getPixelForValue(w)+y-e}else n==="center"?v=(u.bottom+u.top)/2+y-e:v=X5(t,n,e);g=o-i}else{if(Ot(n)){const x=Object.keys(n)[0],w=n[x];h=d[x].getPixelForValue(w)-b+e}else n==="center"?h=(u.left+u.right)/2-b+e:h=X5(t,n,e);v=br(r,a,s),f=n==="left"?-Qn:Qn}return{titleX:h,titleY:v,maxWidth:g,rotation:f}}class tu extends ji{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=fi(e,Number.POSITIVE_INFINITY),n=fi(n,Number.NEGATIVE_INFINITY),r=fi(r,Number.POSITIVE_INFINITY),s=fi(s,Number.NEGATIVE_INFINITY),{min:fi(e,r),max:fi(n,s),minDefined:Ls(e),maxDefined:Ls(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,u=o.length;c<u;++c)a=o[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:fi(n,fi(r,n)),max:fi(r,fi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rR(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Z5(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=EM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rn(this.options.afterUpdate,[this])}beforeSetDimensions(){rn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=rn(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){rn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Q5(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,g=d.highest.height,h=Cr(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/r:h/(r-1),f+6>o&&(o=h/(r-(e.offset?.5:1)),c=this.maxHeight-zu(e.grid)-n.padding-ew(e.title,this.chart.options.font),u=Math.sqrt(f*f+g*g),a=k9(Math.min(Math.asin(Cr((d.highest.height+6)/o,-1,1)),Math.asin(Cr(c/u,-1,1))-Math.asin(Cr(g/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){rn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=ew(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=zu(i)+c):(e.height=this.maxHeight,e.width=zu(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:g}=this._getLabelSizes(),h=r.padding*2,v=ea(this.labelRotation),y=Math.cos(v),b=Math.sin(v);if(o){const x=r.mirror?0:b*f.width+y*g.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=r.mirror?0:y*f.width+b*g.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,d,b,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,c=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,h=0;c?u?(g=s*e.width,h=r*n.height):(g=r*e.height,h=s*n.width):i==="start"?h=n.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,h=n.width/2),this.paddingLeft=Math.max((g-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)en(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Z5(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],c=Math.floor(n/Q5(n,r));let u=0,d=0,f,g,h,v,y,b,x,w,N,k,R;for(f=0;f<n;f+=c){if(v=e[f].label,y=this._resolveTickFontOptions(f),s.font=b=y.string,x=i[b]=i[b]||{data:{},gc:[]},w=y.lineHeight,N=k=0,!en(v)&&!tr(v))N=P5(s,x.data,x.gc,N,v),k=w;else if(tr(v))for(g=0,h=v.length;g<h;++g)R=v[g],!en(R)&&!tr(R)&&(N=P5(s,x.data,x.gc,N,R),k+=w);a.push(N),o.push(k),u=Math.max(N,u),d=Math.max(k,d)}DM(i,n);const I=a.indexOf(u),M=o.indexOf(d),j=A=>({width:a[A]||0,height:o[A]||0});return{first:j(0),last:j(n-1),widest:j(I),highest:j(M),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return C9(this._alignToPixels?qo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=BM(this.getContext(),e,r))}return this.$context||(this.$context=FM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ea(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>o*s?o/r:c/s:c*s<o*r?c/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),g=zu(i),h=[],v=o.setContext(this.getContext()),y=v.display?v.width:0,b=y/2,x=function(q){return qo(r,q,y)};let w,N,k,R,I,M,j,A,L,C,O,H;if(a==="top")w=x(this.bottom),M=this.bottom-g,A=w-b,C=x(e.top)+b,H=e.bottom;else if(a==="bottom")w=x(this.top),C=e.top,H=x(e.bottom)-b,M=w+b,A=this.top+g;else if(a==="left")w=x(this.right),I=this.right-g,j=w-b,L=x(e.left)+b,O=e.right;else if(a==="right")w=x(this.left),L=e.left,O=x(e.right)-b,I=w+b,j=this.left+g;else if(n==="x"){if(a==="center")w=x((e.top+e.bottom)/2+.5);else if(Ot(a)){const q=Object.keys(a)[0],le=a[q];w=x(this.chart.scales[q].getPixelForValue(le))}C=e.top,H=e.bottom,M=w+b,A=M+g}else if(n==="y"){if(a==="center")w=x((e.left+e.right)/2);else if(Ot(a)){const q=Object.keys(a)[0],le=a[q];w=x(this.chart.scales[q].getPixelForValue(le))}I=w-b,j=I-g,L=e.left,O=e.right}const U=St(s.ticks.maxTicksLimit,f),ee=Math.max(1,Math.ceil(f/U));for(N=0;N<f;N+=ee){const q=this.getContext(N),le=i.setContext(q),te=o.setContext(q),ce=le.lineWidth,ge=le.color,xe=te.dash||[],z=te.dashOffset,Q=le.tickWidth,T=le.tickColor,Z=le.tickBorderDash||[],F=le.tickBorderDashOffset;k=MM(this,N,c),k!==void 0&&(R=qo(r,k,ce),u?I=j=L=O=R:M=A=C=H=R,h.push({tx1:I,ty1:M,tx2:j,ty2:A,x1:L,y1:C,x2:O,y2:H,width:ce,color:ge,borderDash:xe,borderDashOffset:z,tickWidth:Q,tickColor:T,tickBorderDash:Z,tickBorderDashOffset:F}))}return this._ticksLength=f,this._borderValue=w,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,g=zu(r.grid),h=g+d,v=f?-d:h,y=-ea(this.labelRotation),b=[];let x,w,N,k,R,I,M,j,A,L,C,O,H="middle";if(s==="top")I=this.bottom-v,M=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+v,M=this._getXAxisLabelAlignment();else if(s==="left"){const ee=this._getYAxisLabelAlignment(g);M=ee.textAlign,R=ee.x}else if(s==="right"){const ee=this._getYAxisLabelAlignment(g);M=ee.textAlign,R=ee.x}else if(n==="x"){if(s==="center")I=(e.top+e.bottom)/2+h;else if(Ot(s)){const ee=Object.keys(s)[0],q=s[ee];I=this.chart.scales[ee].getPixelForValue(q)+h}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")R=(e.left+e.right)/2-h;else if(Ot(s)){const ee=Object.keys(s)[0],q=s[ee];R=this.chart.scales[ee].getPixelForValue(q)}M=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(c==="start"?H="top":c==="end"&&(H="bottom"));const U=this._getLabelSizes();for(x=0,w=o.length;x<w;++x){N=o[x],k=N.label;const ee=i.setContext(this.getContext(x));j=this.getPixelForTick(x)+i.labelOffset,A=this._resolveTickFontOptions(x),L=A.lineHeight,C=tr(k)?k.length:1;const q=C/2,le=ee.color,te=ee.textStrokeColor,ce=ee.textStrokeWidth;let ge=M;a?(R=j,M==="inner"&&(x===w-1?ge=this.options.reverse?"left":"right":x===0?ge=this.options.reverse?"right":"left":ge="center"),s==="top"?u==="near"||y!==0?O=-C*L+L/2:u==="center"?O=-U.highest.height/2-q*L+L:O=-U.highest.height+L/2:u==="near"||y!==0?O=L/2:u==="center"?O=U.highest.height/2-q*L:O=U.highest.height-C*L,f&&(O*=-1),y!==0&&!ee.showLabelBackdrop&&(R+=L/2*Math.sin(y))):(I=j,O=(1-C)*L/2);let xe;if(ee.showLabelBackdrop){const z=Ts(ee.backdropPadding),Q=U.heights[x],T=U.widths[x];let Z=O-z.top,F=0-z.left;switch(H){case"middle":Z-=Q/2;break;case"bottom":Z-=Q;break}switch(M){case"center":F-=T/2;break;case"right":F-=T;break;case"inner":x===w-1?F-=T:x>0&&(F-=T/2);break}xe={left:F,top:Z,width:T+z.width,height:Q+z.height,color:ee.backdropColor}}b.push({label:k,font:A,textOffset:O,options:{rotation:y,color:le,strokeColor:te,strokeWidth:ce,textAlign:ge,textBaseline:H,translation:[R,I],backdrop:xe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ea(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,g;this.isHorizontal()?(u=qo(e,this.left,a)-a/2,d=qo(e,this.right,o)+o/2,f=g=c):(f=qo(e,this.top,a)-a/2,g=qo(e,this.bottom,o)+o/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&i2(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,c=a.font,u=a.label,d=a.textOffset;sh(r,u,0,d,c,o)}s&&a2(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=_r(r.font),a=Ts(r.padding),o=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Ot(n)?(c+=a.bottom,tr(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:g}=UM(this,c,n,o);sh(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:g,textAlign:$M(o,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=St(e.grid&&e.grid.z,-1),s=St(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==tu.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return _r(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ff{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;HM(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,zM(e,a,r),this.override&&On.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in On[s]&&(delete On[s][r],this.override&&delete yl[r])}}function zM(t,e,n){const r=Zd(Object.create(null),[n?On.get(n):{},On.get(e),t.defaults]);On.set(e,r),t.defaultRoutes&&qM(e,t.defaultRoutes),t.descriptors&&On.describe(e,t.descriptors)}function qM(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),c=a.join(".");On.route(i,s,c,o)})}function HM(t){return"id"in t&&"defaults"in t}class WM{constructor(){this.controllers=new Ff(jc,"datasets",!0),this.elements=new Ff(ji,"elements"),this.plugins=new Ff(Object,"plugins"),this.scales=new Ff(tu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Ut(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=e2(e);rn(r["before"+s],[],r),n[e](r),rn(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var xi=new WM;class VM{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],c=[n,s,i.options];if(rn(o,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){en(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=St(r.options&&r.options.plugins,{}),i=KM(r);return s===!1&&!n?[]:YM(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function KM(t){const e={},n=[],r=Object.keys(xi.plugins.items);for(let i=0;i<r.length;i++)n.push(xi.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function GM(t,e){return!e&&t===!1?null:t===!0?{}:t}function YM(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const c=o.id,u=GM(r[c],s);u!==null&&i.push({plugin:o,options:JM(t.config,{plugin:o,local:n[c]},u,a)})}return i}function JM(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gy(t,e){const n=On.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function XM(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function QM(t,e){return t===e?"_index_":"_value_"}function tw(t){if(t==="x"||t==="y"||t==="r")return t}function ZM(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function my(t,...e){if(tw(t))return t;for(const n of e){const r=n.axis||ZM(n.position)||t.length>1&&tw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function nw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function eD(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return nw(t,"x",n[0])||nw(t,"y",n[0])}return{}}function tD(t,e){const n=yl[t.type]||{scales:{}},r=e.scales||{},s=gy(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Ot(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=my(a,o,eD(a,t),On.scales[o.type]),u=QM(c,s),d=n.scales||{};i[a]=_d(Object.create(null),[{axis:c},o,d[c],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,c=a.indexAxis||gy(o,e),d=(yl[o]||{}).scales||{};Object.keys(d).forEach(f=>{const g=XM(f,c),h=a[g+"AxisID"]||g;i[h]=i[h]||Object.create(null),_d(i[h],[{axis:g},r[h],d[f]])})}),Object.keys(i).forEach(a=>{const o=i[a];_d(o,[On.scales[o.type],On.scale])}),i}function p6(t){const e=t.options||(t.options={});e.plugins=St(e.plugins,{}),e.scales=tD(t,e)}function g6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nD(t){return t=t||{},t.data=g6(t.data),p6(t),t}const rw=new Map,m6=new Set;function Bf(t,e){let n=rw.get(t);return n||(n=e(),rw.set(t,n),m6.add(n)),n}const qu=(t,e,n)=>{const r=eh(e,n);r!==void 0&&t.add(r)};class rD{constructor(e){this._config=nD(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=g6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),p6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Bf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Bf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Bf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>qu(c,e,f))),d.forEach(f=>qu(c,s,f)),d.forEach(f=>qu(c,yl[i]||{},f)),d.forEach(f=>qu(c,On,f)),d.forEach(f=>qu(c,hy,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),m6.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,yl[n]||{},On.datasets[n]||{},{type:n},On,hy]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=sw(this._resolverCache,e,s);let c=a;if(iD(a,n)){i.$shared=!1,r=ao(r)?r():r;const u=this.createResolver(e,r,o);c=qc(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=sw(this._resolverCache,e,r);return Ot(n)?qc(i,n,void 0,s):i}}function sw(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:l2(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const sD=t=>Ot(t)&&Object.getOwnPropertyNames(t).some(e=>ao(t[e]));function iD(t,e){const{isScriptable:n,isIndexable:r}=Zj(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(ao(o)||sD(o))||a&&tr(o))return!0}return!1}var aD="4.5.1";const oD=["top","bottom","left","right","chartArea"];function iw(t,e){return t==="top"||t==="bottom"||oD.indexOf(t)===-1&&e==="x"}function aw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ow(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rn(n&&n.onComplete,[t],e)}function lD(t){const e=t.chart,n=e.options.animation;rn(n&&n.onProgress,[t],e)}function y6(t){return d2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pp={},lw=t=>{const e=y6(t);return Object.values(pp).filter(n=>n.canvas===e).pop()};function cD(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function uD(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Ia;let xh=(Ia=class{static register(...e){xi.add(...e),cw()}static unregister(...e){xi.remove(...e),cw()}constructor(e,n){const r=this.config=new rD(n),s=y6(e),i=lw(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||CM(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),c=o&&o.canvas,u=c&&c.height,d=c&&c.width;if(this.id=f9(),this.ctx=o,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=O9(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],pp[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}zi.listen(this,"complete",ow),zi.listen(this,"progress",lD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return en(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():I5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L5(this.canvas,this.ctx),this}stop(){return zi.stop(this),this}resize(e,n){zi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,I5(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),rn(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],c=my(a,o),u=c==="r",d=c==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ut(i,a=>{const o=a.options,c=o.id,u=my(c,o),d=St(o.type,a.dtype);(o.position===void 0||iw(o.position,u)!==iw(a.dposition))&&(o.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const g=xi.getScale(d);f=new g({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,e)}),Ut(s,(a,o)=>{a||delete r[o]}),Ut(r,a=>{As.configure(this,a,a.options),As.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(aw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||gy(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=xi.getController(o),{datasetElementType:u,dataElementType:d}=On.datasets[o];Object.assign(c,{dataElementType:xi.getElement(d),datasetElementType:u&&xi.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ut(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),g=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Ut(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aw("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ut(this.scales,e=>{As.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!w5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;cD(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!w5(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;As.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ao(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zi.has(this)?this.attached&&!zi.running(this)&&zi.start(this):(this.draw(),ow({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=$R(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&i2(n,s),e.controller.draw(),s&&a2(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return rh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=oM.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=jl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);a0(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),zi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete pp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Ut(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Ut(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ut(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!s0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),c=v9(e),u=uD(e,this._lastEvent,r,c);r&&(this._lastEvent=null,rn(i.onHover,[e,o,this],this),c&&rn(i.onClick,[e,o,this],this));const d=!s0(o,s);return(d||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Ie(Ia,"defaults",On),Ie(Ia,"instances",pp),Ie(Ia,"overrides",yl),Ie(Ia,"registry",xi),Ie(Ia,"version",aD),Ie(Ia,"getChart",lw),Ia);function cw(){return Ut(xh.instances,t=>t._plugins.invalidate())}function dD(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:o,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,Ys(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+f/2,n-f/2),o>0){const g=Math.min(u/o,Ys(r-n));t.arc(s,i,o+u/2,n-g/2,r+g/2,!0)}else{const g=Math.min(u/2,a*Ys(r-n));if(d==="round")t.arc(s,i,g,n-qt/2,r+qt/2,!0);else if(d==="bevel"){const h=2*g*g,v=-h*Math.cos(n+qt/2)+s,y=-h*Math.sin(n+qt/2)+i,b=h*Math.cos(r+qt/2)+s,x=h*Math.sin(r+qt/2)+i;t.lineTo(v,y),t.lineTo(b,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function hD(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:c}=e;let u=s/o;t.beginPath(),t.arc(i,a,o,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+Qn,r-Qn),t.closePath(),t.clip()}function fD(t){return o2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function pD(t,e,n,r){const s=fD(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),o=c=>{const u=(n-Math.min(i,c))*r/2;return Cr(c,0,Math.min(i,u))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Cr(s.innerStart,0,a),innerEnd:Cr(s.innerEnd,0,a)}}function Kl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function u0(t,e,n,r,s,i){const{x:a,y:o,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),g=d>0?d+r+n+u:0;let h=0;const v=s-c;if(r){const ee=d>0?d-r:0,q=f>0?f-r:0,le=(ee+q)/2,te=le!==0?v*le/(le+r):v;h=(v-te)/2}const y=Math.max(.001,v*f-n/qt)/f,b=(v-y)/2,x=c+b+h,w=s-b-h,{outerStart:N,outerEnd:k,innerStart:R,innerEnd:I}=pD(e,g,f,w-x),M=f-N,j=f-k,A=x+N/M,L=w-k/j,C=g+R,O=g+I,H=x+R/C,U=w-I/O;if(t.beginPath(),i){const ee=(A+L)/2;if(t.arc(a,o,f,A,ee),t.arc(a,o,f,ee,L),k>0){const ce=Kl(j,L,a,o);t.arc(ce.x,ce.y,k,L,w+Qn)}const q=Kl(O,w,a,o);if(t.lineTo(q.x,q.y),I>0){const ce=Kl(O,U,a,o);t.arc(ce.x,ce.y,I,w+Qn,U+Math.PI)}const le=(w-I/g+(x+R/g))/2;if(t.arc(a,o,g,w-I/g,le,!0),t.arc(a,o,g,le,x+R/g,!0),R>0){const ce=Kl(C,H,a,o);t.arc(ce.x,ce.y,R,H+Math.PI,x-Qn)}const te=Kl(M,x,a,o);if(t.lineTo(te.x,te.y),N>0){const ce=Kl(M,A,a,o);t.arc(ce.x,ce.y,N,x-Qn,A)}}else{t.moveTo(a,o);const ee=Math.cos(A)*f+a,q=Math.sin(A)*f+o;t.lineTo(ee,q);const le=Math.cos(L)*f+a,te=Math.sin(L)*f+o;t.lineTo(le,te)}t.closePath()}function gD(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let c=e.endAngle;if(i){u0(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(o)||(c=a+(o%_n||_n))}return u0(t,e,n,r,c,s),t.fill(),c}function mD(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:g,borderRadius:h}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=g,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(i){u0(t,e,n,r,y,s);for(let b=0;b<i;++b)t.stroke();isNaN(o)||(y=a+(o%_n||_n))}v&&hD(t,e,y),c.selfJoin&&y-a>=qt&&h===0&&d!=="miter"&&dD(t,e,y),i||(u0(t,e,n,r,y,s),t.stroke())}class rd extends ji{constructor(n){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=Kj(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,v=St(g,u-c),y=nh(a,c,u)&&c!==u,b=v>=_n||y,x=fc(o,d+h,f+h);return b&&x}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+a)/2,g=(o+c+d+u)/2;return{x:r+Math.cos(f)*g,y:s+Math.sin(f)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>_n?Math.floor(s/_n):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(qt,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,gD(n,this,d,a,o),mD(n,this,d,a,o),n.restore()}}Ie(rd,"id","arc"),Ie(rd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ie(rd,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(rd,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function x6(t,e,n=e){t.lineCap=St(n.borderCapStyle,e.borderCapStyle),t.setLineDash(St(n.borderDash,e.borderDash)),t.lineDashOffset=St(n.borderDashOffset,e.borderDashOffset),t.lineJoin=St(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=St(n.borderWidth,e.borderWidth),t.strokeStyle=St(n.borderColor,e.borderColor)}function yD(t,e,n){t.lineTo(n.x,n.y)}function xD(t){return t.stepped?K9:t.tension||t.cubicInterpolationMode==="monotone"?G9:yD}function v6(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,c=Math.max(s,a),u=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function vD(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:c,ilen:u}=v6(s,n,r),d=xD(i);let{move:f=!0,reverse:g}=r||{},h,v,y;for(h=0;h<=u;++h)v=s[(o+(g?u-h:h))%a],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):d(t,y,v,g,i.stepped),y=v);return c&&(v=s[(o+(g?u:0))%a],d(t,y,v,g,i.stepped)),!!c}function bD(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=v6(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,g,h,v,y,b,x;const w=k=>(a+(u?o-k:k))%i,N=()=>{y!==b&&(t.lineTo(d,b),t.lineTo(d,y),t.lineTo(d,x))};for(c&&(h=s[w(0)],t.moveTo(h.x,h.y)),g=0;g<=o;++g){if(h=s[w(g)],h.skip)continue;const k=h.x,R=h.y,I=k|0;I===v?(R<y?y=R:R>b&&(b=R),d=(f*d+k)/++f):(N(),t.lineTo(k,R),v=I,f=0,y=b=R),x=R}N()}function yy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bD:vD}function wD(t){return t.stepped?AR:t.tension||t.cubicInterpolationMode==="monotone"?CR:Jo}function _D(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),x6(t,e.options),t.stroke(s)}function ND(t,e,n,r){const{segments:s,options:i}=e,a=yy(e);for(const o of s)x6(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const jD=typeof Path2D=="function";function SD(t,e,n,r){jD&&!e.options.segment?_D(t,e,n,r):ND(t,e,n,r)}class sd extends ji{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;vR(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MR(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=OR(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],c=wD(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:g}=a[u],h=i[f],v=i[g];if(h===v){o.push(h);continue}const y=Math.abs((s-h[n])/(v[n]-h[n])),b=c(h,v,y,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return yy(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=yy(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),SD(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(sd,"id","line"),Ie(sd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(sd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function uw(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class gp extends ji{constructor(n){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return uw(this,n,"x",r)}inYRange(n,r){return uw(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!rh(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,fy(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ie(gp,"id","point"),Ie(gp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(gp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dw=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},kD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class hw extends ji{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=rn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=_r(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=dw(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,o,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+o;let f=e;i.textAlign="left",i.textBaseline="middle";let g=-1,h=-d;return this.legendItems.forEach((v,y)=>{const b=r+n/2+i.measureText(v.text).width;(y===0||u[u.length-1]+b+2*o>a)&&(f+=d,u[u.length-(y>0?0:1)]=0,h+=d,g++),c[y]={left:0,top:h,row:g,width:b,height:s},u[u.length-1]+=b+o}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=o,g=0,h=0,v=0,y=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:w,itemHeight:N}=AD(r,n,i,b,s);x>0&&h+N+2*o>d&&(f+=g+o,u.push({width:g,height:h}),v+=g+o,y++,g=h=0),c[x]={left:v,top:h,col:y,width:w,height:N},g=Math.max(g,w),h+=N+o}),f+=g,u.push({width:g,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=Nc(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=br(r,this.left+s,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,c=br(r,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let o=0,c=br(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,c=br(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;i2(e,this),this._draw(),a2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=On.color,c=Nc(e.rtl,this.left,this.width),u=_r(a.font),{padding:d}=a,f=u.size,g=f/2;let h;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:v,boxHeight:y,itemHeight:b}=dw(a,f),x=function(I,M,j){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;s.save();const A=St(j.lineWidth,1);if(s.fillStyle=St(j.fillStyle,o),s.lineCap=St(j.lineCap,"butt"),s.lineDashOffset=St(j.lineDashOffset,0),s.lineJoin=St(j.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=St(j.strokeStyle,o),s.setLineDash(St(j.lineDash,[])),a.usePointStyle){const L={radius:y*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:A},C=c.xPlus(I,v/2),O=M+g;Qj(s,L,C,O,a.pointStyleWidth&&v)}else{const L=M+Math.max((f-y)/2,0),C=c.leftForLtr(I,v),O=kd(j.borderRadius);s.beginPath(),Object.values(O).some(H=>H!==0)?py(s,{x:C,y:L,w:v,h:y,radius:O}):s.rect(C,L,v,y),s.fill(),A!==0&&s.stroke()}s.restore()},w=function(I,M,j){sh(s,j.text,I,M+b/2,u,{strikethrough:j.hidden,textAlign:c.textAlign(j.textAlign)})},N=this.isHorizontal(),k=this._computeTitleHeight();N?h={x:br(i,this.left+d,this.right-r[0]),y:this.top+d+k,line:0}:h={x:this.left+d,y:br(i,this.top+k+d,this.bottom-n[0].height),line:0},s6(this.ctx,e.textDirection);const R=b+d;this.legendItems.forEach((I,M)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const j=s.measureText(I.text).width,A=c.textAlign(I.textAlign||(I.textAlign=a.textAlign)),L=v+g+j;let C=h.x,O=h.y;c.setWidth(this.width),N?M>0&&C+L+d>this.right&&(O=h.y+=R,h.line++,C=h.x=br(i,this.left+d,this.right-r[h.line])):M>0&&O+R>this.bottom&&(C=h.x=C+n[h.line].width+d,h.line++,O=h.y=br(i,this.top+k+d,this.bottom-n[h.line].height));const H=c.x(C);if(x(H,O,I),C=I9(A,C+v+g,N?C+L:this.right,e.rtl),w(c.x(C),O,I),N)h.x+=L+d;else if(typeof I.text!="string"){const U=u.lineHeight;h.y+=b6(I,U)+d}else h.y+=R}),i6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=_r(n.font),s=Ts(n.padding);if(!n.display)return;const i=Nc(e.rtl,this.left,this.width),a=this.ctx,o=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),d=this.top+u,f=br(e.align,f,this.right-g);else{const v=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);d=u+br(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const h=br(o,f,f+g);a.textAlign=i.textAlign(n2(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,sh(a,n.text,h,d,r)}_computeTitleHeight(){const e=this.options.title,n=_r(e.font),r=Ts(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(fc(e,this.left,this.right)&&fc(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],fc(e,s.left,s.left+s.width)&&fc(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!PD(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=kD(s,r);s&&!i&&rn(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&rn(n.onHover,[e,r,this],this)}else r&&rn(n.onClick,[e,r,this],this)}}function AD(t,e,n,r,s){const i=CD(r,t,e,n),a=ED(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function CD(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function ED(t,e,n){let r=t;return typeof e.text!="string"&&(r=b6(e,n)),r}function b6(t,e){const n=t.text?t.text.length:0;return e*n}function PD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var w6={id:"legend",_element:hw,start(t,e,n){const r=t.legend=new hw({ctx:t.ctx,options:n,chart:t});As.configure(t,r,n),As.addBox(t,r)},stop(t){As.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;As.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Ts(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _6 extends ji{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=tr(r.text)?r.text.length:1;this._padding=Ts(r.padding);const i=s*_r(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=br(o,r,i),f=n+e,u=i-r):(a.position==="left"?(d=r+e,f=br(o,s,n),c=qt*-.5):(d=i-e,f=br(o,n,s),c=qt*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=_r(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:u}=this._drawArgs(i);sh(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:n2(n.align),textBaseline:"middle",translation:[a,o]})}}function LD(t,e){const n=new _6({ctx:t.ctx,options:e,chart:t});As.configure(t,n,e),As.addBox(t,n),t.titleBlock=n}var TD={id:"title",_element:_6,start(t,e,n){LD(t,n)},stop(t){const e=t.titleBlock;As.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;As.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=dy(e,u);d<s&&(s=d,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function gi(t,e){return e&&(tr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function qi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function OD(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function fw(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,c=_r(e.bodyFont),u=_r(e.titleFont),d=_r(e.footerFont),f=i.length,g=s.length,h=r.length,v=Ts(e.padding);let y=v.height,b=0,x=r.reduce((k,R)=>k+R.before.length+R.lines.length+R.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const k=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;y+=h*k+(x-h)*c.lineHeight+(x-1)*e.bodySpacing}g&&(y+=e.footerMarginTop+g*d.lineHeight+(g-1)*e.footerSpacing);let w=0;const N=function(k){b=Math.max(b,n.measureText(k).width+w)};return n.save(),n.font=u.string,Ut(t.title,N),n.font=c.string,Ut(t.beforeBody.concat(t.afterBody),N),w=e.displayColors?a+2+e.boxPadding:0,Ut(r,k=>{Ut(k.before,N),Ut(k.lines,N),Ut(k.after,N)}),w=0,n.font=d.string,Ut(t.footer,N),n.restore(),b+=v.width,{width:b,height:y}}function ID(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function RD(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function MD(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:c}}=t;let u="center";return r==="center"?u=s<=(o+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),RD(u,t,e,n)&&(u="center"),u}function pw(t,e,n){const r=n.yAlign||e.yAlign||ID(t,n);return{xAlign:n.xAlign||e.xAlign||MD(t,e,n,r),yAlign:r}}function DD(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function FD(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function gw(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:h}=kd(a);let v=DD(e,o);const y=FD(e,c,u);return c==="center"?o==="left"?v+=u:o==="right"&&(v-=u):o==="left"?v-=Math.max(d,g)+s:o==="right"&&(v+=Math.max(f,h)+s),{x:Cr(v,0,r.width-e.width),y:Cr(y,0,r.height-e.height)}}function $f(t,e,n){const r=Ts(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function mw(t){return gi([],qi(t))}function BD(t,e,n){return jl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function yw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const N6={beforeTitle:Fi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Fi,beforeBody:Fi,beforeLabel:Fi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return en(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fi,afterBody:Fi,beforeFooter:Fi,footer:Fi,afterFooter:Fi};function Rr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?N6[e].call(n,r):s}class xy extends ji{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new o6(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=BD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Rr(r,"beforeTitle",this,e),i=Rr(r,"title",this,e),a=Rr(r,"afterTitle",this,e);let o=[];return o=gi(o,qi(s)),o=gi(o,qi(i)),o=gi(o,qi(a)),o}getBeforeBody(e,n){return mw(Rr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Ut(e,i=>{const a={before:[],lines:[],after:[]},o=yw(r,i);gi(a.before,qi(Rr(o,"beforeLabel",this,i))),gi(a.lines,Rr(o,"label",this,i)),gi(a.after,qi(Rr(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return mw(Rr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Rr(r,"beforeFooter",this,e),i=Rr(r,"footer",this,e),a=Rr(r,"afterFooter",this,e);let o=[];return o=gi(o,qi(s)),o=gi(o,qi(i)),o=gi(o,qi(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],c,u;for(c=0,u=n.length;c<u;++c)o.push(OD(this.chart,n[c]));return e.filter&&(o=o.filter((d,f,g)=>e.filter(d,f,g,r))),e.itemSort&&(o=o.sort((d,f)=>e.itemSort(d,f,r))),Ut(o,d=>{const f=yw(e.callbacks,d);s.push(Rr(f,"labelColor",this,d)),i.push(Rr(f,"labelPointStyle",this,d)),a.push(Rr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=id[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=fw(this,r),u=Object.assign({},o,c),d=pw(this.chart,r,u),f=gw(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=kd(o),{x:g,y:h}=e,{width:v,height:y}=n;let b,x,w,N,k,R;return i==="center"?(k=h+y/2,s==="left"?(b=g,x=b-a,N=k+a,R=k-a):(b=g+v,x=b+a,N=k-a,R=k+a),w=b):(s==="left"?x=g+Math.max(c,d)+a:s==="right"?x=g+v-Math.max(u,f)-a:x=this.caretX,i==="top"?(N=h,k=N-a,b=x-a,w=x+a):(N=h+y,k=N+a,b=x+a,w=x-a),R=N),{x1:b,x2:x,x3:w,y1:N,y2:k,y3:R}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,c;if(i){const u=Nc(r.rtl,this.x,this.width);for(e.x=$f(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=_r(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=_r(i.bodyFont),f=$f(this,"left",i),g=s.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,v=n.y+h;if(i.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(g,u)+u/2,x=v+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,fy(e,y,b,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,fy(e,y,b,x)}else{e.lineWidth=Ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=s.leftForLtr(g,u),b=s.leftForLtr(s.xPlus(g,1),u-2),x=kd(a.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,py(e,{x:y,y:v,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),py(e,{x:b,y:v+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,v,u,c),e.strokeRect(y,v,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=_r(r.bodyFont);let g=f.lineHeight,h=0;const v=Nc(r.rtl,this.x,this.width),y=function(j){n.fillText(j,v.x(e.x+h),e.y+g/2),e.y+=g+i},b=v.textAlign(a);let x,w,N,k,R,I,M;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=$f(this,b,r),n.fillStyle=r.bodyColor,Ut(this.beforeBody,y),h=o&&b!=="right"?a==="center"?u/2+d:u+2+d:0,k=0,I=s.length;k<I;++k){for(x=s[k],w=this.labelTextColors[k],n.fillStyle=w,Ut(x.before,y),N=x.lines,o&&N.length&&(this._drawColorBox(n,e,k,v,r),g=Math.max(f.lineHeight,c)),R=0,M=N.length;R<M;++R)y(N[R]),g=f.lineHeight;Ut(x.after,y)}h=0,g=f.lineHeight,Ut(this.afterBody,y),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const c=Nc(r.rtl,this.x,this.width);for(e.x=$f(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=_r(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:g,bottomLeft:h,bottomRight:v}=kd(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+u-g,c),n.quadraticCurveTo(o+u,c,o+u,c+g),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+u,c+d-v),n.quadraticCurveTo(o+u,c+d,o+u-v,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+h,c+d),n.quadraticCurveTo(o,c+d,o,c+d-h),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,c+f),n.quadraticCurveTo(o,c,o+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=id[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=fw(this,e),c=Object.assign({},a,this._size),u=pw(n,e,c),d=gw(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ts(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),s6(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),i6(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:c})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[c],index:c}}),i=!s0(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),c=n||!s0(a,i)||o;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=id[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}Ie(xy,"positioners",id);var j6={id:"tooltip",_element:xy,positioners:id,afterInit(t,e,n){n&&(t.tooltip=new xy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $D=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function UD(t,e,n,r){const s=t.indexOf(e);if(s===-1)return $D(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const zD=(t,e)=>t===null?null:Cr(Math.round(t),0,e);function xw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class vy extends tu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(en(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:UD(r,e,St(n,e),this._addedLabels),zD(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return xw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(vy,"id","category"),Ie(vy,"defaults",{ticks:{callback:xw}});function qD(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:g}=t,h=i||1,v=d-1,{min:y,max:b}=e,x=!en(a),w=!en(o),N=!en(u),k=(b-y)/(f+1);let R=N5((b-y)/v/h)*h,I,M,j,A;if(R<1e-14&&!x&&!w)return[{value:y},{value:b}];A=Math.ceil(b/R)-Math.floor(y/R),A>v&&(R=N5(A*R/v/h)*h),en(c)||(I=Math.pow(10,c),R=Math.ceil(R*I)/I),s==="ticks"?(M=Math.floor(y/R)*R,j=Math.ceil(b/R)*R):(M=y,j=b),x&&w&&i&&j9((o-a)/i,R/1e3)?(A=Math.round(Math.min((o-a)/R,d)),R=(o-a)/A,M=a,j=o):N?(M=x?a:M,j=w?o:j,A=u-1,R=(j-M)/A):(A=(j-M)/R,Nd(A,Math.round(A),R/1e3)?A=Math.round(A):A=Math.ceil(A));const L=Math.max(j5(R),j5(M));I=Math.pow(10,en(c)?L:c),M=Math.round(M*I)/I,j=Math.round(j*I)/I;let C=0;for(x&&(g&&M!==a?(n.push({value:a}),M<a&&C++,Nd(Math.round((M+C*R)*I)/I,a,vw(a,k,t))&&C++):M<a&&C++);C<A;++C){const O=Math.round((M+C*R)*I)/I;if(w&&O>o)break;n.push({value:O})}return w&&g&&j!==o?n.length&&Nd(n[n.length-1].value,o,vw(o,k,t))?n[n.length-1].value=o:n.push({value:o}):(!w||j===o)&&n.push({value:j}),n}function vw(t,e,{horizontal:n,minRotation:r}){const s=ea(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class HD extends tu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return en(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,o=c=>i=r?i:c;if(e){const c=zc(s),u=zc(i);c<0&&u<0?o(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);o(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=qD(s,i);return e.bounds==="ticks"&&S9(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return s2(e,this.chart.options.locale,this.options.ticks.format)}}class by extends HD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ls(e)?e:0,this.max=Ls(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ea(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ie(by,"id","linear"),Ie(by,"defaults",{ticks:{callback:Xj.formatters.numeric}});const z0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fr=Object.keys(z0);function bw(t,e){return t-e}function ww(t,e){if(en(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Ls(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(th(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function _w(t,e,n,r){const s=Fr.length;for(let i=Fr.indexOf(t);i<s-1;++i){const a=z0[Fr[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Fr[i]}return Fr[s-1]}function WD(t,e,n,r,s){for(let i=Fr.length-1;i>=Fr.indexOf(n);i--){const a=Fr[i];if(z0[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Fr[n?Fr.indexOf(n):0]}function VD(t){for(let e=Fr.indexOf(t)+1,n=Fr.length;e<n;++e)if(z0[Fr[e]].common)return Fr[e]}function Nw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=t2(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function KD(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,c;for(o=i;o<=a;o=+s.add(o,1,r))c=n[o],c>=0&&(e[c].major=!0);return e}function jw(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:KD(t,r,s,n)}class d0 extends tu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new nM._date(e.adapters.date);s.init(n),_d(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ww(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Ls(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Ls(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=P9(s,i,a);return this._unit=n.unit||(r.autoSkip?_w(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):WD(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:VD(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),jw(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Cr(n,0,a),r=Cr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||_w(i.minUnit,n,r,this._getLabelCapacity(n)),o=St(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=th(c)||c===!0,d={};let f=n,g,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(g=f,h=0;g<r;g=+e.add(g,o,a),h++)Nw(d,g,v);return(g===r||s.bounds==="ticks"||h===1)&&Nw(d,g,v),Object.keys(d).sort(bw).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return rn(a,[e,n,r],this);const o=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&o[c],f=u&&o[u],g=r[n],h=u&&f&&g&&g.major;return this._adapter.format(e,s||(h?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ea(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,jw(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(ww(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return T9(e.sort(bw))}}Ie(d0,"id","time"),Ie(d0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Uf(t,e,n){let r=0,s=t.length-1,i,a,o,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=il(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=il(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?o+(c-o)*(e-i)/u:o}class Sw extends d0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Uf(n,this.min),this._tableRange=Uf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,c,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Uf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Uf(this._table,r*this._tableRange+this._minPos,!0)}}Ie(Sw,"id","timeseries"),Ie(Sw,"defaults",d0.defaults);const S6="label";function kw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function GD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function k6(t,e){t.labels=e}function A6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S6;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function YD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S6;const n={labels:[],datasets:[]};return k6(n,t.labels),A6(n,t.datasets,e),n}function JD(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...g}=t,h=oe.useRef(null),v=oe.useRef(null),y=()=>{h.current&&(v.current=new xh(h.current,{type:a,data:YD(o,i),options:c&&{...c},plugins:u}),kw(e,v.current))},b=()=>{kw(e,null),v.current&&(v.current.destroy(),v.current=null)};return oe.useEffect(()=>{!s&&v.current&&c&&GD(v.current,c)},[s,c]),oe.useEffect(()=>{!s&&v.current&&k6(v.current.config.data,o.labels)},[s,o.labels]),oe.useEffect(()=>{!s&&v.current&&o.datasets&&A6(v.current.config.data,o.datasets,i)},[s,o.datasets]),oe.useEffect(()=>{v.current&&(s?(b(),setTimeout(y)):v.current.update(f))},[s,c,o.labels,o.datasets,f]),oe.useEffect(()=>{v.current&&(b(),setTimeout(y))},[a]),oe.useEffect(()=>(y(),()=>b()),[]),v0.createElement("canvas",{ref:h,role:"img",height:n,width:r,...g},d)}const XD=oe.forwardRef(JD);function C6(t,e){return xh.register(e),oe.forwardRef((n,r)=>v0.createElement(XD,{...n,ref:r,type:t}))}const QD=C6("line",hp),ZD=C6("doughnut",td);xh.register(vy,by,gp,sd,TD,j6,w6);const eF=({transactions:t})=>{const e=()=>{const f={},g=[],h=new Date,v=h.getMonth()>=2?h.getFullYear():h.getFullYear()-1,y=(h.getMonth()>=2,2);for(let x=0;x<12;x++){const w=y+x<=11?v:v+1,N=(y+x)%12,k=new Date(w,N,1),R=`${k.getFullYear()}年${k.getMonth()+1}月`;g.push(R),f[R]={revenue:0,expense:0}}t.forEach(x=>{const w=typeof x.amount=="string"?parseFloat(x.amount):x.amount,N=new Date(x.date),k=`${N.getFullYear()}年${N.getMonth()+1}月`;f[k]&&(x.type==="income"?f[k].revenue+=w:x.type==="expense"&&(f[k].expense+=w))});const b=g.map(x=>f[x].revenue-f[x].expense);return{labels:g,revenue:g.map(x=>f[x].revenue),expense:g.map(x=>f[x].expense),profit:b}},{labels:n,revenue:r,expense:s,profit:i}=e(),a=r.reduce((f,g)=>f+g,0),o=s.reduce((f,g)=>f+g,0),c=a-o,u={labels:n,datasets:[{label:"収益",data:r,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"rgb(59, 130, 246)",pointRadius:4},{label:"支出",data:s,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,pointBackgroundColor:"rgb(239, 68, 68)",pointBorderColor:"rgb(239, 68, 68)",pointRadius:4},{label:"利益",data:i,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"rgb(34, 197, 94)",pointRadius:4}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{label:function(f){let g=f.dataset.label||"";return g&&(g+=": "),f.parsed.y!==null&&(g+=f.parsed.y.toLocaleString()+"円"),g}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{font:{size:11}}},y:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:11},callback:function(f){return f.toLocaleString()+"円"}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"収益・支出・利益推移"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"月次"}),l.jsx("button",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"四半期"}),l.jsx("button",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"年次"})]})]}),l.jsx("div",{className:"chart-container h-80",children:l.jsx(QD,{data:u,options:d})}),l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[l.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg flex flex-col items-center",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"総収益"}),l.jsxs("p",{className:"text-sm font-bold text-blue-600",children:["¥",a.toLocaleString()]}),l.jsx("p",{className:"text-xs text-green-600",children:"↑ 12.5%"})]}),l.jsxs("div",{className:"bg-red-50 p-2 rounded-lg flex flex-col items-center",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"総支出"}),l.jsxs("p",{className:"text-sm font-bold text-red-600",children:["¥",o.toLocaleString()]}),l.jsx("p",{className:"text-xs text-red-600",children:"↓ 3.2%"})]}),l.jsxs("div",{className:"bg-green-50 p-2 rounded-lg flex flex-col items-center",children:[l.jsx("p",{className:"text-xs text-gray-600",children:"純利益"}),l.jsxs("p",{className:"text-sm font-bold text-green-600",children:["¥",c.toLocaleString()]}),l.jsx("p",{className:"text-xs text-green-600",children:"↑ 8.7%"})]})]})]})};xh.register(rd,j6,w6);const tF=({transactions:t})=>{const e=()=>{const f=t.filter(y=>y.type==="expense"),g={};f.forEach(y=>{const b=typeof y.amount=="string"?parseFloat(y.amount):y.amount;g[y.category]?g[y.category]+=b:g[y.category]=b});const h=Object.values(g).reduce((y,b)=>y+b,0),v={};return Object.keys(g).forEach(y=>{v[y]=Math.round(g[y]/h*100)}),{categoryTotals:g,percentages:v,totalAmount:h}},{percentages:n,categoryTotals:r}=e(),s=Object.keys(n),i=Object.values(n),a=Object.values(r),o=["rgb(99, 102, 241)","rgb(139, 92, 246)","rgb(168, 85, 247)","rgb(192, 132, 252)","rgb(221, 214, 254)","rgb(124, 58, 237)","rgb(109, 40, 217)","rgb(79, 70, 229)","rgb(67, 56, 202)","rgb(55, 48, 163)"],c=s.map((f,g)=>o[g%o.length]),u={labels:s,datasets:[{data:i,backgroundColor:c,borderWidth:0,cutout:"60%"}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:12},generateLabels:function(f){const g=f.data;return g.labels.length&&g.datasets.length?g.labels.map((h,v)=>{const y=g.datasets[0].data[v];return{text:`${h} ${y}%`,fillStyle:g.datasets[0].backgroundColor[v],strokeStyle:g.datasets[0].backgroundColor[v],lineWidth:0,pointStyle:"circle",hidden:!1,index:v}}):[]}}},tooltip:{callbacks:{label:function(f){const g=f.label||"",h=a[f.dataIndex];return`${g}: ${f.parsed}% (${h.toLocaleString()}円)`}},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1}}};return l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"支出カテゴリ"}),l.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"詳細を見る"})]}),l.jsx("div",{className:"chart-container h-80",children:l.jsx(ZD,{data:u,options:d})}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"カテゴリ別支出内訳"}),l.jsx("div",{className:"space-y-2",children:s.map((f,g)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:c[g]}}),l.jsx("span",{className:"text-sm text-gray-600",children:f})]}),l.jsxs("span",{className:"text-sm font-medium",children:["¥",a[g].toLocaleString()]})]},f))})]})]})},nF=({transactions:t,onOpenCreateModal:e,showCreateButton:n=!0})=>{const r=(i,a)=>{const o=typeof a=="string"?parseFloat(a):a,c=!isNaN(o)&&isFinite(o),u=c&&o>0,d=c&&o<0;if(u)return l.jsx(ks,{className:"w-4 h-4 text-green-500 mr-2"});if(d)return l.jsx(Uc,{className:"w-4 h-4 text-red-500 mr-2"});switch(i){case"交通費":return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600 mr-2",children:"交"});case"食費":return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 mr-2",children:"食"});case"消耗品費":return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-purple-100 text-purple-600 mr-2",children:"消"});case"通信費":return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-yellow-100 text-yellow-600 mr-2",children:"通"});case"光熱費":return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-600 mr-2",children:"光"});default:return l.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-600 mr-2",children:"他"})}},s=[...t].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()).slice(0,5);return l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"最近の履歴"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Bn,{to:"/transaction-history",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",l.jsx(ll,{className:"w-4 h-4 ml-1"})]}),n&&e&&l.jsxs("button",{onClick:e,className:"flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[l.jsx(Zs,{className:"w-4 h-4 mr-1"}),"新規作成"]})]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-200",children:[l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"項目"}),l.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"金額"}),l.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 hidden sm:table-cell",children:"日付"}),l.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"カテゴリ"})]})}),l.jsx("tbody",{children:s.length>0?s.map(i=>{const a=typeof i.amount=="string"?parseFloat(i.amount):typeof i.amount=="number"?i.amount:0,o=!isNaN(a)&&isFinite(a),c=i.type==="income",u=i.type==="expense",d=c||o&&a>0,f=u||o&&a<0;return l.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"py-4 px-4",children:l.jsxs("div",{className:"flex items-center",children:[r(i.category,a),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:i.item}),l.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:new Date(i.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})})]})]})}),l.jsx("td",{className:"py-4 px-4 text-right font-medium",children:l.jsxs("div",{className:"flex items-center justify-end",children:[d?l.jsx(ks,{className:"w-4 h-4 text-green-500 mr-1"}):f?l.jsx(Uc,{className:"w-4 h-4 text-red-500 mr-1"}):null,l.jsxs("span",{className:d?"text-green-600":f?"text-red-600":"text-gray-600",children:[d?"":f?"-":"",o?Math.abs(a).toLocaleString():"N/A"]})]})}),l.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 hidden sm:table-cell",children:new Date(i.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}),l.jsx("td",{className:"py-4 px-4 text-center",children:l.jsx("span",{className:`inline-flex px-2.5 py-1 text-xs font-medium rounded-full ${d?"bg-green-100 text-green-800":f?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:i.category})})]},i.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-8 text-center",children:l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(sa,{className:"w-10 h-10 text-gray-300 mb-2"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"取引がありません"})]})})})})]})}),l.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[l.jsx("button",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-medium hover:bg-blue-700 transition-colors",children:"1"}),l.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center text-sm font-medium hover:bg-gray-200 transition-colors",children:"2"}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(ll,{className:"w-4 h-4"})})]})]})},rF=({aiTransactions:t,loading:e})=>{if(e)return l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI自動仕訳"}),l.jsxs(Bn,{to:"/ai-transaction-list",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",l.jsx(ll,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]});const n=[...t].sort((i,a)=>{const o=i.created_at?new Date(i.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-o}).slice(0,5),r=i=>i>=90?"bg-green-100 text-green-800":i>=70?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800",s=i=>i?l.jsx(vd,{className:"w-5 h-5 text-green-500 mx-auto"}):l.jsx(Kx,{className:"w-5 h-5 text-yellow-500 mx-auto"});return l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI自動仕訳"}),l.jsxs(Bn,{to:"/ai-transaction-list",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:["詳細一覧",l.jsx(ll,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-100",children:[l.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-600",children:"項目"}),l.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-gray-600",children:"金額"}),l.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-gray-600 hidden sm:table-cell",children:"カテゴリ"}),l.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-600",children:"信頼度"}),l.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-600",children:"状態"})]})}),l.jsx("tbody",{children:n.length>0?n.map(i=>l.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[l.jsxs("td",{className:"py-4 px-2",children:[l.jsxs("div",{className:"font-medium text-gray-900 text-sm flex items-center",children:[l.jsx(xd,{className:"w-4 h-4 text-purple-500 mr-2"}),i.item]}),l.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:i.ai_category})]}),l.jsxs("td",{className:"py-4 px-2 text-right font-medium text-gray-900",children:["¥",Math.abs(i.amount).toLocaleString()]}),l.jsx("td",{className:"py-4 px-2 text-sm text-gray-600 hidden sm:table-cell",children:i.ai_category}),l.jsx("td",{className:"py-4 px-2 text-center",children:l.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(i.confidence)}`,children:[i.confidence,"%"]})}),l.jsx("td",{className:"py-4 px-2 text-center",children:s(i.manual_verified)})]},i.id)):l.jsx("tr",{children:l.jsxs("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:[l.jsx(xd,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),l.jsx("p",{children:"AI分析データがありません"})]})})})]})}),l.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[l.jsx("button",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-medium",children:"1"}),l.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-600 flex items-center justify-center text-sm font-medium hover:bg-gray-200",children:"2"}),l.jsx("button",{className:"p-2",children:l.jsx(ll,{className:"w-4 h-4 text-gray-400"})})]})]})},E6=({transaction:t,onSubmit:e,onCancel:n})=>{var O;const[r,s]=oe.useState({item:(t==null?void 0:t.item)||"",amount:(t==null?void 0:t.amount)||0,date:(t==null?void 0:t.date)||new Date().toISOString().split("T")[0],category:(t==null?void 0:t.category)||"",type:(t==null?void 0:t.type)||"expense",description:(t==null?void 0:t.description)||"",receipt_url:(t==null?void 0:t.receipt_url)||"",location:(t==null?void 0:t.location)||"",tags:(t==null?void 0:t.tags)||[],recurring:(t==null?void 0:t.recurring)||!1,recurring_frequency:(t==null?void 0:t.recurring_frequency)||"monthly",creator:(t==null?void 0:t.creator)||""}),[i,a]=oe.useState(""),[o,c]=oe.useState([]),[u,d]=oe.useState([]),[f,g]=oe.useState([]),[h,v]=oe.useState(!1),[y,b]=oe.useState(null);oe.useEffect(()=>{const H=localStorage.getItem("locationHistory");H&&c(JSON.parse(H));const U=localStorage.getItem("favoriteCategories");U&&d(JSON.parse(U));const ee=localStorage.getItem("recentTransactions");ee&&g(JSON.parse(ee))},[]);const x=oe.useMemo(()=>{const H=["食費","交通費","消耗品費","通信費","光熱費","住居費","医療費","教育費","娯楽費","衣服費","美容費","交際費","給与","副業収入","賞与","事業所得","配当金","利息","家賃収入","その他収入","その他支出"];return[...new Set([...u,...H])]},[u]),w=[1e3,3e3,5e3,1e4,3e4],N=H=>{const{name:U,value:ee,type:q}=H.target,le=q==="checkbox"?H.target.checked:void 0;s(te=>({...te,[U]:q==="checkbox"?le:ee}))},k=H=>{s(U=>({...U,amount:H})),b(H)},R=H=>{const U=u.includes(H)?u.filter(ee=>ee!==H):[...u,H];d(U),localStorage.setItem("favoriteCategories",JSON.stringify(U))},I=H=>{if(s(U=>({...U,location:H})),!o.includes(H)){const U=[H,...o].slice(0,10);c(U),localStorage.setItem("locationHistory",JSON.stringify(U))}},M=H=>{const U={...H,date:new Date().toISOString().split("T")[0]};s(U)},j=()=>{var H;i.trim()&&!((H=r.tags)!=null&&H.includes(i.trim()))&&(s(U=>({...U,tags:[...U.tags||[],i.trim()]})),a(""))},A=H=>{s(U=>{var ee;return{...U,tags:((ee=U.tags)==null?void 0:ee.filter(q=>q!==H))||[]}})},L=H=>{H.preventDefault();const U=localStorage.getItem("user");let ee="00000000-0000-0000-0000-000000000000";if(U)try{const le=JSON.parse(U);/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(le.id)?ee=le.id:console.warn("無効なユーザーID形式です。匿名ユーザーとして処理します。")}catch(le){console.error("ユーザー情報の解析に失敗しました:",le)}const q=[r,...f].slice(0,5);g(q),localStorage.setItem("recentTransactions",JSON.stringify(q)),e({...r,creator:ee})},C=(H,U)=>{if(U==="income")return l.jsx(ks,{className:"w-4 h-4 text-green-500"});switch(H){case"食費":return l.jsx("span",{className:"text-lg",children:"🍽️"});case"交通費":return l.jsx("span",{className:"text-lg",children:"🚗"});case"消耗品費":return l.jsx("span",{className:"text-lg",children:"🛍️"});case"通信費":return l.jsx("span",{className:"text-lg",children:"📱"});case"光熱費":return l.jsx("span",{className:"text-lg",children:"💡"});case"住居費":return l.jsx("span",{className:"text-lg",children:"🏠"});case"医療費":return l.jsx("span",{className:"text-lg",children:"⚕️"});case"教育費":return l.jsx("span",{className:"text-lg",children:"📚"});case"娯楽費":return l.jsx("span",{className:"text-lg",children:"🎉"});case"衣服費":return l.jsx("span",{className:"text-lg",children:"👕"});case"美容費":return l.jsx("span",{className:"text-lg",children:"💇"});case"交際費":return l.jsx("span",{className:"text-lg",children:"🎁"});default:return l.jsx(vT,{className:"w-4 h-4 text-gray-500"})}};return l.jsxs("form",{onSubmit:L,className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:t?"取引編集":"新規取引作成"}),l.jsx("button",{type:"button",onClick:n,className:"text-gray-500 hover:text-gray-700",children:l.jsx($n,{className:"w-6 h-6"})})]}),f.length>0&&!t&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(yj,{className:"w-4 h-4 text-gray-500 mr-2"}),l.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"最近の取引"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:f.slice(0,3).map((H,U)=>l.jsxs("button",{type:"button",onClick:()=>M(H),className:"flex items-center justify-between p-2 text-sm bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("div",{className:"flex items-center",children:[C(H.category,H.type),l.jsx("span",{className:"ml-2 font-medium",children:H.item})]}),l.jsxs("div",{className:"text-gray-500",children:[H.type==="income"?"+":"-","¥",Math.abs(H.amount).toLocaleString()]})]},U))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"取引項目"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",name:"item",value:r.item,onChange:N,placeholder:"例: コンビニ買い物",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,list:"item-options"}),l.jsxs("datalist",{id:"item-options",children:[l.jsx("option",{value:"コンビニ買い物"}),l.jsx("option",{value:"スーパーマーケット"}),l.jsx("option",{value:"給与"}),l.jsx("option",{value:"交通費"}),l.jsx("option",{value:"外食"}),l.jsx("option",{value:"カフェ"}),l.jsx("option",{value:"ガソリン"}),l.jsx("option",{value:"電車賃"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"金額"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",name:"amount",value:r.amount||"",onChange:N,onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),200),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"0",step:"1"}),h&&l.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-10 p-2",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"クイック入力:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(H=>l.jsxs("button",{type:"button",onClick:()=>k(H),className:`px-2 py-1 text-xs rounded ${y===H?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["¥",H.toLocaleString()]},H))})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"日付"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"date",name:"date",value:r.date,onChange:N,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリ"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"category",value:r.category,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",required:!0,children:[l.jsx("option",{value:"",children:"カテゴリを選択"}),x.map(H=>l.jsx("option",{value:H,children:H},H))]}),r.category&&l.jsx("button",{type:"button",onClick:()=>R(r.category),className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-yellow-500",children:l.jsx(ry,{className:`w-4 h-4 ${u.includes(r.category)?"fill-yellow-400 text-yellow-400":""}`})}),l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:l.jsx(_T,{className:"w-4 h-4 text-gray-400"})})]}),u.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:u.slice(0,5).map(H=>l.jsxs("button",{type:"button",onClick:()=>s(U=>({...U,category:H})),className:`px-2 py-1 text-xs rounded flex items-center ${r.category===H?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(ry,{className:"w-3 h-3 mr-1 fill-yellow-400 text-yellow-400"}),H]},H))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"タイプ"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>s(H=>({...H,type:"expense"})),className:`flex items-center justify-center px-3 py-2 rounded-lg border ${r.type==="expense"?"bg-red-50 border-red-300 text-red-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(Uc,{className:"w-4 h-4 mr-2"}),"支出"]}),l.jsxs("button",{type:"button",onClick:()=>s(H=>({...H,type:"income"})),className:`flex items-center justify-center px-3 py-2 rounded-lg border ${r.type==="income"?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(ks,{className:"w-4 h-4 mr-2"}),"収入"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"場所"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",name:"location",value:r.location,onChange:N,placeholder:"場所を入力",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",list:"location-options"}),l.jsxs("datalist",{id:"location-options",children:[l.jsx("option",{value:"自宅"}),l.jsx("option",{value:"オフィス"}),l.jsx("option",{value:"コンビニ"}),l.jsx("option",{value:"スーパー"}),l.jsx("option",{value:"レストラン"}),l.jsx("option",{value:"駅"}),l.jsx("option",{value:"銀行"}),l.jsx("option",{value:"病院"}),l.jsx("option",{value:"学校"}),l.jsx("option",{value:"ジム"}),l.jsx("option",{value:"美容院"})]})]}),o.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"最近の場所"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:o.slice(0,5).map(H=>l.jsx("button",{type:"button",onClick:()=>I(H),className:`px-2 py-1 text-xs rounded ${r.location===H?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:H},H))})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"説明"}),l.jsx("textarea",{name:"description",value:r.description,onChange:N,rows:2,placeholder:"取引の詳細を入力（任意）",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"タグ"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(O=r.tags)==null?void 0:O.map(H=>l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(oT,{className:"w-3 h-3 mr-1"}),H,l.jsx("button",{type:"button",onClick:()=>A(H),className:"ml-1 inline-flex items-center",children:l.jsx($n,{className:"w-3 h-3"})})]},H))}),l.jsxs("div",{className:"flex",children:[l.jsx("input",{type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"タグを追加",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyDown:H=>{H.key==="Enter"&&(H.preventDefault(),j())}}),l.jsx("button",{type:"button",onClick:j,className:"px-3 py-2 bg-gray-100 border border-l-0 border-gray-300 rounded-r-lg text-gray-700 hover:bg-gray-200",children:"追加"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"recurring",checked:r.recurring,onChange:N,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"繰り返し取引"})]}),r.recurring&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"繰り返し頻度"}),l.jsxs("select",{name:"recurring_frequency",value:r.recurring_frequency,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"daily",children:"日次"}),l.jsx("option",{value:"weekly",children:"週次"}),l.jsx("option",{value:"monthly",children:"月次"}),l.jsx("option",{value:"yearly",children:"年次"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"キャンセル"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:t?"更新":"作成"})]})]})},sF=t=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),p2=()=>{const[t,e]=oe.useState([]),[n,r]=oe.useState(!1),s=async()=>{r(!0);try{const{data:c,error:u}=await wn.from("transactions").select("*").order("date",{ascending:!1});if(u)throw new Error(`取引データの取得に失敗しました: ${u.message}`);e(c||[])}catch(c){console.error("取引データの取得に失敗しました:",c)}finally{r(!1)}},i=async c=>{try{sF(c.creator)||(console.warn("無効なcreator IDが検出されました。匿名ユーザーとして処理します。"),c.creator="00000000-0000-0000-0000-000000000000");const u={...c,creator:c.creator||"00000000-0000-0000-0000-000000000000",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:d,error:f}=await wn.from("transactions").insert([u]).select().single();if(f)throw new Error(`取引の作成に失敗しました: ${f.message}`);if(d)return e(g=>[d,...g]),d.id}catch(u){throw console.error("取引の作成に失敗しました:",u),u.message&&u.message.includes("Failed to fetch")?new Error("ネットワークエラーが発生しました。インターネット接続を確認してください。"):u}},a=async(c,u)=>{try{const{data:d,error:f}=await wn.from("transactions").update({...u,updated_at:new Date().toISOString()}).eq("id",c).select().single();if(f)throw new Error(`取引の更新に失敗しました: ${f.message}`);d&&e(g=>g.map(h=>h.id===c?{...h,...d}:h))}catch(d){throw console.error("取引の更新に失敗しました:",d),d}},o=async c=>{try{const{error:u}=await wn.from("transactions").delete().eq("id",c);if(u)throw new Error(`取引の削除に失敗しました: ${u.message}`);e(d=>d.filter(f=>f.id!==c))}catch(u){throw console.error("取引の削除に失敗しました:",u),u}};return oe.useEffect(()=>{s()},[]),{transactions:t,loading:n,fetchTransactions:s,createTransaction:i,updateTransaction:a,deleteTransaction:o}},iF=()=>{const[t,e]=oe.useState([]),[n,r]=oe.useState(!1),s=async()=>{r(!0);try{const{data:a,error:o}=await wn.from("ai_transactions").select("*").order("created_at",{ascending:!1});if(o)throw new Error(`AI取引データの取得に失敗しました: ${o.message}`);e(a||[])}catch(a){console.error("AI取引データの取得に失敗しました:",a)}finally{r(!1)}},i=async(a,o,c)=>{try{const{data:u,error:d}=await wn.from("ai_transactions").update({manual_verified:o,learning_feedback:c,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(d)throw new Error(`AI取引の確認に失敗しました: ${d.message}`);u&&(console.log(o?"AI分類を承認しました":"AI分類を却下しました"),e(f=>f.map(g=>g.id===a?{...g,manual_verified:o}:g)))}catch(u){throw console.error("AI取引の確認に失敗しました:",u),u}};return oe.useEffect(()=>{s()},[]),{aiTransactions:t,loading:n,fetchAITransactions:s,verifyAITransaction:i}},aF=()=>{const[t,e]=oe.useState(null),[n,r]=oe.useState(!0),{transactions:s,loading:i,createTransaction:a}=p2(),{aiTransactions:o}=iF(),[c,u]=oe.useState(!1),{isAuthenticated:d,user:f,loading:g}=Hx(),h=fh();if(oe.useEffect(()=>{if(console.log("Dashboard: ページが読み込まれました"),console.log("Dashboard: 認証状態",{isAuthenticated:d,authUser:f,authLoading:g}),g){console.log("Dashboard: 認証状態を確認中...");return}d&&f&&(console.log("Dashboard: useAuthフックからユーザー情報を取得しました:",f),e(f),localStorage.setItem("user",JSON.stringify(f))),r(!1)},[d,f,g,h]),oe.useEffect(()=>{const x=()=>u(!0);return window.addEventListener("openCreateTransactionModal",x),()=>{window.removeEventListener("openCreateTransactionModal",x)}},[]),n||i||g)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"データを読み込んでいます..."})]})});const v=x=>{const w=["日付","説明","金額","カテゴリ","タイプ","ステータス"],N=x.map(R=>[R.date,`"${R.description}"`,R.amount.toString(),`"${R.category}"`,R.type,R.status]);return[w.join(","),...N.map(R=>R.join(","))].join(`
`)},y=()=>{const x=v(s),w=new Blob(["\uFEFF",x],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(w),k=document.createElement("a");k.setAttribute("href",N),k.setAttribute("download",`取引データ_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},b=async x=>{try{t&&t.id?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id)?x.creator=t.id:(console.warn("無効なユーザーID形式です。匿名ユーザーとして処理します。"),x.creator="00000000-0000-0000-0000-000000000000"):x.creator="00000000-0000-0000-0000-000000000000",await a(x),u(!1)}catch(w){console.error("取引の作成に失敗:",w),alert("取引の作成に失敗しました。もう一度お試しください。")}};return console.log("Dashboard: ダッシュボードを表示します"),console.log("Dashboard: 取引データ",s),l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ダッシュボード"}),l.jsxs("div",{className:"flex sm:hidden gap-2",children:[l.jsxs("button",{onClick:y,disabled:s.length===0,className:`px-3 py-2 rounded-md transition-colors flex items-center justify-center border ${s.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white text-green-600 border-green-600 hover:bg-green-50"}`,title:"CSVエクスポート",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{className:"text-sm",children:"CSV"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center",title:"新規取引",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),l.jsx("span",{className:"text-sm",children:"新規"})]})]})]}),l.jsxs("div",{className:"hidden sm:flex gap-2 whitespace-nowrap",children:[l.jsxs("button",{onClick:y,disabled:s.length===0,className:`px-4 py-2 rounded-md transition-colors flex items-center justify-center border ${s.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white text-green-600 border-green-600 hover:bg-green-50"}`,children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"CSVエクスポート"]}),l.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"新規取引"]})]})]}),l.jsx(HI,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsx(eF,{transactions:s}),l.jsx(tF,{transactions:s})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(nF,{transactions:s,onOpenCreateModal:()=>u(!0),showCreateButton:!1}),l.jsx(rF,{aiTransactions:o,loading:i})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:l.jsx("div",{className:"p-6",children:l.jsx(E6,{onSubmit:b,onCancel:()=>u(!1)})})})})]})};class oF{parseReceipt(e){console.log("レシート解析を開始。OCRテキスト:",e);const n={store_name:this.extractStoreName(e),date:this.extractDate(e),total_amount:this.extractTotal(e),tax_rate:this.extractTaxRate(e),raw_text:e,confidence:{store_name:this.calculateConfidence("store_name",e),date:this.calculateConfidence("date",e),total_amount:this.calculateConfidence("total_amount",e),tax_rate:this.calculateConfidence("tax_rate",e)},items:this.extractItems(e),items_count:this.extractItemsCount(e)};return console.log("レシート解析結果:",n),n}extractTotal(e){console.log("合計金額抽出を開始");const n=[/合計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/Total[^\d]*(?:¥|￥)?[\d,]+\.?\d*/,/お買上金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お会計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/合\s*計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/総合計[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/[合計金額合計][^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払総額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払い金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/支払金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/お支払[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/,/[Tt]otal\s*:?\s*(?:¥|￥)?[\d,]+\.?\d*/,/[Ss]ubtotal\s*:?\s*(?:¥|￥)?[\d,]+\.?\d*/,/ご購入金額[^\d]*(?:¥|￥)?[\d,]+\.?\d*円?/];let r=0;for(const a of n){const o=e.match(a);if(o){console.log("合計金額のパターンマッチ:",o[0]);const c=o[0].match(/(?:¥|￥)?([\d,]+\.?\d*)円?/);if(c){console.log("金額部分の抽出:",c[1]);const u=c[1].replace(/,/g,""),d=parseFloat(u);!isNaN(d)&&d>r&&(r=d)}}}if(r>0)return console.log("合計金額抽出成功:",r),Math.round(r);const s=e.match(/(?:¥|￥)?([\d,]+\.?\d*)円?/g);if(s&&s.length>0){console.log("数字マッチ:",s);const a=s.map(o=>{const c=o.replace(/[^0-9.]/g,"");return parseFloat(c)}).filter(o=>!isNaN(o)).sort((o,c)=>c-o);if(a.length>0)return console.log("ソートされた数字:",a),console.log("最大の数字を合計金額として採用:",a[0]),Math.round(a[0])}const i=e.match(/[\d,]+\.?\d*/g);if(i&&i.length>0){console.log("すべての数字:",i);const a=i.map(o=>parseFloat(o.replace(/,/g,""))).filter(o=>!isNaN(o)).sort((o,c)=>c-o);if(a.length>0)return console.log("すべての数字から最大値を採用:",a[0]),Math.round(a[0])}return console.log("合計金額の抽出に失敗"),0}extractDate(e){console.log("日付抽出を開始");const n=[/(\d{4})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*日?/,/(\d{2})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*日?/,/(\d{4})\s*年\s*(\d{1,2})\s*月\s*(\d{1,2})\s*日/,/(\d{1,2})[/\-\.](\d{1,2})[/\-\.](\d{4})/,/(\d{4})[/\-\.](\d{1,2})[/\-\.](\d{1,2})\s*T\d{2}:\d{2}:\d{2}/,/(\d{4})[/年\-\.](\d{1,2})[/月\-\.](\d{1,2})\s*\d{1,2}:\d{2}/,/(\d{1,2})月(\d{1,2})日(\d{4})年/,/(\d{1,2})\/(\d{1,2})\/(\d{2})/,/(\d{1,2})[-\.](\d{1,2})[-\.](\d{2})/,/[Dd]ate\s*:?\s*(\d{4})[/\-\.](\d{1,2})[/\-\.](\d{1,2})/,/[Dd]ate\s*:?\s*(\d{1,2})[/\-\.](\d{1,2})[/\-\.](\d{4})/];for(const s of n){const i=e.match(s);if(i){console.log("日付のパターンマッチ:",i);let a,o,c;s.toString().includes("(\\d{1,2})[/\\-\\.](\\d{1,2})[/\\-\\.](\\d{4})")||s.toString().includes("(\\d{1,2})月(\\d{1,2})日(\\d{4})年")?(o=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),a=i[3]):s.toString().includes("(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2})")||s.toString().includes("(\\d{1,2})[-\\.](\\d{1,2})[-\\.](\\d{2})")?(o=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),a=`20${i[3]}`):(a=i[1],o=i[2].padStart(2,"0"),c=i[3].padStart(2,"0")),a.length===2&&(a=`20${a}`);const u=`${a}-${o}-${c}`;return console.log("日付抽出成功:",u),u}}const r=e.match(/\d{4}[/\-\.年]\d{1,2}[/\-\.月]\d{1,2}/);if(r){const i=r[0].replace(/[年月]/g,"/").replace(/日/g,"").split(/[/\-\.]/);if(i.length===3){const a=i[0],o=i[1].padStart(2,"0"),c=i[2].padStart(2,"0"),u=`${a}-${o}-${c}`;return console.log("代替方法で日付抽出成功:",u),u}}return console.log("日付の抽出に失敗"),""}extractTaxRate(e){console.log("税率抽出を開始");const n=[/税率?\s*(\d+(?:\.\d+)?)%/,/消費税\s*(\d+(?:\.\d+)?)%/,/内消費税\s*(\d+(?:\.\d+)?)%/,/税\s*(\d+(?:\.\d+)?)\s*%/,/(\d+(?:\.\d+)?)%\s*消費税/,/(\d+(?:\.\d+)?)%\s*税/,/(\d+(?:\.\d+)?)%\s*内税/,/(\d+(?:\.\d+)?)%\s*外税/,/[Tt]ax\s*:?\s*(\d+(?:\.\d+)?)%/,/[Rr]ate\s*:?\s*(\d+(?:\.\d+)?)%/,/(\d+(?:\.\d+)?)\s*%\s*[Ii]ncl?\./];for(const r of n){const s=e.match(r);if(s){console.log("税率のパターンマッチ:",s[1]);const i=parseFloat(s[1]);if(!isNaN(i))return console.log("税率抽出成功:",i),i}}return e.includes("8%")||e.includes("0.08")?(console.log("8%の税率を推定"),8):e.includes("10%")||e.includes("0.10")?(console.log("10%の税率を推定"),10):e.includes("内税")||e.includes("税込")?(console.log("内税表示を検出。一般的な税率10%を推定"),10):(console.log("税率の抽出に失敗"),0)}extractStoreName(e){console.log("店舗名抽出を開始");const n=e.split(`
`);console.log("テキスト行数:",n.length);for(let r=0;r<Math.min(20,n.length);r++){const s=n[r].trim();if(console.log(`行${r}:`,s),s&&!s.includes("合計")&&!s.includes("計")&&!s.includes("税率")&&!s.includes("消費税")&&!s.includes("小計")&&!s.includes("預かり")&&!s.includes("お釣り")&&!s.includes("合計")&&!s.includes("レシート")&&!s.includes("領収書")&&!s.includes("売上票")&&!s.includes("No.")&&!s.includes("TEL")&&!s.includes("電話")&&!/^\d+[)%]/.test(s)&&!/^[¥￥]/.test(s)&&!/^\d{4}[/\-\.年]\d{1,2}[/\-\.月]\d{1,2}/.test(s)&&!/^(\d{1,2}:\d{2}|\d{1,2}時\d{1,2}分)/.test(s)&&s.length>1&&(console.log("店舗名候補:",s),!["様","御社","御中","宛","宛先"].some(a=>s.startsWith(a))))return s}for(let r=0;r<Math.min(5,n.length);r++){const s=n[r].trim();if(s&&!/^\d/.test(s)&&s.length>2)return console.log("最終候補として店舗名を返す:",s),s}return console.log("店舗名の抽出に失敗"),""}calculateConfidence(e,n){switch(console.log("信頼度計算を開始。フィールド:",e),e){case"store_name":const r=this.extractStoreName(n);return r&&r.length>1?.9:.1;case"date":const s=this.extractDate(n);return s&&s.length>=8?.95:.2;case"total_amount":return this.extractTotal(n)>0?.9:.3;case"tax_rate":const a=this.extractTaxRate(n);return a>0?.85:a===0?.5:.1;default:return .5}}extractItems(e){console.log("商品アイテム抽出を開始");const n=[],r=e.split(`
`),s=[/(.+?)\s+([0-9,]+)円/,/(.+?)\s+¥([0-9,]+)/,/(.+?)\s+￥([0-9,]+)/,/(.+?)\s+([0-9,]+)\s*円/];for(const i of r)if(!(i.includes("合計")||i.includes("小計")||i.includes("税")||i.includes("/")||i.includes("-")||i.includes(":")))for(const a of s){const o=i.match(a);if(o){const c=o[1].trim(),u=parseInt(o[2].replace(/,/g,""));if(c.length>1&&c.length<50&&u>0&&u<1e5){n.push({name:c,price:u,quantity:1});break}}}return console.log("商品アイテム抽出結果:",n),n}extractItemsCount(e){console.log("アイテム数抽出を開始");const r=this.extractItems(e).length;return console.log("アイテム数:",r),r}}const lF=t=>{const[e,n]=oe.useState(!1),[r,s]=oe.useState(!1),[i,a]=oe.useState(null),[o,c]=oe.useState(null),[u,d]=oe.useState(!1),[f,g]=oe.useState(null),[h,v]=oe.useState(1),[y,b]=oe.useState(!1),x=oe.useRef(null),w=oe.useRef(null),N=oe.useRef(null),k=oe.useRef(null),R={CAMERA_PERMISSION:"カメラの使用許可が必要です",OCR_FAILED:"レシートの読み取りに失敗しました",NO_DATA_FOUND:"必要な情報が見つかりませんでした",INVALID_IMAGE:"画像が不鮮明です。再度撮影してください"},I=async()=>{if(console.log("カメラ起動ボタンがクリックされました"),console.log("現在のプロトコル:",location.protocol),console.log("現在のホスト名:",location.hostname),location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"){if(console.log("HTTPS環境での警告を表示します"),!window.confirm("モバイル端末でカメラ機能を使用するにはHTTPS環境が必要です。現在のHTTP環境ではカメラが動作しない可能性があります。テストを続行しますか？")){console.log("ユーザーが警告をキャンセルしました");return}console.log("ユーザーが警告を確認しました")}s(!0),console.log("カメラ使用許可モーダルを表示しました")},M=async()=>{console.log("カメラ許可ボタンがクリックされました");try{s(!1),console.log("カメラアクセスを試行中..."),console.log("カメラ制約を設定中...");const V={video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}};console.log("カメラ制約:",V);const E=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(console.log("モバイル環境チェック:",E),E){const D={video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}};console.log("モバイル用カメラ制約:",D);const G=await navigator.mediaDevices.getUserMedia(D);console.log("モバイル環境でカメラストリームを取得しました:",G),N.current=G,k.current=G.getVideoTracks()[0],x.current&&(x.current.srcObject=G,console.log("video要素にストリームを設定しました"))}else{const D=await navigator.mediaDevices.getUserMedia(V);console.log("カメラストリームを取得しました:",D),N.current=D,k.current=D.getVideoTracks()[0],x.current&&(x.current.srcObject=D,console.log("video要素にストリームを設定しました"))}n(!0),g(null),console.log("カメラが正常に起動しました")}catch(V){console.error("カメラ起動エラー:",V),V.name==="NotAllowedError"?g("カメラの使用が拒否されました。ブラウザの設定でカメラの使用を許可してください。"):V.name==="NotFoundError"?g("利用可能なカメラが見つかりません。"):V.name==="NotReadableError"?g("カメラが他のアプリケーションによって使用中です。"):location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"?g("モバイル端末でカメラ機能を使用するにはHTTPS環境が必要です。HTTPS環境またはlocalhostでのみカメラ機能を使用できます。"):g(R.CAMERA_PERMISSION)}},j=()=>{console.log("カメラ停止処理を開始"),N.current&&(N.current.getTracks().forEach(V=>{console.log("トラックを停止:",V),V.stop()}),N.current=null,k.current=null),n(!1),console.log("カメラ停止処理完了")},A=async()=>{if(k.current&&"torch"in k.current.getCapabilities())try{const V=!y;await k.current.applyConstraints({advanced:[{torch:V}]}),b(V)}catch(V){console.error("フラッシュの切り替えに失敗しました:",V),g("フラッシュの切り替えに失敗しました")}else g("このデバイスではフラッシュがサポートされていません")},L=async V=>{if(k.current&&"zoom"in k.current.getCapabilities())try{const E=k.current.getCapabilities(),G=k.current.getSettings().zoom||1,he=Math.min(Math.max(G+V,E.zoom.min),E.zoom.max);await k.current.applyConstraints({advanced:[{zoom:he}]}),v(he)}catch(E){console.error("ズームの調整に失敗しました:",E)}},C=V=>new Promise(E=>{const D=new Image;D.onload=()=>{const G=document.createElement("canvas"),he=G.getContext("2d");if(!he){E(V);return}G.width=D.width,G.height=D.height,he.drawImage(D,0,0);const pe=he.getImageData(0,0,G.width,G.height),ue=pe.data;for(let J=0;J<ue.length;J+=4){const Re=ue[J],Be=ue[J+1],Me=ue[J+2],Se=.299*Re+.587*Be+.114*Me,Oe=1.5,$e=259*(Oe+255)/(255*(259-Oe))*(Se-128)+128;ue[J]=ue[J+1]=ue[J+2]=Math.max(0,Math.min(255,$e))}he.putImageData(pe,0,0),E(G.toDataURL("image/jpeg",.9))},D.src=V}),O=async()=>{if(console.log("写真撮影を開始"),x.current&&w.current){const V=x.current,E=w.current,D=E.getContext("2d");if(console.log("video要素のサイズ:",V.videoWidth,"x",V.videoHeight),E.width=V.videoWidth,E.height=V.videoHeight,D){D.drawImage(V,0,0,E.width,E.height),console.log("canvasに画像を描画しました");const G=E.toDataURL("image/jpeg",.9);console.log("画像データを取得しました。データURLの長さ:",G.length);const he=await C(G);a(he),j(),ce(he)}else console.error("canvasのコンテキストを取得できませんでした"),g("画像処理に失敗しました。もう一度お試しください。")}else console.error("videoまたはcanvas要素が見つかりません"),g("カメラが正しく初期化されていません。もう一度お試しください。")},H=async V=>{console.log("OCR処理を開始");const E=V.split(",")[1];return console.log("Base64画像データの長さ:",E==null?void 0:E.length),console.log("APIキーの存在確認:",!1),console.warn("Google Cloud Vision APIキーが設定されていません。サンプルデータを返します。"),`ダイエー
2024/01/15 14:30:25
りんご 1個 120円
バナナ 2本 200円
合計 320円
税率 10% 内消費税 29円`},U=(V,E)=>{console.log("AI分析を開始");const D={category:ee(V),expenseType:q(V),confidence:le(V,E),insights:te(V,E)};return console.log("AI分析結果:",D),D},ee=V=>{const E={食費:["レストラン","カフェ","マクドナルド","スターバックス","居酒屋","ラーメン","寿司"],交通費:["電車","バス","タクシー","ガソリン","駐車場"],買い物:["スーパー","ダイエー","セブンイレブン","ローソン","ファミリーマート","Amazon","楽天"],娯楽:["映画","ゲーム","本屋","CD","DVD"],医療:["病院","薬局","クリニック"],教育:["書店","学習塾","受験","教材"],通信:["電話","インターネット","携帯"],公共:["水道","電気","ガス","NHK"],その他:[]};for(const[D,G]of Object.entries(E))for(const he of G)if(V.includes(he))return D;return"その他"},q=V=>V.includes("給与")||V.includes("収入")?"収入":V.includes("交通")||V.includes("電車")||V.includes("バス")?"交通費":V.includes("食")||V.includes("レストラン")||V.includes("カフェ")?"食費":V.includes("買い物")||V.includes("スーパー")?"買い物":"一般支出",le=(V,E)=>{const D=Math.min(V.length/100,1);let G=0;E.store_name&&E.store_name.length>1&&(G+=.25),E.date&&E.date.length>0&&(G+=.25),E.total_amount&&E.total_amount>0&&(G+=.25),E.tax_rate!==void 0&&(G+=.25);const he=(D+G)/2;return Math.min(Math.max(he,0),1)},te=(V,E)=>{const D=[];E.total_amount>1e4&&D.push("高額な支出です。経費精算の際には詳細な説明が必要かもしれません。");const G=new Date,he=new Date(E.date);return Math.floor((G.getTime()-he.getTime())/(1e3*60*60*24))>30&&D.push("このレシートは30日以上前のものです。経費申請の期限に注意してください。"),(V.includes("コンビニ")||V.includes("セブンイレブン")||V.includes("ローソン")||V.includes("ファミリーマート"))&&D.push("コンビニでの購入です。領収書がなくても電子レシートで申請可能です。"),D},ce=async V=>{console.log("画像処理を開始"),d(!0),g(null),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:0,currentStep:"画像前処理中..."});try{xe(V),console.log("OCR処理を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:30,currentStep:"OCR処理中..."});const E=await H(V);console.log("OCR処理完了。結果の長さ:",E.length),console.log("データ抽出を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:60,currentStep:"データ抽出中..."});const G=new oF().parseReceipt(E);console.log("データ抽出完了:",G),console.log("AI分析を実行中..."),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:80,currentStep:"AI分析中..."});const he=U(E,G),pe={...G,category:he.category,expenseType:he.expenseType,aiConfidence:he.confidence,insights:he.insights};if(!ge(pe))throw new Error("NO_DATA_FOUND");t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!0,progress:90,currentStep:"処理完了..."}),c(pe),t.onScanComplete(pe)}catch(E){console.error("OCR処理エラー:",E),g(R[E.message]||"予期しないエラーが発生しました")}finally{d(!1),t.onProcessingStateChange&&t.onProcessingStateChange({isProcessing:!1,progress:100,currentStep:"完了"})}},ge=V=>{console.log("データバリデーションを実行中:",V);const E=V.store_name.length>0&&V.date.length>0&&V.total_amount>0;return console.log("データバリデーション結果:",E),E},xe=V=>(console.log("画像品質チェックを実行中"),console.log("画像品質チェック結果: OK"),!0),z=()=>{a(null),c(null),g(null),I()},Q=async V=>{var D;const E=(D=V.target.files)==null?void 0:D[0];if(E){const G=new FileReader;G.onload=async he=>{var ue;const pe=(ue=he.target)==null?void 0:ue.result;if(pe){const J=await C(pe);a(J),ce(J)}},G.readAsDataURL(E)}},T=(V,E)=>{o&&c({...o,[V]:E})},Z=()=>{if(o){const V={success:!0,data:o,confidence:o.confidence},E=JSON.stringify(V,null,2);console.log(E)}},F=()=>{if(o){const V=JSON.stringify(o,null,2);navigator.clipboard.writeText(V)}},re=()=>{o&&navigator.share&&navigator.share({title:"レシートデータ",text:JSON.stringify(o,null,2)})};return oe.useEffect(()=>()=>{N.current&&N.current.getTracks().forEach(V=>V.stop())},[]),l.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"カメラの使用許可"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"レシートをスキャンするには、カメラへのアクセス許可が必要です。 カメラでレシートを撮影するためにアクセスを許可してください。"}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"許可する"})]})]})})}),!i&&!o&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"レシートスキャナー"}),e?l.jsxs("div",{className:"relative",children:[l.jsx("video",{ref:x,autoPlay:!0,playsInline:!0,className:"w-full h-96 object-cover rounded-lg bg-gray-100"}),l.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white m-8 pointer-events-none"}),l.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[l.jsx("button",{onClick:()=>L(1),className:"p-2 bg-black bg-opacity-50 rounded-full text-white",children:l.jsx(jT,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>L(-1),className:"p-2 bg-black bg-opacity-50 rounded-full text-white",children:l.jsx(kT,{className:"w-5 h-5"})}),l.jsx("button",{onClick:A,className:`p-2 rounded-full ${y?"bg-yellow-500":"bg-black bg-opacity-50"} text-white`,children:l.jsx("span",{className:"text-xs",children:"FLASH"})})]}),l.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[l.jsx("button",{onClick:O,className:"w-16 h-16 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500"})}),l.jsx("button",{onClick:j,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:I,className:"w-full py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[l.jsx(Vx,{className:"w-5 h-5 mr-2"}),"カメラで撮影"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),l.jsxs("button",{className:"w-full py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[l.jsx(NL,{className:"w-5 h-5 mr-2"}),"画像を選択"]})]})]}),f&&l.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:f})]}),i&&!o&&u&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"処理中..."}),l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),i&&o&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"抽出結果"}),l.jsx("div",{className:"mb-6",children:l.jsx("img",{src:i,alt:"Captured receipt",className:"w-full h-48 object-contain rounded-lg border"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"店舗名"}),l.jsx("input",{type:"text",value:o.store_name,onChange:V=>T("store_name",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"日付"}),l.jsx("input",{type:"date",value:o.date,onChange:V=>T("date",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"合計金額"}),l.jsx("input",{type:"number",value:o.total_amount,onChange:V=>T("total_amount",parseInt(V.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"税率"}),l.jsx("input",{type:"number",value:o.tax_rate,onChange:V=>T("tax_rate",parseInt(V.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.category&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリ（AI推定）"}),l.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-md",children:o.category})]}),o.expenseType&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"支出種別（AI推定）"}),l.jsx("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-md",children:o.expenseType})]}),o.aiConfidence!==void 0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI信頼度"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${o.aiConfidence*100}%`}})}),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[Math.round(o.aiConfidence*100),"%"]})]})]}),o.insights&&o.insights.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"分析インサイト"}),l.jsx("ul",{className:"list-disc pl-5 space-y-1",children:o.insights.map((V,E)=>l.jsx("li",{className:"text-sm text-gray-600",children:V},E))})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-6",children:[l.jsxs("button",{onClick:z,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(ty,{className:"w-4 h-4 mr-2"}),"再撮影"]}),l.jsxs("button",{onClick:Z,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(F0,{className:"w-4 h-4 mr-2"}),"保存"]}),l.jsxs("button",{onClick:F,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(bd,{className:"w-4 h-4 mr-2"}),"コピー"]}),typeof navigator.share<"u"&&l.jsxs("button",{onClick:re,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(wj,{className:"w-4 h-4 mr-2"}),"共有"]})]}),f&&l.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:f})]}),l.jsx("canvas",{ref:w,className:"hidden"})]})},cF=()=>{const[t,e]=oe.useState([{id:"1",date:"2024-01-15",merchant:"セブンイレブン",amount:1200,category:"消耗品費",description:"事務用品購入",confidence:95,status:"pending"},{id:"2",date:"2024-01-14",merchant:"スターバックス",amount:580,category:"接待交際費",description:"クライアント打ち合わせ",confidence:88,status:"approved"}]),[n,r]=oe.useState({isProcessing:!1,retryCount:0}),s=[{id:"3",date:"2024-01-16",merchant:"ローソン",amount:750,category:"消耗品費",description:"コピー用紙",confidence:90,status:"pending"},{id:"4",date:"2024-01-13",merchant:"マクドナルド",amount:680,category:"接待交際費",description:"社内打合せ",confidence:85,status:"pending"}],[i,a]=oe.useState(null),[o,c]=oe.useState({}),[u,d]=oe.useState(!1),f=oe.useRef(null),g=oe.useRef(null),h=oe.useRef(null),[v,y]=oe.useState(""),[b,x]=oe.useState("all"),[w,N]=oe.useState("all"),[k,R]=oe.useState(null),[I,M]=oe.useState(!1),j=async()=>{const F=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"){if(F){if(!window.confirm("モバイル端末からのカメラアクセスにはHTTPS環境が必要です。現在はHTTP環境のため、カメラが動作しない可能性があります。テスト目的であれば、PCのlocalhost環境でアクセスしてください。続行しますか？"))return}else if(!window.confirm("カメラ機能を使用するにはHTTPS環境またはlocalhostが必要です。HTTP環境ではカメラが動作しない可能性があります。続行しますか？"))return}try{let re;try{re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})}catch(V){console.warn("背面カメラが利用できません。フロントカメラを試します。",V),re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}})}h.current=re,f.current&&(f.current.srcObject=re),d(!0)}catch(re){console.error("カメラの起動に失敗しました:",re),re instanceof DOMException&&re.name==="NotAllowedError"?alert("カメラの使用が拒否されました。ブラウザの設定でカメラの使用を許可してください。"):re instanceof DOMException&&re.name==="NotFoundError"?alert("利用可能なカメラが見つかりません。"):re instanceof DOMException&&re.name==="NotReadableError"?alert("カメラが他のアプリケーションによって使用中です。"):location.protocol!=="https:"?alert(F?"モバイル端末からのカメラアクセスにはHTTPS環境が必要です。PCのlocalhost環境でテストしてください。":"カメラの起動に失敗しました。HTTP環境ではカメラが動作しない可能性があります。HTTPS環境またはlocalhostでのみカメラ機能を使用できます。"):alert("カメラの起動に失敗しました。ブラウザの設定を確認してください。")}},A=()=>{h.current&&(h.current.getTracks().forEach(F=>F.stop()),h.current=null),d(!1)},L=async()=>{if(f.current&&g.current){const F=f.current,re=g.current,V=re.getContext("2d");re.width=F.videoWidth,re.height=F.videoHeight,V&&(V.drawImage(F,0,0,re.width,re.height),re.toBlob(async E=>{E&&await C(E)},"image/jpeg",.95)),A()}},C=async F=>{await O(F)},O=async F=>{r({isProcessing:!0,retryCount:0});try{const re=new FileReader;re.onload=async V=>{var pe,ue,J;const E=(pe=V.target)==null?void 0:pe.result;if(!E)throw new Error("画像データの読み込みに失敗しました");const D=E.split(",")[1],G=void 0;if(!G)throw new Error("Google Cloud Vision APIキーが設定されていません");const he={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],merchant:"処理中...",amount:0,category:"未分類",description:"解析中...",confidence:0,status:"pending"};e(Re=>[he,...Re]);try{const Re=await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${G}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:D},features:[{type:"TEXT_DETECTION",maxResults:100}]}]})});if(!Re.ok)throw new Error(`APIリクエスト失敗: ${Re.status} ${Re.statusText}`);const Be=await Re.json();console.log("Vision API結果:",Be);const Me=((J=(ue=Be.responses[0])==null?void 0:ue.fullTextAnnotation)==null?void 0:J.text)||"";if(!Me)throw new Error("テキストが検出されませんでした");const Se=H(Me);e(Oe=>Oe.map(Ce=>Ce.id===he.id?{...Ce,merchant:Se.merchant||"不明",date:Se.date||Ce.date,amount:Se.amount||0,taxRate:Se.taxRate||0,description:Se.description||"OCR処理完了",confidence:Se.confidence||80,confidenceScores:Se.confidenceScores}:Ce))}catch(Re){console.error("Vision API処理エラー:",Re),e(Be=>Be.map(Me=>Me.id===he.id?{...Me,merchant:"解析エラー",description:`OCR処理に失敗しました: ${Re.message}`,confidence:0}:Me))}finally{r(Re=>({...Re,isProcessing:!1}))}},re.readAsDataURL(F)}catch(re){console.error("画像処理エラー:",re),r(V=>({...V,isProcessing:!1,errorMessage:`画像の処理中にエラーが発生しました: ${re.message}`}))}},H=F=>{const re={date:/(\d{4}[年/-]\d{1,2}[月/-]\d{1,2}[日]?)|(\d{2}\/\d{2}\/\d{2})/i,taxRate:/税率?\s*([0-9]+)%|消費税.*?([0-9]+)%/i,storeName:/^([ァ-ヴー・ａ-ｚＡ-Ｚ0-9\u4E00-\u9FFF]+)(店|ストア|マート)/i};let V="不明",E=0;const D=F.match(re.storeName);if(D)V=D[1]+(D[2]||""),E=90;else{const Oe=["セブンイレブン","ローソン","ファミリーマート","スターバックス","マクドナルド"];for(const Ce of Oe)if(F.includes(Ce)){V=Ce,E=80;break}}let G="",he=0;const pe=F.match(re.date);pe&&(G=pe[0],he=85);let ue=0,J=0;const Re=F.match(/\d{3,}/g);Re&&(ue=Math.max(...Re.map(Number)),J=80);let Be=0,Me=0;const Se=F.match(re.taxRate);return Se&&(Be=parseInt(Se[1]||Se[2]),Me=85),{merchant:V,date:G,amount:ue,taxRate:Be,description:"OCRで抽出",confidence:Math.round((E+he+J+Me)/4),confidenceScores:{merchant:E,date:he,amount:J,taxRate:Me}}},U=async F=>{const re=F.target.files;if(re&&re.length>0){const V=re[0],E=new FileReader;E.onload=async D=>{var he;const G=(he=D.target)==null?void 0:he.result;if(G){const pe=new Blob([G],{type:V.type});await C(pe)}},E.readAsArrayBuffer(V)}},ee=()=>{i&&o&&(e(F=>F.map(re=>re.id===i?{...re,...o}:re)),a(null),c({}))},q=F=>{e(re=>re.map(V=>V.id===F?{...V,status:"approved"}:V))},le=F=>{e(re=>re.map(V=>V.id===F?{...V,status:"rejected"}:V))},te=()=>{e(F=>[...s,...F])},ce=async()=>{try{const F={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],merchant:"処理中...",amount:0,category:"未分類",description:"解析中...",confidence:0,status:"pending"};e(E=>[F,...E]);const V=H(`セブンイレブン
2024/01/15
レシート番号: 12345
商品名: コピー用紙 ￥1,200
消費税: ￥120
合計: ￥1,320
      
マクドナルド
2024/01/14
商品名: ビッグマックセット ￥680
消費税: ￥68
合計: ￥748`);e(E=>E.map(D=>D.id===F.id?{...D,merchant:V.merchant||"不明",amount:V.amount||0,description:V.description||"OCR処理完了",confidence:V.confidence||80}:D))}catch(F){console.error("OCRテストエラー:",F)}},ge=F=>{const re={id:Date.now().toString(),date:F.date,merchant:F.store_name,amount:F.total_amount,category:F.category||"未分類",description:"スキャンされたレシート",confidence:Math.round((F.confidence.store_name+F.confidence.date+F.confidence.total_amount+F.confidence.tax_rate)/4*100),status:"pending",taxRate:F.tax_rate,aiAnalysis:{category:F.category,expenseType:F.expenseType,confidence:F.aiConfidence,insights:F.insights,items:F.items}};e(V=>[re,...V])},xe=async F=>{e(re=>re.map(V=>V.id===F?{...V,merchant:"処理中...",amount:0,description:"再解析中...",confidence:0}:V)),setTimeout(()=>{e(re=>re.map(V=>V.id===F?{...V,merchant:"ファミリーマート",amount:950,description:"再解析完了",confidence:88}:V))},3e3)},z=async()=>{if(n.imageData&&n.retryCount<3){r(F=>({...F,retryCount:F.retryCount+1,errorMessage:void 0}));try{const re=await(await fetch(n.imageData)).blob();await C(re)}catch(F){console.error("再試行エラー:",F),r(re=>({...re,errorMessage:"再試行に失敗しました"}))}}},Q=F=>{R(F),M(!0)},T=t.filter(F=>{const re=F.merchant.toLowerCase().includes(v.toLowerCase())||F.description.toLowerCase().includes(v.toLowerCase()),V=b==="all"||F.status===b,E=w==="all"||F.category===w;return re&&V&&E}),Z=Array.from(new Set(t.map(F=>F.category)));return v0.useEffect(()=>()=>{h.current&&h.current.getTracks().forEach(F=>F.stop())},[]),l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&location.protocol!=="https:"&&l.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:l.jsxs("div",{className:"flex",children:[l.jsx(t5,{className:"w-5 h-5 text-yellow-500 mr-2 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"モバイル端末からのアクセスについて"}),l.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"現在HTTP環境でアクセスしています。カメラ機能を使用するにはHTTPS環境が必要です。 テスト目的であれば、PCのlocalhost環境（http://localhost:5173）でアクセスしてください。"})]})]})}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"レシート処理"}),l.jsx("p",{className:"text-gray-600",children:"画像から自動で仕訳を作成します"})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"カメラでレシートを撮影"}),l.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden aspect-video flex items-center justify-center",children:[l.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"}),l.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white m-8 pointer-events-none"})]}),l.jsx("div",{className:"mt-4 flex justify-center",children:l.jsx("button",{onClick:L,className:"w-16 h-16 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center hover:bg-gray-100 transition-colors",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500"})})})]})]})}),I&&k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"レシート詳細"}),l.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"日付"}),l.jsx("p",{className:"text-gray-900",children:k.date})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"店舗名"}),l.jsx("p",{className:"text-gray-900",children:k.merchant})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"金額"}),l.jsxs("p",{className:"text-gray-900",children:["¥",k.amount.toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"カテゴリ"}),l.jsx("p",{className:"text-gray-900",children:k.category})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"説明"}),l.jsx("p",{className:"text-gray-900",children:k.description})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"信頼度"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:l.jsx("div",{className:`h-2 rounded-full ${k.confidence>=90?"bg-green-500":k.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.confidence}%`}})}),l.jsxs("span",{className:"text-xs text-gray-600",children:[k.confidence,"%"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ステータス"}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.status==="approved"?"bg-green-100 text-green-800":k.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:k.status==="approved"?"承認済み":k.status==="rejected"?"却下":"保留中"})]}),k.taxRate!==void 0&&k.taxRate>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"税率"}),l.jsxs("p",{className:"text-gray-900",children:[k.taxRate,"%"]})]}),k.confidenceScores&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"信頼度詳細"}),l.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.jsxs("div",{children:["店舗: ",k.confidenceScores.merchant||0,"%"]}),l.jsxs("div",{children:["日付: ",k.confidenceScores.date||0,"%"]}),l.jsxs("div",{children:["金額: ",k.confidenceScores.amount||0,"%"]})]})]}),k.aiAnalysis&&l.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI分析結果"}),k.aiAnalysis.category&&l.jsxs("div",{className:"mb-2",children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"推定カテゴリ"}),l.jsx("p",{className:"text-sm text-gray-900",children:k.aiAnalysis.category})]}),k.aiAnalysis.expenseType&&l.jsxs("div",{className:"mb-2",children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"支出種別"}),l.jsx("p",{className:"text-sm text-gray-900",children:k.aiAnalysis.expenseType})]}),k.aiAnalysis.confidence!==void 0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"AI信頼度"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:`h-1.5 rounded-full ${k.aiAnalysis.confidence>=.9?"bg-green-500":k.aiAnalysis.confidence>=.7?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.aiAnalysis.confidence*100}%`}})}),l.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(k.aiAnalysis.confidence*100),"%"]})]})]}),k.aiAnalysis.insights&&k.aiAnalysis.insights.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"分析インサイト"}),l.jsx("ul",{className:"list-disc pl-4 space-y-1 mt-1",children:k.aiAnalysis.insights.map((F,re)=>l.jsx("li",{className:"text-xs text-gray-600",children:F},re))})]}),k.aiAnalysis.items&&k.aiAnalysis.items.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"商品アイテム"}),l.jsx("div",{className:"mt-1 space-y-1",children:k.aiAnalysis.items.map((F,re)=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{className:"text-gray-600",children:F.name}),l.jsxs("span",{className:"text-gray-900",children:["¥",F.price.toLocaleString()]})]},re))})]})]})]})}),l.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-2",children:l.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"閉じる"})})]})}),l.jsx("canvas",{ref:g,className:"hidden"}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"レシートをアップロード"}),l.jsx("div",{className:"mb-6",children:l.jsx(lF,{onScanComplete:ge,onProcessingStateChange:F=>{r(re=>({...re,isProcessing:F.isProcessing,progress:F.progress,currentStep:F.currentStep}))}})}),n.isProcessing&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Zp,{className:"w-5 h-5 text-blue-500 animate-spin mr-2"}),l.jsx("span",{className:"text-blue-700 font-medium",children:"レシートを処理中です..."})]}),n.currentStep&&l.jsxs("div",{className:"text-sm text-blue-600 mb-2",children:["処理ステップ: ",n.currentStep]}),n.progress!==void 0&&l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})})]}),n.errorMessage&&l.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center",children:[l.jsx(t5,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:n.errorMessage}),n.retryCount<3&&l.jsx("button",{onClick:z,className:"ml-4 px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors text-sm",children:"再試行"})]}),l.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[l.jsx("button",{onClick:te,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-sm w-full sm:w-auto",children:"サンプルレシートを追加（テスト用）"}),l.jsx("button",{onClick:ce,className:"px-4 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors text-sm w-full sm:w-auto",children:"OCRテストを実行（サンプル画像）"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:U,className:"hidden"}),l.jsx(Gx,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"ファイルを選択"}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF対応"})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-colors",onClick:j,children:[l.jsx(Vx,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"カメラで撮影"}),l.jsx("p",{className:"text-xs text-gray-500",children:"その場で撮影"})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx(fL,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"ドラッグ&ドロップ"}),l.jsx("p",{className:"text-xs text-gray-500",children:"ここに画像をドロップ"})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"店舗名や説明で検索...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v,onChange:F=>y(F.target.value)})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",value:b,onChange:F=>x(F.target.value),children:[l.jsx("option",{value:"all",children:"すべてのステータス"}),l.jsx("option",{value:"pending",children:"保留中"}),l.jsx("option",{value:"approved",children:"承認済み"}),l.jsx("option",{value:"rejected",children:"却下"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-auto",value:w,onChange:F=>N(F.target.value),children:[l.jsx("option",{value:"all",children:"すべてのカテゴリ"}),Z.map(F=>l.jsx("option",{value:F,children:F},F))]})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-semibold",children:"処理済みレシート"})}),l.jsx("div",{className:"md:hidden p-4 space-y-4",children:T.map(F=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:F.merchant}),l.jsx("p",{className:"text-sm text-gray-500",children:F.date})]}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="approved"?"bg-green-100 text-green-800":F.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:F.status==="approved"?"承認":F.status==="rejected"?"却下":"保留"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["¥",F.amount.toLocaleString()]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:`h-1.5 rounded-full ${F.confidence>=90?"bg-green-500":F.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.confidence}%`}})}),l.jsxs("span",{className:"text-xs text-gray-500",children:[F.confidence,"%"]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:F.category}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>Q(F),className:"text-blue-600 hover:text-blue-900",children:l.jsx(Bc,{className:"w-4 h-4"})}),F.merchant==="解析エラー"&&l.jsx("button",{onClick:()=>xe(F.id),className:"text-orange-600 hover:text-orange-900",title:"再試行",children:l.jsx(ty,{className:"w-4 h-4"})}),F.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>q(F.id),className:"text-green-600 hover:text-green-900",children:l.jsx(Qi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>le(F.id),className:"text-red-600 hover:text-red-900",children:l.jsx($n,{className:"w-4 h-4"})})]})]})]})]},F.id))}),l.jsx("div",{className:"hidden md:block overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日付"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"店舗名"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"説明"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"信頼度"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===F.id?l.jsx("input",{type:"date",value:o.date||F.date,onChange:re=>c(V=>({...V,date:re.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):F.date}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===F.id?l.jsx("input",{type:"text",value:o.merchant||F.merchant,onChange:re=>c(V=>({...V,merchant:re.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):F.merchant}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===F.id?l.jsx("input",{type:"number",value:o.amount||F.amount,onChange:re=>c(V=>({...V,amount:Number(re.target.value)})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):`¥${F.amount.toLocaleString()}`}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i===F.id?l.jsxs("select",{value:o.category||F.category,onChange:re=>c(V=>({...V,category:re.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[l.jsx("option",{value:"消耗品費",children:"消耗品費"}),l.jsx("option",{value:"接待交際費",children:"接待交際費"}),l.jsx("option",{value:"旅費交通費",children:"旅費交通費"}),l.jsx("option",{value:"通信費",children:"通信費"}),l.jsx("option",{value:"水道光熱費",children:"水道光熱費"})]}):F.category}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:i===F.id?l.jsx("input",{type:"text",value:o.description||F.description,onChange:re=>c(V=>({...V,description:re.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):l.jsxs("div",{children:[l.jsx("div",{children:F.description}),F.taxRate!==void 0&&F.taxRate>0&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["税率: ",F.taxRate,"%"]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:l.jsx("div",{className:`h-2 rounded-full ${F.confidence>=90?"bg-green-500":F.confidence>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.confidence}%`}})}),l.jsxs("span",{className:"text-xs text-gray-600",children:[F.confidence,"%"]})]}),F.confidenceScores&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[l.jsxs("div",{children:["店舗: ",F.confidenceScores.merchant||0,"%"]}),l.jsxs("div",{children:["日付: ",F.confidenceScores.date||0,"%"]}),l.jsxs("div",{children:["金額: ",F.confidenceScores.amount||0,"%"]})]}),F.aiAnalysis&&F.aiAnalysis.confidence!==void 0&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l.jsxs("div",{children:["AI信頼度: ",Math.round(F.aiAnalysis.confidence*100),"%"]})})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="approved"?"bg-green-100 text-green-800":F.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:F.status==="approved"?"承認済み":F.status==="rejected"?"却下":"保留中"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx("div",{className:"flex space-x-2",children:i===F.id?l.jsx("button",{onClick:ee,className:"text-green-600 hover:text-green-900",children:l.jsx(F0,{className:"w-4 h-4"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Q(F),className:"text-blue-600 hover:text-blue-900",children:l.jsx(Bc,{className:"w-4 h-4"})}),F.merchant==="解析エラー"&&l.jsx("button",{onClick:()=>xe(F.id),className:"text-orange-600 hover:text-orange-900",title:"再試行",children:l.jsx(ty,{className:"w-4 h-4"})}),F.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>q(F.id),className:"text-green-600 hover:text-green-900",children:l.jsx(Qi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>le(F.id),className:"text-red-600 hover:text-red-900",children:l.jsx($n,{className:"w-4 h-4"})})]})]})})})]},F.id))})]})})]})]})})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var ti=Uint8Array,as=Uint16Array,g2=Int32Array,m2=new ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y2=new ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Aw=new ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P6=function(t,e){for(var n=new as(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new g2(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},L6=P6(m2,2),uF=L6.b,wy=L6.r;uF[28]=258,wy[258]=28;var dF=P6(y2,0),Cw=dF.r,_y=new as(32768);for(var sn=0;sn<32768;++sn){var Ta=(sn&43690)>>1|(sn&21845)<<1;Ta=(Ta&52428)>>2|(Ta&13107)<<2,Ta=(Ta&61680)>>4|(Ta&3855)<<4,_y[sn]=((Ta&65280)>>8|(Ta&255)<<8)>>1}var Ad=function(t,e,n){for(var r=t.length,s=0,i=new as(e);s<r;++s)t[s]&&++i[t[s]-1];var a=new as(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(n){o=new as(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],f=a[t[s]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)o[_y[f]>>c]=u}else for(o=new as(r),s=0;s<r;++s)t[s]&&(o[s]=_y[a[t[s]-1]++]>>15-t[s]);return o},xl=new ti(288);for(var sn=0;sn<144;++sn)xl[sn]=8;for(var sn=144;sn<256;++sn)xl[sn]=9;for(var sn=256;sn<280;++sn)xl[sn]=7;for(var sn=280;sn<288;++sn)xl[sn]=8;var h0=new ti(32);for(var sn=0;sn<32;++sn)h0[sn]=5;var hF=Ad(xl,9,0),fF=Ad(h0,5,0),T6=function(t){return(t+7)/8|0},pF=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ti(t.subarray(e,n))},Bi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Hu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},wm=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:I6,l:0};if(s==1){var a=new ti(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(R,I){return R.f-I.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=i[0].s,r=1;r<s;++r)i[r].s>g&&(g=i[r].s);var h=new as(g+1),v=Ny(n[d-1],h,0);if(v>e){var r=0,y=0,b=v-e,x=1<<b;for(i.sort(function(I,M){return h[M.s]-h[I.s]||I.f-M.f});r<s;++r){var w=i[r].s;if(h[w]>e)y+=x-(1<<v-h[w]),h[w]=e;else break}for(y>>=b;y>0;){var N=i[r].s;h[N]<e?y-=1<<e-h[N]++-1:++r}for(;r>=0&&y;--r){var k=i[r].s;h[k]==e&&(--h[k],++y)}v=e}return{t:new ti(h),l:v}},Ny=function(t,e,n){return t.s==-1?Math.max(Ny(t.l,e,n+1),Ny(t.r,e,n+1)):e[t.s]=n},Ew=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new as(++e),r=0,s=t[0],i=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Wu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},O6=function(t,e,n){var r=n.length,s=T6(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},Pw=function(t,e,n,r,s,i,a,o,c,u,d){Bi(e,d++,n),++s[256];for(var f=wm(s,15),g=f.t,h=f.l,v=wm(i,15),y=v.t,b=v.l,x=Ew(g),w=x.c,N=x.n,k=Ew(y),R=k.c,I=k.n,M=new as(19),j=0;j<w.length;++j)++M[w[j]&31];for(var j=0;j<R.length;++j)++M[R[j]&31];for(var A=wm(M,7),L=A.t,C=A.l,O=19;O>4&&!L[Aw[O-1]];--O);var H=u+5<<3,U=Wu(s,xl)+Wu(i,h0)+a,ee=Wu(s,g)+Wu(i,y)+a+14+3*O+Wu(M,L)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&H<=U&&H<=ee)return O6(e,d,t.subarray(c,c+u));var q,le,te,ce;if(Bi(e,d,1+(ee<U)),d+=2,ee<U){q=Ad(g,h,0),le=g,te=Ad(y,b,0),ce=y;var ge=Ad(L,C,0);Bi(e,d,N-257),Bi(e,d+5,I-1),Bi(e,d+10,O-4),d+=14;for(var j=0;j<O;++j)Bi(e,d+3*j,L[Aw[j]]);d+=3*O;for(var xe=[w,R],z=0;z<2;++z)for(var Q=xe[z],j=0;j<Q.length;++j){var T=Q[j]&31;Bi(e,d,ge[T]),d+=L[T],T>15&&(Bi(e,d,Q[j]>>5&127),d+=Q[j]>>12)}}else q=hF,le=xl,te=fF,ce=h0;for(var j=0;j<o;++j){var Z=r[j];if(Z>255){var T=Z>>18&31;Hu(e,d,q[T+257]),d+=le[T+257],T>7&&(Bi(e,d,Z>>23&31),d+=m2[T]);var F=Z&31;Hu(e,d,te[F]),d+=ce[F],F>3&&(Hu(e,d,Z>>5&8191),d+=y2[F])}else Hu(e,d,q[Z]),d+=le[Z]}return Hu(e,d,q[256]),d+le[256]},gF=new g2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I6=new ti(0),mF=function(t,e,n,r,s,i){var a=i.z||t.length,o=new ti(r+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(r,o.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=gF[e-1],g=f>>13,h=f&8191,v=(1<<n)-1,y=i.p||new as(32768),b=i.h||new as(v+1),x=Math.ceil(n/3),w=2*x,N=function(ue){return(t[ue]^t[ue+1]<<x^t[ue+2]<<w)&v},k=new g2(25e3),R=new as(288),I=new as(32),M=0,j=0,A=i.i||0,L=0,C=i.w||0,O=0;A+2<a;++A){var H=N(A),U=A&32767,ee=b[H];if(y[U]=ee,b[H]=U,C<=A){var q=a-A;if((M>7e3||L>24576)&&(q>423||!u)){d=Pw(t,c,0,k,R,I,j,L,O,A-O,d),L=M=j=0,O=A;for(var le=0;le<286;++le)R[le]=0;for(var le=0;le<30;++le)I[le]=0}var te=2,ce=0,ge=h,xe=U-ee&32767;if(q>2&&H==N(A-xe))for(var z=Math.min(g,q)-1,Q=Math.min(32767,A),T=Math.min(258,q);xe<=Q&&--ge&&U!=ee;){if(t[A+te]==t[A+te-xe]){for(var Z=0;Z<T&&t[A+Z]==t[A+Z-xe];++Z);if(Z>te){if(te=Z,ce=xe,Z>z)break;for(var F=Math.min(xe,Z-2),re=0,le=0;le<F;++le){var V=A-xe+le&32767,E=y[V],D=V-E&32767;D>re&&(re=D,ee=V)}}}U=ee,ee=y[U],xe+=U-ee&32767}if(ce){k[L++]=268435456|wy[te]<<18|Cw[ce];var G=wy[te]&31,he=Cw[ce]&31;j+=m2[G]+y2[he],++R[257+G],++I[he],C=A+te,++M}else k[L++]=t[A],++R[t[A]]}}for(A=Math.max(A,C);A<a;++A)k[L++]=t[A],++R[t[A]];d=Pw(t,c,u,k,R,I,j,L,O,A-O,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=b,i.p=y,i.i=A,i.w=C)}else{for(var A=i.w||0;A<a+u;A+=65535){var pe=A+65535;pe>=a&&(c[d/8|0]=u,pe=a),d=O6(c,d+1,t.subarray(A,pe))}i.i=a}return pF(o,0,r+T6(d)+s)},R6=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},yF=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new ti(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return mF(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},M6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},xF=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=R6();s.p(e.dictionary),M6(t,2,s.d())}};function jy(t,e){e||(e={});var n=R6();n.p(t);var r=yF(t,e,e.dictionary?6:2,4);return xF(r,e),M6(r,r.length-4,n.d()),r}var vF=typeof TextDecoder<"u"&&new TextDecoder,bF=0;try{vF.decode(I6,{stream:!0}),bF=1}catch{}function wF(t){if(Array.isArray(t))return t}function _F(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function NF(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lw(t,e):void 0}}function jF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tw(t,e){return wF(t)||_F(t,e)||NF(t,e)||jF()}function Ow(t,e="utf8"){return new TextDecoder(e).decode(t)}const SF=new TextEncoder;function kF(t){return SF.encode(t)}const AF=1024*8,CF=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),_m={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class x2{constructor(e=AF,n={}){Ie(this,"buffer");Ie(this,"byteLength");Ie(this,"byteOffset");Ie(this,"length");Ie(this,"offset");Ie(this,"lastWrittenByte");Ie(this,"littleEndian");Ie(this,"_data");Ie(this,"_mark");Ie(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof x2)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=_m[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===CF&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+r));o.reverse();const c=new _m[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new _m[n](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Ow(this.readBytes(e))}decodeText(e=1,n="utf8"){return Ow(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(kF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function nu(t){let e=t.length;for(;--e>=0;)t[e]=0}const EF=3,PF=258,D6=29,LF=256,TF=LF+1+D6,F6=30,OF=512,IF=new Array((TF+2)*2);nu(IF);const RF=new Array(F6*2);nu(RF);const MF=new Array(OF);nu(MF);const DF=new Array(PF-EF+1);nu(DF);const FF=new Array(D6);nu(FF);const BF=new Array(F6);nu(BF);const $F=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+e[r++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Sy=$F;const UF=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},zF=new Uint32Array(UF()),qF=(t,e,n,r)=>{const s=zF,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var pi=qF,ky={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const HF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var WF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)HF(n,r)&&(t[r]=n[r])}}return t},VF=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let a=t[r];n.set(a,s),s+=a.length}return n},$6={assign:WF,flattenChunks:VF};let U6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{U6=!1}const ah=new Uint8Array(256);for(let t=0;t<256;t++)ah[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ah[254]=ah[254]=1;var KF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,a=t.length,o=0;for(s=0;s<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,s=0;i<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const GF=(t,e)=>{if(e<65534&&t.subarray&&U6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var YF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let a=t[r++];if(a<128){i[s++]=a;continue}let o=ah[a];if(o>4){i[s++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return GF(i,s)},JF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ah[t[n]]>e?n:e},Ay={string2buf:KF,buf2string:YF,utf8border:JF};function XF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var QF=XF;const zf=16209,ZF=16191;var eB=function(e,n){let r,s,i,a,o,c,u,d,f,g,h,v,y,b,x,w,N,k,R,I,M,j,A,L;const C=e.state;r=e.next_in,A=e.input,s=r+(e.avail_in-5),i=e.next_out,L=e.output,a=i-(n-e.avail_out),o=i+(e.avail_out-257),c=C.dmax,u=C.wsize,d=C.whave,f=C.wnext,g=C.window,h=C.hold,v=C.bits,y=C.lencode,b=C.distcode,x=(1<<C.lenbits)-1,w=(1<<C.distbits)-1;e:do{v<15&&(h+=A[r++]<<v,v+=8,h+=A[r++]<<v,v+=8),N=y[h&x];t:for(;;){if(k=N>>>24,h>>>=k,v-=k,k=N>>>16&255,k===0)L[i++]=N&65535;else if(k&16){R=N&65535,k&=15,k&&(v<k&&(h+=A[r++]<<v,v+=8),R+=h&(1<<k)-1,h>>>=k,v-=k),v<15&&(h+=A[r++]<<v,v+=8,h+=A[r++]<<v,v+=8),N=b[h&w];n:for(;;){if(k=N>>>24,h>>>=k,v-=k,k=N>>>16&255,k&16){if(I=N&65535,k&=15,v<k&&(h+=A[r++]<<v,v+=8,v<k&&(h+=A[r++]<<v,v+=8)),I+=h&(1<<k)-1,I>c){e.msg="invalid distance too far back",C.mode=zf;break e}if(h>>>=k,v-=k,k=i-a,I>k){if(k=I-k,k>d&&C.sane){e.msg="invalid distance too far back",C.mode=zf;break e}if(M=0,j=g,f===0){if(M+=u-k,k<R){R-=k;do L[i++]=g[M++];while(--k);M=i-I,j=L}}else if(f<k){if(M+=u+f-k,k-=f,k<R){R-=k;do L[i++]=g[M++];while(--k);if(M=0,f<R){k=f,R-=k;do L[i++]=g[M++];while(--k);M=i-I,j=L}}}else if(M+=f-k,k<R){R-=k;do L[i++]=g[M++];while(--k);M=i-I,j=L}for(;R>2;)L[i++]=j[M++],L[i++]=j[M++],L[i++]=j[M++],R-=3;R&&(L[i++]=j[M++],R>1&&(L[i++]=j[M++]))}else{M=i-I;do L[i++]=L[M++],L[i++]=L[M++],L[i++]=L[M++],R-=3;while(R>2);R&&(L[i++]=L[M++],R>1&&(L[i++]=L[M++]))}}else if(k&64){e.msg="invalid distance code",C.mode=zf;break e}else{N=b[(N&65535)+(h&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){C.mode=ZF;break e}else{e.msg="invalid literal/length code",C.mode=zf;break e}else{N=y[(N&65535)+(h&(1<<k)-1)];continue t}break}}while(r<s&&i<o);R=v>>3,r-=R,v-=R<<3,h&=(1<<v)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<o?257+(o-i):257-(i-o),C.hold=h,C.bits=v};const Gl=15,Iw=852,Rw=592,Mw=0,Nm=1,Dw=2,tB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iB=(t,e,n,r,s,i,a,o)=>{const c=o.bits;let u=0,d=0,f=0,g=0,h=0,v=0,y=0,b=0,x=0,w=0,N,k,R,I,M,j=null,A;const L=new Uint16Array(Gl+1),C=new Uint16Array(Gl+1);let O=null,H,U,ee;for(u=0;u<=Gl;u++)L[u]=0;for(d=0;d<r;d++)L[e[n+d]]++;for(h=c,g=Gl;g>=1&&L[g]===0;g--);if(h>g&&(h=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<g&&L[f]===0;f++);for(h<f&&(h=f),b=1,u=1;u<=Gl;u++)if(b<<=1,b-=L[u],b<0)return-1;if(b>0&&(t===Mw||g!==1))return-1;for(C[1]=0,u=1;u<Gl;u++)C[u+1]=C[u]+L[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[C[e[n+d]]++]=d);if(t===Mw?(j=O=a,A=20):t===Nm?(j=tB,O=nB,A=257):(j=rB,O=sB,A=0),w=0,d=0,u=f,M=i,v=h,y=0,R=-1,x=1<<h,I=x-1,t===Nm&&x>Iw||t===Dw&&x>Rw)return 1;for(;;){H=u-y,a[d]+1<A?(U=0,ee=a[d]):a[d]>=A?(U=O[a[d]-A],ee=j[a[d]-A]):(U=96,ee=0),N=1<<u-y,k=1<<v,f=k;do k-=N,s[M+(w>>y)+k]=H<<24|U<<16|ee|0;while(k!==0);for(N=1<<u-1;w&N;)N>>=1;if(N!==0?(w&=N-1,w+=N):w=0,d++,--L[u]===0){if(u===g)break;u=e[n+a[d]]}if(u>h&&(w&I)!==R){for(y===0&&(y=h),M+=f,v=u-y,b=1<<v;v+y<g&&(b-=L[v+y],!(b<=0));)v++,b<<=1;if(x+=1<<v,t===Nm&&x>Iw||t===Dw&&x>Rw)return 1;R=w&I,s[R]=h<<24|v<<16|M-i|0}}return w!==0&&(s[M+w]=u-y<<24|64<<16|0),o.bits=h,0};var Cd=iB;const aB=0,z6=1,q6=2,{Z_FINISH:Fw,Z_BLOCK:oB,Z_TREES:qf,Z_OK:vl,Z_STREAM_END:lB,Z_NEED_DICT:cB,Z_STREAM_ERROR:Os,Z_DATA_ERROR:H6,Z_MEM_ERROR:W6,Z_BUF_ERROR:uB,Z_DEFLATED:Bw}=B6,q0=16180,$w=16181,Uw=16182,zw=16183,qw=16184,Hw=16185,Ww=16186,Vw=16187,Kw=16188,Gw=16189,f0=16190,$i=16191,jm=16192,Yw=16193,Sm=16194,Jw=16195,Xw=16196,Qw=16197,Zw=16198,Hf=16199,Wf=16200,e_=16201,t_=16202,n_=16203,r_=16204,s_=16205,km=16206,i_=16207,a_=16208,on=16209,V6=16210,K6=16211,dB=852,hB=592,fB=15,pB=fB,o_=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function gB(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<q0||e.mode>K6?1:0},G6=t=>{if(Sl(t))return Os;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=q0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(dB),e.distcode=e.distdyn=new Int32Array(hB),e.sane=1,e.back=-1,vl},Y6=t=>{if(Sl(t))return Os;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,G6(t)},J6=(t,e)=>{let n;if(Sl(t))return Os;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Os:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Y6(t))},X6=(t,e)=>{if(!t)return Os;const n=new gB;t.state=n,n.strm=t,n.window=null,n.mode=q0;const r=J6(t,e);return r!==vl&&(t.state=null),r},mB=t=>X6(t,pB);let l_=!0,Am,Cm;const yB=t=>{if(l_){Am=new Int32Array(512),Cm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Cd(z6,t.lens,0,288,Am,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Cd(q6,t.lens,0,32,Cm,0,t.work,{bits:5}),l_=!1}t.lencode=Am,t.lenbits=9,t.distcode=Cm,t.distbits=5},Q6=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},xB=(t,e)=>{let n,r,s,i,a,o,c,u,d,f,g,h,v,y,b=0,x,w,N,k,R,I,M,j;const A=new Uint8Array(4);let L,C;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sl(t)||!t.output||!t.input&&t.avail_in!==0)return Os;n=t.state,n.mode===$i&&(n.mode=jm),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,f=o,g=c,j=vl;e:for(;;)switch(n.mode){case q0:if(n.wrap===0){n.mode=jm;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,A[0]=u&255,A[1]=u>>>8&255,n.check=pi(n.check,A,2,0),u=0,d=0,n.mode=$w;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=on;break}if((u&15)!==Bw){t.msg="unknown compression method",n.mode=on;break}if(u>>>=4,d-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){t.msg="invalid window size",n.mode=on;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Gw:$i,u=0,d=0;break;case $w:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Bw){t.msg="unknown compression method",n.mode=on;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=on;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=pi(n.check,A,2,0)),u=0,d=0,n.mode=Uw;case Uw:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,A[2]=u>>>16&255,A[3]=u>>>24&255,n.check=pi(n.check,A,4,0)),u=0,d=0,n.mode=zw;case zw:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=pi(n.check,A,2,0)),u=0,d=0,n.mode=qw;case qw:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(A[0]=u&255,A[1]=u>>>8&255,n.check=pi(n.check,A,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Hw;case Hw:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),M)),n.flags&512&&n.wrap&4&&(n.check=pi(n.check,r,h,i)),o-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=Ww;case Ww:if(n.flags&2048){if(o===0)break e;h=0;do M=r[i+h++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=pi(n.check,r,h,i)),o-=h,i+=h,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Vw;case Vw:if(n.flags&4096){if(o===0)break e;h=0;do M=r[i+h++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=pi(n.check,r,h,i)),o-=h,i+=h,M)break e}else n.head&&(n.head.comment=null);n.mode=Kw;case Kw:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=on;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=$i;break;case Gw:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.adler=n.check=o_(u),u=0,d=0,n.mode=f0;case f0:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,cB;t.adler=n.check=1,n.mode=$i;case $i:if(e===oB||e===qf)break e;case jm:if(n.last){u>>>=d&7,d-=d&7,n.mode=km;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Yw;break;case 1:if(yB(n),n.mode=Hf,e===qf){u>>>=2,d-=2;break e}break;case 2:n.mode=Xw;break;case 3:t.msg="invalid block type",n.mode=on}u>>>=2,d-=2;break;case Yw:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=on;break}if(n.length=u&65535,u=0,d=0,n.mode=Sm,e===qf)break e;case Sm:n.mode=Jw;case Jw:if(h=n.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;s.set(r.subarray(i,i+h),a),o-=h,i+=h,c-=h,a+=h,n.length-=h;break}n.mode=$i;break;case Xw:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=on;break}n.have=0,n.mode=Qw;case Qw:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.lens[O[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},j=Cd(aB,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,j){t.msg="invalid code lengths set",n.mode=on;break}n.have=0,n.mode=Zw;case Zw:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,w=b>>>16&255,N=b&65535,!(x<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(N<16)u>>>=x,d-=x,n.lens[n.have++]=N;else{if(N===16){for(C=x+2;d<C;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){t.msg="invalid bit length repeat",n.mode=on;break}M=n.lens[n.have-1],h=3+(u&3),u>>>=2,d-=2}else if(N===17){for(C=x+3;d<C;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,M=0,h=3+(u&7),u>>>=3,d-=3}else{for(C=x+7;d<C;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,M=0,h=11+(u&127),u>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=on;break}for(;h--;)n.lens[n.have++]=M}}if(n.mode===on)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=on;break}if(n.lenbits=9,L={bits:n.lenbits},j=Cd(z6,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,j){t.msg="invalid literal/lengths set",n.mode=on;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},j=Cd(q6,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,j){t.msg="invalid distances set",n.mode=on;break}if(n.mode=Hf,e===qf)break e;case Hf:n.mode=Wf;case Wf:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,eB(t,g),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===$i&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,w=b>>>16&255,N=b&65535,!(x<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(w&&!(w&240)){for(k=x,R=w,I=N;b=n.lencode[I+((u&(1<<k+R)-1)>>k)],x=b>>>24,w=b>>>16&255,N=b&65535,!(k+x<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=x,d-=x,n.back+=x,n.length=N,w===0){n.mode=s_;break}if(w&32){n.back=-1,n.mode=$i;break}if(w&64){t.msg="invalid literal/length code",n.mode=on;break}n.extra=w&15,n.mode=e_;case e_:if(n.extra){for(C=n.extra;d<C;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=t_;case t_:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,w=b>>>16&255,N=b&65535,!(x<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(!(w&240)){for(k=x,R=w,I=N;b=n.distcode[I+((u&(1<<k+R)-1)>>k)],x=b>>>24,w=b>>>16&255,N=b&65535,!(k+x<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=x,d-=x,n.back+=x,w&64){t.msg="invalid distance code",n.mode=on;break}n.offset=N,n.extra=w&15,n.mode=n_;case n_:if(n.extra){for(C=n.extra;d<C;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=on;break}n.mode=r_;case r_:if(c===0)break e;if(h=g-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=on;break}h>n.wnext?(h-=n.wnext,v=n.wsize-h):v=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=s,v=a-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do s[a++]=y[v++];while(--h);n.length===0&&(n.mode=Wf);break;case s_:if(c===0)break e;s[a++]=n.length,c--,n.mode=Wf;break;case km:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?pi(n.check,s,g,a-g):Sy(n.check,s,g,a-g)),g=c,n.wrap&4&&(n.flags?u:o_(u))!==n.check){t.msg="incorrect data check",n.mode=on;break}u=0,d=0}n.mode=i_;case i_:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=on;break}u=0,d=0}n.mode=a_;case a_:j=lB;break e;case on:j=H6;break e;case V6:return W6;case K6:default:return Os}return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<on&&(n.mode<km||e!==Fw))&&Q6(t,t.output,t.next_out,g-t.avail_out),f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?pi(n.check,s,g,t.next_out-g):Sy(n.check,s,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===$i?128:0)+(n.mode===Hf||n.mode===Sm?256:0),(f===0&&g===0||e===Fw)&&j===vl&&(j=uB),j},vB=t=>{if(Sl(t))return Os;let e=t.state;return e.window&&(e.window=null),t.state=null,vl},bB=(t,e)=>{if(Sl(t))return Os;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,vl):Os},wB=(t,e)=>{const n=e.length;let r,s,i;return Sl(t)||(r=t.state,r.wrap!==0&&r.mode!==f0)?Os:r.mode===f0&&(s=1,s=Sy(s,e,n,0),s!==r.check)?H6:(i=Q6(t,e,n,n),i?(r.mode=V6,W6):(r.havedict=1,vl))};var _B=Y6,NB=J6,jB=G6,SB=mB,kB=X6,AB=xB,CB=vB,EB=bB,PB=wB,LB="pako inflate (from Nodeca project)",Gi={inflateReset:_B,inflateReset2:NB,inflateResetKeep:jB,inflateInit:SB,inflateInit2:kB,inflate:AB,inflateEnd:CB,inflateGetHeader:EB,inflateSetDictionary:PB,inflateInfo:LB};function TB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var OB=TB;const Z6=Object.prototype.toString,{Z_NO_FLUSH:IB,Z_FINISH:RB,Z_OK:oh,Z_STREAM_END:Em,Z_NEED_DICT:Pm,Z_STREAM_ERROR:MB,Z_DATA_ERROR:c_,Z_MEM_ERROR:DB}=B6;function vh(t){this.options=$6.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new QF,this.strm.avail_out=0;let n=Gi.inflateInit2(this.strm,e.windowBits);if(n!==oh)throw new Error(ky[n]);if(this.header=new OB,Gi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ay.string2buf(e.dictionary):Z6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gi.inflateSetDictionary(this.strm,e.dictionary),n!==oh)))throw new Error(ky[n])}vh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?RB:IB,Z6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Gi.inflate(n,a),i===Pm&&s&&(i=Gi.inflateSetDictionary(n,s),i===oh?i=Gi.inflate(n,a):i===c_&&(i=Pm));n.avail_in>0&&i===Em&&n.state.wrap>0&&t[n.next_in]!==0;)Gi.inflateReset(n),i=Gi.inflate(n,a);switch(i){case MB:case c_:case Pm:case DB:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===Em))if(this.options.to==="string"){let c=Ay.utf8border(n.output,n.next_out),u=n.next_out-c,d=Ay.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===oh&&o===0)){if(i===Em)return i=Gi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vh.prototype.onData=function(t){this.chunks.push(t)};vh.prototype.onEnd=function(t){t===oh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$6.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function FB(t,e){const n=new vh(e);if(n.push(t),n.err)throw n.msg||ky[n.err];return n.result}var BB=vh,$B=FB,UB={Inflate:BB,inflate:$B};const{Inflate:zB,inflate:qB}=UB;var u_=zB,HB=qB;const eS=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;eS[t]=e}const d_=4294967295;function WB(t,e,n){let r=t;for(let s=0;s<n;s++)r=eS[(r^e[s])&255]^r>>>8;return r}function VB(t,e){return(WB(d_,t,e)^d_)>>>0}function h_(t,e,n){const r=t.readUint32(),s=VB(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function tS(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function nS(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function rS(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function sS(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function iS(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+KB(e[i-s],n[i],n[i-s])&255}}function KB(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),a=Math.abs(r-n);return s<=i&&s<=a?t:i<=a?e:n}function GB(t,e,n,r,s,i){switch(t){case 0:tS(e,n,s);break;case 1:nS(e,n,s,i);break;case 2:rS(e,n,r,s);break;case 3:sS(e,n,r,s,i);break;case 4:iS(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const YB=new Uint16Array([255]),JB=new Uint8Array(YB.buffer),XB=JB[0]===255;function QB(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,c=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const f=a[d],g=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(g<=0||h<=0)continue;const v=g*o,y=new Uint8Array(v);for(let b=0;b<h;b++){const x=e[u++],w=e.subarray(u,u+v);u+=v;const N=new Uint8Array(v);GB(x,w,N,y,v,o),y.set(N);for(let k=0;k<g;k++){const R=f.x+k*f.xStep,I=f.y+b*f.yStep;if(!(R>=n||I>=r))for(let M=0;M<o;M++)c[(I*n+R)*o+M]=N[k*o+M]}}}if(i===16){const d=new Uint16Array(c.buffer);if(XB)for(let f=0;f<d.length;f++)d[f]=ZB(d[f]);return d}else return c}function ZB(t){return(t&255)<<8|t>>8&255}const e$=new Uint16Array([255]),t$=new Uint8Array(e$.buffer),n$=t$[0]===255,r$=new Uint8Array(0);function f_(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*n),c=new Uint8Array(r*o);let u=r$,d=0,f,g;for(let h=0;h<r;h++){switch(f=e.subarray(d+1,d+1+o),g=c.subarray(h*o,(h+1)*o),e[d]){case 0:tS(f,g,o);break;case 1:nS(f,g,o,a);break;case 2:rS(f,g,u,o);break;case 3:sS(f,g,u,o,a);break;case 4:iS(f,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=g,d+=o+1}if(i===16){const h=new Uint16Array(c.buffer);if(n$)for(let v=0;v<h.length;v++)h[v]=s$(h[v]);return h}else return c}function s$(t){return(t&255)<<8|t>>8&255}const mp=Uint8Array.of(137,80,78,71,13,10,26,10);function p_(t){if(!i$(t.readBytes(mp.length)))throw new Error("wrong PNG signature")}function i$(t){if(t.length<mp.length)return!1;for(let e=0;e<mp.length;e++)if(t[e]!==mp[e])return!1;return!0}const a$="tEXt",o$=0,aS=new TextDecoder("latin1");function l$(t){if(u$(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const c$=/^[\u0000-\u00FF]*$/;function u$(t){if(!c$.test(t))throw new Error("invalid latin1 text")}function d$(t,e,n){const r=oS(e);t[r]=h$(e,n-r.length-1)}function oS(t){for(t.mark();t.readByte()!==o$;);const e=t.offset;t.reset();const n=aS.decode(t.readBytes(e-t.offset-1));return t.skip(1),l$(n),n}function h$(t,e){return aS.decode(t.readBytes(e))}const Zr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Lm={UNKNOWN:-1,DEFLATE:0},g_={UNKNOWN:-1,ADAPTIVE:0},Tm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vf={NONE:0,BACKGROUND:1,PREVIOUS:2},Om={SOURCE:0,OVER:1};class f$ extends x2{constructor(n,r={}){super(n);Ie(this,"_checkCrc");Ie(this,"_inflator");Ie(this,"_png");Ie(this,"_apng");Ie(this,"_end");Ie(this,"_hasPalette");Ie(this,"_palette");Ie(this,"_hasTransparency");Ie(this,"_transparency");Ie(this,"_compressionMethod");Ie(this,"_filterMethod");Ie(this,"_interlaceMethod");Ie(this,"_colorType");Ie(this,"_isAnimated");Ie(this,"_numberOfFrames");Ie(this,"_numberOfPlays");Ie(this,"_frames");Ie(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new u_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Lm.UNKNOWN,this._filterMethod=g_.UNKNOWN,this._interlaceMethod=Tm.UNKNOWN,this._colorType=Zr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(p_(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(p_(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case a$:d$(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?h_(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?h_(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=p$(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Zr.GREYSCALE:s=1;break;case Zr.TRUECOLOUR:s=3;break;case Zr.INDEXED_COLOUR:s=1;break;case Zr.GREYSCALE_ALPHA:s=2;break;case Zr.TRUECOLOUR_ALPHA:s=4;break;case Zr.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Lm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Zr.GREYSCALE:case Zr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Zr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Zr.UNKNOWN:case Zr.GREYSCALE_ALPHA:case Zr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=oS(this),s=this.readUint8();if(s!==Lm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:HB(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=f_({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case Vf.NONE:break;case Vf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*n.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[o+c]=0}break;case Vf.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(a,o)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case Om.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let d=0;d<this._png.channels;d++)n.data[c+d]=r.data[u+d]}break;case Om.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let d=0;d<this._png.channels;d++){const f=r.data[u+this._png.channels-1]/s,g=d%(this._png.channels-1)===0?1:r.data[u+d],h=Math.floor(f*g+(1-f)*n.data[c+d]);n.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==g_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Tm.NO_INTERLACE)this._png.data=f_({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Tm.ADAM7)this._png.data=QB({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vf.NONE,blendOp:Om.SOURCE,data:n}),this._inflator=new u_,this._writingDataChunks=!1}}function p$(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var m_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(m_||(m_={}));function g$(t,e){return new f$(t,e).decode()}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Im(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var Gt={log:Im,warn:function(t){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):Im.call(null,arguments))},error:function(t){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):Im(t))}};function Rm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Xo(r.response,e,n)},r.onerror=function(){Gt.error("could not download file")},r.send()}function y_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xo=ct.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ct.URL||ct.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?y_(s.href)?Rm(t,e,n):Kf(s,s.target="_blank"):Kf(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Kf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(y_(t))Rm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Kf(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:zt(i)!=="object"&&(Gt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Rm(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(ct.HTMLElement)||ct.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=ct.URL||ct.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var yp=ct.atob.bind(ct),x_=ct.btoa.bind(ct);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mm(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=mr(n,r,s,i,e[0],7,-680876936),i=mr(i,n,r,s,e[1],12,-389564586),s=mr(s,i,n,r,e[2],17,606105819),r=mr(r,s,i,n,e[3],22,-1044525330),n=mr(n,r,s,i,e[4],7,-176418897),i=mr(i,n,r,s,e[5],12,1200080426),s=mr(s,i,n,r,e[6],17,-1473231341),r=mr(r,s,i,n,e[7],22,-45705983),n=mr(n,r,s,i,e[8],7,1770035416),i=mr(i,n,r,s,e[9],12,-1958414417),s=mr(s,i,n,r,e[10],17,-42063),r=mr(r,s,i,n,e[11],22,-1990404162),n=mr(n,r,s,i,e[12],7,1804603682),i=mr(i,n,r,s,e[13],12,-40341101),s=mr(s,i,n,r,e[14],17,-1502002290),n=yr(n,r=mr(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=yr(i,n,r,s,e[6],9,-1069501632),s=yr(s,i,n,r,e[11],14,643717713),r=yr(r,s,i,n,e[0],20,-373897302),n=yr(n,r,s,i,e[5],5,-701558691),i=yr(i,n,r,s,e[10],9,38016083),s=yr(s,i,n,r,e[15],14,-660478335),r=yr(r,s,i,n,e[4],20,-405537848),n=yr(n,r,s,i,e[9],5,568446438),i=yr(i,n,r,s,e[14],9,-1019803690),s=yr(s,i,n,r,e[3],14,-187363961),r=yr(r,s,i,n,e[8],20,1163531501),n=yr(n,r,s,i,e[13],5,-1444681467),i=yr(i,n,r,s,e[2],9,-51403784),s=yr(s,i,n,r,e[7],14,1735328473),n=xr(n,r=yr(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=xr(i,n,r,s,e[8],11,-2022574463),s=xr(s,i,n,r,e[11],16,1839030562),r=xr(r,s,i,n,e[14],23,-35309556),n=xr(n,r,s,i,e[1],4,-1530992060),i=xr(i,n,r,s,e[4],11,1272893353),s=xr(s,i,n,r,e[7],16,-155497632),r=xr(r,s,i,n,e[10],23,-1094730640),n=xr(n,r,s,i,e[13],4,681279174),i=xr(i,n,r,s,e[0],11,-358537222),s=xr(s,i,n,r,e[3],16,-722521979),r=xr(r,s,i,n,e[6],23,76029189),n=xr(n,r,s,i,e[9],4,-640364487),i=xr(i,n,r,s,e[12],11,-421815835),s=xr(s,i,n,r,e[15],16,530742520),n=vr(n,r=xr(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=vr(i,n,r,s,e[7],10,1126891415),s=vr(s,i,n,r,e[14],15,-1416354905),r=vr(r,s,i,n,e[5],21,-57434055),n=vr(n,r,s,i,e[12],6,1700485571),i=vr(i,n,r,s,e[3],10,-1894986606),s=vr(s,i,n,r,e[10],15,-1051523),r=vr(r,s,i,n,e[1],21,-2054922799),n=vr(n,r,s,i,e[8],6,1873313359),i=vr(i,n,r,s,e[15],10,-30611744),s=vr(s,i,n,r,e[6],15,-1560198380),r=vr(r,s,i,n,e[13],21,1309151649),n=vr(n,r,s,i,e[4],6,-145523070),i=vr(i,n,r,s,e[11],10,-1120210379),s=vr(s,i,n,r,e[2],15,718787259),r=vr(r,s,i,n,e[9],21,-343485551),t[0]=Ka(n,t[0]),t[1]=Ka(r,t[1]),t[2]=Ka(s,t[2]),t[3]=Ka(i,t[3])}function H0(t,e,n,r,s,i){return e=Ka(Ka(e,t),Ka(r,i)),Ka(e<<s|e>>>32-s,n)}function mr(t,e,n,r,s,i,a){return H0(e&n|~e&r,t,e,s,i,a)}function yr(t,e,n,r,s,i,a){return H0(e&r|n&~r,t,e,s,i,a)}function xr(t,e,n,r,s,i,a){return H0(e^n^r,t,e,s,i,a)}function vr(t,e,n,r,s,i,a){return H0(n^(e|~r),t,e,s,i,a)}function cS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Mm(r,m$(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Mm(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Mm(r,s),r}function m$(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var v_="0123456789abcdef".split("");function y$(t){for(var e="",n=0;n<4;n++)e+=v_[t>>8*n+4&15]+v_[t>>8*n&15];return e}function x$(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cy(t){return cS(t).map(x$).join("")}var v$=function(t){for(var e=0;e<t.length;e++)t[e]=y$(t[e]);return t.join("")}(cS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ka(t,e){if(v$){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ey(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+a.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,r=o}else o=r;var f=e.length,g=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=o[g=(g+1)%256]))%256,o[g]=o[h],o[h]=d,a=o[(o[g]+o[h])%256],v+=String.fromCharCode(e.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var b_={print:4,modify:8,copy:16,"annot-forms":32};function Zl(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(b_.perm!==void 0)throw new Error("Invalid permission: "+o);s+=b_[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Cy(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ey(this.encryptionKey,this.padding)}function ec(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function w_(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(o){ct.console&&Gt.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function p0(t){if(!(this instanceof p0))return new p0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function el(t,e,n,r,s){if(!(this instanceof el))return new el(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uS.call(this,r,s)}function pc(t,e,n,r,s){if(!(this instanceof pc))return new pc(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uS.call(this,r,s)}function Ze(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,u="S",d=null;zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=w_;var v="1.3",y=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(_){v=_};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var x=h.__private__.getPageFormat=function(_){return b[_]};s=s||"a4";var w="compat",N="advanced",k=w;function R(){this.saveGraphicsState(),J(new nt(it,0,0,-it,0,Co()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",k=N}function I(){this.restoreGraphicsState(),u="S",k=w}var M=h.__private__.combineFontStyleAndFontWeight=function(_,B){if(_=="bold"&&B=="normal"||_=="bold"&&B==400||_=="normal"&&B=="italic"||_=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(_=B==400||B==="normal"?_==="italic"?"italic":"normal":B!=700&&B!=="bold"||_!=="normal"?(B==700?"bold":B)+""+_:"bold"),_};h.advancedAPI=function(_){var B=k===w;return B&&R.call(this),typeof _!="function"||(_(this),B&&I.call(this)),this},h.compatAPI=function(_){var B=k===N;return B&&I.call(this),typeof _!="function"||(_(this),B&&R.call(this)),this},h.isAdvancedAPI=function(){return k===N};var j,A=function(_){if(k!==N)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(_,B){var ae=e||B;if(isNaN(_)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ae).replace(/0+$/,"")};j=h.hpf=h.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return L(_,16)};var C=h.f2=h.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return L(_,2)},O=h.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return L(_,3)},H=h.scale=h.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return k===w?_*it:k===N?_:void 0},U=function(_){return H(function(B){return k===w?Co()-B:k===N?B:void 0}(_))};h.__private__.setPrecision=h.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ee,q="00000000000000000000000000000000",le=h.__private__.getFileId=function(){return q},te=h.__private__.setFileId=function(_){return q=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(jn=new Zl(d.userPermissions,d.userPassword,d.ownerPassword,q)),q};h.setFileId=function(_){return te(_),this},h.getFileId=function(){return le()};var ce=h.__private__.convertDateToPDFDate=function(_){var B=_.getTimezoneOffset(),ae=B<0?"+":"-",de=Math.floor(Math.abs(B/60)),ye=Math.abs(B%60),ke=[ae,T(de),"'",T(ye),"'"].join("");return["D:",_.getFullYear(),T(_.getMonth()+1),T(_.getDate()),T(_.getHours()),T(_.getMinutes()),T(_.getSeconds()),ke].join("")},ge=h.__private__.convertPDFDateToDate=function(_){var B=parseInt(_.substr(2,4),10),ae=parseInt(_.substr(6,2),10)-1,de=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),ke=parseInt(_.substr(12,2),10),Pe=parseInt(_.substr(14,2),10);return new Date(B,ae,de,ye,ke,Pe,0)},xe=h.__private__.setCreationDate=function(_){var B;if(_===void 0&&(_=new Date),_ instanceof Date)B=ce(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=_}return ee=B},z=h.__private__.getCreationDate=function(_){var B=ee;return _==="jsDate"&&(B=ge(ee)),B};h.setCreationDate=function(_){return xe(_),this},h.getCreationDate=function(_){return z(_)};var Q,T=h.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},Z=h.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},F=0,re=[],V=[],E=0,D=[],G=[],he=!1,pe=V;h.__private__.setCustomOutputDestination=function(_){he=!0,pe=_};var ue=function(_){he||(pe=_)};h.__private__.resetCustomOutputDestination=function(){he=!1,pe=V};var J=h.__private__.out=function(_){return _=_.toString(),E+=_.length+1,pe.push(_),pe},Re=h.__private__.write=function(_){return J(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(_){for(var B=_.length,ae=new ArrayBuffer(B),de=new Uint8Array(ae);B--;)de[B]=_.charCodeAt(B);return ae},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Me};var Se=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(_){return Se=k===N?_/it:_,this};var Oe,Ce=h.__private__.getFontSize=h.getFontSize=function(){return k===w?Se:Se*it},$e=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(_){return $e=_,this},h.__private__.getR2L=h.getR2L=function(){return $e};var ze,He=h.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Oe=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Oe=_}else Oe=parseInt(_,10)};h.__private__.getZoomMode=function(){return Oe};var at,ot=h.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ze=_};h.__private__.getPageMode=function(){return ze};var Tt=h.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');at=_};h.__private__.getLayoutMode=function(){return at},h.__private__.setDisplayMode=h.setDisplayMode=function(_,B,ae){return He(_),Tt(B),ot(ae),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(_){if(Object.keys(ht).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[_]},h.__private__.getDocumentProperties=function(){return ht},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(_){for(var B in ht)ht.hasOwnProperty(B)&&_[B]&&(ht[B]=_[B]);return this},h.__private__.setDocumentProperty=function(_,B){if(Object.keys(ht).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[_]=B};var et,it,tt,Wt,Ct,Ue={},ft={},Rt=[],rt={},Nt={},pt={},cn={},Nn=null,Ft=0,lt=[],Et=new w_(h),si=t.hotfixes||[],zn={},ds={},Hr=[],nt=function _(B,ae,de,ye,ke,Pe){if(!(this instanceof _))return new _(B,ae,de,ye,ke,Pe);isNaN(B)&&(B=1),isNaN(ae)&&(ae=0),isNaN(de)&&(de=0),isNaN(ye)&&(ye=1),isNaN(ke)&&(ke=0),isNaN(Pe)&&(Pe=0),this._matrix=[B,ae,de,ye,ke,Pe]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(_)},nt.prototype.multiply=function(_){var B=_.sx*this.sx+_.shy*this.shx,ae=_.sx*this.shy+_.shy*this.sy,de=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,ke=_.tx*this.sx+_.ty*this.shx+this.tx,Pe=_.tx*this.shy+_.ty*this.sy+this.ty;return new nt(B,ae,de,ye,ke,Pe)},nt.prototype.decompose=function(){var _=this.sx,B=this.shy,ae=this.shx,de=this.sy,ye=this.tx,ke=this.ty,Pe=Math.sqrt(_*_+B*B),Ke=(_/=Pe)*ae+(B/=Pe)*de;ae-=_*Ke,de-=B*Ke;var Xe=Math.sqrt(ae*ae+de*de);return Ke/=Xe,_*(de/=Xe)<B*(ae/=Xe)&&(_=-_,B=-B,Ke=-Ke,Pe=-Pe),{scale:new nt(Pe,0,0,Xe,0,0),translate:new nt(1,0,0,1,ye,ke),rotate:new nt(_,B,-B,_,0,0),skew:new nt(1,0,Ke,1,0,0)}},nt.prototype.toString=function(_){return this.join(" ")},nt.prototype.inversed=function(){var _=this.sx,B=this.shy,ae=this.shx,de=this.sy,ye=this.tx,ke=this.ty,Pe=1/(_*de-B*ae),Ke=de*Pe,Xe=-B*Pe,dt=-ae*Pe,mt=_*Pe;return new nt(Ke,Xe,dt,mt,-Ke*ye-dt*ke,-Xe*ye-mt*ke)},nt.prototype.applyToPoint=function(_){var B=_.x*this.sx+_.y*this.shx+this.tx,ae=_.x*this.shy+_.y*this.sy+this.ty;return new ko(B,ae)},nt.prototype.applyToRectangle=function(_){var B=this.applyToPoint(_),ae=this.applyToPoint(new ko(_.x+_.w,_.y+_.h));return new fu(B.x,B.y,ae.x-B.x,ae.y-B.y)},nt.prototype.clone=function(){var _=this.sx,B=this.shy,ae=this.shx,de=this.sy,ye=this.tx,ke=this.ty;return new nt(_,B,ae,de,ye,ke)},h.Matrix=nt;var hs=h.matrixMult=function(_,B){return B.multiply(_)},ne=new nt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ne;var _e=function(_,B){if(!Nt[_]){var ae=(B instanceof el?"Sh":"P")+(Object.keys(rt).length+1).toString(10);B.id=ae,Nt[_]=ae,rt[ae]=B,Et.publish("addPattern",B)}};h.ShadingPattern=el,h.TilingPattern=pc,h.addShadingPattern=function(_,B){return A("addShadingPattern()"),_e(_,B),this},h.beginTilingPattern=function(_){A("beginTilingPattern()"),pu(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},h.endTilingPattern=function(_,B){A("endTilingPattern()"),B.stream=G[Q].join(`
`),_e(_,B),Et.publish("endTilingPattern",B),Hr.pop().restore()};var _t,ut=h.__private__.newObject=function(){var _=Mt();return Yt(_,!0),_},Mt=h.__private__.newObjectDeferred=function(){return F++,re[F]=function(){return E},F},Yt=function(_,B){return B=typeof B=="boolean"&&B,re[_]=E,B&&J(_+" 0 obj"),_},yo=h.__private__.newAdditionalObject=function(){var _={objId:Mt(),content:""};return D.push(_),_},ha=Mt(),Is=Mt(),ii=h.__private__.decodeColorString=function(_){var B=_.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ae=parseFloat(B[0]);B=[ae,ae,ae,"r"]}for(var de="#",ye=0;ye<3;ye++)de+=("0"+Math.floor(255*parseFloat(B[ye])).toString(16)).slice(-2);return de},Rs=h.__private__.encodeColorString=function(_){var B;typeof _=="string"&&(_={ch1:_});var ae=_.ch1,de=_.ch2,ye=_.ch3,ke=_.ch4,Pe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var Ke=new lS(ae);if(Ke.ok)ae=Ke.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Xe=parseInt(ae.substr(1),16);ae=Xe>>16&255,de=Xe>>8&255,ye=255&Xe}if(de===void 0||ke===void 0&&ae===de&&de===ye)B=typeof ae=="string"?ae+" "+Pe[0]:_.precision===2?C(ae/255)+" "+Pe[0]:O(ae/255)+" "+Pe[0];else if(ke===void 0||zt(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return["1.","1.","1.",Pe[1]].join(" ");B=typeof ae=="string"?[ae,de,ye,Pe[1]].join(" "):_.precision===2?[C(ae/255),C(de/255),C(ye/255),Pe[1]].join(" "):[O(ae/255),O(de/255),O(ye/255),Pe[1]].join(" ")}else B=typeof ae=="string"?[ae,de,ye,ke,Pe[2]].join(" "):_.precision===2?[C(ae),C(de),C(ye),C(ke),Pe[2]].join(" "):[O(ae),O(de),O(ye),O(ke),Pe[2]].join(" ");return B},Ms=h.__private__.getFilters=function(){return a},fs=h.__private__.putStream=function(_){var B=(_=_||{}).data||"",ae=_.filters||Ms(),de=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,ke=B.length,Pe=_.objectId,Ke=function(qn){return qn};if(d!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ke=jn.encryptor(Pe,0));var Xe={};ae===!0&&(ae=["FlateEncode"]);var dt=_.additionalKeyValues||[],mt=(Xe=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(B,ae):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(Xe.data.length!==0&&(dt.push({key:"Length",value:Xe.data.length}),ye===!0&&dt.push({key:"Length1",value:ke})),mt.length!=0)if(mt.split("/").length-1==1)dt.push({key:"Filter",value:mt});else{dt.push({key:"Filter",value:"["+mt+"]"});for(var It=0;It<dt.length;It+=1)if(dt[It].key==="DecodeParms"){for(var un=[],Mn=0;Mn<Xe.reverseChain.split("/").length-1;Mn+=1)un.push("null");un.push(dt[It].value),dt[It].value="["+un.join(" ")+"]"}}J("<<");for(var Jt=0;Jt<dt.length;Jt++)J("/"+dt[Jt].key+" "+dt[Jt].value);J(">>"),Xe.data.length!==0&&(J("stream"),J(Ke(Xe.data)),J("endstream"))},xo=h.__private__.putPage=function(_){var B=_.number,ae=_.data,de=_.objId,ye=_.contentsObjId;Yt(de,!0),J("<</Type /Page"),J("/Parent "+_.rootDictionaryObjId+" 0 R"),J("/Resources "+_.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(j(_.mediaBox.bottomLeftX))+" "+parseFloat(j(_.mediaBox.bottomLeftY))+" "+j(_.mediaBox.topRightX)+" "+j(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&J("/CropBox ["+j(_.cropBox.bottomLeftX)+" "+j(_.cropBox.bottomLeftY)+" "+j(_.cropBox.topRightX)+" "+j(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&J("/BleedBox ["+j(_.bleedBox.bottomLeftX)+" "+j(_.bleedBox.bottomLeftY)+" "+j(_.bleedBox.topRightX)+" "+j(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&J("/TrimBox ["+j(_.trimBox.bottomLeftX)+" "+j(_.trimBox.bottomLeftY)+" "+j(_.trimBox.topRightX)+" "+j(_.trimBox.topRightY)+"]"),_.artBox!==null&&J("/ArtBox ["+j(_.artBox.bottomLeftX)+" "+j(_.artBox.bottomLeftY)+" "+j(_.artBox.topRightX)+" "+j(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&J("/UserUnit "+_.userUnit),Et.publish("putPage",{objId:de,pageContext:lt[B],pageNumber:B,page:ae}),J("/Contents "+ye+" 0 R"),J(">>"),J("endobj");var ke=ae.join(`
`);return k===N&&(ke+=`
Q`),Yt(ye,!0),fs({data:ke,filters:Ms(),objectId:ye}),J("endobj"),de},ai=h.__private__.putPages=function(){var _,B,ae=[];for(_=1;_<=Ft;_++)lt[_].objId=Mt(),lt[_].contentsObjId=Mt();for(_=1;_<=Ft;_++)ae.push(xo({number:_,data:G[_],objId:lt[_].objId,contentsObjId:lt[_].contentsObjId,mediaBox:lt[_].mediaBox,cropBox:lt[_].cropBox,bleedBox:lt[_].bleedBox,trimBox:lt[_].trimBox,artBox:lt[_].artBox,userUnit:lt[_].userUnit,rootDictionaryObjId:ha,resourceDictionaryObjId:Is}));Yt(ha,!0),J("<</Type /Pages");var de="/Kids [";for(B=0;B<Ft;B++)de+=ae[B]+" 0 R ";J(de+"]"),J("/Count "+Ft),J(">>"),J("endobj"),Et.publish("postPutPages")},vo=function(_){Et.publish("putFont",{font:_,out:J,newObject:ut,putStream:fs}),_.isAlreadyPutted!==!0&&(_.objectNumber=ut(),J("<<"),J("/Type /Font"),J("/BaseFont /"+ec(_.postScriptName)),J("/Subtype /Type1"),typeof _.encoding=="string"&&J("/Encoding /"+_.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Al=function(_){_.objectNumber=ut();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[j(_.x),j(_.y),j(_.x+_.width),j(_.y+_.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ae=_.pages[1].join(`
`);fs({data:ae,additionalKeyValues:B,objectId:_.objectNumber}),J("endobj")},Cl=function(_,B){B||(B=21);var ae=ut(),de=function(Pe,Ke){var Xe,dt=[],mt=1/(Ke-1);for(Xe=0;Xe<1;Xe+=mt)dt.push(Xe);if(dt.push(1),Pe[0].offset!=0){var It={offset:0,color:Pe[0].color};Pe.unshift(It)}if(Pe[Pe.length-1].offset!=1){var un={offset:1,color:Pe[Pe.length-1].color};Pe.push(un)}for(var Mn="",Jt=0,qn=0;qn<dt.length;qn++){for(Xe=dt[qn];Xe>Pe[Jt+1].offset;)Jt++;var Dn=Pe[Jt].offset,rr=(Xe-Dn)/(Pe[Jt+1].offset-Dn),gs=Pe[Jt].color,Tr=Pe[Jt+1].color;Mn+=Z(Math.round((1-rr)*gs[0]+rr*Tr[0]).toString(16))+Z(Math.round((1-rr)*gs[1]+rr*Tr[1]).toString(16))+Z(Math.round((1-rr)*gs[2]+rr*Tr[2]).toString(16))}return Mn.trim()}(_.colors,B),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+B+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fs({data:de,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),J("endobj"),_.objectNumber=ut(),J("<< /ShadingType "+_.type),J("/ColorSpace /DeviceRGB");var ke="/Coords ["+j(parseFloat(_.coords[0]))+" "+j(parseFloat(_.coords[1]))+" ";_.type===2?ke+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3])):ke+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3]))+" "+j(parseFloat(_.coords[4]))+" "+j(parseFloat(_.coords[5])),J(ke+="]"),_.matrix&&J("/Matrix ["+_.matrix.toString()+"]"),J("/Function "+ae+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},El=function(_,B){var ae=Mt(),de=ut();B.push({resourcesOid:ae,objectOid:de}),_.objectNumber=de;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map(j).join(" ")+"]"}),ye.push({key:"XStep",value:j(_.xStep)}),ye.push({key:"YStep",value:j(_.yStep)}),ye.push({key:"Resources",value:ae+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),fs({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),J("endobj")},V0=function(_){for(var B in _.objectNumber=ut(),J("<<"),_)switch(B){case"opacity":J("/ca "+C(_[B]));break;case"stroke-opacity":J("/CA "+C(_[B]))}J(">>"),J("endobj")},ru=function(_){Yt(_.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in J("/Font <<"),Ue)Ue.hasOwnProperty(B)&&(f===!1||f===!0&&g.hasOwnProperty(B))&&J("/"+B+" "+Ue[B].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(rt).length>0){for(var B in J("/Shading <<"),rt)rt.hasOwnProperty(B)&&rt[B]instanceof el&&rt[B].objectNumber>=0&&J("/"+B+" "+rt[B].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),J(">>")}}(),function(B){if(Object.keys(rt).length>0){for(var ae in J("/Pattern <<"),rt)rt.hasOwnProperty(ae)&&rt[ae]instanceof h.TilingPattern&&rt[ae].objectNumber>=0&&rt[ae].objectNumber<B&&J("/"+ae+" "+rt[ae].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),J(">>")}}(_.objectOid),function(){if(Object.keys(pt).length>0){var B;for(B in J("/ExtGState <<"),pt)pt.hasOwnProperty(B)&&pt[B].objectNumber>=0&&J("/"+B+" "+pt[B].objectNumber+" 0 R");Et.publish("putGStateDict"),J(">>")}}(),function(){for(var B in J("/XObject <<"),zn)zn.hasOwnProperty(B)&&zn[B].objectNumber>=0&&J("/"+B+" "+zn[B].objectNumber+" 0 R");Et.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},bh=function(_){ft[_.fontName]=ft[_.fontName]||{},ft[_.fontName][_.fontStyle]=_.id},wh=function(_,B,ae,de,ye){var ke={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:_,fontName:B,fontStyle:ae,encoding:de,isStandardFont:ye||!1,metadata:{}};return Et.publish("addFont",{font:ke,instance:this}),Ue[ke.id]=ke,bh(ke),ke.id},ps=h.__private__.pdfEscape=h.pdfEscape=function(_,B){return function(ae,de){var ye,ke,Pe,Ke,Xe,dt,mt,It,un;if(Pe=(de=de||{}).sourceEncoding||"Unicode",Xe=de.outputEncoding,(de.autoencode||Xe)&&Ue[et].metadata&&Ue[et].metadata[Pe]&&Ue[et].metadata[Pe].encoding&&(Ke=Ue[et].metadata[Pe].encoding,!Xe&&Ue[et].encoding&&(Xe=Ue[et].encoding),!Xe&&Ke.codePages&&(Xe=Ke.codePages[0]),typeof Xe=="string"&&(Xe=Ke[Xe]),Xe)){for(mt=!1,dt=[],ye=0,ke=ae.length;ye<ke;ye++)(It=Xe[ae.charCodeAt(ye)])?dt.push(String.fromCharCode(It)):dt.push(ae[ye]),dt[ye].charCodeAt(0)>>8&&(mt=!0);ae=dt.join("")}for(ye=ae.length;mt===void 0&&ye!==0;)ae.charCodeAt(ye-1)>>8&&(mt=!0),ye--;if(!mt)return ae;for(dt=de.noBOM?[]:[254,255],ye=0,ke=ae.length;ye<ke;ye++){if((un=(It=ae.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(un),dt.push(It-(un<<8))}return String.fromCharCode.apply(void 0,dt)}(_,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},su=h.__private__.beginPage=function(_){G[++Ft]=[],lt[Ft]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Nh(Ft),ue(G[Q])},_h=function(_,B){var ae,de,ye;switch(n=B||n,typeof _=="string"&&(ae=x(_.toLowerCase()),Array.isArray(ae)&&(de=ae[0],ye=ae[1])),Array.isArray(_)&&(de=_[0]*it,ye=_[1]*it),isNaN(de)&&(de=s[0],ye=s[1]),(de>14400||ye>14400)&&(Gt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ye=Math.min(14400,ye)),s=[de,ye],n.substr(0,1)){case"l":ye>de&&(s=[ye,de]);break;case"p":de>ye&&(s=[ye,de])}su(s),tg(cu),J(Ll),du!==0&&J(du+" J"),hu!==0&&J(hu+" j"),Et.publish("addPage",{pageNumber:Ft})},iu=function(_){_>0&&_<=Ft&&(G.splice(_,1),lt.splice(_,1),Ft--,Q>Ft&&(Q=Ft),this.setPage(Q))},Nh=function(_){_>0&&_<=Ft&&(Q=_)},jh=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return G.length-1},Sh=function(_,B,ae){var de,ye=void 0;return ae=ae||{},_=_!==void 0?_:Ue[et].fontName,B=B!==void 0?B:Ue[et].fontStyle,de=_.toLowerCase(),ft[de]!==void 0&&ft[de][B]!==void 0?ye=ft[de][B]:ft[_]!==void 0&&ft[_][B]!==void 0?ye=ft[_][B]:ae.disableWarning===!1&&Gt.warn("Unable to look up font label for font '"+_+"', '"+B+"'. Refer to getFontList() for available fonts."),ye||ae.noFallback||(ye=ft.times[B])==null&&(ye=ft.times.normal),ye},Pl=h.__private__.putInfo=function(){var _=ut(),B=function(de){return de};for(var ae in d!==null&&(B=jn.encryptor(_,0)),J("<<"),J("/Producer ("+ps(B("jsPDF "+Ze.version))+")"),ht)ht.hasOwnProperty(ae)&&ht[ae]&&J("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+ps(B(ht[ae]))+")");J("/CreationDate ("+ps(B(ee))+")"),J(">>"),J("endobj")},K0=h.__private__.putCatalog=function(_){var B=(_=_||{}).rootDictionaryObjId||ha;switch(ut(),J("<<"),J("/Type /Catalog"),J("/Pages "+B+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Oe;ae.substr(ae.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+C(Oe)+"]")}switch(at||(at="continuous"),at){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ze&&J("/PageMode /"+ze),Et.publish("putCatalog"),J(">>"),J("endobj")},Rn=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(F+1)),J("/Root "+F+" 0 R"),J("/Info "+(F-1)+" 0 R"),d!==null&&J("/Encrypt "+jn.oid+" 0 R"),J("/ID [ <"+q+"> <"+q+"> ]"),J(">>")},kh=h.__private__.putHeader=function(){J("%PDF-"+v),J("%ºß¬à")},Ah=h.__private__.putXRef=function(){var _="0000000000";J("xref"),J("0 "+(F+1)),J("0000000000 65535 f ");for(var B=1;B<=F;B++)typeof re[B]=="function"?J((_+re[B]()).slice(-10)+" 00000 n "):re[B]!==void 0?J((_+re[B]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},ki=h.__private__.buildDocument=function(){var _;F=0,E=0,V=[],re=[],D=[],ha=Mt(),Is=Mt(),ue(V),Et.publish("buildDocument"),kh(),ai(),function(){Et.publish("putAdditionalObjects");for(var ae=0;ae<D.length;ae++){var de=D[ae];Yt(de.objId,!0),J(de.content),J("endobj")}Et.publish("postPutAdditionalObjects")}(),_=[],function(){for(var ae in Ue)Ue.hasOwnProperty(ae)&&(f===!1||f===!0&&g.hasOwnProperty(ae))&&vo(Ue[ae])}(),function(){var ae;for(ae in pt)pt.hasOwnProperty(ae)&&V0(pt[ae])}(),function(){for(var ae in zn)zn.hasOwnProperty(ae)&&Al(zn[ae])}(),function(ae){var de;for(de in rt)rt.hasOwnProperty(de)&&(rt[de]instanceof el?Cl(rt[de]):rt[de]instanceof pc&&El(rt[de],ae))}(_),Et.publish("putResources"),_.forEach(ru),ru({resourcesOid:Is,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),d!==null&&(jn.oid=ut(),J("<<"),J("/Filter /Standard"),J("/V "+jn.v),J("/R "+jn.r),J("/U <"+jn.toHexString(jn.U)+">"),J("/O <"+jn.toHexString(jn.O)+">"),J("/P "+jn.P),J(">>"),J("endobj")),Pl(),K0();var B=E;return Ah(),Rn(),J("startxref"),J(""+B),J("%%EOF"),ue(G[Q]),V.join(`
`)},bo=h.__private__.getBlob=function(_){return new Blob([Be(_)],{type:"application/pdf"})},Ds=h.output=h.__private__.output=(_t=function(_,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",_){case void 0:return ki();case"save":h.save(B.filename);break;case"arraybuffer":return Be(ki());case"blob":return bo(ki());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(bo(ki()))||void 0;Gt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",de=ki();try{ae=x_(de)}catch{ae=x_(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+B.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ye=B.pdfObjectUrl,ke="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Ke=ct.open();return Ke!==null&&Ke.document.write(Pe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',dt=ct.open();if(dt!==null){dt.document.write(Xe);var mt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=B.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',un=ct.open();if(un!==null&&(un.document.write(It),un.document.title=B.filename),un||typeof safari>"u")return un;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",B);default:return null}},_t.foo=function(){try{return _t.apply(this,arguments)}catch(ae){var _=ae.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var B="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ae.message;if(!ct.console)throw new Error(B);ct.console.error(B,ae),ct.alert&&alert(B)}},_t.foo.bar=_t,_t.foo),wo=function(_){return Array.isArray(si)===!0&&si.indexOf(_)>-1};switch(r){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=wo("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);it=r}var jn=null;xe(),te();var au=h.__private__.getPageInfo=h.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[_].objId,pageNumber:_,pageContext:lt[_]}},G0=h.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in lt)if(lt[B].objId===_)break;return au(B)},Y0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:lt[Q].objId,pageNumber:Q,pageContext:lt[Q]}};h.addPage=function(){return _h.apply(this,arguments),this},h.setPage=function(){return Nh.apply(this,arguments),ue.call(this,G[Q]),this},h.insertPage=function(_){return this.addPage(),this.movePage(Q,_),this},h.movePage=function(_,B){var ae,de;if(_>B){ae=G[_],de=lt[_];for(var ye=_;ye>B;ye--)G[ye]=G[ye-1],lt[ye]=lt[ye-1];G[B]=ae,lt[B]=de,this.setPage(B)}else if(_<B){ae=G[_],de=lt[_];for(var ke=_;ke<B;ke++)G[ke]=G[ke+1],lt[ke]=lt[ke+1];G[B]=ae,lt[B]=de,this.setPage(B)}return this},h.deletePage=function(){return iu.apply(this,arguments),this},h.__private__.text=h.text=function(_,B,ae,de,ye){var ke,Pe,Ke,Xe,dt,mt,It,un,Mn,Jt=(de=de||{}).scope||this;if(typeof _=="number"&&typeof B=="number"&&(typeof ae=="string"||Array.isArray(ae))){var qn=ae;ae=B,B=_,_=qn}if(arguments[3]instanceof nt==0?(Ke=arguments[4],Xe=arguments[5],zt(It=arguments[3])==="object"&&It!==null||(typeof Ke=="string"&&(Xe=Ke,Ke=null),typeof It=="string"&&(Xe=It,It=null),typeof It=="number"&&(Ke=It,It=null),de={flags:It,angle:Ke,align:Xe})):(A("The transform parameter of text() with a Matrix value"),Mn=ye),isNaN(B)||isNaN(ae)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Jt;var Dn,rr="",gs=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:No,Tr=Jt.internal.scaleFactor;function Rh(Dt){return Dt=Dt.split("	").join(Array(de.TabLen||9).join(" ")),ps(Dt,It)}function Rl(Dt){for(var Vt,kn=Dt.concat(),Hn=[],Oi=kn.length;Oi--;)typeof(Vt=kn.shift())=="string"?Hn.push(Vt):Array.isArray(Dt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?Hn.push(Vt[0]):Hn.push([Vt[0],Vt[1],Vt[2]]);return Hn}function Eo(Dt,Vt){var kn;if(typeof Dt=="string")kn=Vt(Dt)[0];else if(Array.isArray(Dt)){for(var Hn,Oi,ju=Dt.concat(),Fl=[],Fh=ju.length;Fh--;)typeof(Hn=ju.shift())=="string"?Fl.push(Vt(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(Oi=Vt(Hn[0],Hn[1],Hn[2]),Fl.push([Oi[0],Oi[1],Oi[2]]));kn=Fl}return kn}var ga=!1,Po=!0;if(typeof _=="string")ga=!0;else if(Array.isArray(_)){var Lo=_.concat();Pe=[];for(var To,hr=Lo.length;hr--;)(typeof(To=Lo.shift())!="string"||Array.isArray(To)&&typeof To[0]!="string")&&(Po=!1);ga=Po}if(ga===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Oo=Se/Jt.internal.scaleFactor,Io=Oo*(gs-1);switch(de.baseline){case"bottom":ae-=Io;break;case"top":ae+=Oo-Io;break;case"hanging":ae+=Oo-2*Io;break;case"middle":ae+=Oo/2-Io}if((mt=de.maxWidth||0)>0&&(typeof _=="string"?_=Jt.splitTextToSize(_,mt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Dt,Vt){return Dt.concat(Jt.splitTextToSize(Vt,mt))},[]))),ke={text:_,x:B,y:ae,options:de,mutex:{pdfEscape:ps,activeFontKey:et,fonts:Ue,activeFontSize:Se}},Et.publish("preProcessText",ke),_=ke.text,Ke=(de=ke.options).angle,Mn instanceof nt==0&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,de.rotationDirection===0&&(Ke=-Ke),k===N&&(Ke=-Ke);var gu=Math.cos(Ke),mu=Math.sin(Ke);Mn=new nt(gu,mu,-mu,gu,0,0)}else Ke&&Ke instanceof nt&&(Mn=Ke);k!==N||Mn||(Mn=ne),(dt=de.charSpace||Ol)!==void 0&&(rr+=j(H(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=de.horizontalScale)!==void 0&&(rr+=j(100*un)+` Tz
`),de.lang;var mn=-1,Li=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ml=Jt.internal.getCurrentPageInfo().pageContext;switch(Li){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var Mh=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;mn!==-1?rr+=mn+` Tr
`:Mh!==-1&&(rr+=`0 Tr
`),mn!==-1&&(Ml.usedRenderingMode=mn),Xe=de.align||"left";var ms,Ro=Se*gs,yu=Jt.internal.pageSize.getWidth(),xu=Ue[et];dt=de.charSpace||Ol,mt=de.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},de.flags);var ma=[],Mo=function(Dt){return Jt.getStringUnitWidth(Dt,{font:xu,charSpace:dt,fontSize:Se,doKerning:!1})*Se/Tr};if(Object.prototype.toString.call(_)==="[object Array]"){var Wr;Pe=Rl(_),Xe!=="left"&&(ms=Pe.map(Mo));var Vr,ya=0;if(Xe==="right"){B-=ms[0],_=[],hr=Pe.length;for(var Ti=0;Ti<hr;Ti++)Ti===0?(Vr=Ai(B),Wr=Ci(ae)):(Vr=H(ya-ms[Ti]),Wr=-Ro),_.push([Pe[Ti],Vr,Wr]),ya=ms[Ti]}else if(Xe==="center"){B-=ms[0]/2,_=[],hr=Pe.length;for(var xa=0;xa<hr;xa++)xa===0?(Vr=Ai(B),Wr=Ci(ae)):(Vr=H((ya-ms[xa])/2),Wr=-Ro),_.push([Pe[xa],Vr,Wr]),ya=ms[xa]}else if(Xe==="left"){_=[],hr=Pe.length;for(var vu=0;vu<hr;vu++)_.push(Pe[vu])}else if(Xe==="justify"&&xu.encoding==="Identity-H"){_=[],hr=Pe.length,mt=mt!==0?mt:yu;for(var Dl=0,Sn=0;Sn<hr;Sn++)if(Wr=Sn===0?Ci(ae):-Ro,Vr=Sn===0?Ai(B):Dl,Sn<hr-1){var Dh=H((mt-ms[Sn])/(Pe[Sn].split(" ").length-1)),li=Pe[Sn].split(" ");_.push([li[0]+" ",Vr,Wr]),Dl=0;for(var ci=1;ci<li.length;ci++){var bu=(Mo(li[ci-1]+" "+li[ci])-Mo(li[ci]))*Tr+Dh;ci==li.length-1?_.push([li[ci],bu,0]):_.push([li[ci]+" ",bu,0]),Dl-=bu}}else _.push([Pe[Sn],Vr,Wr]);_.push(["",Dl,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],hr=Pe.length,mt=mt!==0?mt:yu,Sn=0;Sn<hr;Sn++){Wr=Sn===0?Ci(ae):-Ro,Vr=Sn===0?Ai(B):0;var wu=Pe[Sn].split(" ").length-1,_u=wu>0?(mt-ms[Sn])/wu:0;Sn<hr-1?ma.push(j(H(_u))):ma.push(0),_.push([Pe[Sn],Vr,Wr])}}}(typeof de.R2L=="boolean"?de.R2L:$e)===!0&&(_=Eo(_,function(Dt,Vt,kn){return[Dt.split("").reverse().join(""),Vt,kn]})),ke={text:_,x:B,y:ae,options:de,mutex:{pdfEscape:ps,activeFontKey:et,fonts:Ue,activeFontSize:Se}},Et.publish("postProcessText",ke),_=ke.text,Dn=ke.mutex.isHex||!1;var Nu=Ue[et].encoding;Nu!=="WinAnsiEncoding"&&Nu!=="StandardEncoding"||(_=Eo(_,function(Dt,Vt,kn){return[Rh(Dt),Vt,kn]})),Pe=Rl(_),_=[];for(var va,ba,wa,Do=Array.isArray(Pe[0])?1:0,_a="",Fo=function(Dt,Vt,kn){var Hn="";return kn instanceof nt?(kn=typeof de.angle=="number"?hs(kn,new nt(1,0,0,1,Dt,Vt)):hs(new nt(1,0,0,1,Dt,Vt),kn),k===N&&(kn=hs(new nt(1,0,0,-1,0,0),kn)),Hn=kn.join(" ")+` Tm
`):Hn=j(Dt)+" "+j(Vt)+` Td
`,Hn},ys=0;ys<Pe.length;ys++){switch(_a="",Do){case 1:wa=(Dn?"<":"(")+Pe[ys][0]+(Dn?">":")"),va=parseFloat(Pe[ys][1]),ba=parseFloat(Pe[ys][2]);break;case 0:wa=(Dn?"<":"(")+Pe[ys]+(Dn?">":")"),va=Ai(B),ba=Ci(ae)}ma!==void 0&&ma[ys]!==void 0&&(_a=ma[ys]+` Tw
`),ys===0?_.push(_a+Fo(va,ba,Mn)+wa):Do===0?_.push(_a+wa):Do===1&&_.push(_a+Fo(va,ba,Mn)+wa)}_=Do===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ui=`BT
/`;return ui+=et+" "+Se+` Tf
`,ui+=j(Se*gs)+` TL
`,ui+=jo+`
`,ui+=rr,ui+=_,J(ui+="ET"),g[et]=!0,Jt};var J0=h.__private__.clip=h.clip=function(_){return J(_==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return J0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var oi=h.__private__.isValidStyle=function(_){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(B=!0),B};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(_){return oi(_)&&(u=_),this};var Ch=h.__private__.getStyle=h.getStyle=function(_){var B=u;switch(_){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=_}return B},Eh=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(_){return fa("f",_),this},h.fillEvenOdd=function(_){return fa("f*",_),this},h.fillStroke=function(_){return fa("B",_),this},h.fillStrokeEvenOdd=function(_){return fa("B*",_),this};var fa=function(_,B){zt(B)==="object"?Q0(B,_):J(_)},ou=function(_){_===null||k===N&&_===void 0||(_=Ch(_),J(_))};function X0(_,B,ae,de,ye){var ke=new pc(B||this.boundingBox,ae||this.xStep,de||this.yStep,this.gState,ye||this.matrix);ke.stream=this.stream;var Pe=_+"$$"+this.cloneIndex+++"$$";return _e(Pe,ke),ke}var Q0=function(_,B){var ae=Nt[_.key],de=rt[ae];if(de instanceof el)J("q"),J(Z0(B)),de.gState&&h.setGState(de.gState),J(_.matrix.toString()+" cm"),J("/"+ae+" sh"),J("Q");else if(de instanceof pc){var ye=new nt(1,0,0,-1,0,Co());_.matrix&&(ye=ye.multiply(_.matrix||ne),ae=X0.call(de,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),J("q"),J("/Pattern cs"),J("/"+ae+" scn"),de.gState&&h.setGState(de.gState),J(B),J("Q")}},Z0=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lu=h.moveTo=function(_,B){return J(j(H(_))+" "+j(U(B))+" m"),this},_o=h.lineTo=function(_,B){return J(j(H(_))+" "+j(U(B))+" l"),this},pa=h.curveTo=function(_,B,ae,de,ye,ke){return J([j(H(_)),j(U(B)),j(H(ae)),j(U(de)),j(H(ye)),j(U(ke)),"c"].join(" ")),this};h.__private__.line=h.line=function(_,B,ae,de,ye){if(isNaN(_)||isNaN(B)||isNaN(ae)||isNaN(de)||!oi(ye))throw new Error("Invalid arguments passed to jsPDF.line");return k===w?this.lines([[ae-_,de-B]],_,B,[1,1],ye||"S"):this.lines([[ae-_,de-B]],_,B,[1,1]).stroke()},h.__private__.lines=h.lines=function(_,B,ae,de,ye,ke){var Pe,Ke,Xe,dt,mt,It,un,Mn,Jt,qn,Dn,rr;if(typeof _=="number"&&(rr=ae,ae=B,B=_,_=rr),de=de||[1,1],ke=ke||!1,isNaN(B)||isNaN(ae)||!Array.isArray(_)||!Array.isArray(de)||!oi(ye)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lu(B,ae),Pe=de[0],Ke=de[1],dt=_.length,qn=B,Dn=ae,Xe=0;Xe<dt;Xe++)(mt=_[Xe]).length===2?(qn=mt[0]*Pe+qn,Dn=mt[1]*Ke+Dn,_o(qn,Dn)):(It=mt[0]*Pe+qn,un=mt[1]*Ke+Dn,Mn=mt[2]*Pe+qn,Jt=mt[3]*Ke+Dn,qn=mt[4]*Pe+qn,Dn=mt[5]*Ke+Dn,pa(It,un,Mn,Jt,qn,Dn));return ke&&Eh(),ou(ye),this},h.path=function(_){for(var B=0;B<_.length;B++){var ae=_[B],de=ae.c;switch(ae.op){case"m":lu(de[0],de[1]);break;case"l":_o(de[0],de[1]);break;case"c":pa.apply(this,de);break;case"h":Eh()}}return this},h.__private__.rect=h.rect=function(_,B,ae,de,ye){if(isNaN(_)||isNaN(B)||isNaN(ae)||isNaN(de)||!oi(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return k===w&&(de=-de),J([j(H(_)),j(U(B)),j(H(ae)),j(H(de)),"re"].join(" ")),ou(ye),this},h.__private__.triangle=h.triangle=function(_,B,ae,de,ye,ke,Pe){if(isNaN(_)||isNaN(B)||isNaN(ae)||isNaN(de)||isNaN(ye)||isNaN(ke)||!oi(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-_,de-B],[ye-ae,ke-de],[_-ye,B-ke]],_,B,[1,1],Pe,!0),this},h.__private__.roundedRect=h.roundedRect=function(_,B,ae,de,ye,ke,Pe){if(isNaN(_)||isNaN(B)||isNaN(ae)||isNaN(de)||isNaN(ye)||isNaN(ke)||!oi(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ae),ke=Math.min(ke,.5*de),this.lines([[ae-2*ye,0],[ye*Ke,0,ye,ke-ke*Ke,ye,ke],[0,de-2*ke],[0,ke*Ke,-ye*Ke,ke,-ye,ke],[2*ye-ae,0],[-ye*Ke,0,-ye,-ke*Ke,-ye,-ke],[0,2*ke-de],[0,-ke*Ke,ye*Ke,-ke,ye,-ke]],_+ye,B,[1,1],Pe,!0),this},h.__private__.ellipse=h.ellipse=function(_,B,ae,de,ye){if(isNaN(_)||isNaN(B)||isNaN(ae)||isNaN(de)||!oi(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ae,Pe=4/3*(Math.SQRT2-1)*de;return lu(_+ae,B),pa(_+ae,B-Pe,_+ke,B-de,_,B-de),pa(_-ke,B-de,_-ae,B-Pe,_-ae,B),pa(_-ae,B+Pe,_-ke,B+de,_,B+de),pa(_+ke,B+de,_+ae,B+Pe,_+ae,B),ou(ye),this},h.__private__.circle=h.circle=function(_,B,ae,de){if(isNaN(_)||isNaN(B)||isNaN(ae)||!oi(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,B,ae,ae,de)},h.setFont=function(_,B,ae){return ae&&(B=M(B,ae)),et=Sh(_,B,{disableWarning:!1}),this};var eg=h.__private__.getFont=h.getFont=function(){return Ue[Sh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var _,B,ae={};for(_ in ft)if(ft.hasOwnProperty(_))for(B in ae[_]=[],ft[_])ft[_].hasOwnProperty(B)&&ae[_].push(B);return ae},h.addFont=function(_,B,ae,de,ye){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ae=M(ae,de)),wh.call(this,_,B,ae,ye=ye||"Identity-H")};var No,cu=t.lineWidth||.200025,gt=h.__private__.getLineWidth=h.getLineWidth=function(){return cu},tg=h.__private__.setLineWidth=h.setLineWidth=function(_){return cu=_,J(j(H(_))+" w"),this};h.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(_,B){if(_=_||[],B=B||0,isNaN(B)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ae){return j(H(ae))}).join(" "),B=j(H(B)),J("["+_+"] "+B+" d"),this};var ng=h.__private__.getLineHeight=h.getLineHeight=function(){return Se*No};h.__private__.getLineHeight=h.getLineHeight=function(){return Se*No};var rg=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(No=_),this},sg=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return No};rg(t.lineHeight);var Ai=h.__private__.getHorizontalCoordinate=function(_){return H(_)},Ci=h.__private__.getVerticalCoordinate=function(_){return k===N?_:lt[Q].mediaBox.topRightY-lt[Q].mediaBox.bottomLeftY-H(_)},ig=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(_){return j(Ai(_))},ag=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(_){return j(Ci(_))},Ll=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ii(Ll)},h.__private__.setStrokeColor=h.setDrawColor=function(_,B,ae,de){return Ll=Rs({ch1:_,ch2:B,ch3:ae,ch4:de,pdfColorType:"draw",precision:2}),J(Ll),this};var uu=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ii(uu)},h.__private__.setFillColor=h.setFillColor=function(_,B,ae,de){return uu=Rs({ch1:_,ch2:B,ch3:ae,ch4:de,pdfColorType:"fill",precision:2}),J(uu),this};var jo=t.textColor||"0 g",Tl=h.__private__.getTextColor=h.getTextColor=function(){return ii(jo)};h.__private__.setTextColor=h.setTextColor=function(_,B,ae,de){return jo=Rs({ch1:_,ch2:B,ch3:ae,ch4:de,pdfColorType:"text",precision:3}),this};var Ol=t.charSpace,og=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ol||0)};h.__private__.setCharSpace=h.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ol=_,this};var du=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(_){var B=h.CapJoinStyles[_];if(B===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return du=B,J(B+" J"),this};var hu=0;h.__private__.setLineJoin=h.setLineJoin=function(_){var B=h.CapJoinStyles[_];if(B===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hu=B,J(B+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(j(H(_))+" M"),this},h.GState=p0,h.setGState=function(_){(_=typeof _=="string"?pt[cn[_]]:So(null,_)).equals(Nn)||(J("/"+_.id+" gs"),Nn=_)};var So=function(_,B){if(!_||!cn[_]){var ae=!1;for(var de in pt)if(pt.hasOwnProperty(de)&&pt[de].equals(B)){ae=!0;break}if(ae)B=pt[de];else{var ye="GS"+(Object.keys(pt).length+1).toString(10);pt[ye]=B,B.id=ye}return _&&(cn[_]=B.id),Et.publish("addGState",B),B}};h.addGState=function(_,B){return So(_,B),this},h.saveGraphicsState=function(){return J("q"),Rt.push({key:et,size:Se,color:jo}),this},h.restoreGraphicsState=function(){J("Q");var _=Rt.pop();return et=_.key,Se=_.size,jo=_.color,Nn=null,this},h.setCurrentTransformationMatrix=function(_){return J(_.toString()+" cm"),this},h.comment=function(_){return J("#"+_),this};var ko=function(_,B){var ae=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(ke){isNaN(ke)||(ae=parseFloat(ke))}});var de=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(ke){isNaN(ke)||(de=parseFloat(ke))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(ke){ye=ke.toString()}}),this},fu=function(_,B,ae,de){ko.call(this,_,B),this.type="rect";var ye=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Pe){isNaN(Pe)||(ye=parseFloat(Pe))}});var ke=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Pe){isNaN(Pe)||(ke=parseFloat(Pe))}}),this},Il=function(){this.page=Ft,this.currentPage=Q,this.pages=G.slice(0),this.pagesContext=lt.slice(0),this.x=tt,this.y=Wt,this.matrix=Ct,this.width=Ph(Q),this.height=Ei(Q),this.outputDestination=pe,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){Ft=this.page,Q=this.currentPage,lt=this.pagesContext,G=this.pages,tt=this.x,Wt=this.y,Ct=this.matrix,Lh(Q,this.width),Pi(Q,this.height),pe=this.outputDestination};var pu=function(_,B,ae,de,ye){Hr.push(new Il),Ft=Q=0,G=[],tt=_,Wt=B,Ct=ye,su([ae,de])};for(var Ao in h.beginFormObject=function(_,B,ae,de,ye){return pu(_,B,ae,de,ye),this},h.endFormObject=function(_){return function(B){if(ds[B])Hr.pop().restore();else{var ae=new Il,de="Xo"+(Object.keys(zn).length+1).toString(10);ae.id=de,ds[B]=de,zn[de]=ae,Et.publish("addFormObject",ae),Hr.pop().restore()}}(_),this},h.doFormObject=function(_,B){var ae=zn[ds[_]];return J("q"),J(B.toString()+" cm"),J("/"+ae.id+" Do"),J("Q"),this},h.getFormObject=function(_){var B=zn[ds[_]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},h.save=function(_,B){return _=_||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Xo(bo(ki()),_),typeof Xo.unload=="function"&&ct.setTimeout&&setTimeout(Xo.unload,911),this):new Promise(function(ae,de){try{var ye=Xo(bo(ki()),_);typeof Xo.unload=="function"&&ct.setTimeout&&setTimeout(Xo.unload,911),ae(ye)}catch(ke){de(ke.message)}})},Ze.API)Ze.API.hasOwnProperty(Ao)&&(Ao==="events"&&Ze.API.events.length?function(_,B){var ae,de,ye;for(ye=B.length-1;ye!==-1;ye--)ae=B[ye][0],de=B[ye][1],_.subscribe.apply(_,[ae].concat(typeof de=="function"?[de]:de))}(Et,Ze.API.events):h[Ao]=Ze.API[Ao]);function Ph(_){return lt[_].mediaBox.topRightX-lt[_].mediaBox.bottomLeftX}function Lh(_,B){lt[_].mediaBox.topRightX=B+lt[_].mediaBox.bottomLeftX}function Ei(_){return lt[_].mediaBox.topRightY-lt[_].mediaBox.bottomLeftY}function Pi(_,B){lt[_].mediaBox.topRightY=B+lt[_].mediaBox.bottomLeftY}var Th=h.getPageWidth=function(_){return Ph(_=_||Q)/it},Oh=h.setPageWidth=function(_,B){Lh(_,B*it)},Co=h.getPageHeight=function(_){return Ei(_=_||Q)/it},Ih=h.setPageHeight=function(_,B){Pi(_,B*it)};return h.internal={pdfEscape:ps,getStyle:Ch,getFont:eg,getFontSize:Ce,getCharSpace:og,getTextColor:Tl,getLineHeight:ng,getLineHeightFactor:sg,getLineWidth:gt,write:Re,getHorizontalCoordinate:Ai,getVerticalCoordinate:Ci,getCoordinateString:ig,getVerticalCoordinateString:ag,collections:{},newObject:ut,newAdditionalObject:yo,newObjectDeferred:Mt,newObjectDeferredBegin:Yt,getFilters:Ms,putStream:fs,events:Et,scaleFactor:it,pageSize:{getWidth:function(){return Th(Q)},setWidth:function(_){Oh(Q,_)},getHeight:function(){return Co(Q)},setHeight:function(_){Ih(Q,_)}},encryptionOptions:d,encryption:jn,getEncryptor:function(_){return d!==null?jn.encryptor(_,0):function(B){return B}},output:Ds,getNumberOfPages:jh,pages:G,out:J,f2:C,f3:O,getPageInfo:au,getPageInfoByObjId:G0,getCurrentPageInfo:Y0,getPDFVersion:y,Point:ko,Rectangle:fu,Matrix:nt,hasHotfix:wo},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Th(Q)},set:function(_){Oh(Q,_)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Co(Q)},set:function(_){Ih(Q,_)},enumerable:!0,configurable:!0}),(function(_){for(var B=0,ae=Me.length;B<ae;B++){var de=wh.call(this,_[B][0],_[B][1],_[B][2],Me[B][3],!0);f===!1&&(g[de]=!0);var ye=_[B][0].split("-");bh({id:de,fontName:ye[0],fontStyle:ye[1]||""})}Et.publish("addFonts",{fonts:Ue,dictionary:ft})}).call(h,Me),et="F1",_h(s,n),Et.publish("initialized"),h}Zl.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Zl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zl.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zl.prototype.processOwnerPassword=function(t,e){return Ey(Cy(e).substr(0,5),t)},Zl.prototype.encryptor=function(t,e){var n=Cy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ey(n,r)}},p0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ze.API={events:[]},Ze.version="3.0.3";var vn=Ze.API,v2=1,kl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},Oa=function(t){return t.toFixed(5)};vn.__acroform__={};var qr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},__=function(t){return t*v2},mi=function(t){var e=new hS,n=Ve.internal.getHeight(t)||0,r=Ve.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(r)),Number(yt(n))],e},b$=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},w$=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},_$=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pn=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _$(t,e-1)},Ln=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b$(t,e-1)},Tn=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return w$(t,e-1)},N$=vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(yt(c.lowerLeft_X)),Number(yt(c.lowerLeft_Y)),Number(yt(c.upperRight_X)),Number(yt(c.upperRight_Y))]},j$=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Py(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=mi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Py=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(C){return C.split(`
`)}):s.map(function(C){return[C]});var i=n,a=Ve.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ve.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(C,O,H){if(C+1<s.length){var U=O+" "+s[C+1][0];return Gf(U,t,H).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=Gf("3",t,i).height,g=t.multiline?a-i:(a-f)/2,h=g+=2,v=0,y=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gf(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var k=!1;if(s[N].length!==1&&b!==s[N].length-1){if((f+2)*(w+2)+2>a)continue e;x+=s[N][b],k=!0,y=N,N--}else{x=(x+=s[N][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var R=parseInt(N),I=c(R,x,i),M=N>=s.length-1;if(I&&!M){x+=" ",b=0;continue}if(I||M){if(M)y=R;else if(t.multiline&&(f+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>a)continue e;y=R}}for(var j="",A=v;A<=y;A++){var L=s[A];if(t.multiline){if(A===y){j+=L[b]+" ",b=(b+1)%L.length;continue}if(A===v){j+=L[L.length-1]+" ";continue}}j+=L[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,d=Gf(j,t,i).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=yt(u)+" "+yt(h)+` Td
`,e+="("+kl(j)+`) Tj
`,e+=-yt(u)+` 0 Td
`,h=-(i+2),d=0,v=k?y:y+1,w++,x=""}break}return r.text=e,r.fontSize=i,r},Gf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},S$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k$=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},A$=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ni.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(S$)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&k$(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=N$(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ve.createDefaultAppearanceStream(o),zt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=j$(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var h=o.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var v=h[a];typeof v=="function"&&(v=v.call(s,o)),f+="/"+a+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(s,o)),f+="/"+a+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&function(y,b){for(var x in y)if(y.hasOwnProperty(x)){var w=x,N=y[x];b.internal.newObjectDeferredBegin(N.objId,!0),zt(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete y[w]}}(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},dS=vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),zt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+kl(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dm=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+kl(r(t))+")"},wi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wi.prototype.toString=function(){return this.objId+" 0 R"},wi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:dS(s,this.objId,this.scope)}):s instanceof wi?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var hS=function(){wi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qr(hS,wi);var fS=function(){wi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+kl(n(t))+")"}},set:function(n){t=n}})};qr(fS,wi);var ni=function t(){wi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pn(e,3)},set:function(x){x?this.F=Ln(e,3):this.F=Tn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof g0)return;i="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+kl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/v2:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof g0||this instanceof ul))return Dm(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof er==0?Dm(g,this.objId,this.scope):g},set:function(x){x=x.toString(),g=this instanceof er==0?x.substr(0,1)==="("?Yl(x.substr(1,x.length-2)):Yl(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof er==1?Yl(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof er==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof er==0?Dm(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof er==0?x.substr(0,1)==="("?Yl(x.substr(1,x.length-2)):Yl(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof er==1?Yl(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof er==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,1)},set:function(x){x?this.Ff=Ln(this.Ff,1):this.Ff=Tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,2)},set:function(x){x?this.Ff=Ln(this.Ff,2):this.Ff=Tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,3)},set:function(x){x?this.Ff=Ln(this.Ff,3):this.Ff=Tn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};qr(ni,wi);var Sc=function(){ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dS(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,a,o){o||(o=1);for(var c,u=[];c=a.exec(i);)u.push(c[o]);return u}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,18)},set:function(n){n?this.Ff=Ln(this.Ff,18):this.Ff=Tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ln(this.Ff,19):this.Ff=Tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,20)},set:function(n){n?(this.Ff=Ln(this.Ff,20),e.sort()):this.Ff=Tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,22)},set:function(n){n?this.Ff=Ln(this.Ff,22):this.Ff=Tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(n){n?this.Ff=Ln(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,27)},set:function(n){n?this.Ff=Ln(this.Ff,27):this.Ff=Tn(this.Ff,27)}}),this.hasAppearanceStream=!1};qr(Sc,ni);var kc=function(){Sc.call(this),this.fontName="helvetica",this.combo=!1};qr(kc,Sc);var Ac=function(){kc.call(this),this.combo=!0};qr(Ac,kc);var xp=function(){Ac.call(this),this.edit=!0};qr(xp,Ac);var er=function(){ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,15)},set:function(n){n?this.Ff=Ln(this.Ff,15):this.Ff=Tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,16)},set:function(n){n?this.Ff=Ln(this.Ff,16):this.Ff=Tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,17)},set:function(n){n?this.Ff=Ln(this.Ff,17):this.Ff=Tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(n){n?this.Ff=Ln(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+kl(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qr(er,ni);var vp=function(){er.call(this),this.pushButton=!0};qr(vp,er);var Cc=function(){er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qr(Cc,er);var g0=function(){var t,e;ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+kl(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){zt(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qr(g0,ni),Cc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Cc.prototype.createOption=function(t){var e=new g0;return e.Parent=this,e.optionName=t,this.Kids.push(e),C$.call(this.scope,e),e};var bp=function(){er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};qr(bp,er);var ul=function(){ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,13)},set:function(e){e?this.Ff=Ln(this.Ff,13):this.Ff=Tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,21)},set:function(e){e?this.Ff=Ln(this.Ff,21):this.Ff=Tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(e){e?this.Ff=Ln(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,24)},set:function(e){e?this.Ff=Ln(this.Ff,24):this.Ff=Tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,25)},set:function(e){e?this.Ff=Ln(this.Ff,25):this.Ff=Tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(e){e?this.Ff=Ln(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qr(ul,ni);var wp=function(){ul.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,14)},set:function(t){t?this.Ff=Ln(this.Ff,14):this.Ff=Tn(this.Ff,14)}}),this.password=!0};qr(wp,ul);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Py(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=Ve.internal.getHeight(t),a=Ve.internal.getWidth(t),o=Py(t,t.caption);return s.push("1 g"),s.push("0 0 "+yt(a)+" "+yt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+yt(a-1)+" "+yt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+yt(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Circle.YesNormal,e.D[t]=Ve.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Ve.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Oa(Ve.internal.getWidth(t)/2)+" "+Oa(Ve.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Ve.internal.Bezier_C).toFixed(5)),a=Number((r*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oa(Ve.internal.getWidth(t)/2)+" "+Oa(Ve.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Oa(Ve.internal.getWidth(t)/2)+" "+Oa(Ve.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oa(Ve.internal.getWidth(t)/2)+" "+Oa(Ve.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Cross.YesNormal,e.D[t]=Ve.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=mi(t);e.scope=t.scope;var n=[],r=Ve.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+yt(Ve.internal.getWidth(t)-2)+" "+yt(Ve.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=Ve.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yt(Ve.internal.getWidth(t)-2)+" "+yt(Ve.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=mi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ve.internal.getWidth(t),n=Ve.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ve.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=__(t.Rect[2])),e},Ve.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=__(t.Rect[3])),e};var C$=vn.addField=function(t){if(A$(this,t),!(t instanceof ni))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Sc,vn.AcroFormListBox=kc,vn.AcroFormComboBox=Ac,vn.AcroFormEditBox=xp,vn.AcroFormButton=er,vn.AcroFormPushButton=vp,vn.AcroFormRadioButton=Cc,vn.AcroFormCheckBox=bp,vn.AcroFormTextField=ul,vn.AcroFormPasswordField=wp,vn.AcroFormAppearance=Ve,vn.AcroForm={ChoiceField:Sc,ListBox:kc,ComboBox:Ac,EditBox:xp,Button:er,PushButton:vp,RadioButton:Cc,CheckBox:bp,TextField:ul,PasswordField:wp,Appearance:Ve},Ze.AcroForm={ChoiceField:Sc,ListBox:kc,ComboBox:Ac,EditBox:xp,Button:er,PushButton:vp,RadioButton:Cc,CheckBox:bp,TextField:ul,PasswordField:wp,Appearance:Ve};Ze.AcroForm;function pS(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(C,O){var H,U,ee,q,le,te=n;if((O=O||n)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(I(C))for(le in r)for(ee=r[le],H=0;H<ee.length;H+=1){for(q=!0,U=0;U<ee[H].length;U+=1)if(ee[H][U]!==void 0&&ee[H][U]!==C[U]){q=!1;break}if(q===!0){te=le;break}}else for(le in r)for(ee=r[le],H=0;H<ee.length;H+=1){for(q=!0,U=0;U<ee[H].length;U+=1)if(ee[H][U]!==void 0&&ee[H][U]!==C.charCodeAt(U)){q=!1;break}if(q===!0){te=le;break}}return te===n&&O!==n&&(te=O),te},i=function C(O){for(var H=this.internal.write,U=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:O.width}),q.push({key:"Height",value:O.height}),O.colorSpace===x.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===x.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var le="",te=0,ce=O.transparency.length;te<ce;te++)le+=O.transparency[te]+" "+O.transparency[te]+" ";q.push({key:"Mask",value:"["+le+"]"})}O.sMask!==void 0&&q.push({key:"SMask",value:O.objectId+1+" 0 R"});var ge=O.filter!==void 0?["/"+O.filter]:void 0;if(U({data:O.data,additionalKeyValues:q,alreadyAppliedFilters:ge,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var xe,z=(xe=O.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:O.bitsPerComponent,Q={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:O.sMask};"filter"in O&&(Q.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(O.width),Q.filter=O.filter),C.call(this,Q)}if(O.colorSpace===x.INDEXED){var T=this.internal.newObject();U({data:j(new Uint8Array(O.palette)),objectId:T}),H("endobj")}},a=function(){var C=this.internal.collections[e+"images"];for(var O in C)i.call(this,C[O])},o=function(){var C,O=this.internal.collections[e+"images"],H=this.internal.write;for(var U in O)H("/I"+(C=O[U]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(C){return typeof t["process"+C.toUpperCase()]=="function"},g=function(C){return zt(C)==="object"&&C.nodeType===1},h=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var H=""+C.getAttribute("src");if(H.indexOf("data:image/")===0)return yp(unescape(H).split("base64,").pop());var U=t.loadFile(H,!0);if(U!==void 0)return U}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ee;switch(O){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return yp(C.toDataURL(ee,1).split("base64,").pop())}},v=function(C){var O=this.internal.collections[e+"images"];if(O){for(var H in O)if(C===O[H].alias)return O[H]}},y=function(C,O,H){return C||O||(C=-96,O=-96),C<0&&(C=-1*H.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),C===0&&(C=O*H.width/H.height),O===0&&(O=C*H.height/H.width),[C,O]},b=function(C,O,H,U,ee,q){var le=y.call(this,H,U,ee),te=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ge=u.call(this);if(H=le[0],U=le[1],ge[ee.index]=ee,q){q*=Math.PI/180;var xe=Math.cos(q),z=Math.sin(q),Q=function(Z){return Z.toFixed(4)},T=[Q(xe),Q(z),Q(-1*z),Q(xe),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,te(C),ce(O+U),"cm"].join(" ")),this.internal.write(T.join(" ")),this.internal.write([te(H),"0","0",te(U),"0","0","cm"].join(" "))):this.internal.write([te(H),"0","0",te(U),te(C),ce(O+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(C){var O,H,U=0;if(typeof C=="string")for(H=C.length,O=0;O<H;O++)U=(U<<5)-U+C.charCodeAt(O),U|=0;else if(I(C))for(H=C.byteLength/2,O=0;O<H;O++)U=(U<<5)-U+C[O],U|=0;return U},k=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},R=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var O=C.indexOf(",");return O<0?null:C.substring(0,O).trim().endsWith("base64")?C.substring(O+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,H=new Uint8Array(O),U=0;U<O;U++)H[U]=C.charCodeAt(U);return H},j=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",H=I(C)?C:new Uint8Array(C),U=0;U<H.length;U+=8192)O+=String.fromCharCode.apply(null,H.subarray(U,U+8192));return O};t.addImage=function(){var C,O,H,U,ee,q,le,te,ce;if(typeof arguments[1]=="number"?(O=n,H=arguments[1],U=arguments[2],ee=arguments[3],q=arguments[4],le=arguments[5],te=arguments[6],ce=arguments[7]):(O=arguments[1],H=arguments[2],U=arguments[3],ee=arguments[4],q=arguments[5],le=arguments[6],te=arguments[7],ce=arguments[8]),zt(C=arguments[0])==="object"&&!g(C)&&"imageData"in C){var ge=C;C=ge.imageData,O=ge.format||O||n,H=ge.x||H||0,U=ge.y||U||0,ee=ge.w||ge.width||ee,q=ge.h||ge.height||q,le=ge.alias||le,te=ge.compression||te,ce=ge.rotation||ge.angle||ce}var xe=this.internal.getFilters();if(te===void 0&&xe.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(H)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var z=A.call(this,C,O,le,te);return b.call(this,H,U,ee,q,z,ce),this};var A=function(C,O,H,U){var ee,q,le;if(typeof C=="string"&&s(C)===n){C=unescape(C);var te=L(C,!1);(te!==""||(te=t.loadFile(C,!0))!==void 0)&&(C=te)}if(g(C)&&(C=h(C,O)),O=s(C,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((le=H)==null||le.length===0)&&(H=function(ce){return typeof ce=="string"||I(ce)?N(ce):I(ce.data)?N(ce.data):null}(C)),(ee=v.call(this,H))||(C instanceof Uint8Array||O==="RGBA"||(q=C,C=M(C)),ee=this["process"+O.toUpperCase()](C,d.call(this),H,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:w.NONE}(U),q)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},L=t.__addimage__.convertBase64ToBinaryString=function(C,O){O=typeof O!="boolean"||O;var H,U="";if(typeof C=="string"){var ee;H=(ee=R(C))!==null&&ee!==void 0?ee:C;try{U=yp(H)}catch(q){if(O)throw k(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(C){var O,H,U="";if(g(C)&&(C=h(C)),typeof C=="string"&&s(C)===n&&((U=L(C,!1))===""&&(U=t.loadFile(C)||""),C=U),H=s(C),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(C instanceof Uint8Array||(C=M(C)),!(O=this["process"+H.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(Ze.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ze.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(x(r.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(w))+") >>",y.content=i;var N=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var I=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:a,type:"link"})},t.textWithLink=function(n,r,s,i){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=c,a=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,o,a,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&s.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var b=0,x=n,w="",N=0;for(b=0;b<y.length;b+=1)x[y.charCodeAt(b)]!==void 0?(N++,typeof(x=x[y.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(x),x=n,N=0),b===y.length-1&&(x=n,w+=y.charAt(b-(N-1)),b-=N-1,N=0)):(x=n,w+=y.charAt(b-N),b-=N,N=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(y,b,x){return a(y)?i(y)===!1?-1:!u(y)||!a(b)&&!a(x)||!a(x)&&o(b)||o(y)&&!a(b)||o(y)&&c(b)||o(y)&&o(b)?0:d(y)&&a(b)&&!o(b)&&a(x)&&u(x)?3:o(y)||!a(x)?1:2:-1},h=function(y){var b=0,x=0,w=0,N="",k="",R="",I=(y=y||"").split("\\s+"),M=[];for(b=0;b<I.length;b+=1){for(M.push(""),x=0;x<I[b].length;x+=1)N=I[b][x],k=I[b][x-1],R=I[b][x+1],a(N)?(w=g(N,k,R),M[b]+=w!==-1?String.fromCharCode(e[N.charCodeAt(0)][w]):N):M[b]+=N;M[b]=f(M[b])}return M.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var w=0;for(x=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?x.push([h(b[w][0]),b[w][1],b[w][2]]):x.push([h(b[w])]);y=x}else y=h(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",v])}(Ze.API),Ze.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,k){return N.concat(b.splitTextToSize(k,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(y=this.getStringUnitWidth(c[w],{font:f})*d)&&(h=y);return h!==0&&(v=c.length),{w:h/=g,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,v,y,b,x=[],w=[],N=[],k={},R={},I=[],M=[],j=(g=g||{}).autoSize||!1,A=g.printHeaders!==!1,L=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,C=g.margins||Object.assign({width:this.getPageWidth()},e),O=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",U=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=U,this.setFontSize(L),f==null)w=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(f)&&zt(f[0])==="object")for(x=f.map(function(ge){return ge.name}),w=f.map(function(ge){return ge.prompt||ge.name||""}),N=f.map(function(ge){return ge.align||"left"}),h=0;h<f.length;h+=1)R[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,N=x.map(function(){return"left"}));if(j||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(k[b=x[h]]=d.map(function(ge){return ge[b]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[b],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)I.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[b]=Math.max.apply(null,I)+O+O,I=[]}if(A){var ee={};for(h=0;h<x.length;h+=1)ee[x[h]]={},ee[x[h]].text=w[h],ee[x[h]].align=N[h];var q=o.call(this,ee,R);M=x.map(function(ge){return new i(c,u,R[ge],q,ee[ge].text,void 0,ee[ge].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var le=f.reduce(function(ge,xe){return ge[xe.name]=xe.align,ge},{});for(h=0;h<d.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:d[h]},this);var te=o.call(this,d[h],R);for(y=0;y<x.length;y+=1){var ce=d[h][x[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:y,data:ce},this),a.call(this,new i(c,u,R[x[y]],te,ce,h+2,le[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/g+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Ze.API);var gS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ly=pS(mS),yS=[100,200,300,400,500,600,700,800,900],E$=pS(yS);function Fm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return gS[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof Ly[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function N_(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var P$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function k_(t){return t.trimLeft()}function L$(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function T$(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Yf,A_,C_,Jl,Jf,E_,P_,L_,Bm=["times"];function T_(t,e,n,r,s){var i=4,a=I_;switch(s){case Ze.API.image_compression.FAST:i=1,a=O_;break;case Ze.API.image_compression.MEDIUM:i=6,a=R_;break;case Ze.API.image_compression.SLOW:i=9,a=M_}t=function(c,u,d,f){for(var g,h=c.length/u,v=new Uint8Array(c.length+h),y=[O$,O_,I_,R_,M_],b=0;b<h;b+=1){var x=b*u,w=c.subarray(x,x+u);if(f)v.set(f(w,d,g),x+b);else{for(var N=y.length,k=[],R=0;R<N;R+=1)k[R]=y[R](w,d,g);var I=R$(k.concat());v.set(k[I],x+b)}g=w}return v}(t,e,Math.ceil(n*r/8),a);var o=jy(t,{level:i});return Ze.API.__addimage__.arrayBufferToBinaryString(o)}function O$(t){var e=Array.apply([],t);return e.unshift(0),e}function O_(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function I_(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var a=n&&n[i]||0;s[i+1]=t[i]-a+256&255}return s}function R_(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var a=t[i-e]||0,o=n&&n[i]||0;s[i+1]=t[i]+256-(a+o>>>1)&255}return s}function M_(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var a=I$(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function I$(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function R$(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function $m(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),a=(1<<n)-1;return xS(t,s)>>i&a}function D_(t,e,n,r){var s=n*r,i=Math.floor(s/8),a=16-(s-8*i+r),o=(1<<r)-1,c=(e&o)<<a;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var g=f>>8&255;u.setUint8(d,g)}})(t,i,xS(t,i)&~(o<<a)&65535|c)}function xS(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function M$(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var u=!0,d=[],f=0,g=null,h=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,g=t[e++],1&y||(g=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++],R=k>>6&1,I=1<<1+(7&k),M=o,j=c,A=!1;k>>7&&(A=!0,M=e,j=I,e+=3*I);var L=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:b,y:x,width:w,height:N,has_local_palette:A,palette_offset:M,palette_size:j,data_offset:L,data_length:e-L,transparent_index:g,interlaced:!!R,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,H){var U=this.frameInfo(O),ee=U.width*U.height,q=new Uint8Array(ee);F_(t,U.data_offset,q,ee);var le=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var ce=U.width,ge=n-ce,xe=ce,z=4*(U.y*n+U.x),Q=4*((U.y+U.height)*n+U.x),T=z,Z=4*ge;U.interlaced===!0&&(Z+=4*n*7);for(var F=8,re=0,V=q.length;re<V;++re){var E=q[re];if(xe===0&&(xe=ce,(T+=Z)>=Q&&(Z=4*ge+4*n*(F-1),T=z+(ce+ge)*(F<<1),F>>=1)),E===te)T+=4;else{var D=t[le+3*E],G=t[le+3*E+1],he=t[le+3*E+2];H[T++]=he,H[T++]=G,H[T++]=D,H[T++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(O,H){var U=this.frameInfo(O),ee=U.width*U.height,q=new Uint8Array(ee);F_(t,U.data_offset,q,ee);var le=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var ce=U.width,ge=n-ce,xe=ce,z=4*(U.y*n+U.x),Q=4*((U.y+U.height)*n+U.x),T=z,Z=4*ge;U.interlaced===!0&&(Z+=4*n*7);for(var F=8,re=0,V=q.length;re<V;++re){var E=q[re];if(xe===0&&(xe=ce,(T+=Z)>=Q&&(Z=4*ge+4*n*(F-1),T=z+(ce+ge)*(F<<1),F>>=1)),E===te)T+=4;else{var D=t[le+3*E],G=t[le+3*E+1],he=t[le+3*E+2];H[T++]=D,H[T++]=G,H[T++]=he,H[T++]=255}--xe}}}function F_(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,c=s+1,u=(1<<c)-1,d=0,f=0,g=0,h=t[e++],v=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var b=f&u;if(f>>=c,d-=c,b!==i){if(b===a)break;for(var x=b<o?b:y,w=0,N=x;N>i;)N=v[N]>>8,++w;var k=N;if(g+w+(x!==b?1:0)>r)return void Gt.log("Warning, gif stream longer than expected.");n[g++]=k;var R=g+=w;for(x!==b&&(n[g++]=k),N=x;w--;)N=v[N],n[--R]=255&N,N>>=8;y!==null&&o<4096&&(v[o++]=y<<8|k,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=b}else o=a+1,u=(1<<(c=s+1))-1,y=null}return g!==r&&Gt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Um(t){var e,n,r,s,i,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),g=new Array(65535),h=new Array(64),v=new Array(64),y=[],b=0,x=7,w=new Array(64),N=new Array(64),k=new Array(64),R=new Array(256),I=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(z,Q){for(var T=0,Z=0,F=new Array,re=1;re<=16;re++){for(var V=1;V<=z[re];V++)F[Q[Z]]=[],F[Q[Z]][0]=T,F[Q[Z]][1]=re,Z++,T++;T*=2}return F}function le(z){for(var Q=z[0],T=z[1]-1;T>=0;)Q&1<<T&&(b|=1<<x),T--,--x<0&&(b==255?(te(255),te(0)):te(b),x=7,b=0)}function te(z){y.push(z)}function ce(z){te(z>>8&255),te(255&z)}function ge(z,Q,T,Z,F){for(var re,V=F[0],E=F[240],D=function(Se,Oe){var Ce,$e,ze,He,at,ot,Tt,ht,et,it,tt=0;for(et=0;et<8;++et){Ce=Se[tt],$e=Se[tt+1],ze=Se[tt+2],He=Se[tt+3],at=Se[tt+4],ot=Se[tt+5],Tt=Se[tt+6];var Wt=Ce+(ht=Se[tt+7]),Ct=Ce-ht,Ue=$e+Tt,ft=$e-Tt,Rt=ze+ot,rt=ze-ot,Nt=He+at,pt=He-at,cn=Wt+Nt,Nn=Wt-Nt,Ft=Ue+Rt,lt=Ue-Rt;Se[tt]=cn+Ft,Se[tt+4]=cn-Ft;var Et=.707106781*(lt+Nn);Se[tt+2]=Nn+Et,Se[tt+6]=Nn-Et;var si=.382683433*((cn=pt+rt)-(lt=ft+Ct)),zn=.5411961*cn+si,ds=1.306562965*lt+si,Hr=.707106781*(Ft=rt+ft),nt=Ct+Hr,hs=Ct-Hr;Se[tt+5]=hs+zn,Se[tt+3]=hs-zn,Se[tt+1]=nt+ds,Se[tt+7]=nt-ds,tt+=8}for(tt=0,et=0;et<8;++et){Ce=Se[tt],$e=Se[tt+8],ze=Se[tt+16],He=Se[tt+24],at=Se[tt+32],ot=Se[tt+40],Tt=Se[tt+48];var ne=Ce+(ht=Se[tt+56]),_e=Ce-ht,_t=$e+Tt,ut=$e-Tt,Mt=ze+ot,Yt=ze-ot,yo=He+at,ha=He-at,Is=ne+yo,ii=ne-yo,Rs=_t+Mt,Ms=_t-Mt;Se[tt]=Is+Rs,Se[tt+32]=Is-Rs;var fs=.707106781*(Ms+ii);Se[tt+16]=ii+fs,Se[tt+48]=ii-fs;var xo=.382683433*((Is=ha+Yt)-(Ms=ut+_e)),ai=.5411961*Is+xo,vo=1.306562965*Ms+xo,Al=.707106781*(Rs=Yt+ut),Cl=_e+Al,El=_e-Al;Se[tt+40]=El+ai,Se[tt+24]=El-ai,Se[tt+8]=Cl+vo,Se[tt+56]=Cl-vo,tt++}for(et=0;et<64;++et)it=Se[et]*Oe[et],h[et]=it>0?it+.5|0:it-.5|0;return h}(z,Q),G=0;G<64;++G)v[M[G]]=D[G];var he=v[0]-T;T=v[0],he==0?le(Z[0]):(le(Z[g[re=32767+he]]),le(f[re]));for(var pe=63;pe>0&&v[pe]==0;)pe--;if(pe==0)return le(V),T;for(var ue,J=1;J<=pe;){for(var Re=J;v[J]==0&&J<=pe;)++J;var Be=J-Re;if(Be>=16){ue=Be>>4;for(var Me=1;Me<=ue;++Me)le(E);Be&=15}re=32767+v[J],le(F[(Be<<4)+g[re]]),le(f[re]),J++}return pe!=63&&le(V),T}function xe(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(Q){for(var T=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var F=a((T[Z]*Q+50)/100);F=Math.min(Math.max(F,1),255),o[M[Z]]=F}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var E=a((re[V]*Q+50)/100);E=Math.min(Math.max(E,1),255),c[M[V]]=E}for(var D=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],G=0,he=0;he<8;he++)for(var pe=0;pe<8;pe++)u[G]=1/(o[M[G]]*D[he]*D[pe]*8),d[G]=1/(c[M[G]]*D[he]*D[pe]*8),G++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,Q){Q&&xe(Q),y=new Array,b=0,x=7,ce(65496),ce(65504),ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ce(1),ce(1),te(0),te(0),function(){ce(65499),ce(132),te(0);for(var $e=0;$e<64;$e++)te(o[$e]);te(1);for(var ze=0;ze<64;ze++)te(c[ze])}(),function($e,ze){ce(65472),ce(17),te(8),ce(ze),ce($e),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(z.width,z.height),function(){ce(65476),ce(418),te(0);for(var $e=0;$e<16;$e++)te(j[$e+1]);for(var ze=0;ze<=11;ze++)te(A[ze]);te(16);for(var He=0;He<16;He++)te(L[He+1]);for(var at=0;at<=161;at++)te(C[at]);te(1);for(var ot=0;ot<16;ot++)te(O[ot+1]);for(var Tt=0;Tt<=11;Tt++)te(H[Tt]);te(17);for(var ht=0;ht<16;ht++)te(U[ht+1]);for(var et=0;et<=161;et++)te(ee[et])}(),ce(65498),ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var T=0,Z=0,F=0;b=0,x=7,this.encode.displayName="_encode_";for(var re,V,E,D,G,he,pe,ue,J,Re=z.data,Be=z.width,Me=z.height,Se=4*Be,Oe=0;Oe<Me;){for(re=0;re<Se;){for(G=Se*Oe+re,pe=-1,ue=0,J=0;J<64;J++)he=G+(ue=J>>3)*Se+(pe=4*(7&J)),Oe+ue>=Me&&(he-=Se*(Oe+1+ue-Me)),re+pe>=Se&&(he-=re+pe-Se+4),V=Re[he++],E=Re[he++],D=Re[he++],w[J]=(I[V]+I[E+256|0]+I[D+512|0]>>16)-128,N[J]=(I[V+768|0]+I[E+1024|0]+I[D+1280|0]>>16)-128,k[J]=(I[V+1280|0]+I[E+1536|0]+I[D+1792|0]>>16)-128;T=ge(w,u,T,e,r),Z=ge(N,d,Z,n,s),F=ge(k,d,F,n,s),re+=32}Oe+=8}if(x>=0){var Ce=[];Ce[1]=x+1,Ce[0]=(1<<x+1)-1,le(Ce)}return ce(65497),new Uint8Array(y)},t=t||50,function(){for(var z=String.fromCharCode,Q=0;Q<256;Q++)R[Q]=z(Q)}(),e=q(j,A),n=q(O,H),r=q(L,C),s=q(U,ee),function(){for(var z=1,Q=2,T=1;T<=15;T++){for(var Z=z;Z<Q;Z++)g[32767+Z]=T,f[32767+Z]=[],f[32767+Z][1]=T,f[32767+Z][0]=Z;for(var F=-(Q-1);F<=-z;F++)g[32767+F]=T,f[32767+F]=[],f[32767+F][1]=T,f[32767+F][0]=Q-1+F;z<<=1,Q<<=1}}(),function(){for(var z=0;z<256;z++)I[z]=19595*z,I[z+256|0]=38470*z,I[z+512|0]=7471*z+32768,I[z+768|0]=-11059*z,I[z+1024|0]=-21709*z,I[z+1280|0]=32768*z+8421375,I[z+1536|0]=-27439*z,I[z+1792|0]=-5329*z}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B_(t){function e(A){if(!A)throw Error("assert :P")}function n(A,L,C){for(var O=0;4>O;O++)if(A[L+O]!=C.charCodeAt(O))return!0;return!1}function r(A,L,C,O,H){for(var U=0;U<H;U++)A[L+U]=C[O+U]}function s(A,L,C,O){for(var H=0;H<O;H++)A[L+H]=C}function i(A){return new Int32Array(A)}function a(A,L){for(var C=[],O=0;O<A;O++)C.push(new L);return C}function o(A,L){var C=[];return function O(H,U,ee){for(var q=ee[U],le=0;le<q&&(H.push(ee.length>U+1?[]:new L),!(ee.length<U+1));le++)O(H[le],U+1,ee)}(C,0,A),C}var c=function(){var A=this;function L(p,m){for(var S=1<<m-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,m,S,P,$){e(!(P%S));do p[m+(P-=S)]=$;while(0<P)}function O(p,m,S,P,$){if(e(2328>=$),512>=$)var W=i(512);else if((W=i($))==null)return 0;return function(K,Y,X,se,fe,we){var ie,me,ve=Y,Ne=1<<X,be=i(16),je=i(16);for(e(fe!=0),e(se!=null),e(K!=null),e(0<X),me=0;me<fe;++me){if(15<se[me])return 0;++be[se[me]]}if(be[0]==fe)return 0;for(je[1]=0,ie=1;15>ie;++ie){if(be[ie]>1<<ie)return 0;je[ie+1]=je[ie]+be[ie]}for(me=0;me<fe;++me)ie=se[me],0<se[me]&&(we[je[ie]++]=me);if(je[15]==1)return(se=new H).g=0,se.value=we[0],C(K,ve,1,Ne,se),Ne;var Ae,Le=-1,Ee=Ne-1,Qe=0,We=1,bt=1,Ge=1<<X;for(me=0,ie=1,fe=2;ie<=X;++ie,fe<<=1){if(We+=bt<<=1,0>(bt-=be[ie]))return 0;for(;0<be[ie];--be[ie])(se=new H).g=ie,se.value=we[me++],C(K,ve+Qe,fe,Ge,se),Qe=L(Qe,ie)}for(ie=X+1,fe=2;15>=ie;++ie,fe<<=1){if(We+=bt<<=1,0>(bt-=be[ie]))return 0;for(;0<be[ie];--be[ie]){if(se=new H,(Qe&Ee)!=Le){for(ve+=Ge,Ae=1<<(Le=ie)-X;15>Le&&!(0>=(Ae-=be[Le]));)++Le,Ae<<=1;Ne+=Ge=1<<(Ae=Le-X),K[Y+(Le=Qe&Ee)].g=Ae+X,K[Y+Le].value=ve-Y-Le}se.g=ie-X,se.value=we[me++],C(K,ve+(Qe>>X),fe,Ge,se),Qe=L(Qe,ie)}}return We!=2*je[15]-1?0:Ne}(p,m,S,P,$,W)}function H(){this.value=this.g=0}function U(){this.value=this.g=0}function ee(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mo,U)}function q(p,m,S,P){e(p!=null),e(m!=null),e(2147483648>P),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=S,p.Jd=m,p.Yc=S+P,p.Zc=4<=P?S+P-4+1:S,V(p)}function le(p,m){for(var S=0;0<m--;)S|=D(p,128)<<m;return S}function te(p,m){var S=le(p,m);return E(p)?-S:S}function ce(p,m,S,P){var $,W=0;for(e(p!=null),e(m!=null),e(4294967288>P),p.Sb=P,p.Ra=0,p.u=0,p.h=0,4<P&&(P=4),$=0;$<P;++$)W+=m[S+$]<<8*$;p.Ra=W,p.bb=P,p.oa=m,p.pa=S}function ge(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ya-8>>>0,++p.bb,p.u-=8;Z(p)&&(p.h=1,p.u=0)}function xe(p,m){if(e(0<=m),!p.h&&m<=Vr){var S=T(p)&Wr[m];return p.u+=m,ge(p),S}return p.h=1,p.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function T(p){return p.Ra>>>(p.u&ya-1)>>>0}function Z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ya}function F(p,m){p.u=m,p.h=Z(p)}function re(p){p.u>=Ti&&(e(p.u>=Ti),ge(p))}function V(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function E(p){return le(p,1)}function D(p,m){var S=p.Ca;0>p.b&&V(p);var P=p.b,$=S*m>>>8,W=(p.I>>>P>$)+0;for(W?(S-=$,p.I-=$+1<<P>>>0):S=$+1,P=S,$=0;256<=P;)$+=8,P>>=8;return P=7^$+xa[P],p.b-=P,p.Ca=(S<<P)-1,W}function G(p,m,S){p[m+0]=S>>24&255,p[m+1]=S>>16&255,p[m+2]=S>>8&255,p[m+3]=255&S}function he(p,m){return p[m+0]|p[m+1]<<8}function pe(p,m){return he(p,m)|p[m+2]<<16}function ue(p,m){return he(p,m)|he(p,m+2)<<16}function J(p,m){var S=1<<m;return e(p!=null),e(0<m),p.X=i(S),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function Re(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),r(m.X,0,p.X,0,1<<m.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function Me(p,m,S,P){e(S!=null),e(P!=null);var $=S[0],W=P[0];return $==0&&($=(p*W+m/2)/m),W==0&&(W=(m*$+p/2)/p),0>=$||0>=W?0:(S[0]=$,P[0]=W,1)}function Se(p,m){return p+(1<<m)-1>>>m}function Oe(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function Ce(p,m){A[m]=function(S,P,$,W,K,Y,X){var se;for(se=0;se<K;++se){var fe=A[p](Y[X+se-1],$,W+se);Y[X+se]=Oe(S[P+se],fe)}}}function $e(){this.ud=this.hd=this.jd=0}function ze(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function He(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function at(p,m){return He(p+(p-m+.5>>1))}function ot(p,m,S){return Math.abs(m-S)-Math.abs(p-S)}function Tt(p,m,S,P,$,W,K){for(P=W[K-1],S=0;S<$;++S)W[K+S]=P=Oe(p[m+S],P)}function ht(p,m,S,P,$){var W;for(W=0;W<S;++W){var K=p[m+W],Y=K>>8&255,X=16711935&(X=(X=16711935&K)+((Y<<16)+Y));P[$+W]=(4278255360&K)+X>>>0}}function et(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function it(p,m,S,P,$,W){var K;for(K=0;K<P;++K){var Y=m[S+K],X=Y>>>8,se=Y,fe=255&(fe=(fe=Y>>>16)+((p.jd<<24>>24)*(X<<24>>24)>>>5));se=255&(se=(se+=(p.hd<<24>>24)*(X<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),$[W+K]=(4278255360&Y)+(fe<<16)+se}}function tt(p,m,S,P,$){A[m]=function(W,K,Y,X,se,fe,we,ie,me){for(X=we;X<ie;++X)for(we=0;we<me;++we)se[fe++]=$(Y[P(W[K++])])},A[p]=function(W,K,Y,X,se,fe,we){var ie=8>>W.b,me=W.Ea,ve=W.K[0],Ne=W.w;if(8>ie)for(W=(1<<W.b)-1,Ne=(1<<ie)-1;K<Y;++K){var be,je=0;for(be=0;be<me;++be)be&W||(je=P(X[se++])),fe[we++]=$(ve[je&Ne]),je>>=ie}else A["VP8LMapColor"+S](X,se,ve,Ne,fe,we,K,Y,me)}}function Wt(p,m,S,P,$){for(S=m+S;m<S;){var W=p[m++];P[$++]=W>>16&255,P[$++]=W>>8&255,P[$++]=255&W}}function Ct(p,m,S,P,$){for(S=m+S;m<S;){var W=p[m++];P[$++]=W>>16&255,P[$++]=W>>8&255,P[$++]=255&W,P[$++]=W>>24&255}}function Ue(p,m,S,P,$){for(S=m+S;m<S;){var W=(K=p[m++])>>16&240|K>>12&15,K=240&K|K>>28&15;P[$++]=W,P[$++]=K}}function ft(p,m,S,P,$){for(S=m+S;m<S;){var W=(K=p[m++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;P[$++]=W,P[$++]=K}}function Rt(p,m,S,P,$){for(S=m+S;m<S;){var W=p[m++];P[$++]=255&W,P[$++]=W>>8&255,P[$++]=W>>16&255}}function rt(p,m,S,P,$,W){if(W==0)for(S=m+S;m<S;)G(P,((W=p[m++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),$+=32;else r(P,$,p,m,S)}function Nt(p,m){A[m][0]=A[p+"0"],A[m][1]=A[p+"1"],A[m][2]=A[p+"2"],A[m][3]=A[p+"3"],A[m][4]=A[p+"4"],A[m][5]=A[p+"5"],A[m][6]=A[p+"6"],A[m][7]=A[p+"7"],A[m][8]=A[p+"8"],A[m][9]=A[p+"9"],A[m][10]=A[p+"10"],A[m][11]=A[p+"11"],A[m][12]=A[p+"12"],A[m][13]=A[p+"13"],A[m][14]=A[p+"0"],A[m][15]=A[p+"0"]}function pt(p){return p==ug||p==dg||p==Hh||p==hg}function cn(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cn,this.f.kb=new Nn,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function si(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function zn(p,m){var S=p.T,P=m.ba.f.RGBA,$=P.eb,W=P.fb+p.ka*P.A,K=vs[m.ba.S],Y=p.y,X=p.O,se=p.f,fe=p.N,we=p.ea,ie=p.W,me=m.cc,ve=m.dc,Ne=m.Mc,be=m.Nc,je=p.ka,Ae=p.ka+p.T,Le=p.U,Ee=Le+1>>1;for(je==0?K(Y,X,null,null,se,fe,we,ie,se,fe,we,ie,$,W,null,null,Le):(K(m.ec,m.fc,Y,X,me,ve,Ne,be,se,fe,we,ie,$,W-P.A,$,W,Le),++S);je+2<Ae;je+=2)me=se,ve=fe,Ne=we,be=ie,fe+=p.Rc,ie+=p.Rc,W+=2*P.A,K(Y,(X+=2*p.fa)-p.fa,Y,X,me,ve,Ne,be,se,fe,we,ie,$,W-P.A,$,W,Le);return X+=p.fa,p.j+Ae<p.o?(r(m.ec,m.fc,Y,X,Le),r(m.cc,m.dc,se,fe,Ee),r(m.Mc,m.Nc,we,ie,Ee),S--):1&Ae||K(Y,X,null,null,se,fe,we,ie,se,fe,we,ie,$,W+P.A,null,null,Le),S}function ds(p,m,S){var P=p.F,$=[p.J];if(P!=null){var W=p.U,K=m.ba.S,Y=K==qh||K==Hh;m=m.ba.f.RGBA;var X=[0],se=p.ka;X[0]=p.T,p.Kb&&(se==0?--X[0]:(--se,$[0]-=p.width),p.j+p.ka+p.T==p.o&&(X[0]=p.o-p.j-se));var fe=m.eb;se=m.fb+se*m.A,p=A2(P,$[0],p.width,W,X,fe,se+(Y?0:3),m.A),e(S==X),p&&pt(K)&&Su(fe,se,Y,W,X,m.A)}return 0}function Hr(p){var m=p.ma,S=m.ba.S,P=11>S,$=S==Uh||S==zh||S==qh||S==cg||S==12||pt(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!yu(m.Oa,p,$?11:12))return 0;if($&&pt(S)&&Rh(),p.da)alert("todo:use_scaling");else{if(P){if(m.Ib=si,p.Kb){if(S=p.U+1>>1,m.memory=i(p.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=zn,Rh()}}else alert("todo:EmitYUV");$&&(m.Jb=ds,P&&gs())}if(P&&!q2){for(p=0;256>p;++p)XS[p]=89858*(p-128)+Vh>>Wh,ek[p]=-22014*(p-128)+Vh,ZS[p]=-45773*(p-128),QS[p]=113618*(p-128)+Vh>>Wh;for(p=Au;p<gg;++p)m=76283*(p-16)+Vh>>Wh,tk[p-Au]=mn(m,255),nk[p-Au]=mn(m+8>>4,15);q2=1}return 1}function nt(p){var m=p.ma,S=p.U,P=p.T;return e(!(1&p.ka)),0>=S||0>=P?0:(S=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,S),m.Dc+=S,1)}function hs(p){p.ma.memory=null}function ne(p,m,S,P){return xe(p,8)!=47?0:(m[0]=xe(p,14)+1,S[0]=xe(p,14)+1,P[0]=xe(p,1),xe(p,3)!=0?0:!p.h)}function _e(p,m){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+xe(m,S)+1}function _t(p,m){return 120<m?m-120:1<=(S=((S=DS[m-1])>>4)*p+(8-(15&S)))?S:1;var S}function ut(p,m,S){var P=T(S),$=p[m+=255&P].g-8;return 0<$&&(F(S,S.u+8),P=T(S),m+=p[m].value,m+=P&(1<<$)-1),F(S,S.u+p[m].g),p[m].value}function Mt(p,m,S){return S.g+=p.g,S.value+=p.value<<m>>>0,e(8>=S.g),p.g}function Yt(p,m,S){var P=p.xc;return e((m=P==0?0:p.vc[p.md*(S>>P)+(m>>P)])<p.Wb),p.Ya[m]}function yo(p,m,S,P){var $=p.ab,W=p.c*m,K=p.C;m=K+m;var Y=S,X=P;for(P=p.Ta,S=p.Ua;0<$--;){var se=p.gc[$],fe=K,we=m,ie=Y,me=X,ve=(X=P,Y=S,se.Ea);switch(e(fe<we),e(we<=se.nc),se.hc){case 2:Sn(ie,me,(we-fe)*ve,X,Y);break;case 0:var Ne=fe,be=we,je=X,Ae=Y,Le=(Ge=se).Ea;Ne==0&&(vu(ie,me,null,null,1,je,Ae),Tt(ie,me+1,0,0,Le-1,je,Ae+1),me+=Le,Ae+=Le,++Ne);for(var Ee=1<<Ge.b,Qe=Ee-1,We=Se(Le,Ge.b),bt=Ge.K,Ge=Ge.w+(Ne>>Ge.b)*We;Ne<be;){var kt=bt,Wn=Ge,wt=1;for(Dl(ie,me,je,Ae-Le,1,je,Ae);wt<Le;){var Ye=(wt&~Qe)+Ee;Ye>Le&&(Ye=Le),(0,wu[kt[Wn++]>>8&15])(ie,me+ +wt,je,Ae+wt-Le,Ye-wt,je,Ae+wt),wt=Ye}me+=Le,Ae+=Le,++Ne&Qe||(Ge+=We)}we!=se.nc&&r(X,Y-ve,X,Y+(we-fe-1)*ve,ve);break;case 1:for(ve=ie,be=me,Le=(ie=se.Ea)-(Ae=ie&~(je=(me=1<<se.b)-1)),Ne=Se(ie,se.b),Ee=se.K,se=se.w+(fe>>se.b)*Ne;fe<we;){for(Qe=Ee,We=se,bt=new $e,Ge=be+Ae,kt=be+ie;be<Ge;)et(Qe[We++],bt),_u(bt,ve,be,me,X,Y),be+=me,Y+=me;be<kt&&(et(Qe[We++],bt),_u(bt,ve,be,Le,X,Y),be+=Le,Y+=Le),++fe&je||(se+=Ne)}break;case 3:if(ie==X&&me==Y&&0<se.b){for(be=X,ie=ve=Y+(we-fe)*ve-(Ae=(we-fe)*Se(se.Ea,se.b)),me=X,je=Y,Ne=[],Ae=(Le=Ae)-1;0<=Ae;--Ae)Ne[Ae]=me[je+Ae];for(Ae=Le-1;0<=Ae;--Ae)be[ie+Ae]=Ne[Ae];Dh(se,fe,we,X,ve,X,Y)}else Dh(se,fe,we,ie,me,X,Y)}Y=P,X=S}X!=S&&r(P,S,Y,X,W)}function ha(p,m){var S=p.V,P=p.Ba+p.c*p.C,$=m-p.C;if(e(m<=p.l.o),e(16>=$),0<$){var W=p.l,K=p.Ta,Y=p.Ua,X=W.width;if(yo(p,$,S,P),$=Y=[Y],e((S=p.C)<(P=m)),e(W.v<W.va),P>W.o&&(P=W.o),S<W.j){var se=W.j-S;S=W.j,$[0]+=se*X}if(S>=P?S=0:($[0]+=4*W.v,W.ka=S-W.j,W.U=W.va-W.v,W.T=P-S,S=1),S){if(Y=Y[0],11>(S=p.ca).S){var fe=S.f.RGBA,we=(P=S.S,$=W.U,W=W.T,se=fe.eb,fe.A),ie=W;for(fe=fe.fb+p.Ma*fe.A;0<ie--;){var me=K,ve=Y,Ne=$,be=se,je=fe;switch(P){case $h:Nu(me,ve,Ne,be,je);break;case Uh:va(me,ve,Ne,be,je);break;case ug:va(me,ve,Ne,be,je),Su(be,je,0,Ne,1,0);break;case I2:Do(me,ve,Ne,be,je);break;case zh:rt(me,ve,Ne,be,je,1);break;case dg:rt(me,ve,Ne,be,je,1),Su(be,je,0,Ne,1,0);break;case qh:rt(me,ve,Ne,be,je,0);break;case Hh:rt(me,ve,Ne,be,je,0),Su(be,je,1,Ne,1,0);break;case cg:ba(me,ve,Ne,be,je);break;case hg:ba(me,ve,Ne,be,je),k2(be,je,Ne,1,0);break;case R2:wa(me,ve,Ne,be,je);break;default:e(0)}Y+=X,fe+=we}p.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=m,e(p.C<=p.i)}function Is(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var S=p.Ya[m].G,P=p.Ya[m].H;if(0<S[1][P[1]+0].g||0<S[2][P[2]+0].g||0<S[3][P[3]+0].g)return 0}return 1}function ii(p,m,S,P,$,W){if(p.Z!=0){var K=p.qd,Y=p.rd;for(e(ja[p.Z]!=null);m<S;++m)ja[p.Z](K,Y,P,$,P,$,W),K=P,Y=$,$+=W;p.qd=K,p.rd=Y}}function Rs(p,m){var S=p.l.ma,P=S.Z==0||S.Z==1?p.l.j:p.C;if(P=p.C<P?P:p.C,e(m<=p.l.o),m>P){var $=p.l.width,W=S.ca,K=S.tb+$*P,Y=p.V,X=p.Ba+p.c*P,se=p.gc;e(p.ab==1),e(se[0].hc==3),ci(se[0],P,m,Y,X,W,K),ii(S,P,m,W,K,$)}p.C=p.Ma=m}function Ms(p,m,S,P,$,W,K){var Y=p.$/P,X=p.$%P,se=p.m,fe=p.s,we=S+p.$,ie=we;$=S+P*$;var me=S+P*W,ve=280+fe.ua,Ne=p.Pb?Y:16777216,be=0<fe.ua?fe.Wa:null,je=fe.wc,Ae=we<me?Yt(fe,X,Y):null;e(p.C<W),e(me<=$);var Le=!1;e:for(;;){for(;Le||we<me;){var Ee=0;if(Y>=Ne){var Qe=we-S;e((Ne=p).Pb),Ne.wd=Ne.m,Ne.xd=Qe,0<Ne.s.ua&&Re(Ne.s.Wa,Ne.s.vb),Ne=Y+BS}if(X&je||(Ae=Yt(fe,X,Y)),e(Ae!=null),Ae.Qb&&(m[we]=Ae.qb,Le=!0),!Le)if(re(se),Ae.jc){Ee=se,Qe=m;var We=we,bt=Ae.pd[T(Ee)&Mo-1];e(Ae.jc),256>bt.g?(F(Ee,Ee.u+bt.g),Qe[We]=bt.value,Ee=0):(F(Ee,Ee.u+bt.g-256),e(256<=bt.value),Ee=bt.value),Ee==0&&(Le=!0)}else Ee=ut(Ae.G[0],Ae.H[0],se);if(se.h)break;if(Le||256>Ee){if(!Le)if(Ae.nd)m[we]=(Ae.qb|Ee<<8)>>>0;else{if(re(se),Le=ut(Ae.G[1],Ae.H[1],se),re(se),Qe=ut(Ae.G[2],Ae.H[2],se),We=ut(Ae.G[3],Ae.H[3],se),se.h)break;m[we]=(We<<24|Le<<16|Ee<<8|Qe)>>>0}if(Le=!1,++we,++X>=P&&(X=0,++Y,K!=null&&Y<=W&&!(Y%16)&&K(p,Y),be!=null))for(;ie<we;)Ee=m[ie++],be.X[(506832829*Ee&4294967295)>>>be.Mb]=Ee}else if(280>Ee){if(Ee=_e(Ee-256,se),Qe=ut(Ae.G[4],Ae.H[4],se),re(se),Qe=_t(P,Qe=_e(Qe,se)),se.h)break;if(we-S<Qe||$-we<Ee)break e;for(We=0;We<Ee;++We)m[we+We]=m[we+We-Qe];for(we+=Ee,X+=Ee;X>=P;)X-=P,++Y,K!=null&&Y<=W&&!(Y%16)&&K(p,Y);if(e(we<=$),X&je&&(Ae=Yt(fe,X,Y)),be!=null)for(;ie<we;)Ee=m[ie++],be.X[(506832829*Ee&4294967295)>>>be.Mb]=Ee}else{if(!(Ee<ve))break e;for(Le=Ee-280,e(be!=null);ie<we;)Ee=m[ie++],be.X[(506832829*Ee&4294967295)>>>be.Mb]=Ee;Ee=we,e(!(Le>>>(Qe=be).Xa)),m[Ee]=Qe.X[Le],Le=!0}Le||e(se.h==Z(se))}if(p.Pb&&se.h&&we<$)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Re(p.s.vb,p.s.Wa);else{if(se.h)break e;K!=null&&K(p,Y>W?W:Y),p.a=0,p.$=we-S}return 1}return p.a=3,0}function fs(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function xo(){var p=new Xe;return p==null?null:(p.a=0,p.xb=F2,Nt("Predictor","VP8LPredictors"),Nt("Predictor","VP8LPredictors_C"),Nt("PredictorAdd","VP8LPredictorsAdd"),Nt("PredictorAdd","VP8LPredictorsAdd_C"),Sn=ht,_u=it,Nu=Wt,va=Ct,ba=Ue,wa=ft,Do=Rt,A.VP8LMapColor32b=li,A.VP8LMapColor8b=bu,p)}function ai(p,m,S,P,$){var W=1,K=[p],Y=[m],X=P.m,se=P.s,fe=null,we=0;e:for(;;){if(S)for(;W&&xe(X,1);){var ie=K,me=Y,ve=P,Ne=1,be=ve.m,je=ve.gc[ve.ab],Ae=xe(be,2);if(ve.Oc&1<<Ae)W=0;else{switch(ve.Oc|=1<<Ae,je.hc=Ae,je.Ea=ie[0],je.nc=me[0],je.K=[null],++ve.ab,e(4>=ve.ab),Ae){case 0:case 1:je.b=xe(be,3)+2,Ne=ai(Se(je.Ea,je.b),Se(je.nc,je.b),0,ve,je.K),je.K=je.K[0];break;case 3:var Le,Ee=xe(be,8)+1,Qe=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ie[0]=Se(je.Ea,Qe),je.b=Qe,Le=Ne=ai(Ee,1,0,ve,je.K)){var We,bt=Ee,Ge=je,kt=1<<(8>>Ge.b),Wn=i(kt);if(Wn==null)Le=0;else{var wt=Ge.K[0],Ye=Ge.w;for(Wn[0]=Ge.K[0][0],We=1;We<1*bt;++We)Wn[We]=Oe(wt[Ye+We],Wn[We-1]);for(;We<4*kt;++We)Wn[We]=0;Ge.K[0]=null,Ge.K[0]=Wn,Le=1}}Ne=Le;break;case 2:break;default:e(0)}W=Ne}}if(K=K[0],Y=Y[0],W&&xe(X,1)&&!(W=1<=(we=xe(X,4))&&11>=we)){P.a=3;break e}var De;if(De=W)t:{var An,vt,At,tn=P,sr=K,jr=Y,yn=we,fr=S,Sr=tn.m,Vn=tn.s,Pt=[null],Bt=1,xn=0,$t=FS[yn];n:for(;;){if(fr&&xe(Sr,1)){var ir=xe(Sr,3)+2,Bs=Se(sr,ir),Cn=Se(jr,ir),Or=Bs*Cn;if(!ai(Bs,Cn,0,tn,Pt))break n;for(Pt=Pt[0],Vn.xc=ir,An=0;An<Or;++An){var Kt=Pt[An]>>8&65535;Pt[An]=Kt,Kt>=Bt&&(Bt=Kt+1)}}if(Sr.h)break n;for(vt=0;5>vt;++vt){var Kn=M2[vt];!vt&&0<yn&&(Kn+=1<<yn),xn<Kn&&(xn=Kn)}var Gr=a(Bt*$t,H),kr=Bt,Yr=a(kr,ee);if(Yr==null)var Jr=null;else e(65536>=kr),Jr=Yr;var Ir=i(xn);if(Jr==null||Ir==null||Gr==null){tn.a=1;break n}var Xr=Gr;for(An=At=0;An<Bt;++An){var Xt=Jr[An],Qr=Xt.G,$s=Xt.H,Bo=0,Ri=1,ar=0;for(vt=0;5>vt;++vt){Kn=M2[vt],Qr[vt]=Xr,$s[vt]=At,!vt&&0<yn&&(Kn+=1<<yn);s:{var Gh,mg=Kn,Yh=tn,Cu=Ir,ik=Xr,ak=At,yg=0,Sa=Yh.m,ok=xe(Sa,1);if(s(Cu,0,0,mg),ok){var lk=xe(Sa,1)+1,ck=xe(Sa,1),V2=xe(Sa,ck==0?1:8);Cu[V2]=1,lk==2&&(Cu[V2=xe(Sa,8)]=1);var Jh=1}else{var K2=i(19),G2=xe(Sa,4)+4;if(19<G2){Yh.a=3;var Xh=0;break s}for(Gh=0;Gh<G2;++Gh)K2[MS[Gh]]=xe(Sa,3);var xg=void 0,Eu=void 0,Y2=Yh,uk=K2,Qh=mg,J2=Cu,vg=0,ka=Y2.m,X2=8,Q2=a(128,H);r:for(;O(Q2,0,7,uk,19);){if(xe(ka,1)){var dk=2+2*xe(ka,3);if((xg=2+xe(ka,dk))>Qh)break r}else xg=Qh;for(Eu=0;Eu<Qh&&xg--;){re(ka);var Z2=Q2[0+(127&T(ka))];F(ka,ka.u+Z2.g);var Bl=Z2.value;if(16>Bl)J2[Eu++]=Bl,Bl!=0&&(X2=Bl);else{var hk=Bl==16,ev=Bl-16,fk=IS[ev],tv=xe(ka,OS[ev])+fk;if(Eu+tv>Qh)break r;for(var pk=hk?X2:0;0<tv--;)J2[Eu++]=pk}}vg=1;break r}vg||(Y2.a=3),Jh=vg}(Jh=Jh&&!Sa.h)&&(yg=O(ik,ak,8,Cu,mg)),Jh&&yg!=0?Xh=yg:(Yh.a=3,Xh=0)}if(Xh==0)break n;if(Ri&&RS[vt]==1&&(Ri=Xr[At].g==0),Bo+=Xr[At].g,At+=Xh,3>=vt){var Pu,bg=Ir[0];for(Pu=1;Pu<Kn;++Pu)Ir[Pu]>bg&&(bg=Ir[Pu]);ar+=bg}}if(Xt.nd=Ri,Xt.Qb=0,Ri&&(Xt.qb=(Qr[3][$s[3]+0].value<<24|Qr[1][$s[1]+0].value<<16|Qr[2][$s[2]+0].value)>>>0,Bo==0&&256>Qr[0][$s[0]+0].value&&(Xt.Qb=1,Xt.qb+=Qr[0][$s[0]+0].value<<8)),Xt.jc=!Xt.Qb&&6>ar,Xt.jc){var Zh,Mi=Xt;for(Zh=0;Zh<Mo;++Zh){var Aa=Zh,Ca=Mi.pd[Aa],ef=Mi.G[0][Mi.H[0]+Aa];256<=ef.value?(Ca.g=ef.g+256,Ca.value=ef.value):(Ca.g=0,Ca.value=0,Aa>>=Mt(ef,8,Ca),Aa>>=Mt(Mi.G[1][Mi.H[1]+Aa],16,Ca),Aa>>=Mt(Mi.G[2][Mi.H[2]+Aa],0,Ca),Mt(Mi.G[3][Mi.H[3]+Aa],24,Ca))}}}Vn.vc=Pt,Vn.Wb=Bt,Vn.Ya=Jr,Vn.yc=Gr,De=1;break t}De=0}if(!(W=De)){P.a=3;break e}if(0<we){if(se.ua=1<<we,!J(se.Wa,we)){P.a=1,W=0;break e}}else se.ua=0;var wg=P,nv=K,gk=Y,_g=wg.s,Ng=_g.xc;if(wg.c=nv,wg.i=gk,_g.md=Se(nv,Ng),_g.wc=Ng==0?-1:(1<<Ng)-1,S){P.xb=VS;break e}if((fe=i(K*Y))==null){P.a=1,W=0;break e}W=(W=Ms(P,fe,0,K,Y,Y,null))&&!X.h;break e}return W?($!=null?$[0]=fe:(e(fe==null),e(S)),P.$=0,S||fs(se)):fs(se),W}function vo(p,m){var S=p.c*p.i,P=S+m+16*m;return e(p.c<=m),p.V=i(P),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+m,1)}function Al(p,m){var S=p.C,P=m-S,$=p.V,W=p.Ba+p.c*S;for(e(m<=p.l.o);0<P;){var K=16<P?16:P,Y=p.l.ma,X=p.l.width,se=X*K,fe=Y.ca,we=Y.tb+X*S,ie=p.Ta,me=p.Ua;yo(p,K,$,W),C2(ie,me,fe,we,se),ii(Y,S,S+K,fe,we,X),P-=K,$+=K*p.c,S+=K}e(S==m),p.C=p.Ma=m}function Cl(){this.ub=this.yd=this.td=this.Rb=0}function El(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function V0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ru(){this.Yb=function(){var p=[];return function m(S,P,$){for(var W=$[P],K=0;K<W&&(S.push($.length>P+1?[]:0),!($.length<P+1));K++)m(S[K],P+1,$)}(p,0,[3,11]),p}()}function bh(){this.jb=i(3),this.Wc=o([4,8],ru),this.Xc=o([4,17],ru)}function wh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ps(){this.ld=this.La=this.dd=this.tc=0}function su(){this.Na=this.la=0}function _h(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function iu(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ps),this.Y=0,this.ya=Array(new iu),this.aa=0,this.l=new Pl}function jh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Sh(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new Cl,this.Kc=new El,this.ed=new wh,this.Qa=new V0,this.Ic=this.$c=this.Aa=0,this.D=new Nh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,z),this.ia=0,this.pb=a(4,_h),this.Pa=new bh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jh),this.Hd=0,this.rb=Array(new su),this.sb=0,this.wa=Array(new ps),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new iu),this.L=this.aa=0,this.gd=o([4,2],ps),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function K0(){var p=new Sh;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ku||(ku=ki)),p}function Rn(p,m,S){return p.a==0&&(p.a=m,p.sc=S,p.cb=0),0}function kh(p,m,S){return 3<=S&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function Ah(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return Rn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,P=m.w,$=m.ha;if(4>$)return Rn(p,7,"Truncated header.");var W=S[P+0]|S[P+1]<<8|S[P+2]<<16,K=p.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return Rn(p,3,"Incorrect keyframe parameters.");if(!K.yd)return Rn(p,4,"Frame not displayable.");P+=3,$-=3;var Y=p.Kc;if(K.Rb){if(7>$)return Rn(p,7,"cannot parse picture header");if(!kh(S,P,$))return Rn(p,3,"Bad code word");Y.c=16383&(S[P+4]<<8|S[P+3]),Y.Td=S[P+4]>>6,Y.i=16383&(S[P+6]<<8|S[P+5]),Y.Ud=S[P+6]>>6,P+=7,$-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,m.width=Y.c,m.height=Y.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((W=p.Pa).jb,0,255,W.jb.length),e((W=p.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,s(W.Zb,0,0,W.Zb.length),s(W.Lb,0,0,W.Lb)}if(K.ub>$)return Rn(p,7,"bad partition length");q(W=p.m,S,P,K.ub),P+=K.ub,$-=K.ub,K.Rb&&(Y.Ld=E(W),Y.Kd=E(W)),Y=p.Qa;var X,se=p.Pa;if(e(W!=null),e(Y!=null),Y.Cb=E(W),Y.Cb){if(Y.Bb=E(W),E(W)){for(Y.Fb=E(W),X=0;4>X;++X)Y.Zb[X]=E(W)?te(W,7):0;for(X=0;4>X;++X)Y.Lb[X]=E(W)?te(W,6):0}if(Y.Bb)for(X=0;3>X;++X)se.jb[X]=E(W)?le(W,8):255}else Y.Bb=0;if(W.Ka)return Rn(p,3,"cannot parse segment header");if((Y=p.ed).zd=E(W),Y.Tb=le(W,6),Y.wb=le(W,3),Y.Pc=E(W),Y.Pc&&E(W)){for(se=0;4>se;++se)E(W)&&(Y.vd[se]=te(W,6));for(se=0;4>se;++se)E(W)&&(Y.od[se]=te(W,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,W.Ka)return Rn(p,3,"cannot parse filter header");var fe=$;if($=X=P,P=X+fe,Y=fe,p.Xb=(1<<le(p.m,2))-1,fe<3*(se=p.Xb))S=7;else{for(X+=3*se,Y-=3*se,fe=0;fe<se;++fe){var we=S[$+0]|S[$+1]<<8|S[$+2]<<16;we>Y&&(we=Y),q(p.Jc[+fe],S,X,we),X+=we,Y-=we,$+=3}q(p.Jc[+se],S,X,Y),S=X<P?0:5}if(S!=0)return Rn(p,S,"cannot parse partitions");for(S=le(X=p.m,7),$=E(X)?te(X,4):0,P=E(X)?te(X,4):0,Y=E(X)?te(X,4):0,se=E(X)?te(X,4):0,X=E(X)?te(X,4):0,fe=p.Qa,we=0;4>we;++we){if(fe.Cb){var ie=fe.Zb[we];fe.Fb||(ie+=S)}else{if(0<we){p.pb[we]=p.pb[0];continue}ie=S}var me=p.pb[we];me.Sc[0]=fg[mn(ie+$,127)],me.Sc[1]=pg[mn(ie+0,127)],me.Eb[0]=2*fg[mn(ie+P,127)],me.Eb[1]=101581*pg[mn(ie+Y,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=fg[mn(ie+se,117)],me.Qc[1]=pg[mn(ie+X,127)],me.lc=ie+X}if(!K.Rb)return Rn(p,4,"Not a key frame.");for(E(W),K=p.Pa,S=0;4>S;++S){for($=0;8>$;++$)for(P=0;3>P;++P)for(Y=0;11>Y;++Y)se=D(W,HS[S][$][P][Y])?le(W,8):zS[S][$][P][Y],K.Wc[S][$].Yb[P][Y]=se;for($=0;17>$;++$)K.Xc[S][$]=K.Wc[S][WS[$]]}return p.kc=E(W),p.kc&&(p.Bd=le(W,8)),p.cb=1}function ki(p,m,S,P,$,W,K){var Y=m[$].Yb[S];for(S=0;16>$;++$){if(!D(p,Y[S+0]))return $;for(;!D(p,Y[S+1]);)if(Y=m[++$].Yb[0],S=0,$==16)return 16;var X=m[$+1].Yb;if(D(p,Y[S+2])){var se=p,fe=0;if(D(se,(ie=Y)[(we=S)+3]))if(D(se,ie[we+6])){for(Y=0,we=2*(fe=D(se,ie[we+8]))+(ie=D(se,ie[we+9+fe])),fe=0,ie=$S[we];ie[Y];++Y)fe+=fe+D(se,ie[Y]);fe+=3+(8<<we)}else D(se,ie[we+7])?(fe=7+2*D(se,165),fe+=D(se,145)):fe=5+D(se,159);else fe=D(se,ie[we+4])?3+D(se,ie[we+5]):2;Y=X[2]}else fe=1,Y=X[1];X=K+US[$],0>(se=p).b&&V(se);var we,ie=se.b,me=(we=se.Ca>>1)-(se.I>>ie)>>31;--se.b,se.Ca+=me,se.Ca|=1,se.I-=(we+1&me)<<ie,W[X]=((fe^me)-me)*P[(0<$)+0]}return 16}function bo(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Ds(p,m,S,P,$){$=p[m+S+32*P]+($>>3),p[m+S+32*P]=-256&$?0>$?0:255:$}function wo(p,m,S,P,$,W){Ds(p,m,0,S,P+$),Ds(p,m,1,S,P+W),Ds(p,m,2,S,P-W),Ds(p,m,3,S,P-$)}function jn(p){return(20091*p>>16)+p}function au(p,m,S,P){var $,W=0,K=i(16);for($=0;4>$;++$){var Y=p[m+0]+p[m+8],X=p[m+0]-p[m+8],se=(35468*p[m+4]>>16)-jn(p[m+12]),fe=jn(p[m+4])+(35468*p[m+12]>>16);K[W+0]=Y+fe,K[W+1]=X+se,K[W+2]=X-se,K[W+3]=Y-fe,W+=4,m++}for($=W=0;4>$;++$)Y=(p=K[W+0]+4)+K[W+8],X=p-K[W+8],se=(35468*K[W+4]>>16)-jn(K[W+12]),Ds(S,P,0,0,Y+(fe=jn(K[W+4])+(35468*K[W+12]>>16))),Ds(S,P,1,0,X+se),Ds(S,P,2,0,X-se),Ds(S,P,3,0,Y-fe),W++,P+=32}function G0(p,m,S,P){var $=p[m+0]+4,W=35468*p[m+4]>>16,K=jn(p[m+4]),Y=35468*p[m+1]>>16;wo(S,P,0,$+K,p=jn(p[m+1]),Y),wo(S,P,1,$+W,p,Y),wo(S,P,2,$-W,p,Y),wo(S,P,3,$-K,p,Y)}function Y0(p,m,S,P,$){au(p,m,S,P),$&&au(p,m+16,S,P+4)}function J0(p,m,S,P){Fo(p,m+0,S,P,1),Fo(p,m+32,S,P+128,1)}function oi(p,m,S,P){var $;for(p=p[m+0]+4,$=0;4>$;++$)for(m=0;4>m;++m)Ds(S,P,m,$,p)}function Ch(p,m,S,P){p[m+0]&&Dt(p,m+0,S,P),p[m+16]&&Dt(p,m+16,S,P+4),p[m+32]&&Dt(p,m+32,S,P+128),p[m+48]&&Dt(p,m+48,S,P+128+4)}function Eh(p,m,S,P){var $,W=i(16);for($=0;4>$;++$){var K=p[m+0+$]+p[m+12+$],Y=p[m+4+$]+p[m+8+$],X=p[m+4+$]-p[m+8+$],se=p[m+0+$]-p[m+12+$];W[0+$]=K+Y,W[8+$]=K-Y,W[4+$]=se+X,W[12+$]=se-X}for($=0;4>$;++$)K=(p=W[0+4*$]+3)+W[3+4*$],Y=W[1+4*$]+W[2+4*$],X=W[1+4*$]-W[2+4*$],se=p-W[3+4*$],S[P+0]=K+Y>>3,S[P+16]=se+X>>3,S[P+32]=K-Y>>3,S[P+48]=se-X>>3,P+=64}function fa(p,m,S){var P,$=m-32,W=Kr,K=255-p[$-1];for(P=0;P<S;++P){var Y,X=W,se=K+p[m-1];for(Y=0;Y<S;++Y)p[m+Y]=X[se+p[$+Y]];m+=32}}function ou(p,m){fa(p,m,4)}function X0(p,m){fa(p,m,8)}function Q0(p,m){fa(p,m,16)}function Z0(p,m){var S;for(S=0;16>S;++S)r(p,m+32*S,p,m-32,16)}function lu(p,m){var S;for(S=16;0<S;--S)s(p,m,p[m-1],16),m+=32}function _o(p,m,S){var P;for(P=0;16>P;++P)s(m,S+32*P,p,16)}function pa(p,m){var S,P=16;for(S=0;16>S;++S)P+=p[m-1+32*S]+p[m+S-32];_o(P>>5,p,m)}function eg(p,m){var S,P=8;for(S=0;16>S;++S)P+=p[m-1+32*S];_o(P>>4,p,m)}function No(p,m){var S,P=8;for(S=0;16>S;++S)P+=p[m+S-32];_o(P>>4,p,m)}function cu(p,m){_o(128,p,m)}function gt(p,m,S){return p+2*m+S+2>>2}function tg(p,m){var S,P=m-32;for(P=new Uint8Array([gt(p[P-1],p[P+0],p[P+1]),gt(p[P+0],p[P+1],p[P+2]),gt(p[P+1],p[P+2],p[P+3]),gt(p[P+2],p[P+3],p[P+4])]),S=0;4>S;++S)r(p,m+32*S,P,0,P.length)}function ng(p,m){var S=p[m-1],P=p[m-1+32],$=p[m-1+64],W=p[m-1+96];G(p,m+0,16843009*gt(p[m-1-32],S,P)),G(p,m+32,16843009*gt(S,P,$)),G(p,m+64,16843009*gt(P,$,W)),G(p,m+96,16843009*gt($,W,W))}function rg(p,m){var S,P=4;for(S=0;4>S;++S)P+=p[m+S-32]+p[m-1+32*S];for(P>>=3,S=0;4>S;++S)s(p,m+32*S,P,4)}function sg(p,m){var S=p[m-1+0],P=p[m-1+32],$=p[m-1+64],W=p[m-1-32],K=p[m+0-32],Y=p[m+1-32],X=p[m+2-32],se=p[m+3-32];p[m+0+96]=gt(P,$,p[m-1+96]),p[m+1+96]=p[m+0+64]=gt(S,P,$),p[m+2+96]=p[m+1+64]=p[m+0+32]=gt(W,S,P),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=gt(K,W,S),p[m+3+64]=p[m+2+32]=p[m+1+0]=gt(Y,K,W),p[m+3+32]=p[m+2+0]=gt(X,Y,K),p[m+3+0]=gt(se,X,Y)}function Ai(p,m){var S=p[m+1-32],P=p[m+2-32],$=p[m+3-32],W=p[m+4-32],K=p[m+5-32],Y=p[m+6-32],X=p[m+7-32];p[m+0+0]=gt(p[m+0-32],S,P),p[m+1+0]=p[m+0+32]=gt(S,P,$),p[m+2+0]=p[m+1+32]=p[m+0+64]=gt(P,$,W),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=gt($,W,K),p[m+3+32]=p[m+2+64]=p[m+1+96]=gt(W,K,Y),p[m+3+64]=p[m+2+96]=gt(K,Y,X),p[m+3+96]=gt(Y,X,X)}function Ci(p,m){var S=p[m-1+0],P=p[m-1+32],$=p[m-1+64],W=p[m-1-32],K=p[m+0-32],Y=p[m+1-32],X=p[m+2-32],se=p[m+3-32];p[m+0+0]=p[m+1+64]=W+K+1>>1,p[m+1+0]=p[m+2+64]=K+Y+1>>1,p[m+2+0]=p[m+3+64]=Y+X+1>>1,p[m+3+0]=X+se+1>>1,p[m+0+96]=gt($,P,S),p[m+0+64]=gt(P,S,W),p[m+0+32]=p[m+1+96]=gt(S,W,K),p[m+1+32]=p[m+2+96]=gt(W,K,Y),p[m+2+32]=p[m+3+96]=gt(K,Y,X),p[m+3+32]=gt(Y,X,se)}function ig(p,m){var S=p[m+0-32],P=p[m+1-32],$=p[m+2-32],W=p[m+3-32],K=p[m+4-32],Y=p[m+5-32],X=p[m+6-32],se=p[m+7-32];p[m+0+0]=S+P+1>>1,p[m+1+0]=p[m+0+64]=P+$+1>>1,p[m+2+0]=p[m+1+64]=$+W+1>>1,p[m+3+0]=p[m+2+64]=W+K+1>>1,p[m+0+32]=gt(S,P,$),p[m+1+32]=p[m+0+96]=gt(P,$,W),p[m+2+32]=p[m+1+96]=gt($,W,K),p[m+3+32]=p[m+2+96]=gt(W,K,Y),p[m+3+64]=gt(K,Y,X),p[m+3+96]=gt(Y,X,se)}function ag(p,m){var S=p[m-1+0],P=p[m-1+32],$=p[m-1+64],W=p[m-1+96];p[m+0+0]=S+P+1>>1,p[m+2+0]=p[m+0+32]=P+$+1>>1,p[m+2+32]=p[m+0+64]=$+W+1>>1,p[m+1+0]=gt(S,P,$),p[m+3+0]=p[m+1+32]=gt(P,$,W),p[m+3+32]=p[m+1+64]=gt($,W,W),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=W}function Ll(p,m){var S=p[m-1+0],P=p[m-1+32],$=p[m-1+64],W=p[m-1+96],K=p[m-1-32],Y=p[m+0-32],X=p[m+1-32],se=p[m+2-32];p[m+0+0]=p[m+2+32]=S+K+1>>1,p[m+0+32]=p[m+2+64]=P+S+1>>1,p[m+0+64]=p[m+2+96]=$+P+1>>1,p[m+0+96]=W+$+1>>1,p[m+3+0]=gt(Y,X,se),p[m+2+0]=gt(K,Y,X),p[m+1+0]=p[m+3+32]=gt(S,K,Y),p[m+1+32]=p[m+3+64]=gt(P,S,K),p[m+1+64]=p[m+3+96]=gt($,P,S),p[m+1+96]=gt(W,$,P)}function uu(p,m){var S;for(S=0;8>S;++S)r(p,m+32*S,p,m-32,8)}function jo(p,m){var S;for(S=0;8>S;++S)s(p,m,p[m-1],8),m+=32}function Tl(p,m,S){var P;for(P=0;8>P;++P)s(m,S+32*P,p,8)}function Ol(p,m){var S,P=8;for(S=0;8>S;++S)P+=p[m+S-32]+p[m-1+32*S];Tl(P>>4,p,m)}function og(p,m){var S,P=4;for(S=0;8>S;++S)P+=p[m+S-32];Tl(P>>3,p,m)}function du(p,m){var S,P=4;for(S=0;8>S;++S)P+=p[m-1+32*S];Tl(P>>3,p,m)}function hu(p,m){Tl(128,p,m)}function So(p,m,S){var P=p[m-S],$=p[m+0],W=3*($-P)+lg[1020+p[m-2*S]-p[m+S]],K=Bh[112+(W+4>>3)];p[m-S]=Kr[255+P+Bh[112+(W+3>>3)]],p[m+0]=Kr[255+$-K]}function ko(p,m,S,P){var $=p[m+0],W=p[m+S];return xs[255+p[m-2*S]-p[m-S]]>P||xs[255+W-$]>P}function fu(p,m,S,P){return 4*xs[255+p[m-S]-p[m+0]]+xs[255+p[m-2*S]-p[m+S]]<=P}function Il(p,m,S,P,$){var W=p[m-3*S],K=p[m-2*S],Y=p[m-S],X=p[m+0],se=p[m+S],fe=p[m+2*S],we=p[m+3*S];return 4*xs[255+Y-X]+xs[255+K-se]>P?0:xs[255+p[m-4*S]-W]<=$&&xs[255+W-K]<=$&&xs[255+K-Y]<=$&&xs[255+we-fe]<=$&&xs[255+fe-se]<=$&&xs[255+se-X]<=$}function pu(p,m,S,P){var $=2*P+1;for(P=0;16>P;++P)fu(p,m+P,S,$)&&So(p,m+P,S)}function Ao(p,m,S,P){var $=2*P+1;for(P=0;16>P;++P)fu(p,m+P*S,1,$)&&So(p,m+P*S,1)}function Ph(p,m,S,P){var $;for($=3;0<$;--$)pu(p,m+=4*S,S,P)}function Lh(p,m,S,P){var $;for($=3;0<$;--$)Ao(p,m+=4,S,P)}function Ei(p,m,S,P,$,W,K,Y){for(W=2*W+1;0<$--;){if(Il(p,m,S,W,K))if(ko(p,m,S,Y))So(p,m,S);else{var X=p,se=m,fe=S,we=X[se-2*fe],ie=X[se-fe],me=X[se+0],ve=X[se+fe],Ne=X[se+2*fe],be=27*(Ae=lg[1020+3*(me-ie)+lg[1020+we-ve]])+63>>7,je=18*Ae+63>>7,Ae=9*Ae+63>>7;X[se-3*fe]=Kr[255+X[se-3*fe]+Ae],X[se-2*fe]=Kr[255+we+je],X[se-fe]=Kr[255+ie+be],X[se+0]=Kr[255+me-be],X[se+fe]=Kr[255+ve-je],X[se+2*fe]=Kr[255+Ne-Ae]}m+=P}}function Pi(p,m,S,P,$,W,K,Y){for(W=2*W+1;0<$--;){if(Il(p,m,S,W,K))if(ko(p,m,S,Y))So(p,m,S);else{var X=p,se=m,fe=S,we=X[se-fe],ie=X[se+0],me=X[se+fe],ve=Bh[112+(4+(Ne=3*(ie-we))>>3)],Ne=Bh[112+(Ne+3>>3)],be=ve+1>>1;X[se-2*fe]=Kr[255+X[se-2*fe]+be],X[se-fe]=Kr[255+we+Ne],X[se+0]=Kr[255+ie-ve],X[se+fe]=Kr[255+me-be]}m+=P}}function Th(p,m,S,P,$,W){Ei(p,m,S,1,16,P,$,W)}function Oh(p,m,S,P,$,W){Ei(p,m,1,S,16,P,$,W)}function Co(p,m,S,P,$,W){var K;for(K=3;0<K;--K)Pi(p,m+=4*S,S,1,16,P,$,W)}function Ih(p,m,S,P,$,W){var K;for(K=3;0<K;--K)Pi(p,m+=4,1,S,16,P,$,W)}function _(p,m,S,P,$,W,K,Y){Ei(p,m,$,1,8,W,K,Y),Ei(S,P,$,1,8,W,K,Y)}function B(p,m,S,P,$,W,K,Y){Ei(p,m,1,$,8,W,K,Y),Ei(S,P,1,$,8,W,K,Y)}function ae(p,m,S,P,$,W,K,Y){Pi(p,m+4*$,$,1,8,W,K,Y),Pi(S,P+4*$,$,1,8,W,K,Y)}function de(p,m,S,P,$,W,K,Y){Pi(p,m+4,1,$,8,W,K,Y),Pi(S,P+4,1,$,8,W,K,Y)}function ye(){this.ba=new Ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ke(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new H}function Xe(){this.xb=this.a=0,this.l=new Pl,this.ca=new Ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ke,this.ab=0,this.gc=a(4,Pe),this.Oc=0}function dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mt(p,m,S,P,$,W,K){for(p=p==null?0:p[m+0],m=0;m<K;++m)$[W+m]=p+S[P+m]&255,p=$[W+m]}function It(p,m,S,P,$,W,K){var Y;if(p==null)mt(null,null,S,P,$,W,K);else for(Y=0;Y<K;++Y)$[W+Y]=p[m+Y]+S[P+Y]&255}function un(p,m,S,P,$,W,K){if(p==null)mt(null,null,S,P,$,W,K);else{var Y,X=p[m+0],se=X,fe=X;for(Y=0;Y<K;++Y)se=fe+(X=p[m+Y])-se,fe=S[P+Y]+(-256&se?0>se?0:255:se)&255,se=X,$[W+Y]=fe}}function Mn(p,m,S,P){var $=m.width,W=m.o;if(e(p!=null&&m!=null),0>S||0>=P||S+P>W)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new dt,(K=p.ga==null)||(K=m.width*m.o,e(p.Gb.length==0),p.Gb=i(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var Y=p.Fa,X=p.P,se=p.qc,fe=p.mb,we=p.nb,ie=X+1,me=se-1,ve=K.l;if(e(Y!=null&&fe!=null&&m!=null),ja[0]=null,ja[1]=mt,ja[2]=It,ja[3]=un,K.ca=fe,K.tb=we,K.c=m.width,K.i=m.height,e(0<K.c&&0<K.i),1>=se)m=0;else if(K.$a=3&Y[X+0],K.Z=Y[X+0]>>2&3,K.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||X)m=0;else if(ve.put=nt,ve.ac=Hr,ve.bc=hs,ve.ma=K,ve.width=m.width,ve.height=m.height,ve.Da=m.Da,ve.v=m.v,ve.va=m.va,ve.j=m.j,ve.o=m.o,K.$a)e:{e(K.$a==1),m=xo();t:for(;;){if(m==null){m=0;break e}if(e(K!=null),K.mc=m,m.c=K.c,m.i=K.i,m.l=K.l,m.l.ma=K,m.l.width=K.c,m.l.height=K.i,m.a=0,ce(m.m,Y,ie,me),!ai(K.c,K.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Is(m.s)?(K.ic=1,Y=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(Y),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(K.ic=0,m=vo(m,K.c)),!m))break t;m=1;break e}K.mc=null,m=0}else m=me>=K.c*K.i;K=!m}if(K)return null;p.ga.Lc!=1?p.Ga=0:P=W-S}e(p.ga!=null),e(S+P<=W);e:{if(m=(Y=p.ga).c,W=Y.l.o,Y.$a==0){if(ie=p.rc,me=p.Vc,ve=p.Fa,X=p.P+1+S*m,se=p.mb,fe=p.nb+S*m,e(X<=p.P+p.qc),Y.Z!=0)for(e(ja[Y.Z]!=null),K=0;K<P;++K)ja[Y.Z](ie,me,ve,X,se,fe,m),ie=se,me=fe,fe+=m,X+=m;else for(K=0;K<P;++K)r(se,fe,ve,X,m),ie=se,me=fe,fe+=m,X+=m;p.rc=ie,p.Vc=me}else{if(e(Y.mc!=null),m=S+P,e((K=Y.mc)!=null),e(m<=K.i),K.C>=m)m=1;else if(Y.ic||gs(),Y.ic){Y=K.V,ie=K.Ba,me=K.c;var Ne=K.i,be=(ve=1,X=K.$/me,se=K.$%me,fe=K.m,we=K.s,K.$),je=me*Ne,Ae=me*m,Le=we.wc,Ee=be<Ae?Yt(we,se,X):null;e(be<=je),e(m<=Ne),e(Is(we));t:for(;;){for(;!fe.h&&be<Ae;){if(se&Le||(Ee=Yt(we,se,X)),e(Ee!=null),re(fe),256>(Ne=ut(Ee.G[0],Ee.H[0],fe)))Y[ie+be]=Ne,++be,++se>=me&&(se=0,++X<=m&&!(X%16)&&Rs(K,X));else{if(!(280>Ne)){ve=0;break t}Ne=_e(Ne-256,fe);var Qe,We=ut(Ee.G[4],Ee.H[4],fe);if(re(fe),!(be>=(We=_t(me,We=_e(We,fe)))&&je-be>=Ne)){ve=0;break t}for(Qe=0;Qe<Ne;++Qe)Y[ie+be+Qe]=Y[ie+be+Qe-We];for(be+=Ne,se+=Ne;se>=me;)se-=me,++X<=m&&!(X%16)&&Rs(K,X);be<Ae&&se&Le&&(Ee=Yt(we,se,X))}e(fe.h==Z(fe))}Rs(K,X>m?m:X);break t}!ve||fe.h&&be<je?(ve=0,K.a=fe.h?5:3):K.$=be,m=ve}else m=Ms(K,K.V,K.Ba,K.c,K.i,m,Al);if(!m){P=0;break e}}S+P>=W&&(p.Cc=1),P=1}if(!P)return null;if(p.Cc&&((P=p.ga)!=null&&(P.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*$}function Jt(p,m,S,P,$,W){for(;0<$--;){var K,Y=p,X=m+(S?1:0),se=p,fe=m+(S?0:3);for(K=0;K<P;++K){var we=se[fe+4*K];we!=255&&(we*=32897,Y[X+4*K+0]=Y[X+4*K+0]*we>>23,Y[X+4*K+1]=Y[X+4*K+1]*we>>23,Y[X+4*K+2]=Y[X+4*K+2]*we>>23)}m+=W}}function qn(p,m,S,P,$){for(;0<P--;){var W;for(W=0;W<S;++W){var K=p[m+2*W+0],Y=15&(se=p[m+2*W+1]),X=4369*Y,se=(240&se|se>>4)*X>>16;p[m+2*W+0]=(240&K|K>>4)*X>>16&240|(15&K|K<<4)*X>>16>>4&15,p[m+2*W+1]=240&se|Y}m+=$}}function Dn(p,m,S,P,$,W,K,Y){var X,se,fe=255;for(se=0;se<$;++se){for(X=0;X<P;++X){var we=p[m+X];W[K+4*X]=we,fe&=we}m+=S,K+=Y}return fe!=255}function rr(p,m,S,P,$){var W;for(W=0;W<$;++W)S[P+W]=p[m+W]>>8}function gs(){Su=Jt,k2=qn,A2=Dn,C2=rr}function Tr(p,m,S){A[p]=function(P,$,W,K,Y,X,se,fe,we,ie,me,ve,Ne,be,je,Ae,Le){var Ee,Qe=Le-1>>1,We=Y[X+0]|se[fe+0]<<16,bt=we[ie+0]|me[ve+0]<<16;e(P!=null);var Ge=3*We+bt+131074>>2;for(m(P[$+0],255&Ge,Ge>>16,Ne,be),W!=null&&(Ge=3*bt+We+131074>>2,m(W[K+0],255&Ge,Ge>>16,je,Ae)),Ee=1;Ee<=Qe;++Ee){var kt=Y[X+Ee]|se[fe+Ee]<<16,Wn=we[ie+Ee]|me[ve+Ee]<<16,wt=We+kt+bt+Wn+524296,Ye=wt+2*(kt+bt)>>3;Ge=Ye+We>>1,We=(wt=wt+2*(We+Wn)>>3)+kt>>1,m(P[$+2*Ee-1],255&Ge,Ge>>16,Ne,be+(2*Ee-1)*S),m(P[$+2*Ee-0],255&We,We>>16,Ne,be+(2*Ee-0)*S),W!=null&&(Ge=wt+bt>>1,We=Ye+Wn>>1,m(W[K+2*Ee-1],255&Ge,Ge>>16,je,Ae+(2*Ee-1)*S),m(W[K+2*Ee+0],255&We,We>>16,je,Ae+(2*Ee+0)*S)),We=kt,bt=Wn}1&Le||(Ge=3*We+bt+131074>>2,m(P[$+Le-1],255&Ge,Ge>>16,Ne,be+(Le-1)*S),W!=null&&(Ge=3*bt+We+131074>>2,m(W[K+Le-1],255&Ge,Ge>>16,je,Ae+(Le-1)*S)))}}function Rh(){vs[$h]=KS,vs[Uh]=B2,vs[I2]=GS,vs[zh]=$2,vs[qh]=U2,vs[cg]=z2,vs[R2]=YS,vs[ug]=B2,vs[dg]=$2,vs[Hh]=U2,vs[hg]=z2}function Rl(p){return p&-16384?0>p?0:255:p>>JS}function Eo(p,m){return Rl((19077*p>>8)+(26149*m>>8)-14234)}function ga(p,m,S){return Rl((19077*p>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function Po(p,m){return Rl((19077*p>>8)+(33050*m>>8)-17685)}function Lo(p,m,S,P,$){P[$+0]=Eo(p,S),P[$+1]=ga(p,m,S),P[$+2]=Po(p,m)}function To(p,m,S,P,$){P[$+0]=Po(p,m),P[$+1]=ga(p,m,S),P[$+2]=Eo(p,S)}function hr(p,m,S,P,$){var W=ga(p,m,S);m=W<<3&224|Po(p,m)>>3,P[$+0]=248&Eo(p,S)|W>>5,P[$+1]=m}function Oo(p,m,S,P,$){var W=240&Po(p,m)|15;P[$+0]=240&Eo(p,S)|ga(p,m,S)>>4,P[$+1]=W}function Io(p,m,S,P,$){P[$+0]=255,Lo(p,m,S,P,$+1)}function gu(p,m,S,P,$){To(p,m,S,P,$),P[$+3]=255}function mu(p,m,S,P,$){Lo(p,m,S,P,$),P[$+3]=255}function mn(p,m){return 0>p?0:p>m?m:p}function Li(p,m,S){A[p]=function(P,$,W,K,Y,X,se,fe,we){for(var ie=fe+(-2&we)*S;fe!=ie;)m(P[$+0],W[K+0],Y[X+0],se,fe),m(P[$+1],W[K+0],Y[X+0],se,fe+S),$+=2,++K,++X,fe+=2*S;1&we&&m(P[$+0],W[K+0],Y[X+0],se,fe)}}function Ml(p,m,S){return S==0?p==0?m==0?6:5:m==0?4:0:S}function Mh(p,m,S,P,$){switch(p>>>30){case 3:Fo(m,S,P,$,0);break;case 2:ys(m,S,P,$);break;case 1:Dt(m,S,P,$)}}function ms(p,m){var S,P,$=m.M,W=m.Nb,K=p.oc,Y=p.pc+40,X=p.oc,se=p.pc+584,fe=p.oc,we=p.pc+600;for(S=0;16>S;++S)K[Y+32*S-1]=129;for(S=0;8>S;++S)X[se+32*S-1]=129,fe[we+32*S-1]=129;for(0<$?K[Y-1-32]=X[se-1-32]=fe[we-1-32]=129:(s(K,Y-32-1,127,21),s(X,se-32-1,127,9),s(fe,we-32-1,127,9)),P=0;P<p.za;++P){var ie=m.ya[m.aa+P];if(0<P){for(S=-1;16>S;++S)r(K,Y+32*S-4,K,Y+32*S+12,4);for(S=-1;8>S;++S)r(X,se+32*S-4,X,se+32*S+4,4),r(fe,we+32*S-4,fe,we+32*S+4,4)}var me=p.Gd,ve=p.Hd+P,Ne=ie.ad,be=ie.Hc;if(0<$&&(r(K,Y-32,me[ve].y,0,16),r(X,se-32,me[ve].f,0,8),r(fe,we-32,me[ve].ea,0,8)),ie.Za){var je=K,Ae=Y-32+16;for(0<$&&(P>=p.za-1?s(je,Ae,me[ve].y[15],4):r(je,Ae,me[ve+1].y,0,4)),S=0;4>S;S++)je[Ae+128+S]=je[Ae+256+S]=je[Ae+384+S]=je[Ae+0+S];for(S=0;16>S;++S,be<<=2)je=K,Ae=Y+H2[S],Fs[ie.Ob[S]](je,Ae),Mh(be,Ne,16*+S,je,Ae)}else if(je=Ml(P,$,ie.Ob[0]),Na[je](K,Y),be!=0)for(S=0;16>S;++S,be<<=2)Mh(be,Ne,16*+S,K,Y+H2[S]);for(S=ie.Gc,je=Ml(P,$,ie.Dd),Ii[je](X,se),Ii[je](fe,we),be=Ne,je=X,Ae=se,255&(ie=0|S)&&(170&ie?ui(be,256,je,Ae):Vt(be,256,je,Ae)),ie=fe,be=we,255&(S>>=8)&&(170&S?ui(Ne,320,ie,be):Vt(Ne,320,ie,be)),$<p.Ub-1&&(r(me[ve].y,0,K,Y+480,16),r(me[ve].f,0,X,se+224,8),r(me[ve].ea,0,fe,we+224,8)),S=8*W*p.B,me=p.sa,ve=p.ta+16*P+16*W*p.R,Ne=p.qa,ie=p.ra+8*P+S,be=p.Ha,je=p.Ia+8*P+S,S=0;16>S;++S)r(me,ve+S*p.R,K,Y+32*S,16);for(S=0;8>S;++S)r(Ne,ie+S*p.B,X,se+32*S,8),r(be,je+S*p.B,fe,we+32*S,8)}}function Ro(p,m,S,P,$,W,K,Y,X){var se=[0],fe=[0],we=0,ie=X!=null?X.kd:0,me=X??new ke;if(p==null||12>S)return 7;me.data=p,me.w=m,me.ha=S,m=[m],S=[S],me.gb=[me.gb];e:{var ve=m,Ne=S,be=me.gb;if(e(p!=null),e(Ne!=null),e(be!=null),be[0]=0,12<=Ne[0]&&!n(p,ve[0],"RIFF")){if(n(p,ve[0]+8,"WEBP")){be=3;break e}var je=ue(p,ve[0]+4);if(12>je||4294967286<je){be=3;break e}if(ie&&je>Ne[0]-8){be=7;break e}be[0]=je,ve[0]+=12,Ne[0]-=12}be=0}if(be!=0)return be;for(je=0<me.gb[0],S=S[0];;){e:{var Ae=p;Ne=m,be=S;var Le=se,Ee=fe,Qe=ve=[0];if((Ge=we=[we])[0]=0,8>be[0])be=7;else{if(!n(Ae,Ne[0],"VP8X")){if(ue(Ae,Ne[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var We=ue(Ae,Ne[0]+8),bt=1+pe(Ae,Ne[0]+12);if(2147483648<=bt*(Ae=1+pe(Ae,Ne[0]+15))){be=3;break e}Qe!=null&&(Qe[0]=We),Le!=null&&(Le[0]=bt),Ee!=null&&(Ee[0]=Ae),Ne[0]+=18,be[0]-=18,Ge[0]=1}be=0}}if(we=we[0],ve=ve[0],be!=0)return be;if(Ne=!!(2&ve),!je&&we)return 3;if(W!=null&&(W[0]=!!(16&ve)),K!=null&&(K[0]=Ne),Y!=null&&(Y[0]=0),K=se[0],ve=fe[0],we&&Ne&&X==null){be=0;break}if(4>S){be=7;break}if(je&&we||!je&&!we&&!n(p,m[0],"ALPH")){S=[S],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{We=p,be=m,je=S;var Ge=me.gb;Le=me.na,Ee=me.P,Qe=me.Sa,bt=22,e(We!=null),e(je!=null),Ae=be[0];var kt=je[0];for(e(Le!=null),e(Qe!=null),Le[0]=null,Ee[0]=null,Qe[0]=0;;){if(be[0]=Ae,je[0]=kt,8>kt){be=7;break e}var Wn=ue(We,Ae+4);if(4294967286<Wn){be=3;break e}var wt=8+Wn+1&-2;if(bt+=wt,0<Ge&&bt>Ge){be=3;break e}if(!n(We,Ae,"VP8 ")||!n(We,Ae,"VP8L")){be=0;break e}if(kt[0]<wt){be=7;break e}n(We,Ae,"ALPH")||(Le[0]=We,Ee[0]=Ae+8,Qe[0]=Wn),Ae+=wt,kt-=wt}}if(S=S[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],be!=0)break}S=[S],me.Ja=[me.Ja],me.xa=[me.xa];e:if(Ge=p,be=m,je=S,Le=me.gb[0],Ee=me.Ja,Qe=me.xa,We=be[0],Ae=!n(Ge,We,"VP8 "),bt=!n(Ge,We,"VP8L"),e(Ge!=null),e(je!=null),e(Ee!=null),e(Qe!=null),8>je[0])be=7;else{if(Ae||bt){if(Ge=ue(Ge,We+4),12<=Le&&Ge>Le-12){be=3;break e}if(ie&&Ge>je[0]-8){be=7;break e}Ee[0]=Ge,be[0]+=8,je[0]-=8,Qe[0]=bt}else Qe[0]=5<=je[0]&&Ge[We+0]==47&&!(Ge[We+4]>>5),Ee[0]=je[0];be=0}if(S=S[0],me.Ja=me.Ja[0],me.xa=me.xa[0],m=m[0],be!=0)break;if(4294967286<me.Ja)return 3;if(Y==null||Ne||(Y[0]=me.xa?2:1),K=[K],ve=[ve],me.xa){if(5>S){be=7;break}Y=K,ie=ve,Ne=W,p==null||5>S?p=0:5<=S&&p[m+0]==47&&!(p[m+4]>>5)?(je=[0],Ge=[0],Le=[0],ce(Ee=new Q,p,m,S),ne(Ee,je,Ge,Le)?(Y!=null&&(Y[0]=je[0]),ie!=null&&(ie[0]=Ge[0]),Ne!=null&&(Ne[0]=Le[0]),p=1):p=0):p=0}else{if(10>S){be=7;break}Y=ve,p==null||10>S||!kh(p,m+3,S-3)?p=0:(ie=p[m+0]|p[m+1]<<8|p[m+2]<<16,Ne=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=me.Ja||!Ne||!p?p=0:(K&&(K[0]=Ne),Y&&(Y[0]=p),p=1))}if(!p||(K=K[0],ve=ve[0],we&&(se[0]!=K||fe[0]!=ve)))return 3;X!=null&&(X[0]=me,X.offset=m-X.w,e(4294967286>m-X.w),e(X.offset==X.ha-S));break}return be==0||be==7&&we&&X==null?(W!=null&&(W[0]|=me.na!=null&&0<me.na.length),P!=null&&(P[0]=K),$!=null&&($[0]=ve),0):be}function yu(p,m,S){var P=m.width,$=m.height,W=0,K=0,Y=P,X=$;if(m.Da=p!=null&&0<p.Da,m.Da&&(Y=p.cd,X=p.bd,W=p.v,K=p.j,11>S||(W&=-2,K&=-2),0>W||0>K||0>=Y||0>=X||W+Y>P||K+X>$))return 0;if(m.v=W,m.j=K,m.va=W+Y,m.o=K+X,m.U=Y,m.T=X,m.da=p!=null&&0<p.da,m.da){if(!Me(Y,X,S=[p.ib],W=[p.hb]))return 0;m.ib=S[0],m.hb=W[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*P/4&&m.hb<3*$/4,m.Kb=0),1}function xu(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function ma(p,m,S,P){if(P==null||0>=p||0>=m)return 2;if(S!=null){if(S.Da){var $=S.cd,W=S.bd,K=-2&S.v,Y=-2&S.j;if(0>K||0>Y||0>=$||0>=W||K+$>p||Y+W>m)return 2;p=$,m=W}if(S.da){if(!Me(p,m,$=[S.ib],W=[S.hb]))return 2;p=$[0],m=W[0]}}P.width=p,P.height=m;e:{var X=P.width,se=P.height;if(p=P.S,0>=X||0>=se||!(p>=$h&&13>p))p=2;else{if(0>=P.Rd&&P.sd==null){K=W=$=m=0;var fe=(Y=X*W2[p])*se;if(11>p||(W=(se+1)/2*(m=(X+1)/2),p==12&&(K=($=X)*se)),(se=i(fe+2*W+K))==null){p=1;break e}P.sd=se,11>p?((X=P.f.RGBA).eb=se,X.fb=0,X.A=Y,X.size=fe):((X=P.f.kb).y=se,X.O=0,X.fa=Y,X.Fd=fe,X.f=se,X.N=0+fe,X.Ab=m,X.Cd=W,X.ea=se,X.W=0+fe+W,X.Db=m,X.Ed=W,p==12&&(X.F=se,X.J=0+fe+2*W),X.Tc=K,X.lb=$)}if(m=1,$=P.S,W=P.width,K=P.height,$>=$h&&13>$)if(11>$)p=P.f.RGBA,m&=(Y=Math.abs(p.A))*(K-1)+W<=p.size,m&=Y>=W*W2[$],m&=p.eb!=null;else{p=P.f.kb,Y=(W+1)/2,fe=(K+1)/2,X=Math.abs(p.fa),se=Math.abs(p.Ab);var we=Math.abs(p.Db),ie=Math.abs(p.lb),me=ie*(K-1)+W;m&=X*(K-1)+W<=p.Fd,m&=se*(fe-1)+Y<=p.Cd,m=(m&=we*(fe-1)+Y<=p.Ed)&X>=W&se>=Y&we>=Y,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,$==12&&(m&=ie>=W,m&=me<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||S!=null&&S.fd&&(p=xu(P)),p}var Mo=64,Wr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vr=24,ya=32,Ti=8,xa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(p){return p},A.Predictor2=function(p,m,S){return m[S+0]},A.Predictor3=function(p,m,S){return m[S+1]},A.Predictor4=function(p,m,S){return m[S-1]},A.Predictor5=function(p,m,S){return ze(ze(p,m[S+1]),m[S+0])},A.Predictor6=function(p,m,S){return ze(p,m[S-1])},A.Predictor7=function(p,m,S){return ze(p,m[S+0])},A.Predictor8=function(p,m,S){return ze(m[S-1],m[S+0])},A.Predictor9=function(p,m,S){return ze(m[S+0],m[S+1])},A.Predictor10=function(p,m,S){return ze(ze(p,m[S-1]),ze(m[S+0],m[S+1]))},A.Predictor11=function(p,m,S){var P=m[S+0];return 0>=ot(P>>24&255,p>>24&255,(m=m[S-1])>>24&255)+ot(P>>16&255,p>>16&255,m>>16&255)+ot(P>>8&255,p>>8&255,m>>8&255)+ot(255&P,255&p,255&m)?P:p},A.Predictor12=function(p,m,S){var P=m[S+0];return(He((p>>24&255)+(P>>24&255)-((m=m[S-1])>>24&255))<<24|He((p>>16&255)+(P>>16&255)-(m>>16&255))<<16|He((p>>8&255)+(P>>8&255)-(m>>8&255))<<8|He((255&p)+(255&P)-(255&m)))>>>0},A.Predictor13=function(p,m,S){var P=m[S-1];return(at((p=ze(p,m[S+0]))>>24&255,P>>24&255)<<24|at(p>>16&255,P>>16&255)<<16|at(p>>8&255,P>>8&255)<<8|at(255&p,255&P))>>>0};var vu=A.PredictorAdd0;A.PredictorAdd1=Tt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Dl=A.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Sn,Dh=A.ColorIndexInverseTransform,li=A.MapARGB,ci=A.VP8LColorIndexInverseTransformAlpha,bu=A.MapAlpha,wu=A.VP8LPredictorsAdd=[];wu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var _u,Nu,va,ba,wa,Do,_a,Fo,ys,ui,Dt,Vt,kn,Hn,Oi,ju,Fl,Fh,b2,w2,_2,N2,j2,S2,Su,k2,A2,C2,E2=i(511),P2=i(2041),L2=i(225),T2=i(767),O2=0,lg=P2,Bh=L2,Kr=T2,xs=E2,$h=0,Uh=1,I2=2,zh=3,qh=4,cg=5,R2=6,ug=7,dg=8,Hh=9,hg=10,OS=[2,3,7],IS=[3,3,11],M2=[280,256,256,256,40],RS=[0,1,1,1,0],MS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],DS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BS=8,fg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ku=null,$S=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],US=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Na=[],Fs=[],Ii=[],VS=1,F2=2,ja=[],vs=[];Tr("UpsampleRgbLinePair",Lo,3),Tr("UpsampleBgrLinePair",To,3),Tr("UpsampleRgbaLinePair",mu,4),Tr("UpsampleBgraLinePair",gu,4),Tr("UpsampleArgbLinePair",Io,4),Tr("UpsampleRgba4444LinePair",Oo,2),Tr("UpsampleRgb565LinePair",hr,2);var KS=A.UpsampleRgbLinePair,GS=A.UpsampleBgrLinePair,B2=A.UpsampleRgbaLinePair,$2=A.UpsampleBgraLinePair,U2=A.UpsampleArgbLinePair,z2=A.UpsampleRgba4444LinePair,YS=A.UpsampleRgb565LinePair,Wh=16,Vh=1<<Wh-1,Au=-227,gg=482,JS=6,q2=0,XS=i(256),QS=i(256),ZS=i(256),ek=i(256),tk=i(gg-Au),nk=i(gg-Au);Li("YuvToRgbRow",Lo,3),Li("YuvToBgrRow",To,3),Li("YuvToRgbaRow",mu,4),Li("YuvToBgraRow",gu,4),Li("YuvToArgbRow",Io,4),Li("YuvToRgba4444Row",Oo,2),Li("YuvToRgb565Row",hr,2);var H2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kh=[0,2,8],rk=[8,7,6,4,4,2,2,2,1,1,1,1],sk=1;this.WebPDecodeRGBA=function(p,m,S,P,$){var W=Uh,K=new ye,Y=new Ft;K.ba=Y,Y.S=W,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,se=Y.height,fe=new lt;if(fe==null||p==null)var we=2;else e(fe!=null),we=Ro(p,m,S,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(we!=0?X=0:(X!=null&&(X[0]=fe.width[0]),se!=null&&(se[0]=fe.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],P!=null&&(P[0]=Y.width),$!=null&&($[0]=Y.height);e:{if(P=new Pl,($=new ke).data=p,$.w=m,$.ha=S,$.kd=1,m=[0],e($!=null),((p=Ro($.data,$.w,$.ha,null,null,null,m,null,$))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(K!=null),P.data=$.data,P.w=$.w+$.offset,P.ha=$.ha-$.offset,P.put=nt,P.ac=Hr,P.bc=hs,P.ma=K,$.xa){if((p=xo())==null){K=1;break e}if(function(ie,me){var ve=[0],Ne=[0],be=[0];t:for(;;){if(ie==null)return 0;if(me==null)return ie.a=2,0;if(ie.l=me,ie.a=0,ce(ie.m,me.data,me.w,me.ha),!ne(ie.m,ve,Ne,be)){ie.a=3;break t}if(ie.xb=F2,me.width=ve[0],me.height=Ne[0],!ai(ve[0],Ne[0],1,ie,null))break t;return 1}return e(ie.a!=0),0}(p,P)){if(P=(m=ma(P.width,P.height,K.Oa,K.ba))==0){t:{P=p;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((S=P.l)!=null),e(($=S.ma)!=null),P.xb!=0){if(P.ca=$.ba,P.tb=$.tb,e(P.ca!=null),!yu($.Oa,S,zh)){P.a=2;break n}if(!vo(P,S.width)||S.da)break n;if((S.da||pt(P.ca.S))&&gs(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&gs()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!J(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!Ms(P,P.V,P.Ba,P.c,P.i,S.o,ha))break n;$.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(m=p.a)}else m=p.a}else{if((p=new K0)==null){K=1;break e}if(p.Fa=$.na,p.P=$.P,p.qc=$.Sa,Ah(p,P)){if((m=ma(P.width,P.height,K.Oa,K.ba))==0){if(p.Aa=0,S=K.Oa,e(($=p)!=null),S!=null){if(0<(X=0>(X=S.Md)?0:100<X?255:255*X/100)){for(se=fe=0;4>se;++se)12>(we=$.pb[se]).lc&&(we.ia=X*rk[0>we.lc?0:we.lc]>>3),fe|=we.ia;fe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=S.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ie,me){if(ie==null)return 0;if(me==null)return Rn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Ah(ie,me))return 0;if(e(ie.cb),me.ac==null||me.ac(me)){me.ob&&(ie.L=0);var ve=Kh[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=me.v-ve>>4,ie.zb=me.j-ve>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=me.o+15+ve>>4,ie.Hb=me.va+15+ve>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Ne=ie.ed;for(ve=0;4>ve;++ve){var be;if(ie.Qa.Cb){var je=ie.Qa.Lb[ve];ie.Qa.Fb||(je+=Ne.Tb)}else je=Ne.Tb;for(be=0;1>=be;++be){var Ae=ie.gd[ve][be],Le=je;if(Ne.Pc&&(Le+=Ne.vd[0],be&&(Le+=Ne.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Ee=Le;0<Ne.wb&&(Ee=4<Ne.wb?Ee>>2:Ee>>1)>9-Ne.wb&&(Ee=9-Ne.wb),1>Ee&&(Ee=1),Ae.dd=Ee,Ae.tc=2*Le+Ee,Ae.ld=40<=Le?2:15<=Le?1:0}else Ae.tc=0;Ae.La=be}}}ve=0}else Rn(ie,6,"Frame setup failed"),ve=ie.a;if(ve=ve==0){if(ve){ie.$c=0,0<ie.Aa||(ie.Ic=sk);t:{ve=ie.Ic,Ne=4*(Ee=ie.za);var Qe=32*Ee,We=Ee+1,bt=0<ie.L?Ee*(0<ie.Aa?2:1):0,Ge=(ie.Aa==2?2:1)*Ee;if((Ae=Ne+832+(be=3*(16*ve+Kh[ie.L])/2*Qe)+(je=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ae)ve=0;else{if(Ae>ie.Vb){if(ie.Vb=0,ie.Ec=i(Ae),ie.Fc=0,ie.Ec==null){ve=Rn(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ae}Ae=ie.Ec,Le=ie.Fc,ie.Ac=Ae,ie.Bc=Le,Le+=Ne,ie.Gd=a(Qe,jh),ie.Hd=0,ie.rb=a(We+1,su),ie.sb=1,ie.wa=bt?a(bt,ps):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Ee),e(!0),ie.oc=Ae,ie.pc=Le,Le+=832,ie.ya=a(Ge,iu),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Ee),ie.R=16*Ee,ie.B=8*Ee,Ee=(Qe=Kh[ie.L])*ie.R,Qe=Qe/2*ie.B,ie.sa=Ae,ie.ta=Le+Ee,ie.qa=ie.sa,ie.ra=ie.ta+16*ve*ie.R+Qe,ie.Ha=ie.qa,ie.Ia=ie.ra+8*ve*ie.B+Qe,ie.$c=0,Le+=be,ie.mb=je?Ae:null,ie.nb=je?Le:null,e(Le+je<=ie.Fc+ie.Vb),bo(ie),s(ie.Ac,ie.Bc,0,Ne),ve=1}}if(ve){if(me.ka=0,me.y=ie.sa,me.O=ie.ta,me.f=ie.qa,me.N=ie.ra,me.ea=ie.Ha,me.Vd=ie.Ia,me.fa=ie.R,me.Rc=ie.B,me.F=null,me.J=0,!O2){for(ve=-255;255>=ve;++ve)E2[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)P2[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)L2[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)T2[255+ve]=0>ve?0:255<ve?255:ve;O2=1}_a=Eh,Fo=Y0,ui=J0,Dt=oi,Vt=Ch,ys=G0,kn=Th,Hn=Oh,Oi=_,ju=B,Fl=Co,Fh=Ih,b2=ae,w2=de,_2=pu,N2=Ao,j2=Ph,S2=Lh,Fs[0]=rg,Fs[1]=ou,Fs[2]=tg,Fs[3]=ng,Fs[4]=sg,Fs[5]=Ci,Fs[6]=Ai,Fs[7]=ig,Fs[8]=Ll,Fs[9]=ag,Na[0]=pa,Na[1]=Q0,Na[2]=Z0,Na[3]=lu,Na[4]=eg,Na[5]=No,Na[6]=cu,Ii[0]=Ol,Ii[1]=X0,Ii[2]=uu,Ii[3]=jo,Ii[4]=du,Ii[5]=og,Ii[6]=hu,ve=1}else ve=0}ve&&(ve=function(kt,Wn){for(kt.M=0;kt.M<kt.Va;++kt.M){var wt,Ye=kt.Jc[kt.M&kt.Xb],De=kt.m,An=kt;for(wt=0;wt<An.za;++wt){var vt=De,At=An,tn=At.Ac,sr=At.Bc+4*wt,jr=At.zc,yn=At.ya[At.aa+wt];if(At.Qa.Bb?yn.$b=D(vt,At.Pa.jb[0])?2+D(vt,At.Pa.jb[2]):D(vt,At.Pa.jb[1]):yn.$b=0,At.kc&&(yn.Ad=D(vt,At.Bd)),yn.Za=!D(vt,145)+0,yn.Za){var fr=yn.Ob,Sr=0;for(At=0;4>At;++At){var Vn,Pt=jr[0+At];for(Vn=0;4>Vn;++Vn){Pt=qS[tn[sr+Vn]][Pt];for(var Bt=D2[D(vt,Pt[0])];0<Bt;)Bt=D2[2*Bt+D(vt,Pt[Bt])];Pt=-Bt,tn[sr+Vn]=Pt}r(fr,Sr,tn,sr,4),Sr+=4,jr[0+At]=Pt}}else Pt=D(vt,156)?D(vt,128)?1:3:D(vt,163)?2:0,yn.Ob[0]=Pt,s(tn,sr,Pt,4),s(jr,0,Pt,4);yn.Dd=D(vt,142)?D(vt,114)?D(vt,183)?1:3:2:0}if(An.m.Ka)return Rn(kt,7,"Premature end-of-partition0 encountered.");for(;kt.ja<kt.za;++kt.ja){if(An=Ye,vt=(De=kt).rb[De.sb-1],tn=De.rb[De.sb+De.ja],wt=De.ya[De.aa+De.ja],sr=De.kc?wt.Ad:0)vt.la=tn.la=0,wt.Za||(vt.Na=tn.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var xn,$t;if(vt=tn,tn=An,sr=De.Pa.Xc,jr=De.ya[De.aa+De.ja],yn=De.pb[jr.$b],At=jr.ad,fr=0,Sr=De.rb[De.sb-1],Pt=Vn=0,s(At,fr,0,384),jr.Za)var ir=0,Bs=sr[3];else{Bt=i(16);var Cn=vt.Na+Sr.Na;if(Cn=ku(tn,sr[1],Cn,yn.Eb,0,Bt,0),vt.Na=Sr.Na=(0<Cn)+0,1<Cn)_a(Bt,0,At,fr);else{var Or=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)At[fr+Bt]=Or}ir=1,Bs=sr[0]}var Kt=15&vt.la,Kn=15&Sr.la;for(Bt=0;4>Bt;++Bt){var Gr=1&Kn;for(Or=$t=0;4>Or;++Or)Kt=Kt>>1|(Gr=(Cn=ku(tn,Bs,Cn=Gr+(1&Kt),yn.Sc,ir,At,fr))>ir)<<7,$t=$t<<2|(3<Cn?3:1<Cn?2:At[fr+0]!=0),fr+=16;Kt>>=4,Kn=Kn>>1|Gr<<7,Vn=(Vn<<8|$t)>>>0}for(Bs=Kt,ir=Kn>>4,xn=0;4>xn;xn+=2){for($t=0,Kt=vt.la>>4+xn,Kn=Sr.la>>4+xn,Bt=0;2>Bt;++Bt){for(Gr=1&Kn,Or=0;2>Or;++Or)Cn=Gr+(1&Kt),Kt=Kt>>1|(Gr=0<(Cn=ku(tn,sr[2],Cn,yn.Qc,0,At,fr)))<<3,$t=$t<<2|(3<Cn?3:1<Cn?2:At[fr+0]!=0),fr+=16;Kt>>=2,Kn=Kn>>1|Gr<<5}Pt|=$t<<4*xn,Bs|=Kt<<4<<xn,ir|=(240&Kn)<<xn}vt.la=Bs,Sr.la=ir,jr.Hc=Vn,jr.Gc=Pt,jr.ia=43690&Pt?0:yn.ia,sr=!(Vn|Pt)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[wt.$b][wt.Za],De.wa[De.Y+De.ja].La|=!sr),An.Ka)return Rn(kt,7,"Premature end-of-file encountered.")}if(bo(kt),De=Wn,An=1,wt=(Ye=kt).D,vt=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)t:{if(wt.M=Ye.M,wt.uc=vt,ms(Ye,wt),An=1,wt=($t=Ye.D).Nb,vt=(Pt=Kh[Ye.L])*Ye.R,tn=Pt/2*Ye.B,Bt=16*wt*Ye.R,Or=8*wt*Ye.B,sr=Ye.sa,jr=Ye.ta-vt+Bt,yn=Ye.qa,At=Ye.ra-tn+Or,fr=Ye.Ha,Sr=Ye.Ia-tn+Or,Kn=(Kt=$t.M)==0,Vn=Kt>=Ye.Va-1,Ye.Aa==2&&ms(Ye,$t),$t.uc)for(Gr=(Cn=Ye).D.M,e(Cn.D.uc),$t=Cn.yb;$t<Cn.Hb;++$t){ir=$t,Bs=Gr;var kr=(Yr=(ar=Cn).D).Nb;xn=ar.R;var Yr=Yr.wa[Yr.Y+ir],Jr=ar.sa,Ir=ar.ta+16*kr*xn+16*ir,Xr=Yr.dd,Xt=Yr.tc;if(Xt!=0)if(e(3<=Xt),ar.L==1)0<ir&&N2(Jr,Ir,xn,Xt+4),Yr.La&&S2(Jr,Ir,xn,Xt),0<Bs&&_2(Jr,Ir,xn,Xt+4),Yr.La&&j2(Jr,Ir,xn,Xt);else{var Qr=ar.B,$s=ar.qa,Bo=ar.ra+8*kr*Qr+8*ir,Ri=ar.Ha,ar=ar.Ia+8*kr*Qr+8*ir;kr=Yr.ld,0<ir&&(Hn(Jr,Ir,xn,Xt+4,Xr,kr),ju($s,Bo,Ri,ar,Qr,Xt+4,Xr,kr)),Yr.La&&(Fh(Jr,Ir,xn,Xt,Xr,kr),w2($s,Bo,Ri,ar,Qr,Xt,Xr,kr)),0<Bs&&(kn(Jr,Ir,xn,Xt+4,Xr,kr),Oi($s,Bo,Ri,ar,Qr,Xt+4,Xr,kr)),Yr.La&&(Fl(Jr,Ir,xn,Xt,Xr,kr),b2($s,Bo,Ri,ar,Qr,Xt,Xr,kr))}}if(Ye.ia&&alert("todo:DitherRow"),De.put!=null){if($t=16*Kt,Kt=16*(Kt+1),Kn?(De.y=Ye.sa,De.O=Ye.ta+Bt,De.f=Ye.qa,De.N=Ye.ra+Or,De.ea=Ye.Ha,De.W=Ye.Ia+Or):($t-=Pt,De.y=sr,De.O=jr,De.f=yn,De.N=At,De.ea=fr,De.W=Sr),Vn||(Kt-=Pt),Kt>De.o&&(Kt=De.o),De.F=null,De.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&$t<Kt&&(De.J=Mn(Ye,De,$t,Kt-$t),De.F=Ye.mb,De.F==null&&De.F.length==0)){An=Rn(Ye,3,"Could not decode alpha data.");break t}$t<De.j&&(Pt=De.j-$t,$t=De.j,e(!(1&Pt)),De.O+=Ye.R*Pt,De.N+=Ye.B*(Pt>>1),De.W+=Ye.B*(Pt>>1),De.F!=null&&(De.J+=De.width*Pt)),$t<Kt&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=$t-De.j,De.U=De.va-De.v,De.T=Kt-$t,An=De.put(De))}wt+1!=Ye.Ic||Vn||(r(Ye.sa,Ye.ta-vt,sr,jr+16*Ye.R,vt),r(Ye.qa,Ye.ra-tn,yn,At+8*Ye.B,tn),r(Ye.Ha,Ye.Ia-tn,fr,Sr+8*Ye.B,tn))}if(!An)return Rn(kt,6,"Output aborted.")}return 1}(ie,me)),me.bc!=null&&me.bc(me),ve&=1}return ve?(ie.cb=0,ve):0})(p,P)||(m=p.a)}}else m=p.a}m==0&&K.Oa!=null&&K.Oa.fd&&(m=xu(K.ba))}K=m}W=K!=0?null:11>W?Y.f.RGBA.eb:Y.f.kb.y}else W=null;return W};var W2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,L){for(var C="",O=0;O<4;O++)C+=String.fromCharCode(A[L++]);return C}function d(A,L){return A[L+0]|A[L+1]<<8}function f(A,L){return(A[L+0]|A[L+1]<<8|A[L+2]<<16)>>>0}function g(A,L){return(A[L+0]|A[L+1]<<8|A[L+2]<<16|A[L+3]<<24)>>>0}new c;var h=[0],v=[0],y=[],b=new c,x=t,w=function(A,L){var C={},O=0,H=!1,U=0,ee=0;if(C.frames=[],!function(z,Q){for(var T=0;T<4;T++)if(z[Q+T]!="RIFF".charCodeAt(T))return!0;return!1}(A,L)){for(g(A,L+=4),L+=8;L<A.length;){var q=u(A,L),le=g(A,L+=4);L+=4;var te=le+(1&le);switch(q){case"VP8 ":case"VP8L":C.frames[O]===void 0&&(C.frames[O]={}),(xe=C.frames[O]).src_off=H?ee:L-8,xe.src_size=U+le+8,O++,H&&(H=!1,U=0,ee=0);break;case"VP8X":(xe=C.header={}).feature_flags=A[L];var ce=L+4;xe.canvas_width=1+f(A,ce),ce+=3,xe.canvas_height=1+f(A,ce),ce+=3;break;case"ALPH":H=!0,U=te+8,ee=L-8;break;case"ANIM":(xe=C.header).bgcolor=g(A,L),ce=L+4,xe.loop_count=d(A,ce),ce+=2;break;case"ANMF":var ge,xe;(xe=C.frames[O]={}).offset_x=2*f(A,L),L+=3,xe.offset_y=2*f(A,L),L+=3,xe.width=1+f(A,L),L+=3,xe.height=1+f(A,L),L+=3,xe.duration=f(A,L),L+=3,ge=A[L++],xe.dispose=1&ge,xe.blend=ge>>1&1}q!="ANMF"&&(L+=te)}return C}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var N=w.header?w.header:null,k=w.frames?w.frames:null;if(N){N.loop_counter=N.loop_count,h=[N.canvas_height],v=[N.canvas_width];for(var R=0;R<k.length&&k[R].blend!=0;R++);}var I=k[0],M=b.WebPDecodeRGBA(x,I.src_off,I.src_size,v,h);I.rgba=M,I.imgwidth=v[0],I.imgheight=h[0];for(var j=0;j<v[0]*h[0]*4;j++)y[j]=M[j];return this.width=v,this.height=h,this.data=y,this}(function(t){var e,n,r,s,i,a,o,c,u,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=z;Object.defineProperty(this,"pdf",{get:function(){return Q}});var T=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return T},set:function(ue){T=!!ue}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ue){Z=!!ue}});var F=0;Object.defineProperty(this,"posX",{get:function(){return F},set:function(ue){isNaN(ue)||(F=ue)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(ue){isNaN(ue)||(re=ue)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ue){var J;typeof ue=="number"?J=[ue,ue,ue,ue]:((J=new Array(4))[0]=ue[0],J[1]=ue.length>=2?ue[1]:J[0],J[2]=ue.length>=3?ue[2]:J[0],J[3]=ue.length>=4?ue[3]:J[1]),u.margin=J}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(ue){V=ue}});var E=0;Object.defineProperty(this,"lastBreak",{get:function(){return E},set:function(ue){E=ue}});var D=[];Object.defineProperty(this,"pageBreaks",{get:function(){return D},set:function(ue){D=ue}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ue){ue instanceof d&&(u=ue)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ue){u.path=ue}});var G=[];Object.defineProperty(this,"ctxStack",{get:function(){return G},set:function(ue){G=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var J;J=g(ue),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var J=g(ue);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var he=null,pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(ue){he=null,pe=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var J;if(this.ctx.font=ue,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Re=J[1];J[2];var Be=J[3],Me=J[4];J[5];var Se=J[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(Oe==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var Ce=function(it){var tt,Wt,Ct=[],Ue=it.trim();if(Ue==="")return Bm;if(Ue in j_)return[j_[Ue]];for(;Ue!=="";){switch(Wt=null,tt=(Ue=k_(Ue)).charAt(0)){case'"':case"'":Wt=L$(Ue.substring(1),tt);break;default:Wt=T$(Ue)}if(Wt===null||(Ct.push(Wt[0]),(Ue=k_(Wt[1]))!==""&&Ue.charAt(0)!==","))return Bm;Ue=Ue.replace(/^,/,"")}return Ct}(Se);if(this.fontFaces){var $e=function(it,tt){if(he===null){var Wt=function(Ct){var Ue=[];return Object.keys(Ct).forEach(function(ft){Ct[ft].forEach(function(Rt){var rt=null;switch(Rt){case"bold":rt={family:ft,weight:"bold"};break;case"italic":rt={family:ft,style:"italic"};break;case"bolditalic":rt={family:ft,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:ft}}rt!==null&&(rt.ref={name:ft,style:Rt},Ue.push(rt))})}),Ue}(it.getFontList());he=function(Ct){for(var Ue={},ft=0;ft<Ct.length;++ft){var Rt=Fm(Ct[ft]),rt=Rt.family,Nt=Rt.stretch,pt=Rt.style,cn=Rt.weight;Ue[rt]=Ue[rt]||{},Ue[rt][Nt]=Ue[rt][Nt]||{},Ue[rt][Nt][pt]=Ue[rt][Nt][pt]||{},Ue[rt][Nt][pt][cn]=Rt}return Ue}(Wt.concat(tt))}return he}(this.pdf,this.fontFaces),ze=Ce.map(function(it){return{family:it,stretch:"normal",weight:Be,style:Re}}),He=function(it,tt,Wt){for(var Ct=(Wt=Wt||{}).defaultFontFamily||"times",Ue=Object.assign({},P$,Wt.genericFontFamilies||{}),ft=null,Rt=null,rt=0;rt<tt.length;++rt)if(Ue[(ft=Fm(tt[rt])).family]&&(ft.family=Ue[ft.family]),it.hasOwnProperty(ft.family)){Rt=it[ft.family];break}if(!(Rt=Rt||it[Ct]))throw new Error("Could not find a font-family for the rule '"+S_(ft)+"' and default family '"+Ct+"'.");if(Rt=function(Nt,pt){if(pt[Nt])return pt[Nt];var cn=Ly[Nt],Nn=cn<=Ly.normal?-1:1,Ft=N_(pt,mS,cn,Nn);if(!Ft)throw new Error("Could not find a matching font-stretch value for "+Nt);return Ft}(ft.stretch,Rt),Rt=function(Nt,pt){if(pt[Nt])return pt[Nt];for(var cn=gS[Nt],Nn=0;Nn<cn.length;++Nn)if(pt[cn[Nn]])return pt[cn[Nn]];throw new Error("Could not find a matching font-style for "+Nt)}(ft.style,Rt),!(Rt=function(Nt,pt){if(pt[Nt])return pt[Nt];if(Nt===400&&pt[500])return pt[500];if(Nt===500&&pt[400])return pt[400];var cn=E$[Nt],Nn=N_(pt,yS,cn,Nt<400?-1:1);if(!Nn)throw new Error("Could not find a matching font-weight for value "+Nt);return Nn}(ft.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+S_(ft)+"'.");return Rt}($e,ze);this.pdf.setFont(He.ref.name,He.ref.style)}else{var at="";(Be==="bold"||parseInt(Be,10)>=700||Re==="bold")&&(at="bold"),Re==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ot="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Ce.length;ht++){if(this.pdf.internal.getFont(Ce[ht],at,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ce[ht];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Ce[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ce[ht],at="bold";else if(this.pdf.internal.getFont(Ce[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ce[ht],at="normal";break}}if(ot===""){for(var et=0;et<Ce.length;et++)if(Tt[Ce[et]]){ot=Tt[Ce[et]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw Gt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var T=this.ctx.transform.applyToPoint(new a(z,Q));this.path.push({type:"mt",x:T.x,y:T.y}),this.ctx.lastPoint=new a(z,Q)},f.prototype.closePath=function(){var z=new a(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&zt(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){z=new a(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},f.prototype.lineTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw Gt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var T=this.ctx.transform.applyToPoint(new a(z,Q));this.path.push({type:"lt",x:T.x,y:T.y}),this.ctx.lastPoint=new a(T.x,T.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,Q,T,Z){if(isNaN(T)||isNaN(Z)||isNaN(z)||isNaN(Q))throw Gt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var F=this.ctx.transform.applyToPoint(new a(T,Z)),re=this.ctx.transform.applyToPoint(new a(z,Q));this.path.push({type:"qct",x1:re.x,y1:re.y,x:F.x,y:F.y}),this.ctx.lastPoint=new a(F.x,F.y)},f.prototype.bezierCurveTo=function(z,Q,T,Z,F,re){if(isNaN(F)||isNaN(re)||isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z))throw Gt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new a(F,re)),E=this.ctx.transform.applyToPoint(new a(z,Q)),D=this.ctx.transform.applyToPoint(new a(T,Z));this.path.push({type:"bct",x1:E.x,y1:E.y,x2:D.x,y2:D.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},f.prototype.arc=function(z,Q,T,Z,F,re){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z)||isNaN(F))throw Gt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new a(z,Q));z=V.x,Q=V.y;var E=this.ctx.transform.applyToPoint(new a(0,T)),D=this.ctx.transform.applyToPoint(new a(0,0));T=Math.sqrt(Math.pow(E.x-D.x,2)+Math.pow(E.y-D.y,2))}Math.abs(F-Z)>=2*Math.PI&&(Z=0,F=2*Math.PI),this.path.push({type:"arc",x:z,y:Q,radius:T,startAngle:Z,endAngle:F,counterclockwise:re})},f.prototype.arcTo=function(z,Q,T,Z,F){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,Q,T,Z){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z))throw Gt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Q),this.lineTo(z+T,Q),this.lineTo(z+T,Q+Z),this.lineTo(z,Q+Z),this.lineTo(z,Q),this.lineTo(z+T,Q),this.lineTo(z,Q)},f.prototype.fillRect=function(z,Q,T,Z){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z))throw Gt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var F={};this.lineCap!=="butt"&&(F.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(F.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Q,T,Z),this.fill(),F.hasOwnProperty("lineCap")&&(this.lineCap=F.lineCap),F.hasOwnProperty("lineJoin")&&(this.lineJoin=F.lineJoin)}},f.prototype.strokeRect=function(z,Q,T,Z){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z))throw Gt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(z,Q,T,Z),this.stroke())},f.prototype.clearRect=function(z,Q,T,Z){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z))throw Gt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Q,T,Z))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(z){var Q,T,Z,F;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Q=0,T=0,Z=0,F=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(re!==null)Q=parseInt(re[1]),T=parseInt(re[2]),Z=parseInt(re[3]),F=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Q=parseInt(re[1]),T=parseInt(re[2]),Z=parseInt(re[3]),F=parseFloat(re[4]);else{if(F=1,typeof z=="string"&&z.charAt(0)!=="#"){var V=new lS(z);z=V.ok?V.toHex():"#000000"}z.length===4?(Q=z.substring(1,2),Q+=Q,T=z.substring(2,3),T+=T,Z=z.substring(3,4),Z+=Z):(Q=z.substring(1,3),T=z.substring(3,5),Z=z.substring(5,7)),Q=parseInt(Q,16),T=parseInt(T,16),Z=parseInt(Z,16)}}return{r:Q,g:T,b:Z,a:F,style:z}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,Q,T,Z){if(isNaN(Q)||isNaN(T)||typeof z!="string")throw Gt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var F=te(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;O.call(this,{text:z,x:Q,y:T,scale:re,angle:F,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(z,Q,T,Z){if(isNaN(Q)||isNaN(T)||typeof z!="string")throw Gt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Z=isNaN(Z)?void 0:Z;var F=te(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;O.call(this,{text:z,x:Q,y:T,scale:re,renderingMode:"stroke",angle:F,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(z){if(typeof z!="string")throw Gt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,T=this.pdf.internal.scaleFactor,Z=Q.internal.getFontSize(),F=Q.getStringUnitWidth(z)*Z/Q.internal.scaleFactor;return new function(re){var V=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this}({width:F*=Math.round(96*T/72*1e4)/1e4})},f.prototype.scale=function(z,Q){if(isNaN(z)||isNaN(Q))throw Gt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var T=new c(z,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(T)},f.prototype.rotate=function(z){if(isNaN(z))throw Gt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.translate=function(z,Q){if(isNaN(z)||isNaN(Q))throw Gt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var T=new c(1,0,0,1,z,Q);this.ctx.transform=this.ctx.transform.multiply(T)},f.prototype.transform=function(z,Q,T,Z,F,re){if(isNaN(z)||isNaN(Q)||isNaN(T)||isNaN(Z)||isNaN(F)||isNaN(re))throw Gt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new c(z,Q,T,Z,F,re);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.setTransform=function(z,Q,T,Z,F,re){z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,T=isNaN(T)?0:T,Z=isNaN(Z)?1:Z,F=isNaN(F)?0:F,re=isNaN(re)?0:re,this.ctx.transform=new c(z,Q,T,Z,F,re)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,Q,T,Z,F,re,V,E,D){var G=this.pdf.getImageProperties(z),he=1,pe=1,ue=1,J=1;Z!==void 0&&E!==void 0&&(ue=E/Z,J=D/F,he=G.width/Z*E/Z,pe=G.height/F*D/F),re===void 0&&(re=Q,V=T,Q=0,T=0),Z!==void 0&&E===void 0&&(E=Z,D=F),Z===void 0&&E===void 0&&(E=G.width,D=G.height);for(var Re,Be=this.ctx.transform.decompose(),Me=te(Be.rotate.shx),Se=new c,Oe=(Se=(Se=(Se=Se.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new o(re-Q*ue,V-T*J,Z*he,F*pe)),Ce=b.call(this,Oe),$e=[],ze=0;ze<Ce.length;ze+=1)$e.indexOf(Ce[ze])===-1&&$e.push(Ce[ze]);if(N($e),this.autoPaging)for(var He=$e[0],at=$e[$e.length-1],ot=He;ot<at+1;ot++){this.pdf.setPage(ot);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=ot===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ot===1?0:et+(ot-2)*it;if(this.ctx.clip_path.length!==0){var Wt=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Re,this.posX+this.margin[3],-tt+ht+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Wt}var Ct=JSON.parse(JSON.stringify(Oe));Ct=w([Ct],this.posX+this.margin[3],-tt+ht+this.ctx.prevPageLastElemOffset)[0];var Ue=(ot>He||ot<at)&&y.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,it,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Me),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Me)};var b=function(z,Q,T){var Z=[];Q=Q||this.pdf.internal.pageSize.width,T=T||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var F=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":Z.push(Math.floor((z.y+F)/T)+1);break;case"arc":Z.push(Math.floor((z.y+F-z.radius)/T)+1),Z.push(Math.floor((z.y+F+z.radius)/T)+1);break;case"qct":var re=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);Z.push(Math.floor((re.y+F)/T)+1),Z.push(Math.floor((re.y+re.h+F)/T)+1);break;case"bct":var V=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);Z.push(Math.floor((V.y+F)/T)+1),Z.push(Math.floor((V.y+V.h+F)/T)+1);break;case"rect":Z.push(Math.floor((z.y+F)/T)+1),Z.push(Math.floor((z.y+z.h+F)/T)+1)}for(var E=0;E<Z.length;E+=1)for(;this.pdf.internal.getNumberOfPages()<Z[E];)x.call(this);return Z},x=function(){var z=this.fillStyle,Q=this.strokeStyle,T=this.font,Z=this.lineCap,F=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Q,this.font=T,this.lineCap=Z,this.lineWidth=F,this.lineJoin=re},w=function(z,Q,T){for(var Z=0;Z<z.length;Z++)switch(z[Z].type){case"bct":z[Z].x2+=Q,z[Z].y2+=T;case"qct":z[Z].x1+=Q,z[Z].y1+=T;default:z[Z].x+=Q,z[Z].y+=T}return z},N=function(z){return z.sort(function(Q,T){return Q-T})},k=function(z,Q){for(var T,Z,F=this.fillStyle,re=this.strokeStyle,V=this.lineCap,E=this.lineWidth,D=Math.abs(E*this.ctx.transform.scaleX),G=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),ue=[],J=0;J<pe.length;J++)if(pe[J].x!==void 0)for(var Re=b.call(this,pe[J]),Be=0;Be<Re.length;Be+=1)ue.indexOf(Re[Be])===-1&&ue.push(Re[Be]);for(var Me=0;Me<ue.length;Me++)for(;this.pdf.internal.getNumberOfPages()<ue[Me];)x.call(this);if(N(ue),this.autoPaging)for(var Se=ue[0],Oe=ue[ue.length-1],Ce=Se;Ce<Oe+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=F,this.strokeStyle=re,this.lineCap=V,this.lineWidth=D,this.lineJoin=G;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Ce===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ce===1?0:He+(Ce-2)*at;if(this.ctx.clip_path.length!==0){var Tt=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(T,this.posX+this.margin[3],-ot+ze+this.ctx.prevPageLastElemOffset),R.call(this,z,!0),this.path=Tt}if(Z=JSON.parse(JSON.stringify(he)),this.path=w(Z,this.posX+this.margin[3],-ot+ze+this.ctx.prevPageLastElemOffset),Q===!1||Ce===0){var ht=(Ce>Se||Ce<Oe)&&y.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,at,null).clip().discardPath()),R.call(this,z,Q),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=E}else this.lineWidth=D,R.call(this,z,Q),this.lineWidth=E;this.path=he},R=function(z,Q){if((z!=="stroke"||Q||!v.call(this))&&(z==="stroke"||Q||!h.call(this))){for(var T,Z,F=[],re=this.path,V=0;V<re.length;V++){var E=re[V];switch(E.type){case"begin":F.push({begin:!0});break;case"close":F.push({close:!0});break;case"mt":F.push({start:E,deltas:[],abs:[]});break;case"lt":var D=F.length;if(re[V-1]&&!isNaN(re[V-1].x)&&(T=[E.x-re[V-1].x,E.y-re[V-1].y],D>0)){for(;D>=0;D--)if(F[D-1].close!==!0&&F[D-1].begin!==!0){F[D-1].deltas.push(T),F[D-1].abs.push(E);break}}break;case"bct":T=[E.x1-re[V-1].x,E.y1-re[V-1].y,E.x2-re[V-1].x,E.y2-re[V-1].y,E.x-re[V-1].x,E.y-re[V-1].y],F[F.length-1].deltas.push(T);break;case"qct":var G=re[V-1].x+2/3*(E.x1-re[V-1].x),he=re[V-1].y+2/3*(E.y1-re[V-1].y),pe=E.x+2/3*(E.x1-E.x),ue=E.y+2/3*(E.y1-E.y),J=E.x,Re=E.y;T=[G-re[V-1].x,he-re[V-1].y,pe-re[V-1].x,ue-re[V-1].y,J-re[V-1].x,Re-re[V-1].y],F[F.length-1].deltas.push(T);break;case"arc":F.push({deltas:[],abs:[],arc:!0}),Array.isArray(F[F.length-1].abs)&&F[F.length-1].abs.push(E)}}Z=Q?null:z==="stroke"?"stroke":"fill";for(var Be=!1,Me=0;Me<F.length;Me++)if(F[Me].arc)for(var Se=F[Me].abs,Oe=0;Oe<Se.length;Oe++){var Ce=Se[Oe];Ce.type==="arc"?j.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,Q,!Be):H.call(this,Ce.x,Ce.y),Be=!0}else if(F[Me].close===!0)this.pdf.internal.out("h"),Be=!1;else if(F[Me].begin!==!0){var $e=F[Me].start.x,ze=F[Me].start.y;U.call(this,F[Me].deltas,$e,ze),Be=!0}Z&&A.call(this,Z),Q&&L.call(this)}},I=function(z){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,T=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-T;case"top":return z+Q-T;case"hanging":return z+Q-2*T;case"middle":return z+Q/2-T;default:return z}},M=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Q,T){this.colorStops.push([Q,T])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(z,Q,T,Z,F,re,V,E,D){for(var G=q.call(this,T,Z,F,re),he=0;he<G.length;he++){var pe=G[he];he===0&&(D?C.call(this,pe.x1+z,pe.y1+Q):H.call(this,pe.x1+z,pe.y1+Q)),ee.call(this,z,Q,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}E?L.call(this):A.call(this,V)},A=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(z,Q){this.pdf.internal.out(n(z)+" "+r(Q)+" m")},O=function(z){var Q;switch(z.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var T=this.pdf.getTextDimensions(z.text),Z=I.call(this,z.y),F=M.call(this,Z)-T.h,re=this.ctx.transform.applyToPoint(new a(z.x,Z)),V=this.ctx.transform.decompose(),E=new c;E=(E=(E=E.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var D,G,he,pe=this.ctx.transform.applyToRectangle(new o(z.x,Z,T.w,T.h)),ue=E.applyToRectangle(new o(z.x,F,T.w,T.h)),J=b.call(this,ue),Re=[],Be=0;Be<J.length;Be+=1)Re.indexOf(J[Be])===-1&&Re.push(J[Be]);if(N(Re),this.autoPaging)for(var Me=Re[0],Se=Re[Re.length-1],Oe=Me;Oe<Se+1;Oe++){this.pdf.setPage(Oe);var Ce=Oe===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],He=ze-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ot=at-this.margin[3],Tt=Oe===1?0:$e+(Oe-2)*He;if(this.ctx.clip_path.length!==0){var ht=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(D,this.posX+this.margin[3],-1*Tt+Ce),R.call(this,"fill",!0),this.path=ht}var et=w([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-Tt+Ce+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*z.scale),he=this.lineWidth,this.lineWidth=he*z.scale);var it=this.autoPaging!=="text";if(it||et.y+et.h<=ze){if(it||et.y>=Ce&&et.x<=at){var tt=it?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||at-et.x)[0],Wt=w([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-Tt+Ce+this.ctx.prevPageLastElemOffset)[0],Ct=it&&(Oe>Me||Oe<Se)&&y.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,He,null).clip().discardPath()),this.pdf.text(tt,Wt.x,Wt.y,{angle:z.angle,align:Q,renderingMode:z.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else et.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-et.y);z.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=he)}else z.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*z.scale),he=this.lineWidth,this.lineWidth=he*z.scale),this.pdf.text(z.text,re.x+this.posX,re.y+this.posY,{angle:z.angle,align:Q,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=he)},H=function(z,Q,T,Z){T=T||0,Z=Z||0,this.pdf.internal.out(n(z+T)+" "+r(Q+Z)+" l")},U=function(z,Q,T){return this.pdf.lines(z,Q,T,null,null)},ee=function(z,Q,T,Z,F,re,V,E){this.pdf.internal.out([e(s(T+z)),e(i(Z+Q)),e(s(F+z)),e(i(re+Q)),e(s(V+z)),e(i(E+Q)),"c"].join(" "))},q=function(z,Q,T,Z){for(var F=2*Math.PI,re=Math.PI/2;Q>T;)Q-=F;var V=Math.abs(T-Q);V<F&&Z&&(V=F-V);for(var E=[],D=Z?-1:1,G=Q;V>1e-5;){var he=G+D*Math.min(V,re);E.push(le.call(this,z,G,he)),V-=Math.abs(he-G),G=he}return E},le=function(z,Q,T){var Z=(T-Q)/2,F=z*Math.cos(Z),re=z*Math.sin(Z),V=F,E=-re,D=V*V+E*E,G=D+V*F+E*re,he=4/3*(Math.sqrt(2*D*G)-G)/(V*re-E*F),pe=V-he*E,ue=E+he*V,J=pe,Re=-ue,Be=Z+Q,Me=Math.cos(Be),Se=Math.sin(Be);return{x1:z*Math.cos(Q),y1:z*Math.sin(Q),x2:pe*Me-ue*Se,y2:pe*Se+ue*Me,x3:J*Me-Re*Se,y3:J*Se+Re*Me,x4:z*Math.cos(T),y4:z*Math.sin(T)}},te=function(z){return 180*z/Math.PI},ce=function(z,Q,T,Z,F,re){var V=z+.5*(T-z),E=Q+.5*(Z-Q),D=F+.5*(T-F),G=re+.5*(Z-re),he=Math.min(z,F,V,D),pe=Math.max(z,F,V,D),ue=Math.min(Q,re,E,G),J=Math.max(Q,re,E,G);return new o(he,ue,pe-he,J-ue)},ge=function(z,Q,T,Z,F,re,V,E){var D,G,he,pe,ue,J,Re,Be,Me,Se,Oe,Ce,$e,ze,He=T-z,at=Z-Q,ot=F-T,Tt=re-Z,ht=V-F,et=E-re;for(G=0;G<41;G++)Me=(Re=(he=z+(D=G/40)*He)+D*((ue=T+D*ot)-he))+D*(ue+D*(F+D*ht-ue)-Re),Se=(Be=(pe=Q+D*at)+D*((J=Z+D*Tt)-pe))+D*(J+D*(re+D*et-J)-Be),G==0?(Oe=Me,Ce=Se,$e=Me,ze=Se):(Oe=Math.min(Oe,Me),Ce=Math.min(Ce,Se),$e=Math.max($e,Me),ze=Math.max(ze,Se));return new o(Math.round(Oe),Math.round(Ce),Math.round($e-Oe),Math.round(ze-Ce))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Q,T=(z=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Q}));this.prevLineDash!==T&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=T)}}})(Ze.API),function(t){var e=function(a){var o,c,u,d,f,g,h,v,y,b;for(c=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(b=f%85))/85)-(y=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,c.push(g+33,h+33,v+33,y+33,b+33)):c.push(122);return function(x,w){for(var N=w;N>0;N--)x.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,d,f,g=String,h="length",v=255,y="charCodeAt",b="slice",x="replace";for(a[b](-2),a=a[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(a+=o="uuuuu"[b](a[h]%5||5))[h];f>d;d+=5)c=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(w,N){for(var k=N;k>0;k--)w.pop()}(u,o[h]),g.fromCharCode.apply(g,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=jy(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,n,r){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,u,d){var f=new XMLHttpRequest,g=0,h=function(v){var y=v.length,b=[],x=String.fromCharCode;for(g=0;g<y;g+=1)b.push(x(255&v.charCodeAt(g)));return b.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(s,i,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):ra(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):ra(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=zt(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var v=d[h],y=v.src.find(function(b){return b.format==="truetype"});y&&u.addFont(y.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,f).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=u.call(f,o,c);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ze.getPageSize=function(o,c,u){if(zt(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,y=0,b=0;if(h.hasOwnProperty(g))y=h[g][1]/f,b=h[g][0]/f;else try{y=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>y&&(v=b,b=y,y=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>b&&(v=b,b=y,y=v)}return{width:b,height:y,unit:c,k:f,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Fm):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return C_=t,this.internal.events.subscribe("postPutResources",function(){Yf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),A_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yf!==void 0&&A_!==void 0&&this.internal.out("/Names <</JavaScript "+Yf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=n.internal.newObject();d.push(f);var g=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,a,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(f){for(var g,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,y={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=h,e.indexOf(f.charCodeAt(b+1))!==-1){g=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),y={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:g,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(Ze.API),Ze.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=g$(t,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(j){for(var A=j.width,L=j.height,C=j.data,O=j.palette,H=j.depth,U=!1,ee=[],q=[],le=void 0,te=!1,ce=0,ge=0;ge<O.length;ge++){var xe=Tw(O[ge],4),z=xe[0],Q=xe[1],T=xe[2],Z=xe[3];ee.push(z,Q,T),Z!=null&&(Z===0?(ce++,q.length<1&&q.push(ge)):Z<255&&(te=!0))}if(te||ce>1){U=!0,q=void 0;var F=A*L;le=new Uint8Array(F);for(var re=new DataView(C.buffer),V=0;V<F;V++){var E=$m(re,V,H),D=Tw(O[E],4)[3];le[V]=D}}else ce===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:C,alphaBytes:le,needSMask:U,palette:ee,mask:q}}(i):c===2||c===4?function(j){for(var A=j.data,L=j.width,C=j.height,O=j.channels,H=j.depth,U=O===2?"DeviceGray":"DeviceRGB",ee=O-1,q=L*C,le=ee,te=q*le,ce=1*q,ge=Math.ceil(te*H/8),xe=Math.ceil(ce*H/8),z=new Uint8Array(ge),Q=new Uint8Array(xe),T=new DataView(A.buffer),Z=new DataView(z.buffer),F=new DataView(Q.buffer),re=!1,V=0;V<q;V++){for(var E=V*O,D=0;D<le;D++)D_(Z,$m(T,E+D,H),V*le+D,H);var G=$m(T,E+le,H);G<(1<<H)-1&&(re=!0),D_(F,G,1*V,H)}return{colorSpace:U,colorsPerPixel:ee,sMaskBitsPerComponent:re?H:void 0,colorBytes:z,alphaBytes:Q,needSMask:re}}(i):function(j){var A=j.data,L=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?function(C){for(var O=C.length,H=new Uint8Array(2*O),U=new DataView(H.buffer,H.byteOffset,H.byteLength),ee=0;ee<O;ee++)U.setUint16(2*ee,C[ee],!1);return H}(A):A,needSMask:!1}}(i);var f,g,h,v=s,y=v.colorSpace,b=v.colorsPerPixel,x=v.sMaskBitsPerComponent,w=v.colorBytes,N=v.alphaBytes,k=v.needSMask,R=v.palette,I=v.mask,M=null;return r!==Ze.API.image_compression.NONE&&typeof jy=="function"?(M=function(j){var A;switch(j){case Ze.API.image_compression.FAST:A=11;break;case Ze.API.image_compression.MEDIUM:A=13;break;case Ze.API.image_compression.SLOW:A=14;break;default:A=12}return A}(r),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=T_(w,Math.ceil(a*b*d/8),b,d,r),k&&(h=T_(N,Math.ceil(a*x/8),1,x,r))):(f=void 0,g=void 0,t=w,k&&(h=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:g,transparency:I,palette:R,sMask:h,predictor:M,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:y}}},function(t){t.processGIF89A=function(e,n,r,s){var i=new M$(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},d=new Um(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(Ze.API),zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Gt.log("bit decode error:"+n)}},zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new zs(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new Um(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(Ze.API),B_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new B_(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new Um(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(Ze.API),Ze.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var d=r[u],f=r[u+1],g=r[u+2],h=r[u+3];i[o++]=d,i[o++]=f,i[o++]=g,a[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jl=Ze.API,Jf=Jl.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,g=0,h=t.length,v=0,y=o[0]||c,b=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(g=f&&zt(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/d:0,b.push((o[r]||y)/c+g)),v=r;return b},E_=Jl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Jl.processArabic&&(t=Jl.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:Jf.apply(this,arguments).reduce(function(i,a){return i+a},0)},P_=function(t,e,n,r){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<n;)o+=e[i],i++;s.push(t.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>r&&(s.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},L_=function(t,e,n){n||(n={});var r,s,i,a,o,c,u,d=[],f=[d],g=n.textIndent||0,h=0,v=0,y=t.split(" "),b=Jf.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),w=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(R,I){return(I&&R.length?`
`:"")+R})):w.push(k[0])}),y=w,c=E_.apply(this,[x,n])}for(i=0,a=y.length;i<a;i++){var N=0;if(r=y[i],c&&r[0]==`
`&&(r=r.substr(1),N=1),g+h+(v=(s=Jf.apply(this,[r,n])).reduce(function(k,R){return k+R},0))>e||N){if(v>e){for(o=P_.apply(this,[r,s,e-(g+h),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);v=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,R){return k+R},0)}else d=[r];f.push(d),g=v+c,h=b}else d.push(r),g+=h+v,h=b}return u=c?function(k,R){return(R?x:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},Jl.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(L_.apply(this,[r[o],a,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var h,v,y,b,x=["{"];for(var w in g){if(h=g[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=a(w).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof h=="number")h<0?(y=a(h).slice(3),b="-"):(y=a(h).slice(2),b=""),y=b+y.slice(0,-1)+s[y.slice(-1)];else{if(zt(h)!=="object")throw new Error("Don't know what to do with value type "+zt(h)+".");y=o(h)}x.push(v+y)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,y,b,x={},w=1,N=x,k=[],R="",I="",M=g.length-1,j=1;j<M;j+=1)(b=g[j])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(k.push([N,y]),N={},y=void 0):b=="}"?((v=k.pop())[0][v[1]]=N,y=void 0,N=v[0]):b=="-"?w=-1:y===void 0?r.hasOwnProperty(b)?(R+=r[b],y=parseInt(R,16)*w,w=1,R=""):R+=b:r.hasOwnProperty(b)?(I+=r[b],N[y]=parseInt(I,16)*w,w=1,y=void 0,I=""):I+=b;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var h=g.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(Ze.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(yp(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])}(Ze),Ze.API.addSvgAsImage=function(t,e,n,r,s,i,a,o){if(isNaN(e)||isNaN(n))throw Gt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Gt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ct.canvg?Promise.resolve(ct.canvg):ra(()=>import("./index.es-BS2S35TH.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,r,s,a,o)})},Ze.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},Ze.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,d=0,f=0;function g(v,y){var b,x=!1;for(b=0;b<v.length;b+=1)v[b]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(zt(t)==="object"){for(s in t)if(i=t[s],g(o,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&g(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?y.push("/"+v+" /"+n[v].value):y.push("/"+v+" "+n[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,g=i.length;f<g;++f){if(o=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(i){var a,o,c,u,d,f,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,g=(o=Object.keys(i).sort(function(h,v){return h-v})).length;f<g;f++)a=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<g.length;v++)h+=String.fromCharCode(g[v]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var b=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ec(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ec(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+ec(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,g="",h=0;h<f.length;h++)g+=String.fromCharCode(f[h]);var v=u();d({data:g,addLength1:!0,objectId:v}),c("endobj");var y=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+ec(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ec(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},g=f.pdfEscape,h=f.activeFontKey,v=f.fonts,y=h,b="",x=0,w="",N=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(w=o,y=h,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)v[y].metadata.hasOwnProperty("cmap")&&(a=v[y].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?b+=w[x]:b+="";var k="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?k=g(b,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(k=n(b,v[y])),f.isHex=!0,{text:k,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(s(Object.assign({},c,{text:a[u]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,a,o,c,u,d,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var k=function(C){var O=C.charCodeAt(),H=O>>8,U=y[H];return U!==void 0?f[256*U+(255&O)]:H===252||H===253?"AL":x.test(H)?"L":H===8?"R":"N"},R=function(C){for(var O,H=0;H<C.length;H++){if((O=k(C.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},I=function(C,O,H,U){var ee,q,le,te,ce=O[U];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ce="AN");break;case"AL":w=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":U<1||U+1>=O.length||(ee=H[U-1])!=="EN"&&ee!=="AN"||(q=O[U+1])!=="EN"&&q!=="AN"?ce="N":w&&(q="AN"),ce=q===ee?q:"N";break;case"ES":ce=(ee=U>0?H[U-1]:"B")==="EN"&&U+1<O.length&&O[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&H[U-1]==="EN"){ce="EN";break}if(w){ce="N";break}for(le=U+1,te=O.length;le<te&&O[le]==="ET";)le++;ce=le<te&&O[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(te=O.length,le=U+1;le<te&&O[le]==="NSM";)le++;if(le<te){var ge=C[U],xe=ge>=1425&&ge<=2303||ge===64286;if(ee=O[le],xe&&(ee==="R"||ee==="AL")){ce="R";break}}}ce=U<1||(ee=O[U-1])==="B"?"N":H[U-1];break;case"B":w=!1,s=!0,ce=N;break;case"S":i=!0,ce="N"}return ce},M=function(C,O,H){var U=C.split("");return H&&j(U,H,{hiLevel:N}),U.reverse(),O&&O.reverse(),U.join("")},j=function(C,O,H){var U,ee,q,le,te,ce=-1,ge=C.length,xe=0,z=[],Q=N?h:g,T=[];for(w=!1,s=!1,i=!1,ee=0;ee<ge;ee++)T[ee]=k(C[ee]);for(q=0;q<ge;q++){if(te=xe,z[q]=I(C,T,z,q),U=240&(xe=Q[te][v[z[q]]]),xe&=15,O[q]=le=Q[xe][5],U>0)if(U===16){for(ee=ce;ee<q;ee++)O[ee]=1;ce=-1}else ce=-1;if(Q[xe][6])ce===-1&&(ce=q);else if(ce>-1){for(ee=ce;ee<q;ee++)O[ee]=le;ce=-1}T[q]==="B"&&(O[q]=0),H.hiLevel|=le}i&&function(Z,F,re){for(var V=0;V<re;V++)if(Z[V]==="S"){F[V]=N;for(var E=V-1;E>=0&&Z[E]==="WS";E--)F[E]=N}}(T,O,ge)},A=function(C,O,H,U,ee){if(!(ee.hiLevel<C)){if(C===1&&N===1&&!s)return O.reverse(),void(H&&H.reverse());for(var q,le,te,ce,ge=O.length,xe=0;xe<ge;){if(U[xe]>=C){for(te=xe+1;te<ge&&U[te]>=C;)te++;for(ce=xe,le=te-1;ce<le;ce++,le--)q=O[ce],O[ce]=O[le],O[le]=q,H&&(q=H[ce],H[ce]=H[le],H[le]=q);xe=te}xe++}}},L=function(C,O,H){var U=C.split(""),ee={hiLevel:N};return H||(H=[]),j(U,H,ee),function(q,le,te){if(te.hiLevel!==0&&d)for(var ce,ge=0;ge<q.length;ge++)le[ge]===1&&(ce=b.indexOf(q[ge]))>=0&&(q[ge]=b[ce+1])}(U,H,ee),A(2,U,O,H,ee),A(1,U,O,H,ee),U.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,H){if(function(ee,q){if(q)for(var le=0;le<ee.length;le++)q[le]=le;o===void 0&&(o=R(ee)),u===void 0&&(u=R(ee))}(C,O),a||!c||u)if(a&&c&&o^u)N=o?1:0,C=M(C,O,H);else if(!a&&c&&u)N=o?1:0,C=L(C,O,H),C=M(C,O);else if(!a||o||c||u){if(a&&!c&&o^u)C=M(C,O),o?(N=0,C=L(C,O,H)):(N=1,C=L(C,O,H),C=M(C,O));else if(a&&o&&!c&&u)N=1,C=L(C,O,H),C=M(C,O);else if(!a&&!c&&o^u){var U=d;o?(N=1,C=L(C,O,H),N=0,d=!1,C=L(C,O,H),d=U):(N=0,C=L(C,O,H),C=M(C,O),N=1,d=!1,C=L(C,O,H),d=U,C=M(C,O))}}else N=0,C=L(C,O,H);else N=o?1:0,C=L(C,O,H);return C},this.__bidiEngine__.setOptions=function(C){C&&(a=C.isInputVisual,c=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([n.doBidiReorder(s[o])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new oo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new X$(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new D$(this.contents),this.head=new B$(this),this.name=new H$(this),this.cmap=new vS(this),this.toUnicode={},this.hhea=new $$(this),this.maxp=new W$(this),this.hmtx=new V$(this),this.post=new z$(this),this.os2=new U$(this),this.loca=new J$(this),this.glyf=new K$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ri,oo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),D$=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,a,o,c,u,d,f,g,h,v,y;for(y in h=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),a=Math.floor(f/c),d=16*h-f,(s=new oo).writeInt(this.scalarType),s.writeShort(h),s.writeShort(f),s.writeShort(a),s.writeShort(d),i=16*h,u=s.pos+i,o=null,v=[],n)for(g=n[y],s.writeString(y),s.writeInt(t(g)),s.writeInt(u),s.writeInt(g.length),v=v.concat(g),y==="head"&&(o=u),u+=g.length;u%4;)v.push(0),u++;return s.write(v),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,a;for(n=bS.call(n);n.length%4;)n.push(0);for(i=new oo(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),F$={}.hasOwnProperty,Si=function(t,e){for(var n in e)F$.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ri=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var B$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new oo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),$_=function(){function t(e,n){var r,s,i,a,o,c,u,d,f,g,h,v,y,b,x,w,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),g=h/2,e.pos+=6,i=function(){var k,R;for(R=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)R.push(e.readUInt16());return R}(),e.pos+=2,y=function(){var k,R;for(R=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)R.push(e.readUInt16());return R}(),u=function(){var k,R;for(R=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)R.push(e.readUInt16());return R}(),d=function(){var k,R;for(R=[],c=k=0;0<=g?k<g:k>g;c=0<=g?++k:--k)R.push(e.readUInt16());return R}(),s=(this.length-e.pos+this.offset)/2,o=function(){var k,R;for(R=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)R.push(e.readUInt16());return R}(),c=x=0,N=i.length;x<N;c=++x)for(b=i[c],r=w=v=y[c];v<=b?w<=b:w>=b;r=v<=b?++w:--w)d[c]===0?a=r+u[c]:(a=o[d[c]/2+(r-v)-(g-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,s,i,a,o,c,u,d,f,g,h,v,y,b,x,w,N,k,R,I,M,j,A,L,C,O,H,U,ee,q,le,te,ce,ge,xe,z,Q,T,Z,F,re,V,E,D,G,he;switch(U=new oo,a=Object.keys(e).sort(function(pe,ue){return pe-ue}),n){case"macroman":for(y=0,b=function(){var pe=[];for(v=0;v<256;++v)pe.push(0);return pe}(),w={0:0},i={},ee=0,ce=a.length;ee<ce;ee++)w[E=e[s=a[ee]]]==null&&(w[E]=++y),i[s]={old:e[s],new:w[e[s]]},b[s]=w[e[s]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(b),{charMap:i,subtable:U.data,maxGlyphID:y+1};case"unicode":for(O=[],f=[],N=0,w={},r={},x=u=null,q=0,ge=a.length;q<ge;q++)w[R=e[s=a[q]]]==null&&(w[R]=++N),r[s]={old:R,new:w[R]},o=w[R]-s,x!=null&&o===u||(x&&f.push(x),O.push(s),u=o),x=s;for(x&&f.push(x),f.push(65535),O.push(65535),L=2*(A=O.length),j=2*Math.pow(Math.log(A)/Math.LN2,2),g=Math.log(j/2)/Math.LN2,M=2*A-j,c=[],I=[],h=[],v=le=0,xe=O.length;le<xe;v=++le){if(C=O[v],d=f[v],C===65535){c.push(0),I.push(0);break}if(C-(H=r[C].new)>=32768)for(c.push(0),I.push(2*(h.length+A-v)),s=te=C;C<=d?te<=d:te>=d;s=C<=d?++te:--te)h.push(r[s].new);else c.push(H-C),I.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*A+2*h.length),U.writeUInt16(0),U.writeUInt16(L),U.writeUInt16(j),U.writeUInt16(g),U.writeUInt16(M),re=0,z=f.length;re<z;re++)s=f[re],U.writeUInt16(s);for(U.writeUInt16(0),V=0,Q=O.length;V<Q;V++)s=O[V],U.writeUInt16(s);for(D=0,T=c.length;D<T;D++)o=c[D],U.writeUInt16(o);for(G=0,Z=I.length;G<Z;G++)k=I[G],U.writeUInt16(k);for(he=0,F=h.length;he<F;he++)y=h[he],U.writeUInt16(y);return{charMap:r,subtable:U.data,maxGlyphID:N+1}}},t}(),vS=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new $_(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=$_.encode(e,n),(s=new oo).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),$$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),U$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),z$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t}(),q$=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},H$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,a,o,c,u,d,f,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},i=d=0,f=r.length;d<f;i=++d)s=r[i],e.pos=s.offset,u=e.readString(s.length),a=new q$(u,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),W$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),V$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,f,g;for(g=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],g.push(i.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),bS=[].slice,K$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,a,o,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new oo(n.read(s))).readShort(),u=o.readShort(),f=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new Y$(o,u,f,c,d):new G$(o,a,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,a,o,c;for(a=[],i=[],o=0,c=n.length;o<c;o++)s=e[n[o]],i.push(a.length),s&&(a=a.concat(s.encode(r)));return i.push(a.length),{table:a,offsets:i}},t}(),G$=function(){function t(e,n,r,s,i,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Y$=function(){function t(e,n,r,s,i){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new oo(bS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),J$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Si(t,ri),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<r.length;++a)if(r[a]=s,i<n.length&&n[i]==a){++i,r[a]=s;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),X$=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,a,o,c;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,a,o,c,u,d,f,g,h,v,y,b,x;for(s in r=vS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},x=r.charMap)h[(c=x[s]).old]=c.new;for(v in g=r.maxGlyphID,a)v in h||(h[v]=g++);return d=function(w){var N,k;for(N in k={},w)k[w[N]]=N;return k}(h),f=Object.keys(d).sort(function(w,N){return w-N}),y=function(){var w,N,k;for(k=[],w=0,N=f.length;w<N;w++)o=f[w],k.push(d[o]);return k}(),i=this.font.glyf.encode(a,y,h),u=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e}();function wS(t,e,n,r,s){r=r||{};var i=1.15,a=s.internal.scaleFactor,o=s.internal.getFontSize()/a,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=o*c,d=/\r\n|\r|\n/g,f="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(d):t,g=f.length||1),n+=o*(2-i),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var h=o;if(r.halign==="center"&&(h*=.5),f&&g>=1){for(var v=0;v<f.length;v++)s.text(f[v],e-s.getStringUnitWidth(f[v])*h,n),n+=u;return s}e-=s.getStringUnitWidth(t)*h}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var U_={},Ec=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:U_=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,i;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,i){return this.jsPDFDocument.rect(e,n,r,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return U_||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Ty=function(t,e){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ty(t,e)};function _S(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ty(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var NS=function(t){_S(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Q$(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Z$(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function m0(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function jS(t,e,n,r){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var a=SS(s,!1);a&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,a)}function SS(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function W0(t,e){var n,r,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function kS(t,e){var n=W0(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function eU(t,e,n,r,s){var i={},a=1.3333333333333333,o=zm(e,function(N){return s.getComputedStyle(N).backgroundColor});o!=null&&(i.fillColor=o);var c=zm(e,function(N){return s.getComputedStyle(N).color});c!=null&&(i.textColor=c);var u=nU(r,n);u&&(i.cellPadding=u);var d="borderTopColor",f=a*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var h=(parseFloat(g)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=zm(e,function(N){return s.getComputedStyle(N)[d]});v!=null&&(i.lineColor=v);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var b=parseInt(r.fontSize||"");isNaN(b)||(i.fontSize=b/a);var x=tU(r);x&&(i.fontStyle=x);var w=(r.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(i.font=w),i}function tU(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function zm(t,e){var n=AS(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function AS(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:AS(t.parentElement,e):n}function nU(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=n.map(function(o){return parseInt(o||"0")/r}),a=W0(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function CS(t,e,n,r,s){var i,a;r===void 0&&(r=!1),s===void 0&&(s=!1);var o;typeof e=="string"?o=n.document.querySelector(e):o=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],f=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:g};for(var h=0;h<o.rows.length;h++){var v=o.rows[h],y=(a=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),b=rU(c,u,n,v,r,s);b&&(y==="thead"?d.push(b):y==="tfoot"?g.push(b):f.push(b))}return{head:d,body:f,foot:g}}function rU(t,e,n,r,s,i){for(var a=new NS(r),o=0;o<r.cells.length;o++){var c=r.cells[o],u=n.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=eU(t,c,e,u,n)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:sU(c)})}}var f=n.getComputedStyle(r);if(a.length>0&&(s||f.display!=="none"))return a}function sU(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function iU(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ta(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function aU(t,e){var n=new Ec(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();iU(s,r,e);var i=ta({},s,r,e),a;typeof window<"u"&&(a=window);var o=oU(s,r,e),c=lU(s,r,e),u=cU(n,i),d=dU(n,i,a);return{id:e.tableId,content:d,hooks:c,styles:o,settings:u}}function oU(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],f=n[c];r.columnStyles=ta({},u,d,f)}else{var g=[t,e,n],h=g.map(function(v){return v[c]||{}});r[c]=ta({},h[0],h[1],h[2])}},i=0,a=Object.keys(r);i<a.length;i++){var o=a[i];s(o)}return r}function lU(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=r;i<a.length;i++){var o=a[i];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function cU(t,e){var n,r,s,i,a,o,c,u,d,f,g,h,v=W0(e.margin,40/t.scaleFactor()),y=(n=uU(t,e.startY))!==null&&n!==void 0?n:v.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var w=(i=e.useCss)!==null&&i!==void 0?i:!1,N=e.theme||(w?"plain":"striped"),k=!!e.horizontalPageBreak,R=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:N,startY:y,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:x,showFoot:b,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:k,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function uU(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),i=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;i=a===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function dU(t,e,n){var r=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(n){var o=CS(t,e.html,n,a,e.useCss)||{};r=o.head||r,s=o.body||r,i=o.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||hU(r,s,i);return{columns:c,head:r,body:s,foot:i}}function hU(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,o;Array.isArray(r)?o=r[parseInt(i)]:o=r[i],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var c=0;c<a;c++){var u=void 0;Array.isArray(r)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var Oy=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),fU=function(t){_S(e,t);function e(n,r,s,i,a,o){var c=t.call(this,n,r,o)||this;return c.cell=s,c.row=i,c.column=a,c.section=i.section,c}return e}(Oy),pU=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,i,a){for(var o=0,c=n;o<c.length;o++){var u=c[o],d=new fU(e,this,r,s,i,a),f=u(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new Oy(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new Oy(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),ES=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof NS&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var i;return Math.max(r,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,i){var a=r.cells[i.index];if(!a)return 0;var o=n.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),u=c+o;return u>s?u:s},0)},t}(),PS=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=W0(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),gU=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var i=s[r],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},t}();function mU(t,e){yU(t,e);var n=[],r=0;e.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(e);a?i.width=a:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=Iy(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Iy(n,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),vU(e),bU(e,t),xU(e)}function yU(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=kS(t,e);e.allRows().forEach(function(i){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,i,c,null);var f=u.padding("horizontal");u.contentWidth=m0(u.text,u.styles,t)+f;var g=m0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Iy(t,e,n){for(var r=e,s=t.reduce(function(h,v){return h+v.wrappedWidth},0),i=0;i<t.length;i++){var a=t[i],o=a.wrappedWidth/s,c=r*o,u=a.width+c,d=n(a),f=u<d?d:u;e-=f-a.width,a.width=f}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(h){return e<0?h.width>n(h):!0});g.length&&(e=Iy(g,e,n))}return e}function xU(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var i=r[s],a=0,o=t.columns;a<o.length;a++){var c=o[a],u=e[c.index];if(n>1)n--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,n=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=r.length-s,g=d.rowSpan>f?f:d.rowSpan;e[c.index]={cell:d,left:g,row:i}}}}}function vU(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,i=0,a=0,o=0;o<t.columns.length;o++){var c=t.columns[o];if(a-=1,a>1&&t.columns[o+1])i+=c.width,delete r.cells[c.index];else if(s){var u=s;delete r.cells[c.index],s=null,u.width=c.width+i}else{var u=r.cells[c.index];if(!u)continue;if(a=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function bU(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var i=s[r],a=0,o=t.columns;a<o.length;a++){var c=o[a],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=z_(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=z_(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>i.height&&(i.height=g)}}n.count--}}function z_(t,e,n,r,s){return t.map(function(i){return wU(i,e,n,r,s)})}function wU(t,e,n,r,s){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=m0(t,n,r))return t;for(;e<m0(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function _U(t,e){var n=new Ec(t),r=NU(e,n.scaleFactor()),s=new pU(e,r);return mU(n,s),n.applyStyles(n.userStyles),s}function NU(t,e){var n=t.content,r=SU(n.columns);if(n.head.length===0){var s=q_(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=q_(r,"foot");s&&n.foot.push(s)}var i=t.settings.theme,a=t.styles;return{columns:r,head:qm("head",n.head,r,a,i,e),body:qm("body",n.body,r,a,i,e),foot:qm("foot",n.foot,r,a,i,e)}}function qm(t,e,n,r,s,i){var a={},o=e.map(function(c,u){for(var d=0,f={},g=0,h=0,v=0,y=n;v<y.length;v++){var b=y[v];if(a[b.index]==null||a[b.index].left===0)if(h===0){var x=void 0;Array.isArray(c)?x=c[b.index-g-d]:x=c[b.dataKey];var w={};typeof x=="object"&&!Array.isArray(x)&&(w=(x==null?void 0:x.styles)||{});var N=kU(t,b,u,s,r,i,w),k=new PS(x,N,t);f[b.dataKey]=k,f[b.index]=k,h=k.colSpan-1,a[b.index]={left:k.rowSpan-1,times:h}}else h--,g++;else a[b.index].left--,h=a[b.index].times,d++}return new ES(c,u,t,f)});return o}function q_(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=jU(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function jU(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function SU(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new gU(s,e,n)})}function kU(t,e,n,r,s,i,a){var o=Z$(r),c;t==="head"?c=s.headStyles:t==="body"?c=s.bodyStyles:t==="foot"&&(c=s.footStyles);var u=ta({},o.table,o[t],s.styles,c),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},f=t==="body"?d:{},g=t==="body"&&n%2===0?ta({},o.alternateRow,s.alternateRowStyles):{},h=Q$(i),v=ta({},h,u,g,f);return ta(v,a)}function AU(t,e,n){var r;n===void 0&&(n={});var s=kS(t,e),i=new Map,a=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var h=e.columns.find(function(v){return v.dataKey===g||v.index===g});h&&!i.has(h.index)&&(i.set(h.index,!0),a.push(h.index),o.push(e.columns[h.index]),s-=h.wrappedWidth)});for(var u=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(i.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(u||s>=f)u=!1,a.push(d),o.push(e.columns[d]),s-=f;else break;d++}return{colIndexes:a,columns:o,lastIndex:d-1}}function CU(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=AU(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function EU(t,e){var n=e.settings,r=n.startY,s=n.margin,i={x:s.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=r+s.bottom+a;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,h){return g+h.height},0);o+=u}var d=new Ec(t);(n.pageBreak==="always"||n.startY!=null&&o>d.pageSize().height)&&(TS(d),i.y=s.top),e.callWillDrawPageHooks(d,i);var f=ta({},i);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?PU(d,e,f,i):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return ua(d,e,g,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(g,h){var v=h===e.body.length-1;y0(d,e,g,v,f,i,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return ua(d,e,g,i,e.columns)})),jS(d,e,f,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function PU(t,e,n,r){var s=CU(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?Ed(t,e,n,r,u.columns,!0):H_(t,e,r,u.columns),LU(t,e,n,r,u.columns),Hm(t,e,r,u.columns)});else for(var a=-1,o=s[0],c=function(){var u=a;if(o){t.applyStyles(t.userStyles);var d=o.columns;a>=0?Ed(t,e,n,r,d,!0):H_(t,e,r,d),u=W_(t,e,a+1,r,d),Hm(t,e,r,d)}var f=u-a;s.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Ed(t,e,n,r,g.columns,!0),W_(t,e,a+1,r,g.columns,f),Hm(t,e,r,g.columns)}),a=u};a<e.body.length-1;)c()}function H_(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return ua(t,e,i,n,r)})}function LU(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,a){var o=a===e.body.length-1;y0(t,e,i,o,n,r,s)})}function W_(t,e,n,r,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var a=Math.min(n+i,e.body.length),o=-1;return e.body.slice(n,a).forEach(function(c,u){var d=n+u===e.body.length-1,f=LS(t,e,d,r);c.canEntireRowFit(f,s)&&(ua(t,e,c,r,s),o=n+u)}),o}function Hm(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return ua(t,e,i,n,r)})}function TU(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function OU(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,a=0,o=n.columns;a<o.length;a++){var c=o[a],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new PS(u.raw,u.styles,u.section);d=ta(d,u),d.text=[];var f=TU(u,e,r);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var g=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,h),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(g,h),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var v=new ES(t.raw,-1,t.section,s,!0);v.height=i;for(var y=0,b=n.columns;y<b.length;y++){var c=b[y],d=v.cells[c.index];d&&(d.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function IU(t,e,n,r){var s=t.pageSize().height,i=r.settings.margin,a=i.top+i.bottom,o=s-a;e.section==="body"&&(o-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),u=c<n;if(c>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>o;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function y0(t,e,n,r,s,i,a){var o=LS(t,e,r,i);if(n.canEntireRowFit(o,a))ua(t,e,n,i,a);else if(IU(t,n,o,e)){var c=OU(n,o,e,t);ua(t,e,n,i,a),Ed(t,e,s,i,a),y0(t,e,c,r,s,i,a)}else Ed(t,e,s,i,a),y0(t,e,n,r,s,i,a)}function ua(t,e,n,r,s){r.x=e.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var o=a[i],c=n.cells[o.index];if(!c){r.x+=o.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,n,o,r);if(u===!1){r.x+=o.width;continue}RU(t,c,r);var d=c.getTextPos();wS(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,o,r),r.x+=o.width}r.y+=n.height}function RU(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=SS(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),MU(t,e,n,r.lineWidth))}function MU(t,e,n,r){var s,i,a,o;r.top&&(s=n.x,i=n.y,a=n.x+e.width,o=n.y,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),c(r.top,s,i,a,o)),r.bottom&&(s=n.x,i=n.y+e.height,a=n.x+e.width,o=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),c(r.bottom,s,i,a,o)),r.left&&(s=n.x,i=n.y,a=n.x,o=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.left,s,i,a,o)),r.right&&(s=n.x+e.width,i=n.y,a=n.x+e.width,o=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),c(r.right,s,i,a,o));function c(u,d,f,g,h){t.getDocument().setLineWidth(u),t.getDocument().line(d,f,g,h,"S")}}function LS(t,e,n,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function Ed(t,e,n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(o){return ua(t,e,o,r,s)}),e.callEndPageHooks(t,r);var a=e.settings.margin;jS(t,e,n,r),TS(t),e.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ua(t,e,o,r,s)}),t.applyStyles(t.userStyles))}function TS(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function DU(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=aU(this,r),i=_U(this,s);return EU(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){wS(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return Ec.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ec.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Ec(this),i=CS(s,e,window,n,!1),a=i.head,o=i.body,c=((r=a[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var Wm;try{if(typeof window<"u"&&window){var V_=window,K_=V_.jsPDF||((Wm=V_.jspdf)===null||Wm===void 0?void 0:Wm.jsPDF);K_&&DU(K_)}}catch(t){console.error("Could not apply autoTable plugin",t)}const FU=()=>{const[t,e]=oe.useState("create"),[n,r]=oe.useState(null),[s,i]=oe.useState(null),[a,o]=oe.useState(!1),[c,u]=oe.useState(!1),[d,f]=oe.useState(!1),[g,h]=oe.useState(!1);oe.useEffect(()=>{console.log("showCreateBankModal state changed:",g)},[g]);const[v,y]=oe.useState(!1),[b,x]=oe.useState(!1),[w,N]=oe.useState(!1),[k,R]=oe.useState(!1),[I,M]=oe.useState(!1),[j,A]=oe.useState({name:"",description:"",items:[]}),[L,C]=oe.useState(!1),[O,H]=oe.useState(!1);oe.useEffect(()=>{console.log("showBankSelectionModal state changed:",O)},[O]);const[U,ee]=oe.useState(""),[q,le]=oe.useState(""),[te,ce]=oe.useState(null),[ge,xe]=oe.useState(null),[z,Q]=oe.useState(!1),[T,Z]=oe.useState(null),[F,re]=oe.useState([{id:"1",description:"ウェブサイト制作",quantity:1,unitPrice:3e5,taxRate:10,amount:3e5}]);oe.useEffect(()=>{console.log("請求項目が更新されました:",F)},[F]),oe.useEffect(()=>{ft()},[]);const[V,E]=oe.useState([{id:"1",bankName:"三菱UFJ銀行",branchName:"渋谷支店",accountType:"checking",accountNumber:"1234567",accountHolder:"株式会社サンプル",isDefault:!0},{id:"2",bankName:"みずほ銀行",branchName:"新宿支店",accountType:"savings",accountNumber:"9876543",accountHolder:"株式会社サンプル",isDefault:!1}]),[D,G]=oe.useState({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1}),[he,pe]=oe.useState({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),[ue,J]=oe.useState([{id:"1",name:"田中太郎",company:"株式会社サンプル",email:"tanaka@sample.co.jp",phone:"03-1234-5678",address:"東京都渋谷区1-1-1",taxNumber:"T1234567890123"},{id:"2",name:"佐藤花子",company:"合同会社テスト",email:"sato@test.co.jp",phone:"03-9876-5432",address:"東京都新宿区2-2-2",taxNumber:"T9876543210987"},{id:"3",name:"鈴木一郎",company:"フリーランス",email:"suzuki@freelance.jp",phone:"090-1234-5678",address:"大阪府大阪市北区3-3-3",taxNumber:"T5555666677778"}]),[Re,Be]=oe.useState([{id:"1",name:"ウェブ制作標準",description:"ウェブサイト制作の標準的な請求項目",items:[{id:"1",description:"ウェブサイト制作",quantity:1,unitPrice:3e5,taxRate:10,amount:3e5},{id:"2",description:"ドメイン設定",quantity:1,unitPrice:5e3,taxRate:10,amount:5e3}],notes:"納期: 契約から30日以内"},{id:"2",name:"コンサルティング",description:"コンサルティング業務の標準請求",items:[{id:"1",description:"コンサルティング業務",quantity:10,unitPrice:15e3,taxRate:10,amount:15e4}],notes:"月次コンサルティング料金"}]),[Me,Se]=oe.useState([{id:"1",number:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-14",customer:ue[0],items:[],subtotal:3e5,taxAmount:3e4,total:33e4,status:"sent",notes:"",bankAccount:V[0]},{id:"2",number:"INV-2024-002",date:"2024-01-10",dueDate:"2024-02-09",customer:ue[1],items:[],subtotal:15e4,taxAmount:15e3,total:165e3,status:"paid",notes:"",bankAccount:V[0]},{id:"3",number:"INV-2024-003",date:"2024-01-05",dueDate:"2024-02-04",customer:ue[2],items:[],subtotal:8e4,taxAmount:8e3,total:88e3,status:"overdue",notes:"",bankAccount:V[1]}]),[Oe,Ce]=oe.useState({number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:""}),[$e,ze]=oe.useState({sendPdf:!0,sendMail:!1,confirmationEmail:!0,reminderEmail:!1}),He=(ne,_e)=>{ce({type:ne,message:_e}),setTimeout(()=>ce(null),3e3)},at=()=>F.reduce((ne,_e)=>ne+_e.amount,0),ot=()=>F.reduce((ne,_e)=>ne+_e.amount*_e.taxRate/100,0),Tt=()=>at()+ot(),ht=ne=>{ne?(xe(ne),G({bankName:ne.bankName,branchName:ne.branchName,accountType:ne.accountType,accountNumber:ne.accountNumber,accountHolder:ne.accountHolder,isDefault:ne.isDefault})):(xe(null),G({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1})),f(!0)},et=ne=>{E(_e=>_e.filter(_t=>_t.id!==ne)),(s==null?void 0:s.id)===ne&&i(null),He("success","振込先情報を削除しました")},it=ne=>{E(_e=>_e.map(_t=>({..._t,isDefault:_t.id===ne}))),He("success","デフォルト振込先を設定しました")},tt=ne=>{Z(null),pe({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),Q(!0)},Wt=()=>{if(!he.name||!he.company||!he.email){He("error","必須項目を入力してください");return}if(T)J(ne=>ne.map(_e=>_e.id===T.id?{..._e,...he}:_e)),He("success","顧客情報を更新しました");else{const ne={id:Date.now().toString(),...he};J(_e=>[..._e,ne]),He("success","顧客情報を追加しました")}Q(!1),pe({name:"",company:"",email:"",phone:"",address:"",taxNumber:""}),Z(null)},Ct=()=>{if(!n){He("error","請求先を選択してください");return}try{console.log("PDF生成開始");const ne=new Ze;console.log("jsPDFインスタンス作成完了"),ne.setFont("helvetica"),ne.setFontSize(24),ne.text("INVOICE",105,30,{align:"center"}),ne.setFontSize(16),ne.text("Seikyusho",105,40,{align:"center"}),ne.setFontSize(10),ne.text("From:",20,60),ne.text("Your Company Name",20,70),ne.text("123-4567 Tokyo, Japan",20,80),ne.text("TEL: 03-0000-0000",20,90),ne.text("To:",120,60),ne.text(n.company,120,70),ne.text(`${n.name} sama`,120,80),ne.text("Tokyo, Japan",120,90),ne.text(`TEL: ${n.phone}`,120,100),ne.text(`Invoice No: ${Oe.number}`,20,120),ne.text(`Issue Date: ${Oe.date}`,20,130),ne.text(`Due Date: ${Oe.dueDate}`,20,140),ne.setFontSize(14),ne.text(`Total Amount: ¥${Tt().toLocaleString()}`,120,130),console.log("請求項目テーブルデータ準備開始");const _e=F.map(ut=>[ut.description,ut.quantity.toString(),`¥${ut.unitPrice.toLocaleString()}`,`${ut.taxRate}%`,`¥${ut.amount.toLocaleString()}`]);if(console.log("テーブルデータ:",_e),console.log("autoTable関数の存在確認"),typeof ne.autoTable=="function")console.log("autoTable関数が利用可能"),ne.autoTable({head:[["Description","Qty","Unit Price","Tax Rate","Amount"]],body:_e,startY:160,styles:{fontSize:9,cellPadding:3,font:"helvetica"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{1:{halign:"center"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"}}}),console.log("テーブル描画完了");else{console.error("autoTable関数が利用できません"),He("error","PDFテーブル生成機能が利用できません");return}const _t=ne.lastAutoTable.finalY+20;if(ne.setFontSize(10),ne.text("Subtotal:",140,_t),ne.text(`¥${at().toLocaleString()}`,170,_t),ne.text("Tax:",140,_t+10),ne.text(`¥${ot().toLocaleString()}`,170,_t+10),ne.line(140,_t+15,190,_t+15),ne.setFontSize(12),ne.text("Total:",140,_t+25),ne.text(`¥${Tt().toLocaleString()}`,170,_t+25),s){const ut=_t+40;ne.setFontSize(10),ne.text("Bank Transfer Information:",20,ut),ne.text(`Bank: ${s.bankName}`,20,ut+10),ne.text(`Branch: ${s.branchName}`,20,ut+20),ne.text(`Account Type: ${s.accountType==="checking"?"Checking":"Savings"}`,20,ut+30),ne.text(`Account No: ${s.accountNumber}`,20,ut+40),ne.text(`Account Holder: ${s.accountHolder}`,20,ut+50)}if(Oe.notes){const ut=_t+100;ne.text("Notes:",20,ut);const Mt=ne.splitTextToSize(Oe.notes,170);ne.text(Mt,20,ut+10)}console.log("PDF保存開始"),ne.save(`${Oe.number}.pdf`),He("success","PDFをダウンロードしました"),console.log("PDF生成完了")}catch(ne){console.error("PDF生成エラーの詳細:",ne);const _e=ne instanceof Error?ne.message:String(ne);He("error",`PDF生成中にエラーが発生しました: ${_e}`)}},Ue=(ne,_e,_t)=>{re(ut=>ut.map(Mt=>{if(Mt.id===ne){const Yt={...Mt,[_e]:_t};return(_e==="quantity"||_e==="unitPrice")&&(Yt.amount=Yt.quantity*Yt.unitPrice),Yt}return Mt}))},ft=()=>{re(ne=>ne.map(_e=>({..._e,amount:_e.quantity*_e.unitPrice})))},Rt=ne=>{F.length>1?re(_e=>_e.filter(_t=>_t.id!==ne)):He("error","最低1つの項目が必要です")},rt=()=>{if(!n){He("error","請求先を選択してください");return}if(F.some(ne=>!ne.description||ne.quantity<=0||ne.unitPrice<0)){He("error","請求項目を正しく入力してください");return}y(!0)},Nt=()=>{if(!n){He("error","請求先を選択してください");return}N(!0)},pt=()=>{if(!n){He("error","請求先を選択してください");return}if(!n.email){He("error","顧客のメールアドレスが設定されていません");return}x(!0)},cn=()=>{R(!0)},Nn=ne=>{re(ne.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Ce(_e=>({..._e,notes:ne.notes})),He("success",`テンプレート「${ne.name}」を読み込みました`)},Ft=ne=>{Be(Re.filter(_e=>_e.id!==ne)),He("success","テンプレートを削除しました")},lt=()=>{if(Me.length>0){const ne=Me[0];r(ne.customer),i(ne.bankAccount),re(ne.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Ce(_e=>({..._e,notes:ne.notes,number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`})),He("success","前回の請求書をコピーしました")}else He("error","コピーする請求書がありません")},Et=ne=>{He("success",`${ne.number} をダウンロードしました`)},si=ne=>{var _e;(_e=ne.customer)!=null&&_e.email?He("success",`${ne.customer.email} に再送信しました`):He("error","メールアドレスが設定されていません")},zn=ne=>{r(ne.customer),i(ne.bankAccount),re(ne.items.map(_e=>({..._e,id:Date.now().toString()+Math.random()}))),Ce(_e=>({..._e,notes:ne.notes,number:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`})),e("create"),He("success","請求書を複製しました")},ds=ue.filter(ne=>ne.name.toLowerCase().includes(q.toLowerCase())||ne.company.toLowerCase().includes(q.toLowerCase())||ne.email.toLowerCase().includes(q.toLowerCase())),Hr=Me.filter(ne=>{var _e;return ne.number.toLowerCase().includes(q.toLowerCase())||((_e=ne.customer)==null?void 0:_e.company.toLowerCase().includes(q.toLowerCase()))||""}),nt=ne=>{switch(ne){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},hs=ne=>{switch(ne){case"draft":return"下書き";case"sent":return"送信済み";case"paid":return"支払済み";case"overdue":return"期限超過";default:return"不明"}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[te&&l.jsx("div",{className:`fixed top-20 right-4 z-50 px-4 py-3 rounded-md shadow-lg ${te.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:l.jsxs("div",{className:"flex items-center",children:[te.type==="success"?l.jsx(Qi,{className:"w-5 h-5 mr-2"}):l.jsx($n,{className:"w-5 h-5 mr-2"}),te.message]})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:ml-16 transition-all duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"請求書作成"}),l.jsx("p",{className:"text-gray-600",children:"プロフェッショナルな請求書を簡単に作成・送信"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:Ct,className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[l.jsx(bi,{className:"w-4 h-4 mr-1"}),"PDF"]}),l.jsxs("button",{onClick:rt,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm",children:[l.jsx(Bc,{className:"w-4 h-4 mr-1"}),"プレビュー"]}),l.jsxs("button",{onClick:Nt,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:[l.jsx(F0,{className:"w-4 h-4 mr-1"}),"保存"]}),l.jsxs("button",{onClick:pt,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[l.jsx(wd,{className:"w-4 h-4 mr-1"}),"送信"]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex flex-wrap gap-4 px-4 py-2",children:[l.jsx("button",{onClick:()=>e("create"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"請求書作成"}),l.jsx("button",{onClick:()=>e("bank"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="bank"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"振込先管理"}),l.jsx("button",{onClick:()=>e("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"テンプレート"}),l.jsx("button",{onClick:()=>e("history"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${t==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"請求書履歴"})]})})}),t==="create"&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"md:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"基本情報"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"請求書番号"}),l.jsx("input",{type:"text",value:Oe.number,onChange:ne=>Ce(_e=>({..._e,number:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"発行日"}),l.jsx("input",{type:"date",value:Oe.date,onChange:ne=>Ce(_e=>({..._e,date:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"支払期限"}),l.jsx("input",{type:"date",value:Oe.dueDate,onChange:ne=>Ce(_e=>({..._e,dueDate:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"請求先"}),l.jsxs("button",{onClick:()=>{o(!0)},className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx($c,{className:"w-4 h-4 mr-2"}),"顧客選択"]})]}),n?l.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:n.company}),l.jsx("p",{className:"text-sm text-gray-600",children:n.name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.address}),l.jsxs("p",{className:"text-sm text-gray-600",children:["法人番号: ",n.taxNumber]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[l.jsx(PL,{className:"w-4 h-4 mr-1"}),n.email]}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[l.jsx(BL,{className:"w-4 h-4 mr-1"}),n.phone]})]})]})}):l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[l.jsx(Xu,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"請求先を選択してください"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"請求項目"}),l.jsxs("button",{onClick:()=>C(!0),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"項目追加"]})]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full hidden md:table",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"項目"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"数量"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"単価"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"税率"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"金額"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"操作"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(ne=>(console.log("請求項目表示:",ne),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"text",value:ne.description,onChange:_e=>Ue(ne.id,"description",_e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"項目名"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:ne.quantity,onChange:_e=>Ue(ne.id,"quantity",Number(_e.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"number",value:ne.unitPrice,onChange:_e=>Ue(ne.id,"unitPrice",Number(_e.target.value)),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("select",{value:ne.taxRate,onChange:_e=>Ue(ne.id,"taxRate",Number(_e.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[l.jsx("option",{value:0,children:"0%"}),l.jsx("option",{value:8,children:"8%"}),l.jsx("option",{value:10,children:"10%"})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("span",{className:"text-sm font-medium",children:["¥",ne.amount.toLocaleString()]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{onClick:()=>Rt(ne.id),className:"text-red-600 hover:text-red-800 transition-colors",disabled:F.length===1,children:l.jsx(Zi,{className:"w-4 h-4"})})})]},ne.id)))})]}),l.jsx("div",{className:"md:hidden space-y-4",children:F.map(ne=>(console.log("モバイル用請求項目表示:",ne),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"項目"}),l.jsx("input",{type:"text",value:ne.description,onChange:_e=>Ue(ne.id,"description",_e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"項目名"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"数量"}),l.jsx("input",{type:"number",value:ne.quantity,onChange:_e=>Ue(ne.id,"quantity",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"単価"}),l.jsx("input",{type:"number",value:ne.unitPrice,onChange:_e=>Ue(ne.id,"unitPrice",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"税率"}),l.jsxs("select",{value:ne.taxRate,onChange:_e=>Ue(ne.id,"taxRate",Number(_e.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[l.jsx("option",{value:0,children:"0%"}),l.jsx("option",{value:8,children:"8%"}),l.jsx("option",{value:10,children:"10%"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"金額"}),l.jsxs("span",{className:"text-sm font-medium",children:["¥",ne.amount.toLocaleString()]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>Rt(ne.id),className:"text-red-600 hover:text-red-800 transition-colors",disabled:F.length===1,children:l.jsx(Zi,{className:"w-4 h-4"})})})]},ne.id)))})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"振込先"}),l.jsxs("button",{onClick:()=>{console.log("振込先選択モーダル表示"),H(!0)},className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[l.jsx(TP,{className:"w-4 h-4 mr-2"}),"振込先選択"]})]}),s?l.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:s.bankName}),l.jsx("p",{className:"text-sm text-gray-600",children:s.branchName}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.accountType==="checking"?"当座":"普通"," ",s.accountNumber]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"口座名義"}),l.jsx("p",{className:"font-medium",children:s.accountHolder}),s.isDefault&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full mt-1",children:"デフォルト"})]})]})}):l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[l.jsx(sL,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"振込先を選択してください"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"備考・特記事項"}),l.jsx("textarea",{value:Oe.notes,onChange:ne=>Ce(_e=>({..._e,notes:ne.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"支払い条件、納期、その他の特記事項を記載してください"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(Qp,{className:"w-5 h-5 mr-2 text-blue-600"}),"金額計算"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"小計"}),l.jsxs("span",{className:"font-medium",children:["¥",at().toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"消費税"}),l.jsxs("span",{className:"font-medium",children:["¥",ot().toLocaleString()]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-3",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-lg font-semibold",children:"合計"}),l.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["¥",Tt().toLocaleString()]})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"送信オプション"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:$e.sendPdf,onChange:ne=>ze(_e=>({..._e,sendPdf:ne.target.checked}))}),l.jsx("span",{className:"text-sm",children:"PDFで送信"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:$e.sendMail,onChange:ne=>ze(_e=>({..._e,sendMail:ne.target.checked}))}),l.jsx("span",{className:"text-sm",children:"郵送も併用"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:$e.confirmationEmail,onChange:ne=>ze(_e=>({..._e,confirmationEmail:ne.target.checked}))}),l.jsx("span",{className:"text-sm",children:"確認メールを送信"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:$e.reminderEmail,onChange:ne=>ze(_e=>({..._e,reminderEmail:ne.target.checked}))}),l.jsx("span",{className:"text-sm",children:"リマインダーメールを送信"})]})]})]})]})]}),t==="bank"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"振込先管理"}),l.jsxs("button",{onClick:()=>ht(),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"振込先追加"]})]}),l.jsx("div",{className:"space-y-4",children:V.map(ne=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:ne.bankName}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.branchName}),l.jsxs("p",{className:"text-sm text-gray-600",children:[ne.accountType==="checking"?"当座":"普通"," ",ne.accountNumber]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>ht(ne),className:"text-blue-600 hover:text-blue-800 transition-colors",children:l.jsx(e0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>et(ne.id),className:"text-red-600 hover:text-red-800 transition-colors",children:l.jsx(Zi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>it(ne.id),className:`text-sm ${ne.isDefault?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"} px-2 py-1 rounded-full`,children:ne.isDefault?"デフォルト":"デフォルトに設定"})]})]})},ne.id))})]}),t==="templates"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"テンプレート"}),l.jsxs("button",{onClick:cn,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"テンプレート保存"]})]}),l.jsx("div",{className:"space-y-4",children:Re.map(ne=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:ne.name}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.description})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>Nn(ne),className:"text-blue-600 hover:text-blue-800 transition-colors",children:l.jsx(e0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Ft(ne.id),className:"text-red-600 hover:text-red-800 transition-colors",children:l.jsx(Zi,{className:"w-4 h-4"})})]})]})},ne.id))})]}),t==="history"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"請求書履歴"}),l.jsxs("button",{onClick:lt,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(bd,{className:"w-4 h-4 mr-2"}),"前回の請求書をコピー"]})]}),l.jsx("div",{className:"hidden md:block overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"請求書番号"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"顧客"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"発行日"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"支払期限"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Hr.map(ne=>{var _e;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ne.number}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(_e=ne.customer)==null?void 0:_e.company}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.date}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.dueDate}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["¥",ne.total.toLocaleString()]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${nt(ne.status)}`,children:hs(ne.status)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsx("button",{onClick:()=>Et(ne),className:"text-blue-600 hover:text-blue-900 mr-3",children:l.jsx(bi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>si(ne),className:"text-green-600 hover:text-green-900 mr-3",children:l.jsx(wd,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>zn(ne),className:"text-blue-600 hover:text-blue-900",children:l.jsx(bd,{className:"w-4 h-4"})})]})]},ne.id)})})]})}),l.jsx("div",{className:"md:hidden space-y-4",children:Hr.map(ne=>{var _e;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:ne.number}),l.jsx("p",{className:"text-sm text-gray-600",children:(_e=ne.customer)==null?void 0:_e.company})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${nt(ne.status)}`,children:hs(ne.status)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"発行日"}),l.jsx("p",{children:ne.date})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"支払期限"}),l.jsx("p",{children:ne.dueDate})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"金額"}),l.jsxs("p",{className:"font-medium",children:["¥",ne.total.toLocaleString()]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>Et(ne),className:"text-blue-600 hover:text-blue-800",children:l.jsx(bi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>si(ne),className:"text-green-600 hover:text-green-800",children:l.jsx(wd,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>zn(ne),className:"text-blue-600 hover:text-blue-800",children:l.jsx(bd,{className:"w-4 h-4"})})]})]},ne.id)})})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"顧客選択"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",placeholder:"顧客名、会社名、メールアドレスで検索",value:q,onChange:ne=>le(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsxs("div",{className:"space-y-3",children:[ds.map(ne=>l.jsx("div",{onClick:()=>{r(ne),o(!1),le(""),He("success",`${ne.company} を選択しました`)},className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:ne.company}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.name}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.email}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.phone})]}),l.jsx("div",{className:"text-right",children:l.jsx(cp,{className:"w-5 h-5 text-gray-400"})})]})},ne.id)),ds.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"検索結果が見つかりません"})]}),l.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{o(!1),tt()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"新規追加"}),l.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]})}),L&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"請求項目選択"}),l.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",placeholder:"テンプレート名で検索",value:q,onChange:ne=>le(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsxs("div",{className:"space-y-3",children:[Re.filter(ne=>ne.name.toLowerCase().includes(q.toLowerCase())||ne.description.toLowerCase().includes(q.toLowerCase())).map(ne=>l.jsx("div",{onClick:_e=>{_e.stopPropagation(),console.log("テンプレート選択:",ne);const _t=ne.items.map(ut=>{const Mt={...ut,id:Date.now().toString()+Math.random().toString(),amount:ut.quantity*ut.unitPrice};return console.log("新しい請求項目:",Mt),Mt});console.log("追加する項目:",_t),re(ut=>{const Mt=[...ut,..._t].map(Yt=>({...Yt,amount:Yt.quantity*Yt.unitPrice}));return console.log("更新後の請求項目:",Mt),Mt}),console.log("請求項目が更新されました"),C(!1),le(""),He("success",`テンプレート「${ne.name}」を追加しました`)},className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors",children:l.jsx("div",{className:"flex justify-between",children:l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:ne.name}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.description}),l.jsx("div",{className:"mt-2",children:ne.items.map((_e,_t)=>l.jsxs("p",{className:"text-sm text-gray-500",children:[_e.description," - ¥",_e.amount.toLocaleString()]},_t))})]})})},ne.id)),Re.filter(ne=>ne.name.toLowerCase().includes(q.toLowerCase())||ne.description.toLowerCase().includes(q.toLowerCase())).length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"テンプレートがありません"})]}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx("button",{onClick:()=>{C(!1),A({name:"",description:"",items:F.map(ne=>({...ne}))}),M(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"新規テンプレート作成"}),l.jsx("div",{className:"flex space-x-3",children:l.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"})})]})]})}),O&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"振込先選択"}),l.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",placeholder:"銀行名、支店名で検索",value:q,onChange:ne=>le(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsxs("div",{className:"space-y-3",children:[V.map(ne=>l.jsx("div",{onClick:()=>{i(ne),H(!1),le(""),He("success",`${ne.bankName} を選択しました`)},className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:ne.bankName}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.branchName}),l.jsxs("p",{className:"text-sm text-gray-600",children:[ne.accountType==="checking"?"当座":"普通"," ",ne.accountNumber]}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.accountHolder})]}),l.jsx("div",{className:"text-right",children:ne.isDefault&&l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"デフォルト"})})]})},ne.id)),V.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"振込先がありません"})]}),l.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{H(!1),G({bankName:"",branchName:"",accountType:"checking",accountNumber:"",accountHolder:"",isDefault:!1}),xe(null),setTimeout(()=>{h(!0)},100)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"新規追加"}),l.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"振込先作成"}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行名"}),l.jsx("input",{type:"text",value:D.bankName,onChange:ne=>G(_e=>({..._e,bankName:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 三菱UFJ銀行"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"支店名"}),l.jsx("input",{type:"text",value:D.branchName,onChange:ne=>G(_e=>({..._e,branchName:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 渋谷支店"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座種別"}),l.jsxs("select",{value:D.accountType,onChange:ne=>G(_e=>({..._e,accountType:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"checking",children:"当座"}),l.jsx("option",{value:"savings",children:"普通"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座番号"}),l.jsx("input",{type:"text",value:D.accountNumber,onChange:ne=>G(_e=>({..._e,accountNumber:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 1234567"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"口座名義"}),l.jsx("input",{type:"text",value:D.accountHolder,onChange:ne=>G(_e=>({..._e,accountHolder:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 株式会社サンプル"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:D.isDefault,onChange:ne=>G(_e=>({..._e,isDefault:ne.target.checked})),className:"mr-2"}),l.jsx("label",{className:"text-sm text-gray-700",children:"デフォルトの振込先に設定"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{onClick:()=>{if(!D.bankName||!D.branchName||!D.accountNumber||!D.accountHolder){He("error","すべての項目を入力してください");return}const ne={id:Date.now().toString(),...D};D.isDefault?E(_e=>[ne,..._e.map(_t=>({..._t,isDefault:!1}))]):E(_e=>[..._e,ne]),h(!1),He("success","振込先を追加しました")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"作成"})]})]})}),z&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:T?"顧客編集":"顧客登録"}),l.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"氏名"}),l.jsx("input",{type:"text",value:he.name,onChange:ne=>pe(_e=>({..._e,name:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 山田太郎"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"会社名"}),l.jsx("input",{type:"text",value:he.company,onChange:ne=>pe(_e=>({..._e,company:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 株式会社サンプル"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),l.jsx("input",{type:"email",value:he.email,onChange:ne=>pe(_e=>({..._e,email:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: example@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),l.jsx("input",{type:"tel",value:he.phone,onChange:ne=>pe(_e=>({..._e,phone:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 03-0000-0000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"住所"}),l.jsx("input",{type:"text",value:he.address,onChange:ne=>pe(_e=>({..._e,address:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 東京都渋谷区1-1-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"法人番号"}),l.jsx("input",{type:"text",value:he.taxNumber,onChange:ne=>pe(_e=>({..._e,taxNumber:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: T1234567890123"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{onClick:Wt,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:T?"更新":"登録"})]})]})}),I&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"テンプレート作成"}),l.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx($n,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テンプレート名"}),l.jsx("input",{type:"text",value:j.name,onChange:ne=>A(_e=>({..._e,name:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"テンプレート名を入力"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"説明"}),l.jsx("textarea",{value:j.description,onChange:ne=>A(_e=>({..._e,description:ne.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"テンプレートの説明を入力"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"請求項目"}),l.jsx("div",{className:"space-y-2",children:j.items.map((ne,_e)=>l.jsxs("div",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded-md",children:[l.jsxs("span",{className:"text-sm flex-1",children:[ne.description," - ¥",ne.amount.toLocaleString()]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["数量: ",ne.quantity]})]},_e))})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"キャンセル"}),l.jsx("button",{onClick:()=>{if(!j.name.trim()){He("error","テンプレート名を入力してください");return}const ne={id:Date.now().toString(),name:j.name,description:j.description,items:j.items,notes:""};Be(_e=>[..._e,ne]),M(!1),He("success","テンプレートを作成しました")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"作成"})]})]})})]})},BU=()=>{const[t,e]=oe.useState("monthly"),[n,r]=oe.useState(new Date().getFullYear().toString()),[s,i]=oe.useState((new Date().getMonth()+1).toString().padStart(2,"0")),[a,o]=oe.useState([]),[c,u]=oe.useState([]),[d,f]=oe.useState([]);oe.useEffect(()=>{const h=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],v=[12e5,15e5,18e5,22e5,25e5,28e5,32e5,35e5,38e5,42e5,45e5,48e5],y=[8e5,9e5,11e5,13e5,15e5,17e5,19e5,21e5,23e5,25e5,27e5,29e5];o(h.map((b,x)=>({month:b,amount:v[x]}))),u(h.map((b,x)=>({month:b,amount:y[x]}))),f(h.map((b,x)=>({month:b,amount:v[x]-y[x]})))},[]);const g=()=>{console.log("レポートをエクスポートしました")};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"経営分析"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 md:mb-0",children:"財務状況"}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wx,{className:"w-4 h-4 text-gray-500 mr-2"}),l.jsxs("select",{value:t,onChange:h=>e(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"monthly",children:"月次"}),l.jsx("option",{value:"quarterly",children:"四半期"}),l.jsx("option",{value:"yearly",children:"年次"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(vj,{className:"w-4 h-4 text-gray-500 mr-2"}),l.jsxs("select",{value:n,onChange:h=>r(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"2023",children:"2023年"}),l.jsx("option",{value:"2024",children:"2024年"}),l.jsx("option",{value:"2025",children:"2025年"})]})]}),t==="monthly"&&l.jsx("div",{className:"flex items-center",children:l.jsxs("select",{value:s,onChange:h=>i(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"01",children:"1月"}),l.jsx("option",{value:"02",children:"2月"}),l.jsx("option",{value:"03",children:"3月"}),l.jsx("option",{value:"04",children:"4月"}),l.jsx("option",{value:"05",children:"5月"}),l.jsx("option",{value:"06",children:"6月"}),l.jsx("option",{value:"07",children:"7月"}),l.jsx("option",{value:"08",children:"8月"}),l.jsx("option",{value:"09",children:"9月"}),l.jsx("option",{value:"10",children:"10月"}),l.jsx("option",{value:"11",children:"11月"}),l.jsx("option",{value:"12",children:"12月"})]})}),l.jsxs("button",{onClick:g,className:"flex items-center px-3 py-1 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm",children:[l.jsx(bi,{className:"w-4 h-4 mr-1"}),"エクスポート"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"bg-blue-50 rounded-lg p-5",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(ks,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"売上高"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥4,800,000"}),l.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[l.jsx(ks,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"前月比 12.5%"})]})]})]})}),l.jsx("div",{className:"bg-red-50 rounded-lg p-5",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx(Uc,{className:"w-6 h-6 text-red-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"経費"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥2,900,000"}),l.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[l.jsx(ks,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"前月比 8.2%"})]})]})]})}),l.jsx("div",{className:"bg-green-50 rounded-lg p-5",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(xj,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"利益"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"¥1,900,000"}),l.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[l.jsx(ks,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"前月比 18.3%"})]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"売上推移"}),l.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:a.map((h,v)=>l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("div",{className:"w-full bg-blue-500 rounded-t hover:bg-blue-600 transition-colors",style:{height:`${h.amount/5e6*200}px`}}),l.jsx("p",{className:"text-xs text-gray-600 mt-2",children:h.month})]},v))})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"経費推移"}),l.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:c.map((h,v)=>l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("div",{className:"w-full bg-red-500 rounded-t hover:bg-red-600 transition-colors",style:{height:`${h.amount/5e6*200}px`}}),l.jsx("p",{className:"text-xs text-gray-600 mt-2",children:h.month})]},v))})]})]}),l.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-5",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"利益推移"}),l.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:d.map((h,v)=>l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("div",{className:`w-full rounded-t hover:opacity-75 transition-opacity ${h.amount>=0?"bg-green-500":"bg-red-500"}`,style:{height:`${Math.abs(h.amount)/5e6*200}px`}}),l.jsx("p",{className:"text-xs text-gray-600 mt-2",children:h.month})]},v))})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"部門別業績"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"部門"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"売上高"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目標比"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"前年比"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"利益"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"製品A"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥2,400,000"}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"120%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"+15%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥800,000"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"製品B"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥1,800,000"}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"90%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-red-600",children:"-5%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥600,000"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:"サービス"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥600,000"}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"150%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:"+25%"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"¥300,000"})]})]})]})})]})]})})},$U=()=>{const[t,e]=oe.useState(!1),[n,r]=oe.useState(""),[s,i]=oe.useState([]),[a,o]=oe.useState(null),[c,u]=oe.useState({}),[d,f]=oe.useState(!1),[g,h]=oe.useState([]),v=oe.useRef(null),{createTransaction:y}=p2(),b=fh();oe.useEffect(()=>{if(!("webkitSpeechRecognition"in window)){console.log("Web Speech API is not supported in this browser.");return}const U=new window.webkitSpeechRecognition;return U.continuous=!1,U.interimResults=!0,U.lang="ja-JP",U.onresult=ee=>{for(let q=ee.resultIndex;q<ee.results.length;q++){const le=ee.results[q][0].transcript;ee.results[q].isFinal&&r(te=>te+le+" ")}},U.onerror=ee=>{console.error("音声認識エラー:",ee.error),e(!1)},U.onend=()=>{e(!1)},v.current=U,()=>{v.current&&v.current.stop()}},[]);const x=()=>{v.current&&(v.current.start(),e(!0))},w=()=>{v.current&&(v.current.stop(),e(!1))},N=U=>{const ee=/(\d+(?:万)?(?:千)?(?:円)?)/g,q=U.match(ee),le=[{keywords:["売上"],category:"売上",type:"income",priority:10},{keywords:["給与"],category:"給与",type:"income",priority:9},{keywords:["交通費","電車","バス","タクシー"],category:"交通費",type:"expense",priority:7},{keywords:["食費","ランチ","ディナー","コーヒー"],category:"食費",type:"expense",priority:6},{keywords:["消耗品","文具","コピー"],category:"消耗品費",type:"expense",priority:5},{keywords:["接待","会食"],category:"接待交際費",type:"expense",priority:5},{keywords:["通信費","電話料金"],category:"通信費",type:"expense",priority:4},{keywords:["光熱費","電気","ガス","水道"],category:"水道光熱費",type:"expense",priority:4},{keywords:["費用","費"],category:"雑費",type:"expense",priority:1}];let te="未分類",ce="expense",ge=0;for(const Q of le)for(const T of Q.keywords)U.includes(T)&&Q.priority>ge&&(te=Q.category,ce=Q.type,ge=Q.priority);let xe=0;if(q&&q.length>0){const Q=q[0];if(Q.includes("万")){const T=parseFloat(Q.replace("万",""));xe=isNaN(T)?0:T*1e4}else if(Q.includes("千")){const T=parseFloat(Q.replace("千",""));xe=isNaN(T)?0:T*1e3}else xe=parseFloat(Q.replace(/[^\d]/g,""))||0}return{date:new Date().toISOString().split("T")[0],description:U,amount:xe,category:te,type:ce}},k=()=>{n.trim()&&(f(!0),setTimeout(()=>{const U=N(n),ee={id:Date.now().toString(),...U};i(q=>[ee,...q]),r(""),f(!1)},1e3))},R=U=>{o(U.id),u(U)},I=()=>{a&&c&&(i(U=>U.map(ee=>ee.id===a?{...ee,...c}:ee)),o(null),u({}))},M=U=>{i(ee=>ee.filter(q=>q.id!==U)),h(ee=>ee.filter(q=>q!==U))},j=async U=>{try{const{data:{user:ee},error:q}=await wn.auth.getUser();if(q)throw new Error(`認証エラー: ${q.message}`);if(!ee)throw new Error("ユーザーがログインしていません。ログインしてください。");const le={item:U.description,amount:U.amount,date:U.date,category:U.category,type:U.type,description:U.description,creator:ee.id};return await y(le)}catch(ee){throw console.error("取引の保存中にエラーが発生しました:",ee),ee.message.includes("Failed to fetch")?new Error("ネットワークエラーが発生しました。インターネット接続を確認してください。"):ee.message.includes("Auth session missing")?new Error("認証セッションが切れました。再度ログインしてください。"):ee}},A=async U=>{try{await j(U),i(ee=>ee.filter(q=>q.id!==U.id)),alert("取引が正常に記録されました")}catch(ee){if(console.error("取引の記録に失敗しました:",ee),ee.message.includes("認証セッションが切れました")){alert("認証セッションが切れました。ログインページにリダイレクトします。"),b("/login");return}alert("取引の記録に失敗しました: "+ee.message)}},L=async()=>{const U=s.filter(ee=>g.includes(ee.id));if(U.length===0){alert("記録する取引を選択してください");return}try{const ee=U.map(ge=>j(ge)),q=await Promise.allSettled(ee),le=q.filter(ge=>ge.status==="fulfilled").length,te=q.filter(ge=>ge.status==="rejected").length;q.forEach((ge,xe)=>{if(ge.status==="rejected"&&(console.error(`取引記録失敗 (${xe+1}):`,ge.reason),ge.reason.message.includes("認証セッションが切れました"))){alert("認証セッションが切れました。ログインページにリダイレクトします。"),b("/login");return}}),te>0?alert(`${le}件の取引が正常に記録されましたが、${te}件の取引の記録に失敗しました。詳細はコンソールを確認してください。`):alert(`${le}件の取引が正常に記録されました`);const ce=q.map((ge,xe)=>({result:ge,index:xe})).filter(({result:ge})=>ge.status==="fulfilled").map(({index:ge})=>U[ge].id);i(ge=>ge.filter(xe=>!ce.includes(xe.id))),h(ge=>ge.filter(xe=>!ce.includes(xe)))}catch(ee){console.error("取引の一括記録中にエラーが発生しました:",ee),alert("取引の一括記録に失敗しました: "+ee.message)}},C=U=>{h(ee=>ee.includes(U)?ee.filter(q=>q!==U):[...ee,U])},O=()=>{g.length===s.length&&s.length>0?h([]):h(s.map(U=>U.id))},H=()=>{const U=[["日付","説明","金額","カテゴリ","タイプ"],...s.map(te=>[te.date,`"${te.description}"`,te.amount.toString(),te.category,te.type])].map(te=>te.join(",")).join(`
`),ee=new Blob(["\uFEFF",U],{type:"text/csv;charset=utf-8;"}),q=URL.createObjectURL(ee),le=document.createElement("a");le.setAttribute("href",q),le.setAttribute("download",`取引データ_${new Date().toISOString().split("T")[0]}.csv`),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le)};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CHAT-TO-BOOK"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"音声入力"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("button",{onClick:t?w:x,className:`flex items-center justify-center w-16 h-16 rounded-full ${t?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"} text-white transition-colors`,children:t?l.jsx(ny,{className:"w-8 h-8"}):l.jsx(ML,{className:"w-8 h-8"})})}),l.jsx("div",{className:"text-center mb-4",children:l.jsx("p",{className:"text-sm text-gray-600",children:t?"音声認識中...":"マイクボタンをクリックして開始"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"認識テキスト"}),l.jsx("textarea",{value:n,onChange:U=>r(U.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"音声認識されたテキストがここに表示されます..."})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:k,disabled:!n.trim()||d,className:`flex items-center px-4 py-2 rounded-md transition-colors ${!n.trim()||d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:d?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"処理中..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wd,{className:"w-4 h-4 mr-2"}),"取引に変換"]})})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"取引一覧"}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length,"件の取引"]}),g.length>0&&l.jsxs("span",{className:"text-sm text-blue-600",children:[g.length,"件選択中"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[g.length>0&&l.jsxs("button",{onClick:L,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 transition-colors",children:[l.jsx(vd,{className:"w-4 h-4 mr-1"}),"一括記録 (",g.length,")"]}),l.jsxs("button",{onClick:H,disabled:s.length===0,className:`flex items-center px-3 py-1 rounded-md text-sm transition-colors ${s.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[l.jsx(bi,{className:"w-4 h-4 mr-1"}),"CSVエクスポート"]})]})]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsx("button",{onClick:O,className:"flex items-center",children:g.length===s.length&&s.length>0?l.jsx(vd,{className:"w-4 h-4 text-blue-600"}):l.jsx(Xb,{className:"w-4 h-4 text-gray-400"})})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日付"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"説明"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(U=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsx("button",{onClick:()=>C(U.id),className:"flex items-center",children:g.includes(U.id)?l.jsx(vd,{className:"w-5 h-5 text-blue-600"}):l.jsx(Xb,{className:"w-5 h-5 text-gray-400"})})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===U.id?l.jsx("input",{type:"date",value:c.date||U.date,onChange:ee=>u(q=>({...q,date:ee.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):U.date}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs",children:a===U.id?l.jsx("input",{type:"text",value:c.description||U.description,onChange:ee=>u(q=>({...q,description:ee.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):U.description}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===U.id?l.jsx("input",{type:"number",value:c.amount||U.amount,onChange:ee=>u(q=>({...q,amount:Number(ee.target.value)})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):l.jsxs("span",{className:U.type==="income"?"text-green-600":"text-red-600",children:[U.type==="income"?"+":"-","¥",U.amount.toLocaleString()]})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a===U.id?l.jsxs("select",{value:c.category||U.category,onChange:ee=>u(q=>({...q,category:ee.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[l.jsx("option",{value:"売上",children:"売上"}),l.jsx("option",{value:"給与",children:"給与"}),l.jsx("option",{value:"交通費",children:"交通費"}),l.jsx("option",{value:"食費",children:"食費"}),l.jsx("option",{value:"消耗品費",children:"消耗品費"}),l.jsx("option",{value:"接待交際費",children:"接待交際費"}),l.jsx("option",{value:"通信費",children:"通信費"}),l.jsx("option",{value:"水道光熱費",children:"水道光熱費"}),l.jsx("option",{value:"雑費",children:"雑費"}),l.jsx("option",{value:"未分類",children:"未分類"})]}):U.category}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:a===U.id?l.jsx("button",{onClick:I,className:"text-green-600 hover:text-green-900 mr-2",children:l.jsx(F0,{className:"w-4 h-4"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>A(U),className:"text-green-600 hover:text-green-900 mr-2",children:l.jsx(Zs,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>R(U),className:"text-blue-600 hover:text-blue-900 mr-2",children:l.jsx(bj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>M(U.id),className:"text-red-600 hover:text-red-900",children:l.jsx(Zi,{className:"w-4 h-4"})})]})})]},U.id))})]}),s.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"まだ取引がありません"}),l.jsx("p",{className:"text-sm mt-2",children:"音声入力で取引を追加してください"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"使い方"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"音声入力開始"}),l.jsx("p",{className:"text-sm text-gray-600",children:"マイクボタンをクリックして、取引内容を話してください。"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"テキスト確認"}),l.jsx("p",{className:"text-sm text-gray-600",children:"認識されたテキストを確認・編集してください。"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"取引に変換"}),l.jsx("p",{className:"text-sm text-gray-600",children:"「取引に変換」ボタンをクリックして、取引を登録してください。"})]})]})]})]})})},UU=[{id:"1",title:"確定申告書",description:"年次確定申告書（個人事業主用）",deadline:"2024-03-15",required:!0,template_url:"/templates/individual/kakutei_shinkoku.pdf"},{id:"2",title:"青色申告決算書",description:"青色申告専用の決算書類",deadline:"2024-03-15",required:!0,template_url:"/templates/individual/seiroku_kessan.pdf"},{id:"3",title:"給与所得者の扶養控除等申告書",description:"従業員が提出する扶養控除申告書",deadline:"2024-01-31",required:!1,template_url:"/templates/individual/fuyou_koujo.pdf"}],zU=()=>{const[t,e]=oe.useState({_id:"1",business_type:"individual",company_name:"個人事業主"}),[n,r]=oe.useState(UU.map(T=>({...T,status:"not_started",data_imported:!1,versions:[{id:"1",version:1,content:"初期バージョン",createdAt:new Date().toISOString(),createdBy:"ユーザー1"}],tags:[],comments:[]}))),[s,i]=oe.useState(!1),[a,o]=oe.useState(null),[c,u]=oe.useState(""),[d,f]=oe.useState("all"),[g,h]=oe.useState("all"),[v,y]=oe.useState(!1),b=Array.from(new Set(n.flatMap(T=>T.tags||[]))),x=(T,Z)=>{r(F=>F.map(re=>re.id===T?{...re,status:Z}:re))},w=T=>{r(Z=>Z.filter(F=>F.id!==T))},N=()=>{const T={id:Date.now().toString(),title:"新しい申告書類",description:"説明を入力してください",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,content:"",versions:[{id:"1",version:1,content:"初期バージョン",createdAt:new Date().toISOString(),createdBy:"ユーザー1"}],tags:[],comments:[]};r(Z=>[T,...Z])},[k,R]=oe.useState(null),[I,M]=oe.useState({}),j=T=>{R(T.id),M(T)},A=()=>{k&&I&&(r(T=>T.map(Z=>Z.id===k?{...Z,...I}:Z)),R(null),M({}))},L=[{id:1,title:"売上・経費の集計",description:"取引履歴から売上と経費を分類して集計します",icon:Qp},{id:2,title:"青色申告決算書の作成",description:"集計したデータをもとに決算書を作成します",icon:sa},{id:3,title:"確定申告書の作成",description:"決算書のデータをもとに確定申告書を作成します",icon:ey},{id:4,title:"電子申告または郵送",description:"e-Taxで電子申告するか、郵送で提出します",icon:bi}],C=[{id:1,title:"第2会社の設立手続き",description:"新しい会社の設立登記と税務登記を行います",icon:Zs},{id:2,title:"取引の分離と記録",description:"第1会社と第2会社の取引を明確に分離して記録します",icon:Qp},{id:3,title:"各社の決算書作成",description:"各会社ごとに決算書を作成します",icon:sa},{id:4,title:"法人税申告書の作成",description:"各会社の決算データをもとに法人税申告書を作成します",icon:ey},{id:5,title:"電子申告または郵送",description:"e-Taxで電子申告するか、郵送で提出します",icon:bi}],O=t.business_type==="individual"?L:C,H=T=>{const Z=document.createElement("a");Z.href=T.template_url||"#",Z.download=`${T.title}.pdf`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),x(T.id,"in_progress")},U=T=>{r(Z=>Z.map(F=>F.id===T?{...F,data_imported:!0}:F)),x(T,"in_progress")},ee=T=>{x(T,"completed")},q=T=>{o(T),i(!0)},le=(T,Z)=>{r(F=>F.map(re=>{if(re.id===T){const V={id:Date.now().toString(),content:Z,createdAt:new Date().toISOString(),createdBy:"ユーザー1"};return{...re,comments:[...re.comments||[],V]}}return re}))},te=(T,Z)=>{r(F=>F.map(re=>{if(re.id===T){const V=re.tags?[...re.tags,Z]:[Z];return{...re,tags:V}}return re}))},ce=n.filter(T=>{const Z=T.title.toLowerCase().includes(c.toLowerCase())||T.description.toLowerCase().includes(c.toLowerCase())||T.content&&T.content.toLowerCase().includes(c.toLowerCase()),F=d==="all"||T.status===d,re=g==="all"||T.tags&&T.tags.includes(g);return Z&&F&&re}),ge=T=>{window.print()},xe=T=>{navigator.share?navigator.share({title:T.title,text:T.description,url:window.location.href}).catch(Z=>console.log("共有エラー:",Z)):alert("このブラウザでは共有機能がサポートされていません")},z=async()=>{try{alert("政府の公式ウェブサイトからテンプレートをダウンロードします。しばらくお待ちください...");const T="https://www.nta.go.jp/taxes/shiraberu/taxanswer/shotoku/1150.htm";try{const Z=await fetch(T);if(!Z.ok)throw new Error(`政府ウェブサイトからのダウンロードに失敗しました: ${Z.status} ${Z.statusText}`);const F=await Z.text(),re=Q(F);if(re.length>0){const V=re[0],E=await fetch(V);if(!E.ok)throw new Error(`PDFのダウンロードに失敗しました: ${E.status} ${E.statusText}`);const D=await E.blob(),G=`政府テンプレート_${new Date().toISOString().split("T")[0]}.pdf`,he=URL.createObjectURL(D),pe=document.createElement("a");pe.href=he,pe.download=G,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(he);const ue={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府の公式ウェブサイトからダウンロードしたテンプレート",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:V,content:`政府ウェブサイトからダウンロードしたテンプレート: ${V}`,versions:[{id:"1",version:1,content:`初期バージョン: ${V}`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート"],comments:[]};r(J=>[ue,...J]),alert("政府の公式ウェブサイトからテンプレートをダウンロードしました")}else{alert("政府ウェブサイトからPDFリンクが見つかりませんでした。代替処理としてサンプルテンプレートを作成します。");const V={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府ウェブサイトからダウンロードしたテンプレート（サンプル）",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:T,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${T} からダウンロードしてください。`,versions:[{id:"1",version:1,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${T} からダウンロードしてください。`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート","サンプル"],comments:[]};r(E=>[V,...E])}}catch(Z){console.error("政府ウェブサイトからのテンプレートダウンロードエラー:",Z),alert(`政府ウェブサイトからの直接ダウンロードに失敗しました。代替処理としてサンプルテンプレートを作成します。エラー: ${Z instanceof Error?Z.message:"不明なエラー"}`);const F={id:Date.now().toString(),title:`政府テンプレート_${new Date().toISOString().split("T")[0]}`,description:"政府ウェブサイトからダウンロードしたテンプレート（サンプル）",deadline:new Date().toISOString().split("T")[0],status:"not_started",required:!1,data_imported:!1,template_url:T,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${T} からダウンロードしてください。`,versions:[{id:"1",version:1,content:`これは政府ウェブサイトのテンプレートのサンプルです。実際のテンプレートは ${T} からダウンロードしてください。`,createdAt:new Date().toISOString(),createdBy:"政府ウェブサイト"}],tags:["政府","テンプレート","サンプル"],comments:[]};r(re=>[F,...re])}}catch(T){console.error("政府ウェブサイトからのテンプレートダウンロードエラー:",T),alert(`テンプレートのダウンロードに失敗しました: ${T instanceof Error?T.message:"不明なエラー"}`)}},Q=T=>{const Z=[];return new DOMParser().parseFromString(T,"text/html").querySelectorAll('a[href$=".pdf"]').forEach(E=>{const D=E.getAttribute("href");if(D)try{const G=new URL(D,"https://www.nta.go.jp").href;Z.push(G)}catch{console.warn("無効なPDFリンクをスキップしました:",D)}}),Z};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs(Bn,{to:"/dashboard",className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[l.jsx(go,{className:"h-5 w-5 mr-2"}),"ダッシュボードに戻る"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"業態変換"}),l.jsx("p",{className:"text-gray-600",children:"個人事業主から法人（2社目）への変換手順をシミュレーションします"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"変換手順"}),l.jsx("div",{className:"space-y-4",children:O.map(T=>l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:l.jsx(T.icon,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.title}),l.jsx("p",{className:"text-gray-600",children:T.description})]})]},T.id))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"必要な書類テンプレート"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(Zs,{className:"h-4 w-4 mr-2"}),"新しい書類"]}),l.jsxs("button",{onClick:z,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[l.jsx(bi,{className:"h-4 w-4 mr-2"}),"政府テンプレート"]})]})]}),l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"書類を検索...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:c,onChange:T=>u(T.target.value)})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:T=>f(T.target.value),children:[l.jsx("option",{value:"all",children:"すべてのステータス"}),l.jsx("option",{value:"not_started",children:"未開始"}),l.jsx("option",{value:"in_progress",children:"進行中"}),l.jsx("option",{value:"completed",children:"完了"})]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g,onChange:T=>h(T.target.value),children:[l.jsx("option",{value:"all",children:"すべてのタグ"}),b.map(T=>l.jsx("option",{value:T,children:T},T))]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:ce.map(T=>{var Z;return l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:k===T.id?l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:I.title||"",onChange:F=>M({...I,title:F.target.value}),placeholder:"タイトル"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:I.description||"",onChange:F=>M({...I,description:F.target.value}),placeholder:"説明",rows:2}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>{R(null),M({})},className:"px-3 py-1 text-gray-600 hover:text-gray-800",children:"キャンセル"}),l.jsx("button",{onClick:A,className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"保存"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:T.title}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>j(T),className:"p-1 text-gray-500 hover:text-blue-600",title:"編集",children:l.jsx(bj,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>w(T.id),className:"p-1 text-gray-500 hover:text-red-600",title:"削除",children:l.jsx(Zi,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:T.description}),l.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(Z=T.tags)==null?void 0:Z.map(F=>l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:F},F)),l.jsx("button",{onClick:()=>{const F=prompt("新しいタグを入力してください:");F&&te(T.id,F)},className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full hover:bg-gray-200",children:"+"})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[l.jsx(Wx,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:["期限: ",T.deadline]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${T.status==="not_started"?"bg-gray-100 text-gray-800":T.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.status==="not_started"?"未開始":T.status==="in_progress"?"進行中":"完了"}),T.data_imported&&l.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"データインポート済み"})]}),l.jsxs("div",{className:"flex space-x-1",children:[T.template_url&&l.jsx("button",{onClick:()=>H(T),className:"p-2 text-gray-500 hover:text-blue-600",title:"テンプレートダウンロード",children:l.jsx(bi,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>U(T.id),className:"p-2 text-gray-500 hover:text-green-600",title:"データインポート",disabled:T.data_imported,children:l.jsx(Gx,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>q(T),className:"p-2 text-gray-500 hover:text-purple-600",title:"プレビュー",children:l.jsx(Bc,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>{T.status==="completed"?alert("この書類はすでに提出されています"):ee(T.id)},className:"p-2 text-gray-500 hover:text-green-600",title:"提出",children:l.jsx(wd,{className:"h-4 w-4"})})]})]})]})},T.id)})})]})]}),s&&a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsx("h3",{className:"text-lg font-semibold",children:a.title}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>ge(),className:"p-2 text-gray-500 hover:text-gray-700",title:"印刷",children:l.jsx(zL,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>xe(a),className:"p-2 text-gray-500 hover:text-gray-700",title:"共有",children:l.jsx(wj,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-500 hover:text-gray-700",title:"閉じる",children:l.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),l.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-100px)]",children:[a.content?l.jsx("div",{className:"prose max-w-none",children:l.jsx("p",{children:a.content})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(sa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"プレビューするコンテンツがありません"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"データをインポートするか、コンテンツを追加してください"})]}),a.versions&&a.versions.length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsx("h4",{className:"text-md font-semibold mb-3",children:"バージョン履歴"}),l.jsx("div",{className:"space-y-2",children:a.versions.map(T=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:["バージョン ",T.version]}),l.jsx("span",{className:"text-gray-500 text-sm ml-2",children:new Date(T.createdAt).toLocaleString()})]}),l.jsx("span",{className:"text-gray-500 text-sm",children:T.createdBy})]},T.id))})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h4",{className:"text-md font-semibold mb-3",children:"コメント"}),a.comments&&a.comments.length>0?l.jsx("div",{className:"space-y-3",children:a.comments.map(T=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"font-medium",children:T.createdBy}),l.jsx("span",{className:"text-gray-500 text-sm",children:new Date(T.createdAt).toLocaleString()})]}),l.jsx("p",{className:"mt-1 text-gray-700",children:T.content})]},T.id))}):l.jsx("p",{className:"text-gray-500 text-center py-4",children:"コメントはありません"}),l.jsxs("div",{className:"mt-4",children:[l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"コメントを追加...",rows:3}),l.jsx("div",{className:"mt-2 flex justify-end",children:l.jsx("button",{onClick:()=>{const T=document.querySelector('textarea[placeholder="コメントを追加..."]');T&&T.value.trim()!==""&&(le(a.id,T.value),T.value="")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"コメントを追加"})})]})]})]}),l.jsx("div",{className:"flex justify-end p-4 border-t",children:l.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"閉じる"})})]})})]})},qU=()=>{const[t,e]=oe.useState("integrations"),[n,r]=oe.useState({}),[s]=oe.useState([{id:"1",name:"三菱UFJ銀行",type:"bank",status:"connected",lastSync:"2024-01-15 09:30",description:"普通預金口座の取引履歴を自動取得",logo:"🏦",features:["残高照会","取引履歴","自動仕訳"]},{id:"2",name:"楽天カード",type:"credit",status:"connected",lastSync:"2024-01-15 08:45",description:"クレジットカード利用明細を自動取得",logo:"💳",features:["利用明細","自動分類","レシート連携"]},{id:"3",name:"Amazon",type:"ecommerce",status:"error",lastSync:"2024-01-14 15:20",description:"Amazon販売データの自動取得",logo:"📦",features:["売上データ","手数料計算","在庫管理"]},{id:"4",name:"Square POS",type:"pos",status:"disconnected",lastSync:"未接続",description:"POS売上データの自動取得",logo:"🛒",features:["売上データ","商品管理","レシート発行"]},{id:"5",name:"PayPal",type:"payment",status:"connected",lastSync:"2024-01-15 10:15",description:"PayPal決済データの自動取得",logo:"💰",features:["決済履歴","手数料計算","返金処理"]},{id:"6",name:"freee",type:"accounting",status:"pending",lastSync:"設定中",description:"会計ソフトとのデータ連携",logo:"📊",features:["仕訳同期","レポート","税務申告"]}]),[i]=oe.useState([{id:"1",name:"メインAPI",key:"ak_live_1234567890abcdef...",permissions:["read","write","admin"],created:"2024-01-01",lastUsed:"2024-01-15 09:30",status:"active"},{id:"2",name:"モバイルアプリ",key:"ak_test_abcdef1234567890...",permissions:["read"],created:"2024-01-10",lastUsed:"2024-01-14 16:45",status:"active"},{id:"3",name:"開発用",key:"ak_dev_fedcba0987654321...",permissions:["read","write"],created:"2024-01-05",lastUsed:"2024-01-12 11:20",status:"inactive"}]),a=[{name:"みずほ銀行",type:"bank",logo:"🏦"},{name:"りそな銀行",type:"bank",logo:"🏦"},{name:"イオンカード",type:"credit",logo:"💳"},{name:"JCBカード",type:"credit",logo:"💳"},{name:"Shopify",type:"ecommerce",logo:"🛍️"},{name:"BASE",type:"ecommerce",logo:"🛍️"},{name:"Airレジ",type:"pos",logo:"📱"},{name:"Stripe",type:"payment",logo:"💳"},{name:"マネーフォワード",type:"accounting",logo:"📈"}],o=[{time:"2024-01-15 10:15",source:"PayPal",type:"決済データ",count:15,status:"success"},{time:"2024-01-15 09:30",source:"三菱UFJ銀行",type:"取引履歴",count:8,status:"success"},{time:"2024-01-15 08:45",source:"楽天カード",type:"利用明細",count:23,status:"success"},{time:"2024-01-14 15:20",source:"Amazon",type:"売上データ",count:0,status:"error"},{time:"2024-01-14 14:30",source:"三菱UFJ銀行",type:"取引履歴",count:12,status:"success"}],c=y=>{switch(y){case"connected":return"text-green-600 bg-green-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},u=y=>{switch(y){case"connected":return"接続済み";case"disconnected":return"未接続";case"error":return"エラー";case"pending":return"設定中";default:return"不明"}},d=y=>{r(b=>({...b,[y]:!b[y]}))},f=y=>{navigator.clipboard.writeText(y)},g=y=>{console.log("Connecting to:",y)},h=y=>{console.log("Disconnecting from:",y)},v=y=>{console.log("Syncing:",y)};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"連携設定"}),l.jsx("p",{className:"text-gray-600",children:"外部サービスとの連携を管理します"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex space-x-8 px-6",children:[l.jsx("button",{onClick:()=>e("integrations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="integrations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"サービス連携"}),l.jsx("button",{onClick:()=>e("api"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="api"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"API管理"}),l.jsx("button",{onClick:()=>e("sync"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="sync"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"同期履歴"})]})})}),t==="integrations"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"接続済みサービス"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.map(y=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-2xl mr-3",children:y.logo}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:y.name}),l.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(y.status)}`,children:u(y.status)})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("p",{className:"text-xs text-gray-500",children:["最終同期: ",y.lastSync]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:y.features.map((b,x)=>l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b},x))})]}),l.jsxs("div",{className:"flex space-x-2",children:[y.status==="connected"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>v(y.id),className:"flex-1 bg-blue-600 text-white text-xs py-2 px-3 rounded hover:bg-blue-700",children:[l.jsx(Zp,{className:"w-3 h-3 inline mr-1"}),"同期"]}),l.jsx("button",{onClick:()=>h(y.id),className:"flex-1 bg-gray-600 text-white text-xs py-2 px-3 rounded hover:bg-gray-700",children:"切断"})]}):l.jsx("button",{onClick:()=>g(y.id),className:"w-full bg-green-600 text-white text-xs py-2 px-3 rounded hover:bg-green-700",children:"接続"}),l.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800",children:l.jsx(up,{className:"w-4 h-4"})})]})]},y.id))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"利用可能なサービス"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.map((y,b)=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-2xl mr-3",children:y.logo}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:y.name}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:y.type})]})]}),l.jsxs("button",{className:"bg-blue-600 text-white text-xs py-2 px-3 rounded hover:bg-blue-700",children:[l.jsx(Zs,{className:"w-3 h-3 inline mr-1"}),"追加"]})]})},b))})]})]}),t==="api"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"APIキー管理"}),l.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[l.jsx(Zs,{className:"w-4 h-4 inline mr-2"}),"新しいAPIキー"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"名前"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"APIキー"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"権限"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最終使用"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(y=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:n[y.id]?y.key:"••••••••••••••••"}),l.jsx("button",{onClick:()=>d(y.id),className:"text-gray-600 hover:text-gray-800",children:n[y.id]?l.jsx(uL,{className:"w-4 h-4"}):l.jsx(Bc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>f(y.key),className:"text-gray-600 hover:text-gray-800",children:l.jsx(bd,{className:"w-4 h-4"})})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:y.permissions.map((b,x)=>l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b},x))})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.lastUsed}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.status==="active"?"アクティブ":"無効"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"編集"}),l.jsx("button",{className:"text-red-600 hover:text-red-900",children:"削除"})]})})]},y.id))})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API使用状況"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-blue-900",children:"今月のリクエスト数"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:"12,547"}),l.jsx("p",{className:"text-sm text-blue-700",children:"上限: 50,000"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"成功率"}),l.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:"99.2%"}),l.jsx("p",{className:"text-sm text-green-700",children:"12,447 / 12,547"})]}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-yellow-900",children:"平均レスポンス時間"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:"245ms"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"過去24時間"})]})]})]})]}),t==="sync"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"同期履歴"}),l.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[l.jsx(Zp,{className:"w-4 h-4 inline mr-2"}),"全て同期"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"時刻"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"サービス"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"データ種別"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"件数"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((y,b)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.time}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.source}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.type}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[y.count,"件"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[y.status==="success"?l.jsx(Qi,{className:"w-4 h-4 text-green-500 mr-2"}):l.jsx(Kx,{className:"w-4 h-4 text-red-500 mr-2"}),l.jsx("span",{className:`text-sm ${y.status==="success"?"text-green-600":"text-red-600"}`,children:y.status==="success"?"成功":"エラー"})]})})]},b))})]})})]})]})})},HU=()=>{const{transactions:t,loading:e,createTransaction:n,updateTransaction:r,deleteTransaction:s}=p2(),[i,a]=oe.useState(""),[o,c]=oe.useState(!1),[u,d]=oe.useState(null),[f,g]=oe.useState([]),[h,v]=oe.useState(!1),[y,b]=oe.useState(""),[x,w]=oe.useState({start:"",end:""}),[N,k]=oe.useState({min:"",max:""}),[R,I]=oe.useState("date"),[M,j]=oe.useState("desc"),[A,L]=oe.useState(1),C=10,O=oe.useMemo(()=>{const T=t.map(Z=>Z.category);return Array.from(new Set(T)).filter(Boolean)},[t]),H=oe.useMemo(()=>{let T=[...t];return i&&(T=T.filter(Z=>Z.item&&Z.item.toLowerCase().includes(i.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(i.toLowerCase())||Z.category&&Z.category.toLowerCase().includes(i.toLowerCase()))),y&&(T=T.filter(Z=>Z.category===y)),x.start&&(T=T.filter(Z=>Z.date>=x.start)),x.end&&(T=T.filter(Z=>Z.date<=x.end)),N.min&&(T=T.filter(Z=>Z.amount>=Number(N.min))),N.max&&(T=T.filter(Z=>Z.amount<=Number(N.max))),T.sort((Z,F)=>{let re,V;switch(R){case"amount":re=Z.amount,V=F.amount;break;case"item":re=Z.item.toLowerCase(),V=F.item.toLowerCase();break;default:re=new Date(Z.date),V=new Date(F.date)}return M==="asc"?re>V?1:-1:re<V?1:-1}),T},[t,i,y,x,N,R,M]),U=Math.ceil(H.length/C),ee=oe.useMemo(()=>{const T=(A-1)*C,Z=T+C;return H.slice(T,Z)},[H,A]),q=oe.useMemo(()=>{const T=t.filter(F=>parseFloat(F.amount)>0).reduce((F,re)=>F+Math.abs(parseFloat(re.amount)),0),Z=t.filter(F=>parseFloat(F.amount)<0).reduce((F,re)=>F+Math.abs(parseFloat(re.amount)),0);return{total:t.length,income:T,expense:Z,balance:T-Z}},[t]),le=()=>{f.length===ee.length?g([]):g(ee.map(T=>T.id))},te=T=>{f.includes(T)?g(f.filter(Z=>Z!==T)):g([...f,T])},ce=async()=>{if(window.confirm(`${f.length}件の取引を削除してもよろしいですか？`))try{for(const T of f)await s(T);g([])}catch(T){console.error("一括削除に失敗:",T)}},ge=async T=>{try{const Z=localStorage.getItem("user");if(Z)try{const F=JSON.parse(Z);T.creator=F.id}catch(F){console.error("ユーザー情報の解析に失敗しました:",F)}await n(T),c(!1)}catch(Z){console.error("取引の作成に失敗:",Z)}},xe=async T=>{if(u)try{await r(u.id,T),d(null)}catch(Z){console.error("取引の更新に失敗:",Z)}},z=()=>{b(""),w({start:"",end:""}),k({min:"",max:""}),a("")},Q=oe.useMemo(()=>{let T=0;return y&&T++,(x.start||x.end)&&T++,(N.min||N.max)&&T++,T},[y,x,N]);return e?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"データを読み込んでいます..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"取引履歴"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"すべての取引履歴を確認・管理できます"})]})]})}),l.jsx("div",{className:"flex space-x-2",children:l.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center shadow-sm font-medium",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),"新規取引"]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"総取引数"}),l.jsx("div",{className:"text-2xl font-bold mt-1 text-gray-900",children:q.total})]}),l.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:l.jsx(sa,{className:"w-6 h-6 text-blue-500"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"収入"}),l.jsxs("div",{className:"text-2xl font-bold mt-1 text-green-600",children:["¥",q.income.toLocaleString()]})]}),l.jsx("div",{className:"rounded-lg bg-green-50 p-3",children:l.jsx(ks,{className:"w-6 h-6 text-green-500"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"支出"}),l.jsxs("div",{className:"text-2xl font-bold mt-1 text-red-600",children:["¥",q.expense.toLocaleString()]})]}),l.jsx("div",{className:"rounded-lg bg-red-50 p-3",children:l.jsx(Uc,{className:"w-6 h-6 text-red-500"})})]})}),l.jsx("div",{className:`rounded-xl shadow-sm p-5 border hover:shadow-md transition-shadow ${q.balance>=0?"border-green-100 bg-green-50":"border-red-100 bg-red-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"収支"}),l.jsxs("div",{className:`text-2xl font-bold mt-1 ${q.balance>=0?"text-green-600":"text-red-600"}`,children:["¥",q.balance.toLocaleString()]})]}),l.jsx("div",{className:`rounded-lg p-3 ${q.balance>=0?"bg-green-100":"bg-red-100"}`,children:l.jsx(xj,{className:`w-6 h-6 ${q.balance>=0?"text-green-500":"text-red-500"}`})})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6 overflow-hidden",children:[l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsx("div",{className:"flex-1 max-w-md",children:l.jsxs("div",{className:"relative",children:[l.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),placeholder:"取引内容、カテゴリなどで検索...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>v(!h),className:`px-4 py-2.5 text-sm rounded-lg transition-colors flex items-center space-x-2 ${h?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(vj,{className:"w-4 h-4"}),l.jsx("span",{children:"フィルタ"}),Q>0&&l.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Q}),l.jsx(mj,{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`})]}),(y||x.start||x.end||N.min||N.max)&&l.jsxs("button",{onClick:z,className:"px-4 py-2.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[l.jsx($n,{className:"w-4 h-4 mr-1"}),"クリア"]})]})]})}),h&&l.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:l.jsx("div",{className:"pt-4",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カテゴリ"}),l.jsxs("select",{value:y,onChange:T=>b(T.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors",children:[l.jsx("option",{value:"",children:"すべて"}),O.map(T=>l.jsx("option",{value:T,children:T},T))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日"}),l.jsx("input",{type:"date",value:x.start,onChange:T=>w({...x,start:T.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"終了日"}),l.jsx("input",{type:"date",value:x.end,onChange:T=>w({...x,end:T.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小金額"}),l.jsx("input",{type:"number",value:N.min,onChange:T=>k({...N,min:T.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大金額"}),l.jsx("input",{type:"number",value:N.max,onChange:T=>k({...N,max:T.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors"})]})]})})})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6 overflow-hidden",children:l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("label",{className:"text-sm text-gray-700 mr-2",children:"ソート:"}),l.jsxs("select",{value:R,onChange:T=>I(T.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white transition-colors",children:[l.jsx("option",{value:"date",children:"日付"}),l.jsx("option",{value:"amount",children:"金額"}),l.jsx("option",{value:"item",children:"項目"})]})]}),l.jsx("button",{onClick:()=>j(M==="asc"?"desc":"asc"),className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:M==="asc"?"昇順":"降順"})]}),f.length>0&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[f.length,"件選択中"]}),l.jsxs("button",{onClick:ce,className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors flex items-center",children:[l.jsx(Zi,{className:"w-4 h-4 mr-1"}),"削除"]})]})]})})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:l.jsx("input",{type:"checkbox",checked:f.length===ee.length&&ee.length>0,onChange:le,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-4 w-4"})}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"項目"}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"日付"}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"カテゴリ"}),l.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ee.length>0?ee.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:f.includes(T.id),onChange:()=>te(T.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 h-4 w-4"})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.item}),l.jsx("div",{className:"text-sm text-gray-500 sm:hidden",children:new Date(T.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end",children:[T.type==="income"?l.jsx(ks,{className:"w-4 h-4 text-green-500 mr-1"}):l.jsx(Uc,{className:"w-4 h-4 text-red-500 mr-1"}),l.jsxs("span",{className:T.type==="income"?"text-green-600":"text-red-600",children:[T.type==="expense"?"-":"",T.amount.toLocaleString()]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:new Date(T.date).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2.5 py-1 inline-flex text-xs leading-5 font-medium rounded-full ${T.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.category})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("button",{onClick:()=>{d(T),c(!0)},className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",children:l.jsx(e0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>s(T.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(Zi,{className:"w-4 h-4"})})]})})]},T.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(sa,{className:"w-12 h-12 text-gray-300 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"取引が見つかりません"}),l.jsx("p",{className:"text-gray-500",children:"条件に一致する取引がありません"})]})})})})]})}),ee.length>0&&l.jsxs("div",{className:"bg-white px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-gray-100",children:[l.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[l.jsx("button",{onClick:()=>L(Math.max(1,A-1)),disabled:A===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"前へ"}),l.jsx("button",{onClick:()=>L(Math.min(U,A+1)),disabled:A===U,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"次へ"})]}),l.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"font-medium",children:Math.min((A-1)*C+1,H.length)})," 件から ",l.jsx("span",{className:"font-medium",children:Math.min(A*C,H.length)})," 件までを表示中（全 ",l.jsx("span",{className:"font-medium",children:H.length})," 件）"]})}),l.jsx("div",{children:l.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[l.jsxs("button",{onClick:()=>L(Math.max(1,A-1)),disabled:A===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[l.jsx("span",{className:"sr-only",children:"前へ"}),"<"]}),[...Array(Math.min(5,U))].map((T,Z)=>{const F=Math.max(1,Math.min(A-2,U-4))+Z;return l.jsx("button",{onClick:()=>L(F),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${A===F?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F},F)}),l.jsxs("button",{onClick:()=>L(Math.min(U,A+1)),disabled:A===U,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[l.jsx("span",{className:"sr-only",children:"次へ"}),">"]})]})})]})]})]})]}),o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-xl",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u?"取引を編集":"新規取引"}),l.jsx("button",{onClick:()=>{c(!1),d(null)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx($n,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx(E6,{transaction:u,onSubmit:u?xe:ge,onCancel:()=>{c(!1),d(null)}})]})})})]})},WU=()=>{const[t,e]=oe.useState([]),[n,r]=oe.useState([]),[s,i]=oe.useState(!1),a=oe.useCallback(async()=>{i(!0);try{const{data:f,error:g}=await wn.from("transactions").select("*").order("date",{ascending:!1});if(g)throw new Error(`取引履歴の取得に失敗しました: ${g.message}`);const{data:h,error:v}=await wn.from("ai_transactions").select("*").order("created_at",{ascending:!1});if(v)throw new Error(`AI取引履歴の取得に失敗しました: ${v.message}`);e(f||[]),r(h||[])}catch(f){console.error("データの取得に失敗:",f),Yn.error(`データの取得に失敗しました: ${f.message}`)}finally{i(!1)}},[]),o=async f=>{var g;try{const v={...f,creator:"mock_user_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:y,error:b}=await wn.from("transactions").insert(v).select();if(b){const x=JSON.stringify(b);throw new Error(`取引の作成に失敗しました: ${b.message} - ${x}`)}return await a(),Yn.success("取引が正常に作成されました"),(g=y==null?void 0:y[0])==null?void 0:g.id}catch(h){throw console.error("取引の作成に失敗:",h),Yn.error(`取引の作成に失敗しました: ${h.message}`),h}},c=async(f,g)=>{try{const{data:h,error:v}=await wn.from("transactions").update({...g,updated_at:new Date().toISOString()}).eq("id",f).select();if(v){const y=JSON.stringify(v);throw new Error(`取引の更新に失敗しました: ${v.message} - ${y}`)}await a(),Yn.success("取引が正常に更新されました")}catch(h){throw console.error("取引の更新に失敗:",h),Yn.error(`取引の更新に失敗しました: ${h.message}`),h}},u=async f=>{try{const{error:g}=await wn.from("transactions").delete().eq("id",f);if(g){const h=JSON.stringify(g);throw new Error(`取引の削除に失敗しました: ${g.message} - ${h}`)}await a(),Yn.success("取引が正常に削除されました")}catch(g){throw console.error("取引の削除に失敗:",g),Yn.error(`取引の削除に失敗しました: ${g.message}`),g}},d=async(f,g,h)=>{try{const{data:v,error:y}=await wn.from("ai_transactions").update({manual_verified:g,learning_feedback:h,updated_at:new Date().toISOString()}).eq("id",f).select();if(y){const b=JSON.stringify(y);throw new Error(`AI取引の確認に失敗しました: ${y.message} - ${b}`)}await a(),Yn.success(g?"AI分類を承認しました":"AI分類を却下しました")}catch(v){throw console.error("AI取引の確認に失敗:",v),Yn.error(`AI取引の確認に失敗しました: ${v.message}`),v}};return oe.useEffect(()=>{a()},[a]),{transactions:t,aiTransactions:n,loading:s,fetchAllData:a,createTransaction:o,updateTransaction:c,deleteTransaction:u,verifyAITransaction:d}},VU=()=>{const{aiTransactions:t,loading:e,verifyAITransaction:n}=WU(),[r,s]=oe.useState(""),[i,a]=oe.useState(""),[o,c]=oe.useState(""),[u,d]=oe.useState(""),[f,g]=oe.useState([]),[h,v]=oe.useState(!0),[y,b]=oe.useState(!0),[x,w]=oe.useState(""),[N,k]=oe.useState([]),[R,I]=oe.useState({min:"",max:""});oe.useEffect(()=>{const q=t.flatMap(te=>te.ai_suggestions||[]),le=Array.from(new Set(q));k(le)},[t]);const M=()=>{s(""),a(""),c(""),d("")};oe.useEffect(()=>{g([])},[r,i,o,u,R]);const j=oe.useMemo(()=>t.filter(q=>{var z,Q;const le=q.item.toLowerCase().includes(r.toLowerCase())||((z=q.location)==null?void 0:z.toLowerCase().includes(r.toLowerCase()))||((Q=q.original_text)==null?void 0:Q.toLowerCase().includes(r.toLowerCase())),te=!i||q.ai_category===i;let ce=!0;if(o){const T=q.confidence;switch(o){case"high":ce=T>=90;break;case"medium":ce=T>=70&&T<90;break;case"low":ce=T<70;break}}let ge=!0;if(u)switch(u){case"verified":ge=q.manual_verified===!0;break;case"unverified":ge=q.manual_verified===!1;break}let xe=!0;if(R.min||R.max){const T=Number(R.min)||0,Z=Number(R.max)||1/0;xe=q.amount>=T&&q.amount<=Z}return le&&te&&ce&&ge&&xe}),[t,r,i,o,u,R]),A=oe.useMemo(()=>{const q=j.length,le=j.filter(E=>E.manual_verified).length,te=q>0?j.reduce((E,D)=>E+D.confidence,0)/q:0,ce=j.filter(E=>E.confidence>=90).length,ge=j.filter(E=>E.confidence>=70&&E.confidence<90).length,xe=j.filter(E=>E.confidence<70).length,z=j.reduce((E,D)=>(E[D.ai_category]||(E[D.ai_category]={total:0,verified:0,totalConfidence:0}),E[D.ai_category].total++,E[D.ai_category].totalConfidence+=D.confidence,D.manual_verified&&E[D.ai_category].verified++,E),{}),Q=Math.min(100,le/Math.max(q,1)*100),T=te*(Q/100),Z=q>0?j.reduce((E,D)=>E+(D.processing_time||.5),0)/q:0,F=j.filter(E=>new Date(E.created_at)>new Date(Date.now()-7*24*60*60*1e3)),V=(F.length>0?F.reduce((E,D)=>E+D.confidence,0)/F.length:0)-te;return{totalTransactions:q,verifiedCount:le,verificationRate:q>0?le/q*100:0,averageConfidence:te,highConfidenceCount:ce,mediumConfidenceCount:ge,lowConfidenceCount:xe,highConfidenceRate:q>0?ce/q*100:0,categoryAccuracy:z,learningProgress:Q,aiMaturity:T,averageProcessingTime:Z,weeklyImprovement:V,recentTransactions:F.length}},[j]),L=q=>q>=90?"text-green-600 bg-green-100":q>=70?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",C=q=>q>=95?{color:"bg-emerald-500",label:"最高精度"}:q>=90?{color:"bg-green-500",label:"高精度"}:q>=80?{color:"bg-blue-500",label:"良好"}:q>=70?{color:"bg-yellow-500",label:"中程度"}:{color:"bg-red-500",label:"要確認"},O=q=>{g(le=>le.includes(q)?le.filter(te=>te!==q):[...le,q])},H=()=>{f.length===j.length?g([]):g(j.map(q=>q.id))},U=async(q,le)=>{await n(q,le,x),w("")},ee=()=>{const q=j.filter(le=>le.confidence>=90&&!le.manual_verified).map(le=>le.id);if(q.length===0){alert("高信頼度の未確認取引がありません");return}confirm(`信頼度90%以上の${q.length}件を一括承認しますか？`)&&q.forEach(le=>n(le,!0,"スマート一括承認"))};return e?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["AI自動仕分けシステム",l.jsx("span",{className:"ml-3 text-sm bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full",children:"v2.0 Pro"})]}),l.jsx("p",{className:"text-gray-600",children:"次世代機械学習による高精度な取引分類と継続的な学習改善"}),l.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[l.jsx(AP,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"リアルタイム学習"})]}),l.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[l.jsx(Qb,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"ニューラルネットワーク"})]}),l.jsxs("div",{className:"flex items-center text-sm text-purple-600",children:[l.jsx(aL,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"ビッグデータ分析"})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 lg:mt-0",children:[l.jsxs("button",{onClick:()=>b(!y),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-colors flex items-center space-x-2",children:[l.jsx(yL,{size:18}),l.jsx("span",{children:"パフォーマンス"})]}),l.jsxs("button",{onClick:()=>v(!h),className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-colors flex items-center space-x-2",children:[l.jsx(xd,{size:18}),l.jsx("span",{children:"学習詳細"})]}),l.jsxs("button",{onClick:ee,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(tT,{size:18}),l.jsx("span",{children:"スマート承認"})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-red-100 px-4 py-2 rounded-lg border border-orange-200",children:[l.jsx(KL,{className:"w-5 h-5 text-orange-600"}),l.jsx("span",{className:"text-orange-800 font-medium",children:"AI分析システム稼働中"})]})]})]}),h&&l.jsxs("div",{className:"mb-8 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-full -mr-10 -mt-10"}),l.jsxs("div",{className:"relative",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"AI分析総数"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.totalTransactions}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(xd,{className:"w-4 h-4 text-blue-500 mr-1"}),l.jsx("span",{className:"text-xs text-blue-600",children:"自動分析"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-full -mr-10 -mt-10"}),l.jsxs("div",{className:"relative",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"学習完了率"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[A.verificationRate.toFixed(1),"%"]}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(Qi,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsxs("span",{className:"text-xs text-green-600",children:[A.verifiedCount,"件確認済み"]})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-full -mr-10 -mt-10"}),l.jsxs("div",{className:"relative",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"平均信頼度"}),l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[A.averageConfidence.toFixed(1),"%"]}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(e5,{className:"w-4 h-4 text-purple-500 mr-1"}),l.jsx("span",{className:"text-xs text-purple-600",children:"AI精度"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-full -mr-10 -mt-10"}),l.jsxs("div",{className:"relative",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"AI成熟度"}),l.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[A.aiMaturity.toFixed(1),"%"]}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(PP,{className:"w-4 h-4 text-orange-500 mr-1"}),l.jsx("span",{className:"text-xs text-orange-600",children:"総合スコア"})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-full -mr-10 -mt-10"}),l.jsxs("div",{className:"relative",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"週間改善"}),l.jsxs("p",{className:`text-2xl font-bold ${A.weeklyImprovement>=0?"text-green-600":"text-red-600"}`,children:[A.weeklyImprovement>=0?"+":"",A.weeklyImprovement.toFixed(1),"%"]}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(ks,{className:"w-4 h-4 text-indigo-500 mr-1"}),l.jsx("span",{className:"text-xs text-indigo-600",children:"学習速度"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-100",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(Qb,{className:"w-5 h-5 mr-2 text-blue-600"}),"処理パフォーマンス"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"平均処理時間"}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[A.averageProcessingTime.toFixed(2),"秒"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"処理済み件数"}),l.jsx("span",{className:"text-lg font-bold text-blue-600",children:A.totalTransactions.toLocaleString()})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"精度向上率"}),l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["+",A.weeklyImprovement.toFixed(1),"%"]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-100",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(e5,{className:"w-5 h-5 mr-2 text-purple-600"}),"信頼度分析"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"高信頼度 (90%+)"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-lg font-bold text-green-600",children:A.highConfidenceCount}),l.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${A.highConfidenceCount/Math.max(A.totalTransactions,1)*100}%`}})})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"中信頼度 (70-89%)"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-lg font-bold text-yellow-600",children:A.mediumConfidenceCount}),l.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${A.mediumConfidenceCount/Math.max(A.totalTransactions,1)*100}%`}})})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"低信頼度 (70%未満)"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-lg font-bold text-red-600",children:A.lowConfidenceCount}),l.jsx("div",{className:"ml-2 w-12 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${A.lowConfidenceCount/Math.max(A.totalTransactions,1)*100}%`}})})]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-100",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(pT,{className:"w-5 h-5 mr-2 text-green-600"}),"学習成果"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"全体精度"}),l.jsxs("span",{className:"text-lg font-bold text-green-600",children:[A.averageConfidence.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"学習進捗"}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[A.learningProgress.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"今週の分析"}),l.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[A.recentTransactions,"件"]})]})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[l.jsx(VP,{className:"w-5 h-5 mr-2"}),"カテゴリ別AI精度分析"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(A.categoryAccuracy).map(([q,le])=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:q}),l.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[(le.totalConfidence/le.total).toFixed(1),"%"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"処理件数:"}),l.jsxs("span",{className:"font-medium",children:[le.total,"件"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"確認済み:"}),l.jsxs("span",{className:"font-medium text-green-600",children:[le.verified,"件"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:`${le.totalConfidence/le.total}%`}})})]})]},q))})]})]}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"項目・場所・元テキストで検索...",value:r,onChange:q=>s(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("select",{value:i,onChange:q=>a(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"すべてのカテゴリ"}),l.jsx("option",{value:"交通費",children:"交通費"}),l.jsx("option",{value:"食費",children:"食費"}),l.jsx("option",{value:"消耗品費",children:"消耗品費"}),l.jsx("option",{value:"通信費",children:"通信費"}),l.jsx("option",{value:"光熱費",children:"光熱費"}),l.jsx("option",{value:"その他",children:"その他"})]}),l.jsxs("select",{value:o,onChange:q=>c(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"すべての信頼度"}),l.jsx("option",{value:"high",children:"高信頼度 (90%以上)"}),l.jsx("option",{value:"medium",children:"中信頼度 (70-89%)"}),l.jsx("option",{value:"low",children:"低信頼度 (70%未満)"})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("select",{value:u,onChange:q=>d(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"すべての状態"}),l.jsx("option",{value:"verified",children:"確認済み"}),l.jsx("option",{value:"unverified",children:"未確認"})]}),l.jsx(GU,{onSelect:(q,le)=>{}})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"金額範囲"}),l.jsx(KU,{min:R.min,max:R.max,onMinChange:q=>I(le=>({...le,min:q})),onMaxChange:q=>I(le=>({...le,max:q}))})]}),(r||i||o||u)&&l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:M,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[l.jsx(Zp,{className:"w-4 h-4 mr-1"}),"フィルターをクリア"]})}),f.length>0&&l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-4 border-t",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[f.length,"件選択中"]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(Qi,{size:16}),l.jsx("span",{children:"一括承認"})]}),l.jsxs("button",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-red-700 hover:to-pink-700 transition-colors flex items-center space-x-2",children:[l.jsx($n,{size:16}),l.jsx("span",{children:"一括却下"})]})]})]})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left",children:l.jsxs("button",{onClick:H,className:"flex items-center space-x-2 text-sm font-medium text-gray-900",children:[f.length===j.length&&j.length>0?l.jsx(Zb,{className:"w-4 h-4 text-blue-600"}):l.jsx(ny,{className:"w-4 h-4"}),l.jsx("span",{children:"選択"})]})}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"取引項目"}),l.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:"金額"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"AI分類"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"信頼度"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-900",children:"詳細情報"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"確認状態"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"操作"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:j.length>0?j.map(q=>{const le=C(q.confidence);return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>O(q.id),className:"flex items-center",children:f.includes(q.id)?l.jsx(Zb,{className:"w-4 h-4 text-blue-600"}):l.jsx(ny,{className:"w-4 h-4 text-gray-400"})})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-gray-900 flex items-center",children:[q.item,l.jsx("div",{className:`ml-2 w-2 h-2 rounded-full ${le.color}`})]}),q.original_text&&l.jsxs("div",{className:"text-sm text-gray-500 mt-1 bg-gray-50 px-2 py-1 rounded",children:["元: ",q.original_text]}),q.ai_suggestions&&q.ai_suggestions.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:q.ai_suggestions.slice(0,2).map((te,ce)=>l.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded",children:te},ce))}),q.receipt_url&&l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(Bc,{className:"w-3 h-3 text-gray-400 mr-1"}),l.jsx("span",{className:"text-xs text-gray-500",children:"レシート添付"})]})]})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("span",{className:"font-medium text-gray-900 text-lg",children:["¥",q.amount.toLocaleString()]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800",children:q.ai_category})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`inline-flex px-3 py-1 text-sm font-bold rounded-full ${L(q.confidence)}`,children:[q.confidence,"%"]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full text-white ${le.color}`,children:le.label})]}),l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${q.confidence>=90?"bg-gradient-to-r from-green-400 to-green-600":q.confidence>=70?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${q.confidence}%`}})}),q.processing_time&&l.jsxs("div",{className:"text-xs text-gray-500",children:[q.processing_time.toFixed(2),"秒"]})]})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.jsxs("div",{className:"space-y-1",children:[q.location&&l.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[l.jsx(vL,{className:"w-3 h-3 mr-1"}),q.location]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(q.created_at).toLocaleDateString("ja-JP")})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:q.manual_verified?l.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[l.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-green-100 to-emerald-100 text-green-800",children:[l.jsx(Qi,{size:12,className:"mr-1"}),"確認済み"]}),q.learning_feedback&&l.jsx("div",{className:"text-xs text-gray-500 max-w-20 truncate",title:q.learning_feedback,children:"フィードバック有り"})]}):l.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800",children:[l.jsx(yj,{size:12,className:"mr-1"}),"未確認"]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:!q.manual_verified&&l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx("button",{onClick:()=>U(q.id,!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-2 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-colors",title:"承認",children:l.jsx(Qi,{size:16})}),l.jsx("button",{onClick:()=>U(q.id,!1),className:"bg-gradient-to-r from-red-500 to-pink-500 text-white p-2 rounded-lg hover:from-red-600 hover:to-pink-600 transition-colors",title:"却下",children:l.jsx($n,{size:16})})]})})]},q.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"py-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(xd,{className:"w-16 h-16 text-gray-300 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI分析データが見つかりません"}),l.jsx("p",{className:"text-gray-500 max-w-md",children:"検索条件に一致するAI分析データがありません。検索条件を変更するか、新しいデータの分析をお待ちください。"}),l.jsx("button",{onClick:M,className:"mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-colors",children:"フィルターをクリア"})]})})})})]})})}),l.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 p-8 rounded-xl border border-blue-100",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(SL,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI学習システム"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"確認済み取引:"}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[A.verifiedCount,"件"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"平均精度:"}),l.jsxs("span",{className:"font-semibold text-purple-600",children:[A.averageConfidence.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"高精度分析:"}),l.jsxs("span",{className:"font-semibold text-green-600",children:[A.highConfidenceCount,"件"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"処理速度:"}),l.jsxs("span",{className:"font-semibold text-blue-600",children:[A.averageProcessingTime.toFixed(2),"秒"]})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-500"}),"学習進捗"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-600",children:"全体進捗"}),l.jsxs("span",{className:"font-semibold text-blue-600",children:[A.learningProgress.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-white rounded-full h-4 shadow-inner",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-4 rounded-full transition-all duration-1000 relative overflow-hidden",style:{width:`${A.learningProgress}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-600",children:"AI成熟度"}),l.jsxs("span",{className:"font-semibold text-orange-600",children:[A.aiMaturity.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-white rounded-full h-4 shadow-inner",children:l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-4 rounded-full transition-all duration-1000 relative overflow-hidden",style:{width:`${A.aiMaturity}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(ry,{className:"w-5 h-5 mr-2 text-yellow-500"}),"今週のハイライト"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"新規分析"}),l.jsxs("span",{className:"font-bold text-blue-600",children:[A.recentTransactions,"件"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"過去7日間"})]}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"精度向上"}),l.jsxs("span",{className:`font-bold ${A.weeklyImprovement>=0?"text-green-600":"text-red-600"}`,children:[A.weeklyImprovement>=0?"+":"",A.weeklyImprovement.toFixed(1),"%"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"前週比較"})]})]})]})]})}),l.jsxs("div",{className:"mt-6 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(_j,{className:"w-5 h-5 mr-2"}),"AI学習フィードバック"]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("input",{type:"text",value:x,onChange:q=>w(q.target.value),placeholder:"AIの分類についてフィードバックを入力してください...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{onClick:()=>w(""),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"クリア"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"フィードバックはAIの学習に活用され、将来の分類精度向上に貢献します。"})]})]})})},KU=({min:t,max:e,onMinChange:n,onMaxChange:r})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[l.jsxs("span",{children:["最小金額: ¥",t||0]}),l.jsxs("span",{children:["最大金額: ¥",e||"∞"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"range",min:"0",max:"1000000",step:"1000",value:t||0,onChange:s=>n(s.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),l.jsx("input",{type:"range",min:"0",max:"1000000",step:"1000",value:e||1e6,onChange:s=>r(s.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),GU=({onSelect:t})=>{const e=r=>{const s=new Date;return s.setDate(s.getDate()+r),s.toISOString().split("T")[0]},n=r=>{const s=e(0),i=e(-r);t(i,s)};return l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.jsx("button",{onClick:()=>n(0),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"今日"}),l.jsx("button",{onClick:()=>n(6),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去7日間"}),l.jsx("button",{onClick:()=>n(29),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去30日間"}),l.jsx("button",{onClick:()=>n(89),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"過去90日間"})]})},YU=()=>{const[t,e]=oe.useState("individual"),[n,r]=oe.useState("2024"),[s,i]=oe.useState([{id:1,name:"確定申告書A",type:"individual",status:"completed",required:!0},{id:2,name:"青色申告決算書",type:"individual",status:"pending",required:!0},{id:3,name:"給与所得者の扶養控除等申告書",type:"individual",status:"pending",required:!1},{id:4,name:"法人税申告書",type:"corporate",status:"completed",required:!0},{id:5,name:"決算短信",type:"corporate",status:"pending",required:!0},{id:6,name:"株主名簿",type:"corporate",status:"pending",required:!1}]),a=["2024","2023","2022","2021"],o=s.filter(f=>f.type===t&&(t==="individual"||t==="corporate")),c=f=>{console.log(`Document ${f} downloaded`)},u=f=>{console.log(`Document ${f} uploaded`)},d=f=>{console.log(`Document ${f} auto-imported`)};return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx(Bn,{to:"/dashboard",className:"mr-4",children:l.jsx(go,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"申告サポート"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"業態選択"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{onClick:()=>e("individual"),className:`px-4 py-2 rounded-md ${t==="individual"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"個人事業主"}),l.jsx("button",{onClick:()=>e("corporate"),className:`px-4 py-2 rounded-md ${t==="corporate"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"法人"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"確定申告年度"}),l.jsx("select",{value:n,onChange:f=>r(f.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.map(f=>l.jsxs("option",{value:f,children:[f,"年分"]},f))})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"書類名"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"必須"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(f=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:f.name}),l.jsx("td",{className:"px-4 py-3 text-sm",children:f.status==="completed"?l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(vd,{className:"w-3 h-3 mr-1"}),"完了"]}):l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l.jsx(Kx,{className:"w-3 h-3 mr-1"}),"未完了"]})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:f.required?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"必須"}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"任意"})}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>c(f.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(bi,{className:"w-4 h-4 mr-1"}),"ダウンロード"]}),l.jsxs("button",{onClick:()=>u(f.id),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Gx,{className:"w-4 h-4 mr-1"}),"アップロード"]}),l.jsxs("button",{onClick:()=>d(f.id),className:"inline-flex items-center px-3 py-1 border border-blue-300 rounded-md text-sm text-blue-700 bg-blue-50 hover:bg-blue-100",children:[l.jsx(sa,{className:"w-4 h-4 mr-1"}),"自動取り込み"]})]})})]},f.id))})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"申告手順"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"必要な書類をダウンロード"}),l.jsx("p",{className:"text-sm text-gray-600",children:"上記の書類をダウンロードし、印刷してください。"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データを入力・アップロード"}),l.jsx("p",{className:"text-sm text-gray-600",children:"書類に必要事項を記入し、スキャンしてアップロードしてください。"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"自動取り込みと確認"}),l.jsx("p",{className:"text-sm text-gray-600",children:"アップロードした書類からデータを自動取り込みし、内容を確認してください。"})]})]})]})]})})};function JU(){const[t,e]=oe.useState(!0),n=r=>{e(r)};return l.jsx(qC,{children:l.jsx(bP,{children:l.jsxs("div",{className:"App",children:[l.jsx(qI,{showPcSideMenu:!1,onPcSideMenuToggle:n,isPcSideMenuExpanded:t,showSideMenus:!0}),l.jsx("div",{className:"flex",children:l.jsx("div",{className:"flex-1",children:l.jsxs(MC,{children:[l.jsx(es,{path:"/",element:l.jsx(yb,{to:"/dashboard",replace:!0})}),l.jsx(es,{path:"/dashboard",element:l.jsx(hi,{children:l.jsx(aF,{})})}),l.jsx(es,{path:"/receipt-processing",element:l.jsx(hi,{children:l.jsx(cF,{})})}),l.jsx(es,{path:"/invoice-creation",element:l.jsx(hi,{children:l.jsx(FU,{})})}),l.jsx(es,{path:"/business-analysis",element:l.jsx(hi,{children:l.jsx(BU,{})})}),l.jsx(es,{path:"/chat-to-book",element:l.jsx(hi,{children:l.jsx($U,{})})}),l.jsx(es,{path:"/business-conversion",element:l.jsx(hi,{children:l.jsx(zU,{})})}),l.jsx(es,{path:"/integration-settings",element:l.jsx(hi,{children:l.jsx(qU,{})})}),l.jsx(es,{path:"/transaction-history",element:l.jsx(hi,{children:l.jsx(HU,{})})}),l.jsx(es,{path:"/ai-transaction-list",element:l.jsx(hi,{children:l.jsx(VU,{})})}),l.jsx(es,{path:"/tax-filing-support",element:l.jsx(hi,{children:l.jsx(YU,{})})}),l.jsx(es,{path:"*",element:l.jsx(yb,{to:"/dashboard",replace:!0})})]})})})]})})})}aN(document.getElementById("root")).render(l.jsx(JU,{}));export{zt as _,Yi as c,Wc as g};

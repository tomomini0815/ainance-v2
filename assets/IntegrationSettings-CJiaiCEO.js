import{c as re,a as ie,e as de,r as i,j as e,x as j,L as le,h as ne,P as I,d as u,B as L,U as $,F as E,G as c}from"./index-0N2qkU5h.js";import{y as ce,a as xe,P as me,B as oe,s as he}from"./BalanceSheetImportModal-BBX7jMUQ.js";import{A as pe}from"./arrow-left-B0TMViCY.js";import{R as U}from"./refresh-cw-Bn714JZc.js";import{E as F}from"./eye-CsMGLB67.js";import{C as M}from"./copy-C6Q9fCnQ.js";import{B as O}from"./building-2-BjF2V6NY.js";import{E as D}from"./external-link-BKzxM7gl.js";import{L as B}from"./loader-circle-CnHauDqv.js";import{S as T}from"./save-BYIUNIeU.js";import"./geminiAIService-DQoIspWT.js";import"./arrow-right-YBay0vsy.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],J=re("eye-off",ue),Ae=()=>{const{user:x}=ie(),{currentBusinessType:s,businessTypes:g,switchBusinessType:f,updateBusinessType:V}=de(),[d,m]=i.useState("setup"),[o,R]=i.useState({}),[q,N]=i.useState(!1),[G,y]=i.useState(!1),[v,w]=i.useState(""),[H,Y]=i.useState(""),[h,k]=i.useState(!1),[l,Q]=i.useState(null),[n,W]=i.useState(null),p=i.useCallback(async()=>{if(!(!x||!s))try{const t=await ce.getAllByBusinessType(x.id,s.business_type),a=await xe.getAllByBusinessType(x.id,s.business_type);t.length>0&&Q(t[0]),a.length>0&&W(a[0])}catch(t){console.error("Fetch Financial Data Error:",t)}},[x,s]);i.useEffect(()=>{p()},[p]);const S=async t=>{if(!t)return;const a=c.loading("æ›¸é¡ã‚’é–‹ã„ã¦ã„ã¾ã™...");try{const r=await he.getSignedUrl(t);r?(window.open(r,"_blank"),c.success("æ›¸é¡ã‚’é–‹ãã¾ã—ãŸ",{id:a})):c.error("æ›¸é¡ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ",{id:a})}catch(r){console.error("View Document Error:",r),c.error("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",{id:a})}};i.useEffect(()=>{s&&(w(s.tax_number||""),Y(s.company_name||""))},[s]);const C=async()=>{if(s){k(!0);try{await V(s.id,{tax_number:v,company_name:H}),c.success("è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ")}catch(t){console.error("Save Settings Error:",t),c.error("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{k(!1)}}},[X]=i.useState([{id:"1",name:"ä¸‰è±UFJéŠ€è¡Œ",type:"bank",status:"connected",lastSync:"2024-01-15 09:30",description:"æ™®é€šé é‡‘å£åº§ã®å–å¼•å±¥æ­´ã‚’è‡ªå‹•å–å¾—",logo:"ğŸ¦",features:["æ®‹é«˜ç…§ä¼š","å–å¼•å±¥æ­´","è‡ªå‹•ä»•è¨³"]},{id:"2",name:"æ¥½å¤©ã‚«ãƒ¼ãƒ‰",type:"credit",status:"connected",lastSync:"2024-01-15 08:45",description:"ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰åˆ©ç”¨æ˜ç´°ã‚’è‡ªå‹•å–å¾—",logo:"ğŸ’³",features:["åˆ©ç”¨æ˜ç´°","è‡ªå‹•åˆ†é¡","ãƒ¬ã‚·ãƒ¼ãƒˆé€£æº"]},{id:"3",name:"Amazon",type:"ecommerce",status:"error",lastSync:"2024-01-14 15:20",description:"Amazonè²©å£²ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ“¦",features:["å£²ä¸Šãƒ‡ãƒ¼ã‚¿","æ‰‹æ•°æ–™è¨ˆç®—","åœ¨åº«ç®¡ç†"]},{id:"4",name:"Square POS",type:"pos",status:"disconnected",lastSync:"æœªæ¥ç¶š",description:"POSå£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ›’",features:["å£²ä¸Šãƒ‡ãƒ¼ã‚¿","å•†å“ç®¡ç†","ãƒ¬ã‚·ãƒ¼ãƒˆç™ºè¡Œ"]},{id:"5",name:"PayPal",type:"payment",status:"connected",lastSync:"2024-01-15 10:15",description:"PayPalæ±ºæ¸ˆãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—",logo:"ğŸ’°",features:["æ±ºæ¸ˆå±¥æ­´","æ‰‹æ•°æ–™è¨ˆç®—","è¿”é‡‘å‡¦ç†"]},{id:"6",name:"freee",type:"accounting",status:"pending",lastSync:"è¨­å®šä¸­",description:"ä¼šè¨ˆã‚½ãƒ•ãƒˆã¨ã®ãƒ‡ãƒ¼ã‚¿é€£æº",logo:"ğŸ“Š",features:["ä»•è¨³åŒæœŸ","ãƒ¬ãƒãƒ¼ãƒˆ","ç¨å‹™ç”³å‘Š"]}]),[_]=i.useState([{id:"1",name:"ãƒ¡ã‚¤ãƒ³API",key:"ak_live_1234567890abcdef...",permissions:["read","write","admin"],created:"2024-01-01",lastUsed:"2024-01-15 09:30",status:"active"},{id:"2",name:"ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª",key:"ak_test_abcdef1234567890...",permissions:["read"],created:"2024-01-10",lastUsed:"2024-01-14 16:45",status:"active"},{id:"3",name:"é–‹ç™ºç”¨",key:"ak_dev_fedcba0987654321...",permissions:["read","write"],created:"2024-01-05",lastUsed:"2024-01-12 11:20",status:"inactive"}]),Z=[{name:"ã¿ãšã»éŠ€è¡Œ",type:"bank",logo:"ğŸ¦"},{name:"ã‚ŠããªéŠ€è¡Œ",type:"bank",logo:"ğŸ¦"},{name:"ã‚¤ã‚ªãƒ³ã‚«ãƒ¼ãƒ‰",type:"credit",logo:"ğŸ’³"},{name:"JCBã‚«ãƒ¼ãƒ‰",type:"credit",logo:"ğŸ’³"},{name:"Shopify",type:"ecommerce",logo:"ğŸ›ï¸"},{name:"BASE",type:"ecommerce",logo:"ğŸ›ï¸"},{name:"Airãƒ¬ã‚¸",type:"pos",logo:"ğŸ“±"},{name:"Stripe",type:"payment",logo:"ğŸ’³"},{name:"ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰",type:"accounting",logo:"ğŸ“ˆ"}],A=[{time:"2024-01-15 10:15",source:"PayPal",type:"æ±ºæ¸ˆãƒ‡ãƒ¼ã‚¿",count:15,status:"success"},{time:"2024-01-15 09:30",source:"ä¸‰è±UFJéŠ€è¡Œ",type:"å–å¼•å±¥æ­´",count:8,status:"success"},{time:"2024-01-15 08:45",source:"æ¥½å¤©ã‚«ãƒ¼ãƒ‰",type:"åˆ©ç”¨æ˜ç´°",count:23,status:"success"},{time:"2024-01-14 15:20",source:"Amazon",type:"å£²ä¸Šãƒ‡ãƒ¼ã‚¿",count:0,status:"error"},{time:"2024-01-14 14:30",source:"ä¸‰è±UFJéŠ€è¡Œ",type:"å–å¼•å±¥æ­´",count:12,status:"success"}],K=t=>{switch(t){case"connected":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"disconnected":return"text-text-muted bg-surface-highlight";case"error":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";case"pending":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";default:return"text-text-muted bg-surface-highlight"}},ee=t=>{switch(t){case"connected":return"æ¥ç¶šæ¸ˆã¿";case"disconnected":return"æœªæ¥ç¶š";case"error":return"ã‚¨ãƒ©ãƒ¼";case"pending":return"è¨­å®šä¸­";default:return"ä¸æ˜"}},P=t=>{R(a=>({...a,[t]:!a[t]}))},z=t=>{navigator.clipboard.writeText(t)},te=t=>{console.log("Connecting to:",t)},se=t=>{console.log("Disconnecting from:",t)},ae=t=>{console.log("Syncing:",t)};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"bg-surface border border-border rounded-lg p-4 mb-6 flex items-start gap-4 shadow-sm",children:[e.jsx(j,{className:"w-5 h-5 text-amber-500/80 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("h3",{className:"text-base font-semibold text-text-main mb-1",children:"ã‚µãƒ¼ãƒ“ã‚¹é€£æºã¯ç¾åœ¨é–‹ç™ºä¸­ã§ã™"}),e.jsxs("p",{className:"text-text-muted leading-relaxed",children:["ã“ã®ãƒšãƒ¼ã‚¸ã®æ©Ÿèƒ½ã¯é–‹ç™ºä¸­ã®ãƒ‡ãƒ¢è¡¨ç¤ºã§ã™ã€‚å®Ÿéš›ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã¯ã¾ã è¡Œã‚ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",e.jsx("br",{}),"ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§é †æ¬¡å¯¾å¿œäºˆå®šã§ã™ã€‚"]})]})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(le,{to:"/dashboard",className:"mr-4",children:e.jsx(pe,{className:"w-6 h-6 text-text-muted hover:text-text-main"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-text-main",children:"é€£æºè¨­å®š"}),e.jsx("p",{className:"text-text-muted",children:"å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚’ç®¡ç†ã—ã¾ã™"})]})]}),e.jsx("div",{className:"bg-surface rounded-xl shadow-sm border border-border mb-6 overflow-hidden",children:e.jsx("div",{children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>m("setup"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d==="setup"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"åˆæœŸè¨­å®š"}),e.jsx("button",{onClick:()=>m("invoice"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d==="invoice"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"ã‚¤ãƒ³ãƒœã‚¤ã‚¹è¨­å®š"}),e.jsx("button",{onClick:()=>m("integrations"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d==="integrations"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"ã‚µãƒ¼ãƒ“ã‚¹é€£æº"}),e.jsx("button",{onClick:()=>m("api"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d==="api"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"APIç®¡ç†"}),e.jsx("button",{onClick:()=>m("sync"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d==="sync"?"border-primary text-primary":"border-transparent text-text-muted hover:text-text-main"}`,children:"åŒæœŸå±¥æ­´"})]})})}),d==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"æ¥ç¶šæ¸ˆã¿ã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:X.map(t=>e.jsxs("div",{className:"border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-text-main",children:t.name}),e.jsx("p",{className:"text-sm text-text-muted",children:t.description})]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K(t.status)}`,children:ee(t.status)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs text-text-muted",children:["æœ€çµ‚åŒæœŸ: ",t.lastSync]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.features.map((a,r)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},r))})]}),e.jsxs("div",{className:"flex space-x-2",children:[t.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>ae(t.id),className:"flex-1 bg-primary text-white text-xs py-2 px-3 rounded hover:bg-primary/90",children:[e.jsx(U,{className:"w-3 h-3 inline mr-1"}),"åŒæœŸ"]}),e.jsx("button",{onClick:()=>se(t.id),className:"flex-1 bg-surface-highlight text-text-main text-xs py-2 px-3 rounded hover:bg-border",children:"åˆ‡æ–­"})]}):e.jsx("button",{onClick:()=>te(t.id),className:"w-full bg-green-600 text-white text-xs py-2 px-3 rounded hover:bg-green-700",children:"æ¥ç¶š"}),e.jsx("button",{className:"p-2 text-text-muted hover:text-text-main",children:e.jsx(ne,{className:"w-4 h-4"})})]})]},t.id))})]}),e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"åˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:Z.map((t,a)=>e.jsx("div",{className:"border border-border rounded-lg p-4 hover:border-primary transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-text-main",children:t.name}),e.jsx("p",{className:"text-sm text-text-muted capitalize",children:t.type})]})]}),e.jsxs("button",{className:"bg-primary text-white text-xs py-2 px-3 rounded hover:bg-primary/90",children:[e.jsx(I,{className:"w-3 h-3 inline mr-1"}),"è¿½åŠ "]})]})},a))})]})]}),d==="api"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-main",children:"APIã‚­ãƒ¼ç®¡ç†"}),e.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90",children:[e.jsx(I,{className:"w-4 h-4 inline mr-2"}),"æ–°ã—ã„APIã‚­ãƒ¼"]})]}),e.jsx("div",{className:"block md:hidden space-y-4",children:_.map(t=>e.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow-sm border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"font-medium text-text-main",children:t.name}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-surface-highlight text-text-muted"}`,children:t.status==="active"?"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–":"ç„¡åŠ¹"})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"APIã‚­ãƒ¼:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"bg-surface-highlight px-2 py-1 rounded text-xs",children:o[t.id]?t.key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{onClick:()=>P(t.id),className:"text-text-muted hover:text-text-main",children:o[t.id]?e.jsx(J,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(t.key),className:"text-text-muted hover:text-text-main",children:e.jsx(M,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"æ¨©é™:"}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:t.permissions.map((a,r)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},r))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-muted",children:"æœ€çµ‚ä½¿ç”¨:"}),e.jsx("span",{className:"text-text-main",children:t.lastUsed})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2 border-t border-border",children:[e.jsx("button",{className:"text-sm text-primary hover:text-primary/80 px-2 py-1",children:"ç·¨é›†"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 px-2 py-1",children:"å‰Šé™¤"})]})]},t.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-highlight",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"åå‰"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"APIã‚­ãƒ¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ¨©é™"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æœ€çµ‚ä½¿ç”¨"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ“ä½œ"})]})}),e.jsx("tbody",{className:"bg-surface divide-y divide-border",children:_.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-main",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"bg-surface-highlight px-2 py-1 rounded text-xs",children:o[t.id]?t.key:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{onClick:()=>P(t.id),className:"text-text-muted hover:text-text-main",children:o[t.id]?e.jsx(J,{className:"w-4 h-4"}):e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(t.key),className:"text-text-muted hover:text-text-main",children:e.jsx(M,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.permissions.map((a,r)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:a},r))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.lastUsed}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-surface-highlight text-text-muted"}`,children:t.status==="active"?"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–":"ç„¡åŠ¹"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-primary hover:text-primary/80",children:"ç·¨é›†"}),e.jsx("button",{className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"å‰Šé™¤"})]})})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-text-main",children:"APIä½¿ç”¨çŠ¶æ³"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-300",children:"ä»Šæœˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:"12,547"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"ä¸Šé™: 50,000"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-900 dark:text-green-300",children:"æˆåŠŸç‡"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-2",children:"99.2%"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"12,447 / 12,547"})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-yellow-900 dark:text-yellow-300",children:"å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:"245ms"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"éå»24æ™‚é–“"})]})]})]})]}),d==="sync"&&e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-text-main",children:"åŒæœŸå±¥æ­´"}),e.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90",children:[e.jsx(U,{className:"w-4 h-4 inline mr-2"}),"å…¨ã¦åŒæœŸ"]})]}),e.jsx("div",{className:"block md:hidden space-y-4",children:A.map((t,a)=>e.jsxs("div",{className:"bg-surface p-4 rounded-lg shadow-sm border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"font-medium text-text-main",children:t.source}),e.jsxs("div",{className:"flex items-center",children:[t.status==="success"?e.jsx(u,{className:"w-4 h-4 text-green-500 mr-1"}):e.jsx(j,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:`text-sm ${t.status==="success"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:t.status==="success"?"æˆåŠŸ":"ã‚¨ãƒ©ãƒ¼"})]})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥:"}),e.jsx("span",{className:"text-text-main",children:t.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"ä»¶æ•°:"}),e.jsxs("span",{className:"text-text-main",children:[t.count,"ä»¶"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"æ™‚åˆ»:"}),e.jsx("span",{className:"text-text-main",children:t.time})]})]})]},a))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-surface-highlight",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"æ™‚åˆ»"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚µãƒ¼ãƒ“ã‚¹"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ä»¶æ•°"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"})]})}),e.jsx("tbody",{className:"bg-surface divide-y divide-border",children:A.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-main",children:t.source}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:t.type}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-main",children:[t.count,"ä»¶"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t.status==="success"?e.jsx(u,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx(j,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("span",{className:`text-sm ${t.status==="success"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:t.status==="success"?"æˆåŠŸ":"ã‚¨ãƒ©ãƒ¼"})]})})]},a))})]})})]}),d==="setup"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-6 text-text-main",children:["åˆæœŸè¨­å®š (",(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº",")"]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"äº‹æ¥­å½¢æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["individual","corporation"].map(t=>{const a=g.find(b=>b.business_type===t),r=(s==null?void 0:s.business_type)===t;return e.jsxs("button",{onClick:()=>a&&f(a.id),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg font-medium transition-all ${r?"border-primary bg-primary/5 text-primary shadow-sm":"border-border text-text-muted hover:border-primary/30 hover:text-text-main"}`,children:[t==="individual"?e.jsx(L,{size:18}):e.jsx(O,{size:18}),t==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº"]},t)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"æ±ºç®—é–‹å§‹æœˆï¼ˆä¼šè¨ˆåˆæœˆï¼‰"}),e.jsx("select",{className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2.5 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all",defaultValue:(s==null?void 0:s.business_type)==="individual"?"1":"4",children:[...Array(12)].map((t,a)=>e.jsxs("option",{value:a+1,children:[a+1,"æœˆ"]},a+1))}),e.jsx("p",{className:"mt-2 text-xs text-text-muted",children:(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»ã¯é€šå¸¸1æœˆé–‹å§‹ã§ã™ã€‚":"æ³•äººã®å®šæ¬¾ã«å®šã‚ã‚‰ã‚ŒãŸä¼šè¨ˆå¹´åº¦ã®é–‹å§‹æœˆã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("h3",{className:"text-md font-medium text-text-main mb-4",children:"å‰æœŸãƒ‡ãƒ¼ã‚¿ã®å¼•ãç¶™ã"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-dashed border-border flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"å‰æœŸæç›Šè¨ˆç®—æ›¸ (P&L)"}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:l?`${l.year}å¹´åº¦ãƒ‡ãƒ¼ã‚¿å–è¾¼æ¸ˆ`:"å‰æœŸã®å®Ÿç¸¾ã‚’å–ã‚Šè¾¼ã¿ã¾ã™"})]}),l&&e.jsx(u,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex gap-2 mt-auto",children:[e.jsxs("button",{onClick:()=>N(!0),className:"flex-1 bg-primary hover:bg-primary/90 text-white px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx($,{size:14})," ",l?"å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ":"P&Lã‚¤ãƒ³ãƒãƒ¼ãƒˆ"]}),(l==null?void 0:l.document_path)&&e.jsxs("button",{onClick:()=>S(l.document_path),className:"bg-surface hover:bg-surface-highlight border border-border text-text-main px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center",title:"æ›¸é¡ã‚’è¡¨ç¤º",children:[e.jsx(E,{size:14,className:"mr-1"}),e.jsx(D,{size:12})]})]})]}),e.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-dashed border-border flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-text-main font-medium",children:"å‰æœŸè²¸å€Ÿå¯¾ç…§è¡¨ (B/S)"}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:n?`${n.year}å¹´åº¦ãƒ‡ãƒ¼ã‚¿å–è¾¼æ¸ˆ`:"æœŸé¦–æ®‹é«˜ã‚’è¨­å®šã—ã¾ã™"})]}),n&&e.jsx(u,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex gap-2 mt-auto",children:[e.jsxs("button",{onClick:()=>y(!0),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center gap-2",children:[e.jsx($,{size:14})," ",n?"å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆ":"B/Sã‚¤ãƒ³ãƒãƒ¼ãƒˆ"]}),(n==null?void 0:n.document_path)&&e.jsxs("button",{onClick:()=>S(n.document_path),className:"bg-surface hover:bg-surface-highlight border border-border text-text-main px-3 py-2 rounded-lg text-sm transition-colors flex items-center justify-center",title:"æ›¸é¡ã‚’è¡¨ç¤º",children:[e.jsx(E,{size:14,className:"mr-1"}),e.jsx(D,{size:12})]})]})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:C,disabled:h,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[h?e.jsx(B,{size:18,className:"animate-spin"}):e.jsx(T,{size:18}),(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº","ã®è¨­å®šã‚’ä¿å­˜"]})})]})}),d==="invoice"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-surface rounded-xl shadow-sm border border-border p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-6 text-text-main",children:["ã‚¤ãƒ³ãƒœã‚¤ã‚¹åˆ¶åº¦ã®è¨­å®š (",(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº",")"]}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"äº‹æ¥­å½¢æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:["individual","corporation"].map(t=>{const a=g.find(b=>b.business_type===t),r=(s==null?void 0:s.business_type)===t;return e.jsxs("button",{onClick:()=>a&&f(a.id),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg font-medium transition-all ${r?"border-primary bg-primary/5 text-primary shadow-sm":"border-border text-text-muted hover:border-primary/30 hover:text-text-main"}`,children:[t==="individual"?e.jsx(L,{size:18}):e.jsx(O,{size:18}),t==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº"]},t)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"é©æ ¼è«‹æ±‚æ›¸ç™ºè¡Œäº‹æ¥­è€…ã®ç™»éŒ²çŠ¶æ…‹"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{className:"flex items-center p-4 border border-primary bg-primary/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"invoice_status",className:"w-4 h-4 text-primary",defaultChecked:!0}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-text-main",children:"ç™»éŒ²æ¸ˆã¿"}),e.jsx("span",{className:"block text-xs text-text-muted",children:"é©æ ¼è«‹æ±‚æ›¸ç™ºè¡Œäº‹æ¥­è€…ã¨ã—ã¦ç™»éŒ²ã—ã¦ã„ã¾ã™"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border border-border rounded-lg cursor-pointer hover:bg-surface-highlight",children:[e.jsx("input",{type:"radio",name:"invoice_status",className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-text-main",children:"æœªç™»éŒ² / å…ç¨äº‹æ¥­è€…"}),e.jsx("span",{className:"block text-xs text-text-muted",children:"ç¾åœ¨ã¯ç™»éŒ²ã—ã¦ã„ã¾ã›ã‚“"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ç™»éŒ²ç•ªå·"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-muted font-medium",children:"T"}),e.jsx("input",{type:"text",placeholder:"13æ¡ã®æ•°å­—ã‚’å…¥åŠ›",value:v.replace(/^T/,""),onChange:t=>w("T"+t.target.value.replace(/\D/g,"").slice(0,13)),className:"w-full bg-surface-highlight border border-border rounded-lg pl-8 pr-4 py-2.5 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all"})]}),e.jsx("p",{className:"mt-2 text-xs text-text-muted",children:"Tã‹ã‚‰å§‹ã¾ã‚‹13æ¡ã®ç™»éŒ²ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("label",{className:"block text-sm font-medium text-text-main mb-2",children:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ¶ˆè²»ç¨è¨­å®š"}),e.jsxs("select",{className:"w-full bg-surface-highlight border border-border rounded-lg px-4 py-2.5 text-text-main focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all",children:[e.jsx("option",{value:"10",children:"æ¨™æº–ç¨ç‡ (10%)"}),e.jsx("option",{value:"8",children:"è»½æ¸›ç¨ç‡ (8%)"}),e.jsx("option",{value:"0",children:"éèª²ç¨ / å…ç¨"})]})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:C,disabled:h,className:"bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[h?e.jsx(B,{size:18,className:"animate-spin"}):e.jsx(T,{size:18}),(s==null?void 0:s.business_type)==="individual"?"å€‹äººäº‹æ¥­ä¸»":"æ³•äºº","ã®ã‚¤ãƒ³ãƒœã‚¤ã‚¹è¨­å®šã‚’ä¿å­˜"]})})]})]})}),x&&s&&e.jsxs(e.Fragment,{children:[e.jsx(me,{isOpen:q,onClose:()=>N(!1),userId:x.id,businessType:s.business_type,onImportSuccess:()=>{c.success("P&Lã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ"),p()}}),e.jsx(oe,{isOpen:G,onClose:()=>y(!1),userId:x.id,businessType:s.business_type,onImportSuccess:()=>{c.success("B/Sã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ"),p()}})]})]})})};export{Ae as default};
